(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{231:function(e,t,n){e.exports=n.p+"static/media/pathblazer-logo.17137072.png"},282:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n(8),i=n.n(r),a=n(428),s=n(420),c=n(11),l=n(7),u=n(91),d=n(44),p=n(25),h=n(85),f=n(19),j=n(15),b=n.n(j),g=n(419),m=Object(g.default)(null),O=function(e){m.set(e)},x=Object(g.default)([]),y=function(e){x.set(e)},X=Object(g.default)({products:[],categories:[]}),C=function(e){X.set(e)},v=Object(g.default)([]),w=function(e){v.set(e)},S=Object(g.default)({apiUrl:null,ck:null,cs:null,useWoocommerce:!1}),P=function(e){S.set(e)},T=Object(g.default)({name:null,address:null,phoneNumber:null,website:null,comSelected:null}),I=function(e){T.set(e)},k=n(5),D=function(e){var t=e.product,n=e.productIndex,r=t,a=Object(o.useState)(r),s=i()(a,2),c=s[0],j=s[1],g=Object(o.useState)(r.price),m=i()(g,2),O=m[0],y=m[1],X=Object(o.useState)(!1),C=i()(X,2),v=C[0],w=C[1],S=function(e){var t,n=e.e,o=e.index,r=!1,i=c.options.filter((function(e){return e.label==n.selectedCaseKey}));if(i.length>0&&(t=i[0].optionsList.filter((function(e){return e.label==n.selectedCaseValue}))).length>0&&(r=!0===t[0].selected),null===n.selectedCaseKey||r)return Object(k.jsxs)(l.default,{style:{marginBottom:25},children:[Object(k.jsxs)(p.default,{style:{fontWeight:"700",fontSize:18},children:["Label: ",n.label]}),n.optionsList.map((function(e,t){return Object(k.jsxs)(h.default,{style:[1==c.options[o].optionsList[t].selected?{backgroundColor:"green"}:{borderColor:"black",borderWidth:2},{flexDirection:"row",justifyContent:"space-between",padding:10,margin:5}],onPress:function(){var e=structuredClone(c);0==!e.options[o].optionsList[t].selected?(e.options[o].optionsList[t].selected=!1,y((function(n){return parseFloat(n)-parseFloat(e.options[o].optionsList[t].priceIncrease)}))):(e.options[o].optionsList.filter((function(e){return!0===e.selected})).length<parseInt(n.numOfSelectable)||!n.numOfSelectable)&&(e.options[o].optionsList[t].selected=!0,y((function(n){return parseFloat(n)+parseFloat(e.options[o].optionsList[t].priceIncrease)}))),j(e)},children:[Object(k.jsxs)(p.default,{style:B.h2Black,children:["Name: ",e.label]}),Object(k.jsxs)(p.default,{style:B.h2Black,children:["Price: $",e.priceIncrease]})]},t)}))]},o);if(!1===r){var a=structuredClone(c),s=0;a.options[o].optionsList.forEach((function(e,t){!0===e.selected&&(s+=parseFloat(a.options[o].optionsList[t].priceIncrease),a.options[o].optionsList[t].selected=!1)})),s>0&&(y((function(e){return parseFloat(e)-s})),j(a))}};return Object(k.jsxs)(l.default,{children:[Object(k.jsx)(f.Button,{title:r.name,onPress:function(){return w(!0)},style:B.touchable}),Object(k.jsx)(u.default,{visible:v,children:Object(k.jsxs)(d.default,{style:B.modalContainer,children:[Object(k.jsxs)(p.default,{style:B.h2Black,children:["Name: ",r.name]}),Object(k.jsxs)(p.default,{style:[{marginBottom:25},B.h2Black],children:["Price: ",O]}),r.options.map((function(e,t){return Object(k.jsx)(S,{e:e,index:t},t)})),Object(k.jsx)(f.Button,{title:"Add To Cart",onPress:function(){var e,t=[];c.options.forEach((function(e){var n=e.label+": ",o=e.optionsList.filter((function(e){return!0===e.selected})).length;o>0&&(n=e.label+": ",e.optionsList.map((function(t,r){!0===t.selected&&(r<e.optionsList.length-1&&o>1?n+=t.label+" , ":n+=t.label)})),t.push(n))})),e={name:c.name,price:O.toFixed(2),description:r.description,options:t},x.set((function(t){return[].concat(b()(t),[e])})),w(!1),j(r),y(c.price)},style:B.btn}),Object(k.jsx)(f.Button,{title:"Close",onPress:function(){return w(!1)},style:B.btn})]})})]},n)},B=c.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:10},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{marginBottom:25},dropDown:{marginBottom:25},h2White:{fontSize:17,color:"white"},h2Black:{fontSize:20,color:"black"}}),L=function(e){var t=e.section,n=e.catalog;return Object(k.jsx)(l.default,{style:E.container,children:Object(k.jsx)((function(){if(n.products&&n.products.length>0)return t?n.products.filter((function(e){return e.catagory===t})).map((function(e,t){return Object(k.jsx)(D,{product:e,productIndex:t},t)})):n.products.filter((function(e){return e.catagory===n.categories[0]})).map((function(e,t){return Object(k.jsx)(D,{product:e,productIndex:t},t)}))}),{})})},E=c.default.create({container:{backgroundColor:"white",flex:2,height:"100%"},wrapper:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",paddingLeft:50,paddingRight:50,height:"100%",width:"100%",alignItems:"center"}}),N=n(38),_=n.n(N),F=n(196),W=function(e){var t=e.setDeliveryModal,n=e.setOngoingDelivery,o=e.setName,r=e.setPhone,i=e.setAddress,a=e.name,s=e.phone,c=e.address,u=e.deliveryChecked,h=e.setDeliveryChecked;return Object(k.jsxs)(d.default,{style:V.modalContainer,children:[Object(k.jsxs)(l.default,{style:V.sizeRow,children:[Object(k.jsx)(p.default,{children:"Enter Phone Order Details"}),Object(k.jsxs)(l.default,{children:[Object(k.jsx)(p.default,{children:"Delivery?"}),Object(k.jsx)(F.Switch,{value:u,onValueChange:function(){h(!u)}})]})]}),Object(k.jsx)(f.TextInput,{label:"Name",variant:"outlined",style:V.input,onChangeText:function(e){return o(e)},autoCorrect:!1,value:a}),Object(k.jsx)(f.TextInput,{label:"Phone #",variant:"outlined",style:V.input,onChangeText:function(e){return r(e)},autoCorrect:!1,value:s}),u&&Object(k.jsx)(f.TextInput,{label:"Address",variant:"outlined",style:V.input,onChangeText:function(e){return i(e)},autoCorrect:!1,value:c}),Object(k.jsx)(f.Button,{title:"Order",onPress:function(){t(!1),n(!0)},contentContainerStyle:V.btn,style:{margin:25}}),Object(k.jsx)(f.Button,{title:"Cancel",onPress:function(){t(!1),n(null)},contentContainerStyle:V.btn,style:{margin:25}})]})},V=c.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:25},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{height:40,justifyContent:"center",alignItems:"center"},input:{marginTop:25,marginBottom:25}}),R=function(e){var t=e.setCashModal,n=e.GetTrans,r=e.total,a=e.setChangeDue,s=Object(o.useState)(""),c=i()(s,2),u=c[0],h=c[1];return Object(k.jsxs)(d.default,{style:M.modalContainer,children:[Object(k.jsx)(l.default,{style:M.sizeRow,children:Object(k.jsx)(p.default,{children:"Cash Payment Details"})}),Object(k.jsxs)(p.default,{children:["Total: ",r]}),Object(k.jsx)(f.TextInput,{label:"Enter Cash Given",variant:"outlined",style:M.input,onChangeText:function(e){h(e),a((parseFloat(e)-r).toFixed(2))},autoCorrect:!1,value:u}),Object(k.jsxs)(p.default,{children:["Change Due:"," ",parseFloat(u)>r&&(parseFloat(u)-r).toFixed(2)]}),Object(k.jsx)(f.Button,{title:"Print",onPress:function(){n("Cash"),t(!1)},contentContainerStyle:M.btn,style:{margin:25}}),Object(k.jsx)(f.Button,{title:"Cancel",onPress:function(){return t(!1)},contentContainerStyle:M.btn,style:{margin:25}})]})},M=c.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:25},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{height:40,justifyContent:"center",alignItems:"center"},input:{marginTop:25,marginBottom:25}}),A=function(e){var t=e.setChangeModal,n=Object(o.useState)(""),r=i()(n,2),a=r[0],s=r[1],c=Object(o.useState)(""),u=i()(c,2),h=u[0],j=u[1],b=T.use();return Object(k.jsxs)(d.default,{style:z.modalContainer,children:[Object(k.jsx)(l.default,{style:z.sizeRow,children:Object(k.jsx)(p.default,{children:"Cash Payment Details"})}),Object(k.jsx)(f.TextInput,{label:"Enter Total",variant:"outlined",style:z.input,onChangeText:function(e){return s(e)},autoCorrect:!1,value:a}),Object(k.jsx)(f.TextInput,{label:"Enter Cash Given",variant:"outlined",style:z.input,onChangeText:function(e){return j(e)},autoCorrect:!1,value:h}),Object(k.jsxs)(p.default,{children:["Change Due: ",(parseFloat(h)-a).toFixed(2)]}),Object(k.jsx)(f.Button,{title:"Open Cash",onPress:function(){!function(){var e=["\x1b@","\x1ba1",b.name,"\n",b.address+"\n",b.website+"\n",b.phoneNumber+"\n","\n","\n","\n","\n","\x1ba0","Total: $"+a+"\n","Cash Given: $"+h+"\n","Change Due: $"+(parseFloat(h)-parseFloat(a)).toFixed(2)+"\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0","\x10\x14\x01\0\x05"];fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:e,comSelected:b.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")}))}(),t(!1)},contentContainerStyle:z.btn,style:{margin:25}}),Object(k.jsx)(f.Button,{title:"Cancel",onPress:function(){return t(!1)},contentContainerStyle:z.btn,style:{margin:25}})]})},z=c.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:25},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{height:40,justifyContent:"center",alignItems:"center"},input:{marginTop:25,marginBottom:25}}),$=n(186);n(411),n(390);$.default.initializeApp({apiKey:"AIzaSyDmtlrkfZRbFy8P7D4BFXTIkzMDC_DP5n8",authDomain:"posmate-5fc0a.firebaseapp.com",projectId:"posmate-5fc0a",storageBucket:"posmate-5fc0a.appspot.com",messagingSenderId:"48463376409",appId:"1:48463376409:web:b427a4fbc3c210a5977a88"});var U=$.default.auth(),J=$.default.firestore(),K=function(e,t){var n;J.collection("users").doc(null==(n=U.currentUser)?void 0:n.uid).update({products:t,categories:e})},G=function(e){var t;J.collection("users").doc(null==(t=U.currentUser)?void 0:t.uid).update({transList:e})},q=function(){var e=Object(o.useState)(!1),t=i()(e,2),n=t[0],r=t[1],a=Object(o.useState)(!1),s=i()(a,2),c=s[0],h=s[1],j=Object(o.useState)(!1),b=i()(j,2),g=b[0],m=b[1],O=Object(o.useState)(null),X=i()(O,2),C=X[0],w=X[1],S=Object(o.useState)(),P=i()(S,2),I=P[0],D=P[1],B=Object(o.useState)(),L=i()(B,2),E=L[0],N=L[1],F=Object(o.useState)(),V=i()(F,2),M=V[0],z=V[1],$=Object(o.useState)(!1),U=i()($,2),J=U[0],K=U[1],q=Object(o.useState)(),Z=i()(q,2),Y=Z[0],H=Z[1],ee=x.use(),te=v.use(),ne=T.use(),oe=Object(o.useState)(0),re=i()(oe,2),ie=re[0],ae=re[1];Object(o.useEffect)((function(){if(ee.length>0){for(var e=0,t=0;t<ee.length;t++)e+=parseFloat(ee[t].price);ae(e)}else ae(0)}),[ee]);var se=function(){var e=_()((function*(e){var t=structuredClone(te);t.unshift(e),G(t)}));return function(t){return e.apply(this,arguments)}}(),ce=function(e){var t=te.length+1;if("deliveryOrder"===e){var n=5.5,o=new Date,i=["\x1b@","\x1ba1",ne.name,"\n",ne.address+"\n",ne.website+"\n",ne.phoneNumber+"\n",o.toLocaleDateString()+" "+o.toLocaleTimeString()+"\n","\n","Transaction # "+t+"\n","\n","Delivery Order: $5.50 Fee\n","\n","\n","\n","\x1ba0"];ee.map((function(e){n+=parseFloat(e.price),i.push("Name: "+e.name),i.push("\n"),i.push("Price: $"+e.price),e.options&&(i.push("\n"),e.options.map((function(e){i.push(e),i.push("\n")}))),i.push("\n\n")})),n=(n*=1.13).toFixed(2),i.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Customer Name: "+I,"\n\n","Customer Phone #:  "+E,"\n\n","Customer Address #:  "+M,"\n\n","Total Including (13% Tax): "+n+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:i,comSelected:ne.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")})),se({date:o,transNum:t,total:n,method:"deliveryOrder",cart:ee}),y([]),r(!1)}else if("pickupOrder"===e){var a=0,s=new Date,c=["\x1b@","\x1ba1",ne.name,"\n",ne.address+"\n",ne.website+"\n",ne.phoneNumber+"\n",s.toLocaleDateString()+" "+s.toLocaleTimeString()+"\n","\n","Transaction # "+t+"\n","\n","Pickup Order\n","\n","\n","\n","\x1ba0"];ee.map((function(e){a+=parseFloat(e.price),c.push("Name: "+e.name),c.push("\n"),c.push("Price: $"+e.price),e.options&&(c.push("\n"),e.options.map((function(e){c.push(e),c.push("\n")}))),c.push("\n\n")})),a=(a*=1.13).toFixed(2),c.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Customer Name: "+I,"\n\n","Customer Phone #:  "+E,"\n\n","Total Including (13% Tax): "+a+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:c,comSelected:ne.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")})),se({date:s,transNum:t,total:a,method:"pickupOrder",cart:ee}),y([]),r(!1)}else{var l=0,u=new Date,d=["\x1b@","\x1ba1",ne.name,"\n",ne.address+"\n",ne.website+"\n",ne.phoneNumber+"\n",u.toLocaleDateString()+" "+u.toLocaleTimeString()+"\n","\n","Transaction # "+t+"\n","\n","\n","\n","\x1ba0"];ee.map((function(e){l+=parseFloat(e.price),d.push("Name: "+e.name),d.push("\n"),d.push("\n"),d.push("Price: $"+e.price),e.options&&(d.push("\n"),e.options.map((function(e){d.push(e),d.push("\n")}))),d.push("\n\n")})),l=(l*=1.13).toFixed(2),"Cash"===e?d.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e+"\n\n","Total Including (13% Tax): $"+l+"\n\n","Change Due: $"+Y+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0","\x10\x14\x01\0\x05"):d.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e+"\n\n","Total Including (13% Tax): $"+l+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:d,comSelected:ne.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")})),se({date:u,transNum:t,total:l,method:e,cart:ee})}y([])};return Object(k.jsx)(l.default,{style:Q.container,children:Object(k.jsxs)(d.default,{style:Q.container,contentContainerStyle:Q.contentContainer,children:[Object(k.jsx)(l.default,{children:ee.map((function(e,t){return Object(k.jsxs)(l.default,{style:{marginBottom:20},children:[Object(k.jsxs)(p.default,{children:["Name: ",e.name]}),Object(k.jsxs)(p.default,{children:["Price: ",e.price]}),e.description&&Object(k.jsxs)(p.default,{children:["Description: ",e.description]}),e.options&&e.options.map((function(e){return Object(k.jsx)(p.default,{children:e})})),Object(k.jsx)(p.default,{style:{color:"blue"},onPress:function(){var e=structuredClone(ee);e.splice(t,1),y(e)},children:"Remove"})]})}))}),Object(k.jsxs)(l.default,{children:[Object(k.jsxs)(p.default,{children:["Sub: ",ie.toFixed(2)]}),Object(k.jsxs)(p.default,{children:["Total: ",(1.13*ie).toFixed(2)]}),Object(k.jsx)(f.Button,{title:"Cash",onPress:function(){return h(!0)},disabled:ee.length<1||C,style:{marginBottom:20}}),Object(k.jsx)(f.Button,{title:"Card",onPress:function(){return ce("Card")},disabled:ee.length<1||C,style:{marginBottom:20}}),Object(k.jsx)((function(){return null===C?Object(k.jsx)(f.Button,{title:"Phone Order",onPress:function(){return r(!0)},disabled:ee.length>0,style:{marginBottom:20}}):C&&ee.length>0?Object(k.jsx)(f.Button,{title:"Complete",onPress:function(){ce(J?"deliveryOrder":"pickupOrder"),w(null),D(null),N(null),z(null)},style:{marginBottom:20}}):Object(k.jsx)(f.Button,{title:"Cancel",onPress:function(){return w(null)},style:{marginBottom:20}})}),{}),Object(k.jsx)(f.Button,{title:"Change",onPress:function(){return m(!0)},disabled:ee.length>0||C})]}),Object(k.jsx)(u.default,{visible:n,children:Object(k.jsx)(W,{setDeliveryModal:r,setOngoingDelivery:w,setName:D,setPhone:N,setAddress:z,name:I,phone:E,address:M,deliveryChecked:J,setDeliveryChecked:K})}),Object(k.jsx)(u.default,{visible:c,children:Object(k.jsx)(R,{setCashModal:h,GetTrans:function(){return ce("Cash")},total:(1.13*ie).toFixed(2),setChangeDue:H})}),Object(k.jsx)(u.default,{visible:g,children:Object(k.jsx)(A,{setChangeModal:m})})]})})},Q=c.default.create({container:{backgroundColor:"lightgrey",flex:1,height:"100%"},contentContainer:{backgroundColor:"lightgrey",flex:1,height:"100%",justifyContent:"space-between",padding:20}}),Z=function(){var e=v.use(),t=Object(o.useState)(),n=i()(t,2),r=n[0],a=n[1],s=new Date,c=Object(o.useState)({todaysReceiptValue:0,todaysReceipts:0}),u=i()(c,2),d=u[0],p=u[1],h=T.use();Object(o.useEffect)((function(){e.sort((function(e,t){if(e.date&&t.date)return e.date.seconds-t.date.seconds;if(e.date&&t.date_created){var n=new Date(t.date_created).getTime()/1e3;return e.date.seconds-n}return e.date_created&&t.date?new Date(e.date_created).getTime()/1e3-t.date.seconds:new Date(e.date_created).getTime()/1e3-new Date(t.date_created).getTime()/1e3})).reverse(),a(e);var t=e.reduce((function(e,t){return(t.date?new Date(1e3*t.date.seconds):new Date(t.date_created)).toLocaleDateString()===s.toLocaleDateString()?e+parseFloat(t.total):e}),0),n=e.reduce((function(e,t){return(t.date?new Date(1e3*t.date.seconds):new Date(t.date_created)).toLocaleDateString()===s.toLocaleDateString()?e+1:e}),0);p({todaysReceiptValue:t.toFixed(2),todaysReceipts:n})}),[]);return Object(k.jsxs)(l.default,{style:Y.container,children:[Object(k.jsx)(f.Text,{style:{textAlign:"center",margin:25},children:"List Of Transactions"}),Object(k.jsxs)(l.default,{style:{flexDirection:"row",width:"100%",alignItems:"center",justifyContent:"center"},children:[Object(k.jsxs)(f.Text,{style:{textAlign:"center",margin:25},children:["Todays Total Price: ",d.todaysReceiptValue]}),Object(k.jsx)(f.Button,{style:{height:40,alignItems:"center",justifyContent:"center"},title:"Print Todays Receipts",onPress:function(){var e=["\x1b@","\x1ba1",h.name,"\n",h.address+"\n",h.website+"\n",h.phoneNumber+"\n",s.toLocaleDateString()+" "+s.toLocaleTimeString()+"\n","\n","\n","\n","\n","\x1ba0","\n\n","Number Of Receipts: "+d.todaysReceipts+"\n\n","Sub-Total: $"+(d.todaysReceiptValue/1.13).toFixed(2)+"\n\n","Tax: $"+(d.todaysReceiptValue/1.13*.13).toFixed(2)+"\n\n","Total Including (13% Tax): $"+d.todaysReceiptValue+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"];fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:e,comSelected:h.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")}))}}),Object(k.jsxs)(f.Text,{style:{textAlign:"center",margin:25},children:["Todays Total Receipts: ",d.todaysReceipts]})]}),Object(k.jsx)(l.default,{style:Y.contentContainer,children:r?null==r?void 0:r.map((function(e,t){var n,o,r=e.date?new Date(1e3*e.date.seconds):e.date_created?new Date(e.date_created):null;return Object(k.jsxs)(l.default,{style:{backgroundColor:"grey",padding:30,margin:10},children:[Object(k.jsx)(f.Text,{children:r.toLocaleString()}),null==(n=e.cart)?void 0:n.map((function(e,t){var n;return Object(k.jsxs)(l.default,{style:{marginBottom:20},children:[Object(k.jsxs)(f.Text,{children:["Name: ",e.name]}),Object(k.jsxs)(f.Text,{children:["Quantity: ",e.quantity]}),Object(k.jsxs)(f.Text,{children:["Price: ",e.price]}),e.options&&(null==(n=e.options)?void 0:n.map((function(e){return Object(k.jsx)(f.Text,{children:e})})))]},t)})),null==(o=e.line_items)?void 0:o.map((function(e,t){var n;return Object(k.jsxs)(l.default,{style:{marginBottom:20},children:[Object(k.jsxs)(f.Text,{children:["Name: ",e.name]}),Object(k.jsxs)(f.Text,{children:["Quantity: ",e.quantity]}),Object(k.jsxs)(f.Text,{children:["Price: ",e.price]}),null==(n=e.meta_data)?void 0:n.map((function(t,n){if(n!==e.meta_data.length-1)return Object(k.jsx)(f.Text,{children:t.key+" : "+t.value})}))]},t)})),Object(k.jsx)(f.Button,{title:"Print",onPress:function(){if(e.date){var t,n=0,o=["\x1b@","\x1ba1",h.name,"\n",h.address+"\n",h.website+"\n",h.phoneNumber+"\n",r.toLocaleDateString()+" "+r.toLocaleTimeString()+"\n","\n","Transaction # "+e.transNum+"\n","\n","\n","\n","\x1ba0"];null==(t=e.cart)||t.map((function(e){var t;(n+=parseFloat(e.price),o.push("Name: "+e.name),o.push("\n"),o.push("Price: $"+e.price),e.options)&&(o.push("\n"),null==(t=e.options)||t.map((function(e){o.push(e),o.push("\n")})));o.push("\n\n")})),n=(n*=1.13).toFixed(2),o.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Total Including (13% Tax): $"+n+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:o,comSelected:h.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")}))}else{var i,a=[];a.push("\x1b@","\x1ba1",h.name,"\n",h.address+"\n",h.website+"\n",h.phoneNumber+"\n",e.date_created+"\n","\n","Online Order\n","Transaction # "+e.number+"\n","\n","\n","\n","\x1ba0"),null==(i=e.line_items)||i.map((function(e){var t;(a.push("\n"),a.push("Name: "+e.name),a.push("\n"),a.push("Quantity: "+e.quantity),a.push("\n"),a.push("Price: $"+e.price),a.push("\n"),e.meta_data)?null==(t=e.meta_data)||t.map((function(t,n){0===n?(a.push(t.key+" : "+t.value),e.meta_data[n+1].key!==t.key&&a.push("\n")):n!==e.meta_data.length-1&&(e.meta_data[n-1].key===t.key?a.push(" , "+t.value):a.push(t.key+" : "+t.value),e.meta_data[n+1].key!==t.key&&a.push("\n"))})):a.push("\n\n")})),a.push("\n"),a.push("\n"),a.push("Customer Details:"),a.push("\n"),a.push("Address: "+e.shipping.address_1),a.push("\n"),a.push("City: "+e.shipping.city),a.push("\n"),a.push("Zip/Postal Code: "+e.shipping.postcode),a.push("\n"),a.push("Province/State: "+e.shipping.state),a.push("\n"),a.push("Name: "+e.shipping.first_name+" "+e.shipping.last_name),a.push("\n"),e.shipping_lines.map((function(e){return a.push("Shipping Method: "+e.method_title)})),a.push("\n"),a.push("\n"),a.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e.payment_method_title+"\n\n","Total Including (13% Tax): $"+(parseFloat(e.total)+parseFloat(e.total_tax)).toFixed(2)+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n"),a.push("\x1dV\0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:a,comSelected:h.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")}))}}})]},t)})):Object(k.jsx)(f.Text,{children:"No receipts yet"})})]})},Y=c.default.create({container:{backgroundColor:"white",flex:1,height:"100%"},contentContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",paddingLeft:50,paddingRight:50,paddingBottom:50,height:"100%",width:"100%",alignItems:"center"}}),H=function(e){var t=e.isModalVisible;return Object(k.jsx)(u.default,{visible:t,transparent:!0,children:Object(k.jsxs)(l.default,{style:{alignItems:"center",justifyContent:"center",flex:1,backgroundColor:"rgba(52, 52, 52, 0.8)"},children:[Object(k.jsx)("style",{children:".loader {\n  border: 16px solid #f3f3f3;\n  border-radius: 50%;\n  border-top: 16px solid #3498db;\n  width: 120px;\n  height: 120px;\n  -webkit-animation: spin 2s linear infinite; /* Safari */\n  animation: spin 2s linear infinite;\n}\n\n/* Safari */\n@-webkit-keyframes spin {\n  0% { -webkit-transform: rotate(0deg); }\n  100% { -webkit-transform: rotate(360deg); }\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}"}),Object(k.jsx)("div",{className:"loader"})]})})},ee=(c.default.create({}),function(){var e=X.use(),t=Object(o.useState)(),n=i()(t,2),r=n[0],a=n[1],s=Object(o.useState)(!1),c=i()(s,2),u=c[0],j=c[1];return Object(k.jsxs)(d.default,{style:{padding:25},children:[Object(k.jsx)(p.default,{style:{fontSize:17,fontWeight:"600"},children:"Current categories"}),e.categories.map((function(t,n){return Object(k.jsxs)(l.default,{style:{flexDirection:"row",justifyContent:"space-between",padding:15,margin:10,backgroundColor:"lightgrey"},children:[Object(k.jsx)(p.default,{style:{fontSize:17},children:t}),Object(k.jsx)(h.default,{onPress:function(){return function(t){var n=structuredClone(e);n.categories.splice(t,1),K(n.categories,n.products),j(!0)}(n)},style:{justifyContent:"center",alignItems:"center"},children:Object(k.jsx)(p.default,{style:{color:"red",fontWeight:"600"},children:"Remove X"})})]})})),Object(k.jsx)(f.TextInput,{placeholder:"Enter New Category",onChangeText:function(e){return a(e)},style:{margin:10}}),Object(k.jsx)(f.Button,{title:"Add New Category",onPress:function(){K([].concat(b()(e.categories),[r]),e.products),j(!0)},style:{margin:10}}),Object(k.jsx)(H,{isModalVisible:u})]})}),te=(c.default.create({}),n(9)),ne=n.n(te),oe=n(129);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var ie=function(e){var t=e.label,n=e.options,r=e.setValue,a=e.value,s=e.style,c=Object(o.useState)(!1),u=i()(c,2),d=u[0],p=u[1];return Object(k.jsxs)(l.default,{style:[ae.container,s],children:[Object(k.jsx)(f.ListItem,{title:a||t,trailing:function(e){return Object(k.jsx)(oe.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ne()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:d?"chevron-up":"chevron-down"},e))},onPress:function(){return p((function(e){return!e}))}}),d&&Object(k.jsx)(k.Fragment,{children:n.map((function(e){return Object(k.jsx)(f.ListItem,{title:e,onPress:function(){r(e),p(!1)}})}))})]})},ae=c.default.create({container:{backgroundColor:"white"}});function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){ne()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le=function(e){var t=e.setProductModal,n=e.setisModalVisible,r=e.existingProduct,a=e.existingProductIndex,s=X.use(),c=Object(o.useState)(r||{name:null,price:null,catagory:null,options:[],description:null}),u=i()(c,2),j=u[0],g=u[1],m=Object(o.useState)({index:null,inputName:null,innerList:null,cursor:null}),O=i()(m,2),x=O[0],y=O[1];function C(e){if(e)K(b()(s.categories),[].concat(b()(s.products),[e]));else if(r){var t=structuredClone(s.products);t[a]=j,K(b()(s.categories),t)}else K(b()(s.categories),[].concat(b()(s.products),[j]));n(!0)}return Object(k.jsxs)(d.default,{contentContainerStyle:{width:"93%",alignSelf:"center",marginTop:25},children:[Object(k.jsxs)(l.default,{style:{flexDirection:"row",padding:20,justifyContent:"space-between",alignItems:"center"},children:[Object(k.jsx)(h.default,{onPress:function(){return t(!1)},children:Object(k.jsx)(p.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"X"})}),Object(k.jsx)(h.default,{onPress:function(){var e=structuredClone(j);e.name=e.name+" Copy",C(e)},children:Object(k.jsx)(p.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"Copy"})}),Object(k.jsx)(p.default,{style:{marginBottom:25},children:"AddProduct"})]}),Object(k.jsx)(f.TextInput,{placeholder:"Enter Product Name",onChangeText:function(e){g((function(t){return ce(ce({},t),{},{name:e})}))},value:j.name,style:{marginBottom:25}}),Object(k.jsx)(f.TextInput,{placeholder:"Enter any other items that come with this",onChangeText:function(e){g((function(t){return ce(ce({},t),{},{description:e})}))},style:{marginBottom:25},value:j.description}),Object(k.jsx)(f.TextInput,{placeholder:"Enter Product Price",onChangeText:function(e){g((function(t){return ce(ce({},t),{},{price:e})}))},style:{marginBottom:25},value:j.price}),Object(k.jsx)(ie,{label:"Choose catagory",options:s.categories,setValue:function(e){g((function(t){return ce(ce({},t),{},{catagory:e})}))},value:j.catagory,style:{marginBottom:25}}),Object(k.jsx)((function(){return Object(k.jsxs)(l.default,{children:[j.options.map((function(e,t){var n=Object(o.useState)([]),r=i()(n,2),a=r[0],s=r[1],c=Object(o.useState)([]),u=i()(c,2),d=u[0],m=u[1];return Object(o.useEffect)((function(){if(j.options.length>1){var t=[];j.options.forEach((function(n){n.label!==e.label&&t.push(n.label)})),m(t)}}),[]),Object(o.useEffect)((function(){if(null!==e.selectedCaseKey){var t=j.options.filter((function(t){return t.label==e.selectedCaseKey})),n=[];t[0].optionsList.forEach((function(e){n.push(e.label)})),s(n)}}),[d]),Object(k.jsxs)(l.default,{style:{padding:25,margin:15,backgroundColor:"lightgrey"},children:[Object(k.jsx)(h.default,{onPress:function(){var t=structuredClone(j);t.options.push(ce(ce({},e),{},{label:e.label+" Copy"})),g((function(e){return ce(ce({},e),{},{options:t.options})}))},children:Object(k.jsx)(p.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"Copy"})}),Object(k.jsx)(h.default,{onPress:function(){var e=structuredClone(j);e.options.splice(t,1),g((function(t){return ce(ce({},t),{},{options:e.options})}))},children:Object(k.jsx)(p.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"X"})}),Object(k.jsx)(f.TextInput,{placeholder:"Enter Select List Label",onChange:function(e){var n=e.nativeEvent.text,o=b()(j.options);o[t].label=n,y({index:t,inputName:"label",innerList:!1,cursor:e.target.selectionStart,cursorEnd:e.target.selectionEnd}),g((function(e){return ce(ce({},e),{},{options:o})}))},onFocus:function(e){e.target.selectionStart=x.cursor,e.target.selectionEnd=x.cursorEnd},value:e.label,autoFocus:x.index===t&&!1===x.innerList&&"label"===x.inputName,style:{marginBottom:25}}),Object(k.jsx)(f.TextInput,{placeholder:"Enter Number Of Selectable; If There Is",onChange:function(e){var n=e.nativeEvent.text,o=b()(j.options);o[t].numOfSelectable=n,y({index:t,inputName:"numOfSelectable",innerList:!1,cursor:e.target.selectionStart,cursorEnd:e.target.selectionEnd}),g((function(e){return ce(ce({},e),{},{options:o})}))},onFocus:function(e){e.target.selectionStart=x.cursor,e.target.selectionEnd=x.cursorEnd},value:e.numOfSelectable,autoFocus:x.index===t&&!1===x.innerList&&"numOfSelectable"===x.inputName,style:{marginBottom:25}}),e.optionsList.map((function(e,n){return Object(k.jsxs)(l.default,{style:{flexDirection:"row",marginBottom:25,alignItems:"center"},children:[Object(k.jsx)(f.TextInput,{placeholder:"Enter Option Label",onChange:function(e){var o=e.nativeEvent.text,r=structuredClone(j);r.options[t].optionsList[n].label=o,y({index:t,inputName:"label",innerList:!0,indexInnerList:n,cursor:e.target.selectionStart,cursorEnd:e.target.selectionEnd}),g(r)},onFocus:function(e){e.target.selectionStart=x.cursor,e.target.selectionEnd=x.cursorEnd},value:e.label,autoFocus:x.index===t&&!0===x.innerList&&"label"===x.inputName&&x.indexInnerList===n}),Object(k.jsx)(f.TextInput,{placeholder:"Enter price increase",onChange:function(e){var o=e.nativeEvent.text,r=structuredClone(j);r.options[t].optionsList[n].priceIncrease=o,y({index:t,inputName:"priceIncrease",innerList:!0,indexInnerList:n,cursor:e.target.selectionStart,cursorEnd:e.target.selectionEnd}),g(r)},onFocus:function(e){e.target.selectionStart=x.cursor,e.target.selectionEnd=x.cursorEnd},value:e.priceIncrease,autoFocus:x.index===t&&!0===x.innerList&&"priceIncrease"===x.inputName&&x.indexInnerList===n,style:{marginLeft:20,marginRight:20}}),Object(k.jsx)(h.default,{onPress:function(){var e=structuredClone(j);e.options[t].optionsList.splice(n,1),g((function(t){return ce(ce({},t),{},{options:e.options})})),g((function(t){return ce(ce({},t),{},{options:e.options})}))},children:Object(k.jsx)(p.default,{style:{fontWeight:"700",color:"red"},children:"X"})})]})})),Object(k.jsx)(f.Button,{title:"Add Option Choice",onPress:function(){var e=b()(j.options);e[t].optionsList.push({label:null,priceIncrease:null}),g((function(t){return ce(ce({},t),{},{options:e})})),y({index:t,inputName:"label",innerList:!0,indexInnerList:e[t].optionsList.length-1})},style:{marginBottom:25}}),d.length>1&&Object(k.jsxs)(l.default,{style:{flexDirection:"row",justifyContent:"space-between",marginBottom:25},children:[Object(k.jsx)(ie,{label:"Show if...",options:d,setValue:function(e){var n=b()(j.options);n[t].selectedCaseKey=e,g((function(e){return ce(ce({},e),{},{options:n})})),y({index:null,inputName:null,innerList:null,indexInnerList:null})},value:e.selectedCaseKey,style:{marginBottom:25}}),Object(k.jsx)(p.default,{children:'"="'}),Object(k.jsx)(ie,{label:"Show if...",options:a,setValue:function(e){var n=b()(j.options);n[t].selectedCaseValue=e,g((function(e){return ce(ce({},e),{},{options:n})})),y({index:null,inputName:null,innerList:null,indexInnerList:null})},value:e.selectedCaseValue,style:{marginBottom:25}})]})]})})),Object(k.jsx)(f.Button,{title:"Add Product Option",onPress:function(){g((function(e){return ce(ce({},e),{},{options:[].concat(b()(e.options),[{label:null,optionsList:[],selectedCaseKey:null,selectedCaseValue:null,numOfSelectable:null}])})})),y({index:j.options.length,inputName:"label",innerList:!1,indexInnerList:null})},style:{marginBottom:25}})]})}),{}),Object(k.jsx)(f.Button,{title:"Add/Save Product",onPress:function(){return C()},style:{marginBottom:25,marginTop:25,backgroundColor:"lightgreen"}})]})},ue=(c.default.create({}),function(){var e=X.use(),t=Object(o.useState)(!1),n=i()(t,2),r=n[0],a=n[1],s=Object(o.useState)(!1),c=i()(s,2),j=c[0],b=c[1];return Object(k.jsxs)(d.default,{style:{padding:25},children:[Object(k.jsx)(p.default,{style:{fontSize:17,fontWeight:"600"},children:"Current Products"}),e.categories.length>0?e.products.map((function(t,n){var r=Object(o.useState)(!1),a=i()(r,2),s=a[0],c=a[1];return Object(k.jsxs)(l.default,{style:{flexDirection:"row",justifyContent:"space-between",padding:15,margin:10,backgroundColor:"lightgrey"},children:[Object(k.jsxs)(p.default,{style:{fontSize:17},children:["Product: ",t.name]}),Object(k.jsxs)(l.default,{style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"10%"},children:[Object(k.jsx)(f.Button,{title:"Edit",onPress:function(){return c(!0)},style:{margin:10}}),Object(k.jsx)(h.default,{onPress:function(){return function(t){var n=structuredClone(e);n.products.splice(t,1),K(n.categories,n.products),b(!0)}(n)},style:{justifyContent:"center",alignItems:"center",borderRadius:3,backgroundColor:"red",padding:10,margin:10},children:Object(k.jsx)(p.default,{style:{color:"white",fontWeight:"600",fontSize:18},children:"X"})})]}),Object(k.jsx)(u.default,{visible:s,children:Object(k.jsx)(le,{setProductModal:c,setisModalVisible:b,existingProduct:t,existingProductIndex:n})})]})})):Object(k.jsx)(p.default,{style:{marginTop:50,marginBottom:50},children:"You must add a category before you can add a product..."}),e.products.length<1&&e.categories.length>0&&Object(k.jsx)(p.default,{style:{marginTop:50,marginBottom:50},children:"You have no products..."}),Object(k.jsx)(f.Button,{title:"Add New Product",onPress:function(){return a(!0)},style:{margin:10},disabled:e.categories.length<1}),Object(k.jsx)(u.default,{visible:r,children:Object(k.jsx)(le,{setProductModal:a,setisModalVisible:b})}),Object(k.jsx)(H,{isModalVisible:j})]})}),de=(c.default.create({}),function(){var e=S.use(),t=Object(o.useState)(e.apiUrl),n=i()(t,2),r=n[0],a=n[1],s=Object(o.useState)(e.ck),c=i()(s,2),l=c[0],u=c[1],h=Object(o.useState)(e.cs),j=i()(h,2),b=j[0],g=j[1],m=Object(o.useState)(e.useWoocommerce),O=i()(m,2),x=O[0],y=O[1];return Object(k.jsxs)(d.default,{style:{padding:25},children:[Object(k.jsx)(p.default,{style:{fontSize:17,fontWeight:"600"},children:"Current categories"}),Object(k.jsx)(f.TextInput,{placeholder:"Enter Woocommerce 'API Url'",onChangeText:function(e){return a(e)},style:{margin:10},value:r}),Object(k.jsx)(f.TextInput,{placeholder:"Enter Woocommerce 'CK'",onChangeText:function(e){return u(e)},style:{margin:10},value:l}),Object(k.jsx)(f.TextInput,{placeholder:"Enter Woocommerce 'CS'",onChangeText:function(e){return g(e)},style:{margin:10},value:b}),Object(k.jsx)(f.Switch,{value:x,onValueChange:function(e){return y(e)}}),Object(k.jsx)(f.Button,{title:"Save",onPress:function(){null!==r&&null!==l&&null!==b&&(P({apiUrl:r,ck:l,cs:b,useWoocommerce:x}),function(e){var t;J.collection("users").doc(null==(t=U.currentUser)?void 0:t.uid).update({wooCredentials:e})}({apiUrl:r,ck:l,cs:b,useWoocommerce:x}))},style:{margin:10}})]})}),pe=function(){var e=T.use(),t=Object(o.useState)(e.name),n=i()(t,2),r=n[0],a=n[1],s=Object(o.useState)(e.phoneNumber),c=i()(s,2),l=c[0],u=c[1],h=Object(o.useState)(e.address),j=i()(h,2),b=j[0],g=j[1],m=Object(o.useState)(e.website),O=i()(m,2),x=O[0],y=O[1],X=Object(o.useState)(e.comSelected),C=i()(X,2),v=C[0],w=C[1];return Object(k.jsxs)(d.default,{style:{padding:25},children:[Object(k.jsx)(p.default,{style:{fontSize:17,fontWeight:"600"},children:"Current categories"}),Object(k.jsx)(f.TextInput,{placeholder:"Enter Store Name",onChangeText:function(e){return a(e)},style:{margin:10},value:r}),Object(k.jsx)(f.TextInput,{placeholder:"Enter Store Website Url",onChangeText:function(e){return y(e)},style:{margin:10},value:x}),Object(k.jsx)(f.TextInput,{placeholder:"Enter Store Phone Number",onChangeText:function(e){return u(e)},style:{margin:10},value:l}),Object(k.jsx)(f.TextInput,{placeholder:"Enter Store Address",onChangeText:function(e){return g(e)},style:{margin:10},value:b}),Object(k.jsx)(ie,{options:["COM1","COM2","COM3","COM4","COM5","COM6","What Cum?"],label:"Pick Printer COM",value:v,setValue:w}),Object(k.jsx)(f.Button,{title:"Save",onPress:function(){null!==r&&null!==l&&null!==b&&(I({name:r,phoneNumber:l,address:b,website:x,comSelected:v}),function(e){var t;J.collection("users").doc(null==(t=U.currentUser)?void 0:t.uid).update({storeDetails:e})}({name:r,phoneNumber:l,address:b,website:x,comSelected:v}))},style:{margin:10}})]})},he=function(){var e=X.use(),t=Object(o.useState)(),n=i()(t,2),r=n[0],a=n[1],s=Object(o.useState)(!1),c=i()(s,2),u=c[0],d=c[1];Object(o.useEffect)((function(){var e=localStorage.getItem("localScreen");a(e),"add-category"!==e&&"add-product"!==e&&"edit-woocommerce"!==e&&"edit-store-details"!==e||d(!0)}),[]);return Object(k.jsxs)(l.default,{style:fe.container,children:[Object(k.jsx)((function(){var t;return!0===u?Object(k.jsxs)(l.default,{style:{width:"100%",height:120,flexDirection:"row",alignItems:"center",justifyContent:"space-evenly",backgroundColor:"red"},children:[Object(k.jsx)(f.Button,{titleStyle:"add-category"===r?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:"add-category"===r?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){a("add-category"),localStorage.setItem("localScreen","add-category")},title:"Add Category"}),Object(k.jsx)(f.Button,{titleStyle:"add-product"===r?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:"add-product"===r?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){a("add-product"),localStorage.setItem("localScreen","add-product")},title:"Add Product"}),Object(k.jsx)(f.Button,{titleStyle:"edit-woocommerce"===r?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:"edit-woocommerce"===r?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){a("edit-woocommerce"),localStorage.setItem("localScreen","edit-woocommerce")},title:"Woocommerce"}),Object(k.jsx)(f.Button,{titleStyle:"edit-store-details"===r?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:"edit-store-details"===r?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){a("edit-store-details"),localStorage.setItem("localScreen","edit-store-details")},title:"Store Details"}),Object(k.jsx)(f.Button,{titleStyle:{color:"black",fontWeight:"700"},style:{backgroundColor:"white"},onPress:function(){localStorage.removeItem("localScreen"),U.signOut()},title:"Logout"}),Object(k.jsx)(f.Button,{titleStyle:{color:"black",fontWeight:"700"},style:{backgroundColor:"white"},onPress:function(){d(!1),a(),localStorage.removeItem("localScreen")},title:"X"})]}):Object(k.jsxs)(l.default,{style:{width:"100%",height:120,flexDirection:"row",alignItems:"center",justifyContent:"space-evenly",backgroundColor:"red"},children:[null==(t=e.categories)?void 0:t.map((function(e,t){return r||0!==t?Object(k.jsx)(f.Button,{titleStyle:r===e?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:r===e?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){a(e),localStorage.setItem("localScreen",e)},title:e},t):Object(k.jsx)(f.Button,{titleStyle:{color:"white",fontWeight:"700"},style:{backgroundColor:"blue"},onPress:function(){a(e),localStorage.setItem("localScreen",e)},title:e},t)})),Object(k.jsx)(f.Button,{titleStyle:"transList"===r?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:"transList"===r?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){a("transList"),localStorage.setItem("localScreen","transList")},title:"Transaction"}),Object(k.jsx)(f.Button,{titleStyle:{color:"black",fontWeight:"700"},style:{backgroundColor:"white"},onPress:function(){return d(!0)},title:"Settings"})]})}),{}),Object(k.jsx)((function(){return"add-category"===r?Object(k.jsx)(ee,{}):"add-product"===r?Object(k.jsx)(ue,{}):"edit-woocommerce"===r?Object(k.jsx)(de,{}):"edit-store-details"===r?Object(k.jsx)(pe,{}):"transList"===r?Object(k.jsx)(l.default,{style:{height:"85%"},children:Object(k.jsx)(Z,{})}):Object(k.jsxs)(l.default,{style:{flexDirection:"row",height:"85%"},children:[Object(k.jsx)(L,{catalog:e,section:r}),Object(k.jsx)(q,{})]})}),{})]})},fe=c.default.create({container:{backgroundColor:"white",flex:1}}),je=Object(s.default)();function be(){return Object(k.jsx)(je.Navigator,{screenOptions:{headerShown:!1},children:Object(k.jsx)(je.Screen,{name:"Home",component:he})})}var ge=function(){return Object(k.jsx)(be,{})},me=n(74),Oe=n(427);function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){ne()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe=function(e){var t=e.navigation,r=Object(o.useState)(),a=i()(r,2),s=a[0],c=a[1],u=Object(o.useState)(),d=i()(u,2),p=d[0],h=d[1],j=Object(o.useState)(!1),b=i()(j,2),g=b[0],m=b[1];return Object(k.jsx)(l.default,{style:Ce.container,children:Object(k.jsxs)(Oe.SafeAreaView,{style:Ce.safeareaContainer,children:[Object(k.jsx)(me.default,{source:n(231),style:Ce.logo}),Object(k.jsxs)(l.default,{style:Ce.innerContainer,children:[Object(k.jsx)(f.TextInput,{label:"Email",variant:"outlined",style:{width:"100%",marginBottom:10},value:s,onChangeText:function(e){return c(e)},autoCorrect:!1,textContentType:"emailAddress"}),Object(k.jsx)(f.TextInput,{label:"Password",variant:"outlined",trailing:function(e){return Object(k.jsx)(f.IconButton,ye({onPress:function(){return m((function(e){return!e}))},icon:function(e){return Object(k.jsx)(oe.default,ye({name:"eye"},e))}},e))},value:p,onChangeText:function(e){return h(e)},secureTextEntry:!g,style:{width:"100%"}})]}),Object(k.jsxs)(l.default,{style:Ce.innerContainer,children:[Object(k.jsx)(f.Button,{title:"Login",uppercase:!1,contentContainerStyle:{width:"100%",height:60,backgroundColor:"black",alignItems:"center",justifyContent:"center"},style:{marginBottom:10},onPress:function(){s&&p&&function(e,t){U.signInWithEmailAndPassword(e,t)}(s,p)}}),Object(k.jsx)(f.Text,{variant:"subtitle1",style:{marginBottom:10},children:"Or"}),Object(k.jsx)(f.Button,{title:"Register",uppercase:!1,contentContainerStyle:{width:"100%",height:60,backgroundColor:"grey",alignItems:"center",justifyContent:"center"},onPress:function(){return t.navigate("Register")}})]})]})})},Ce=c.default.create({container:{flex:1,height:"100%",width:"100%",backgroundColor:"white",justifyContent:"center",alignItems:"center"},safeareaContainer:{flex:1,height:"60%",width:"80%",justifyContent:"space-evenly",alignItems:"center"},logo:{width:250,resizeMode:"contain"},innerContainer:{width:"100%",justifyContent:"center",alignItems:"center"}});function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){ne()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se=function(e){var t=e.navigation,r=Object(o.useState)(),a=i()(r,2),s=a[0],c=a[1],u=Object(o.useState)(),d=i()(u,2),p=d[0],h=d[1],j=Object(o.useState)(!1),b=i()(j,2),g=b[0],m=b[1];return Object(k.jsx)(l.default,{style:Pe.container,children:Object(k.jsxs)(Oe.SafeAreaView,{style:Pe.safeareaContainer,children:[Object(k.jsx)(me.default,{source:n(231),style:Pe.logo}),Object(k.jsxs)(l.default,{style:Pe.innerContainer,children:[Object(k.jsx)(f.TextInput,{label:"Email",variant:"outlined",style:{width:"100%",marginBottom:10},value:s,onChangeText:function(e){return c(e)},autoCorrect:!1,textContentType:"emailAddress"}),Object(k.jsx)(f.TextInput,{label:"Password",variant:"outlined",trailing:function(e){return Object(k.jsx)(f.IconButton,we({onPress:function(){return m((function(e){return!e}))},icon:function(e){return Object(k.jsx)(oe.default,we({name:"eye"},e))}},e))},value:p,onChangeText:function(e){return h(e)},secureTextEntry:!g,style:{width:"100%"}})]}),Object(k.jsxs)(l.default,{style:Pe.innerContainer,children:[Object(k.jsx)(f.Button,{title:"Register",uppercase:!1,contentContainerStyle:{width:"100%",height:60,backgroundColor:"black",alignItems:"center",justifyContent:"center"},style:{marginBottom:10},onPress:function(){s&&p&&function(e,t){U.createUserWithEmailAndPassword(e,t).then((function(e){e.user&&J.collection("users").doc(e.user.uid).set({paid:!0,products:[],categories:[],wooCredentials:{ck:null,cs:null,useWoocommerce:!1}})})).catch((function(e){return console.log(e)}))}(s,p)}}),Object(k.jsxs)(l.default,{style:{flexDirection:"row"},children:[Object(k.jsx)(f.Text,{variant:"subtitle1",style:{marginBottom:10},children:"Or"}),Object(k.jsx)(f.Text,{variant:"subtitle1",style:{marginBottom:10,marginLeft:5,color:"blue"},onPress:function(){return t.goBack()},children:"Go Back"})]})]})]})})},Pe=c.default.create({container:{flex:1,height:"100%",width:"100%",backgroundColor:"white",justifyContent:"center",alignItems:"center"},safeareaContainer:{flex:1,height:"60%",width:"80%",justifyContent:"space-evenly",alignItems:"center"},logo:{width:250,resizeMode:"contain"},innerContainer:{width:"100%",justifyContent:"center",alignItems:"center"}}),Te=Object(s.default)();function Ie(){return Object(k.jsxs)(Te.Navigator,{screenOptions:{headerShown:!1},children:[Object(k.jsx)(Te.Screen,{name:"Login",component:Xe}),Object(k.jsx)(Te.Screen,{name:"Register",component:Se})]})}var ke=function(){var e=m.use(),t=S.use(),n=v.use(),r=T.use(),s=Object(o.useState)(!0),c=i()(s,2),l=c[0],u=c[1];return Object(o.useEffect)((function(){U.onAuthStateChanged((function(e){e?(O(e),J.collection("users").doc(e.uid).get().then((function(e){C({products:e.data().products,categories:e.data().categories}),e.data().transList&&w(e.data().transList),e.data().wooCredentials&&P(e.data().wooCredentials),e.data().storeDetails&&I(e.data().storeDetails)})),setTimeout((function(){u(!1)}),1)):(O(null),C({products:null,categories:null}),setTimeout((function(){u(!1)}),1))}))}),[]),Object(o.useEffect)((function(){if(e){var t=J.collection("users").doc(e.uid).onSnapshot((function(e){u(!0),C({products:e.data().products,categories:e.data().categories}),w(e.data().transList),e.data().wooCredentials&&P(e.data().wooCredentials),e.data().storeDetails&&I(e.data().storeDetails),setTimeout((function(){u(!1)}),1)}));return function(){return t()}}}),[e]),Object(o.useEffect)((function(){if(!0===t.useWoocommerce){var e=setInterval((function(){fetch(t.apiUrl,{headers:{Authorization:"Basic "+btoa(t.ck+":"+t.cs)}}).then((function(e){return e.json()})).then((function(e){var t=e,o=[];if(n.concat(t).reduce((function(e,t){return e.includes(t.transaction_id)||(e.push(t.transaction_id),o.push(t)),e}),[]),o.length>n.length){console.log("new item");var i=structuredClone(o).splice(n.length,o.length-n.length);if(G(o),i.length>1)i.forEach((function(e){var t,n=[];n.push("\x1b@","\x1ba1",r.name,"\n",r.address+"\n",r.website+"\n",r.phoneNumber+"\n",e.date_created+"\n","\n","Online Order\n","Transaction # "+e.number+"\n","\n","\n","\n","\x1ba0"),null==(t=e.line_items)||t.map((function(e){var t;(n.push("\n"),n.push("Name: "+e.name),n.push("\n"),n.push("Quantity: "+e.quantity),n.push("\n"),n.push("Price: $"+e.price),n.push("\n"),e.meta_data)?null==(t=e.meta_data)||t.map((function(t,o){0===o?(n.push(t.key+" : "+t.value),e.meta_data[o+1].key!==t.key&&n.push("\n")):o!==e.meta_data.length-1&&(e.meta_data[o-1].key===t.key?n.push(" , "+t.value):n.push(t.key+" : "+t.value),e.meta_data[o+1].key!==t.key&&n.push("\n"))})):n.push("\n\n")})),n.push("\n"),n.push("\n"),n.push("Customer Details:"),n.push("\n"),n.push("Address: "+e.shipping.address_1),n.push("\n"),n.push("City: "+e.shipping.city),n.push("\n"),n.push("Zip/Postal Code: "+e.shipping.postcode),n.push("\n"),n.push("Province/State: "+e.shipping.state),n.push("\n"),n.push("Name: "+e.shipping.first_name+" "+e.shipping.last_name),n.push("\n"),e.shipping_lines.map((function(e){return n.push("Shipping Method: "+e.method_title)})),n.push("\n"),n.push("\n"),n.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e.payment_method_title+"\n\n","Total Including (13% Tax): $"+(parseFloat(e.total)+parseFloat(e.total_tax)).toFixed(2)+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n"),n.push("\x1dV\0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:n,comSelected:r.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")}))}));else{var a,s=i[0],c=[];c.push("\x1b@","\x1ba1",r.name,"\n",r.address+"\n",r.website+"\n",r.phoneNumber+"\n",s.date_created+"\n","\n","Online Order\n","Transaction # "+s.number+"\n","\n","\n","\n","\x1ba0"),null==(a=s.line_items)||a.map((function(e){var t;(c.push("\n"),c.push("Name: "+e.name),c.push("\n"),c.push("Quantity: "+e.quantity),c.push("\n"),c.push("Price: $"+e.price),c.push("\n"),e.meta_data)?null==(t=e.meta_data)||t.map((function(t,n){0===n?(c.push(t.key+" : "+t.value),e.meta_data[n+1].key!==t.key&&c.push("\n")):n!==e.meta_data.length-1&&(e.meta_data[n-1].key===t.key?c.push(" , "+t.value):c.push(t.key+" : "+t.value),e.meta_data[n+1].key!==t.key&&c.push("\n"))})):c.push("\n\n")})),c.push("\n"),c.push("\n"),c.push("Customer Details:"),c.push("\n"),c.push("Address: "+s.shipping.address_1),c.push("\n"),c.push("City: "+s.shipping.city),c.push("\n"),c.push("Zip/Postal Code: "+s.shipping.postcode),c.push("\n"),c.push("Province/State: "+s.shipping.state),c.push("\n"),c.push("Name: "+s.shipping.first_name+" "+s.shipping.last_name),c.push("\n"),s.shipping_lines.map((function(e){return c.push("Shipping Method: "+e.method_title)})),c.push("\n"),c.push("\n"),c.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+s.payment_method_title+"\n\n","Total Including (13% Tax): $"+(parseFloat(s.total)+parseFloat(s.total_tax)).toFixed(2)+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n"),c.push("\x1dV\0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:c,comSelected:r.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")}))}}})).catch((function(e){alert("Error has errored with woocommerce api. Try refreshing or updating creditials")}))}),5e3);return function(){return clearInterval(e)}}}),[t,n]),Object(k.jsx)(a.default,{children:l?Object(k.jsx)(H,{isModalVisible:!0}):Object(k.jsx)(k.Fragment,{children:e?Object(k.jsx)(ge,{}):Object(k.jsx)(Ie,{})})})};t.default=function(){return Object(k.jsx)(ke,{})}},293:function(e,t,n){e.exports=n(410)}},[[293,1,2]]]);
//# sourceMappingURL=app.ad656f11.chunk.js.map