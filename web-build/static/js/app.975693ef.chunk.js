(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{231:function(e,t,n){e.exports=n.p+"static/media/pathblazer-logo.17137072.png"},282:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n(8),i=n.n(r),s=n(430),a=n(422),c=n(11),l=n(7),u=n(91),d=n(49),p=n(25),f=n(85),h=n(22),j=n(15),b=n.n(j),g=n(421),m=Object(g.default)(null),O=function(e){m.set(e)},y=Object(g.default)([]),x=function(e){y.set(e)},C=Object(g.default)({products:[],categories:[]}),w=function(e){C.set(e)},X=Object(g.default)([]),v=function(e){X.set(e)},P=Object(g.default)({apiUrl:null,ck:null,cs:null,useWoocommerce:!1}),S=function(e){P.set(e)},T=n(6),k=function(e){var t=e.product,n=e.productIndex,r=t,s=Object(o.useState)(r),a=i()(s,2),c=a[0],j=a[1],g=Object(o.useState)(r.price),m=i()(g,2),O=m[0],x=m[1],C=Object(o.useState)(!1),w=i()(C,2),X=w[0],v=w[1],P=function(e){var t,n=e.e,o=e.index,r=!1,i=c.options.filter((function(e){return e.label==n.selectedCaseKey}));if(i.length>0&&(t=i[0].optionsList.filter((function(e){return e.label==n.selectedCaseValue}))).length>0&&(r=!0===t[0].selected),null===n.selectedCaseKey||r)return Object(T.jsxs)(l.default,{style:{marginBottom:25},children:[Object(T.jsxs)(p.default,{style:{fontWeight:"700",fontSize:18},children:["Label: ",n.label]}),n.optionsList.map((function(e,t){return Object(T.jsxs)(f.default,{style:[1==c.options[o].optionsList[t].selected?{backgroundColor:"green"}:{borderColor:"black",borderWidth:2},{flexDirection:"row",justifyContent:"space-between",padding:10,margin:5}],onPress:function(){var e=structuredClone(c);0==!e.options[o].optionsList[t].selected?(e.options[o].optionsList[t].selected=!1,x((function(n){return parseFloat(n)-parseFloat(e.options[o].optionsList[t].priceIncrease)}))):(e.options[o].optionsList.filter((function(e){return!0===e.selected})).length<parseInt(n.numOfSelectable)||!n.numOfSelectable)&&(e.options[o].optionsList[t].selected=!0,x((function(n){return parseFloat(n)+parseFloat(e.options[o].optionsList[t].priceIncrease)}))),j(e)},children:[Object(T.jsxs)(p.default,{style:I.h2Black,children:["Name: ",e.label]}),Object(T.jsxs)(p.default,{style:I.h2Black,children:["Price: $",e.priceIncrease]})]},t)}))]},o);if(!1===r){var s=structuredClone(c),a=0;s.options[o].optionsList.forEach((function(e,t){!0===e.selected&&(a+=parseFloat(s.options[o].optionsList[t].priceIncrease),s.options[o].optionsList[t].selected=!1)})),a>0&&(x((function(e){return parseFloat(e)-a})),j(s))}};return Object(T.jsxs)(l.default,{children:[Object(T.jsx)(h.Button,{title:r.name,onPress:function(){return v(!0)},style:I.touchable}),Object(T.jsx)(u.default,{visible:X,children:Object(T.jsxs)(d.default,{style:I.modalContainer,children:[Object(T.jsxs)(p.default,{style:I.h2Black,children:["Name: ",r.name]}),Object(T.jsxs)(p.default,{style:[{marginBottom:25},I.h2Black],children:["Price: ",O]}),r.options.map((function(e,t){return Object(T.jsx)(P,{e:e,index:t},t)})),Object(T.jsx)(h.Button,{title:"Add To Cart",onPress:function(){var e,t=[];c.options.forEach((function(e){var n=e.label+": ",o=e.optionsList.filter((function(e){return!0===e.selected})).length;o>0&&(n=e.label+": ",e.optionsList.map((function(t,r){!0===t.selected&&(r<e.optionsList.length-1&&o>1?n+=t.label+" , ":n+=t.label)})),t.push(n))})),e={name:c.name,price:O.toFixed(2),description:r.description,options:t},y.set((function(t){return[].concat(b()(t),[e])})),v(!1),j(r),x(c.price)},style:I.btn}),Object(T.jsx)(h.Button,{title:"Close",onPress:function(){return v(!1)},style:I.btn})]})})]},n)},I=c.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:10},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{marginBottom:25},dropDown:{marginBottom:25},h2White:{fontSize:17,color:"white"},h2Black:{fontSize:20,color:"black"}}),B=function(e){var t=e.section,n=e.catalog;return Object(T.jsx)(l.default,{style:D.container,children:Object(T.jsx)((function(){if(n.products&&n.products.length>0)return t?n.products.filter((function(e){return e.catagory===t})).map((function(e,t){return Object(T.jsx)(k,{product:e,productIndex:t},t)})):n.products.filter((function(e){return e.catagory===n.categories[0]})).map((function(e,t){return Object(T.jsx)(k,{product:e,productIndex:t},t)}))}),{})})},D=c.default.create({container:{backgroundColor:"white",flex:2,height:"100%"},wrapper:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",paddingLeft:50,paddingRight:50,height:"100%",width:"100%",alignItems:"center"}}),L=n(38),z=n.n(L),W=n(196),N=function(e){var t=e.setDeliveryModal,n=e.setOngoingDelivery,o=e.setName,r=e.setPhone,i=e.setAddress,s=e.name,a=e.phone,c=e.address,u=e.deliveryChecked,f=e.setDeliveryChecked;return Object(T.jsxs)(d.default,{style:E.modalContainer,children:[Object(T.jsxs)(l.default,{style:E.sizeRow,children:[Object(T.jsx)(p.default,{children:"Enter Phone Order Details"}),Object(T.jsxs)(l.default,{children:[Object(T.jsx)(p.default,{children:"Delivery?"}),Object(T.jsx)(W.Switch,{value:u,onValueChange:function(){f(!u)}})]})]}),Object(T.jsx)(h.TextInput,{label:"Name",variant:"outlined",style:E.input,onChangeText:function(e){return o(e)},autoCorrect:!1,value:s}),Object(T.jsx)(h.TextInput,{label:"Phone #",variant:"outlined",style:E.input,onChangeText:function(e){return r(e)},autoCorrect:!1,value:a}),u&&Object(T.jsx)(h.TextInput,{label:"Address",variant:"outlined",style:E.input,onChangeText:function(e){return i(e)},autoCorrect:!1,value:c}),Object(T.jsx)(h.Button,{title:"Order",onPress:function(){t(!1),n(!0)},contentContainerStyle:E.btn,style:{margin:25}}),Object(T.jsx)(h.Button,{title:"Cancel",onPress:function(){t(!1),n(null)},contentContainerStyle:E.btn,style:{margin:25}})]})},E=c.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:25},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{height:40,justifyContent:"center",alignItems:"center"},input:{marginTop:25,marginBottom:25}}),F=function(e){var t=e.setCashModal,n=e.GetTrans,r=e.total,s=e.setChangeDue,a=Object(o.useState)(""),c=i()(a,2),u=c[0],f=c[1];return Object(T.jsxs)(d.default,{style:_.modalContainer,children:[Object(T.jsx)(l.default,{style:_.sizeRow,children:Object(T.jsx)(p.default,{children:"Cash Payment Details"})}),Object(T.jsxs)(p.default,{children:["Total: ",r]}),Object(T.jsx)(h.TextInput,{label:"Enter Cash Given",variant:"outlined",style:_.input,onChangeText:function(e){f(e),s((parseFloat(e)-r).toFixed(2))},autoCorrect:!1,value:u}),Object(T.jsxs)(p.default,{children:["Change Due:"," ",parseFloat(u)>r&&(parseFloat(u)-r).toFixed(2)]}),Object(T.jsx)(h.Button,{title:"Print",onPress:function(){n("Cash"),t(!1)},contentContainerStyle:_.btn,style:{margin:25}}),Object(T.jsx)(h.Button,{title:"Cancel",onPress:function(){return t(!1)},contentContainerStyle:_.btn,style:{margin:25}})]})},_=c.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:25},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{height:40,justifyContent:"center",alignItems:"center"},input:{marginTop:25,marginBottom:25}}),A=function(e){var t=e.setChangeModal,r=Object(o.useState)(""),s=i()(r,2),a=s[0],c=s[1],u=Object(o.useState)(""),f=i()(u,2),j=f[0],b=f[1];return Object(T.jsxs)(d.default,{style:R.modalContainer,children:[Object(T.jsx)(l.default,{style:R.sizeRow,children:Object(T.jsx)(p.default,{children:"Cash Payment Details"})}),Object(T.jsx)(h.TextInput,{label:"Enter Total",variant:"outlined",style:R.input,onChangeText:function(e){return c(e)},autoCorrect:!1,value:a}),Object(T.jsx)(h.TextInput,{label:"Enter Cash Given",variant:"outlined",style:R.input,onChangeText:function(e){return b(e)},autoCorrect:!1,value:j}),Object(T.jsxs)(p.default,{children:["Change Due: ",(parseFloat(j)-a).toFixed(2)]}),Object(T.jsx)(h.Button,{title:"Open Cash",onPress:function(){!function(){var e=n(390);e.websocket.connect().then((function(){var t=e.configs.create("jZebra");return e.print(t,["\x1b@","\x1ba1","Tomas Pizza","\n","#B4-200 Preston Pkwy, Cambridge\n","www.dreamcitypizza.com\n","(519) 650-0409\n","\n","\n","\n","\n","\x1ba0","Total: $"+a+"\n","Cash Given: $"+j+"\n","Change Due: $"+(parseFloat(j)-a).toFixed(2)+"\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0","\x10\x14\x01\0\x05"])})).then(e.websocket.disconnect).catch((function(e){console.error(e)}))}(),t(!1)},contentContainerStyle:R.btn,style:{margin:25}}),Object(T.jsx)(h.Button,{title:"Cancel",onPress:function(){return t(!1)},contentContainerStyle:R.btn,style:{margin:25}})]})},R=c.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:25},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{height:40,justifyContent:"center",alignItems:"center"},input:{marginTop:25,marginBottom:25}}),V=n(187);n(413),n(392);V.default.initializeApp({apiKey:"AIzaSyDmtlrkfZRbFy8P7D4BFXTIkzMDC_DP5n8",authDomain:"posmate-5fc0a.firebaseapp.com",projectId:"posmate-5fc0a",storageBucket:"posmate-5fc0a.appspot.com",messagingSenderId:"48463376409",appId:"1:48463376409:web:b427a4fbc3c210a5977a88"});var M=V.default.auth(),$=V.default.firestore(),U=function(e,t){var n;$.collection("users").doc(null==(n=M.currentUser)?void 0:n.uid).update({products:t,categories:e})},Y=function(e){var t;$.collection("users").doc(null==(t=M.currentUser)?void 0:t.uid).update({transList:e})},K=function(){var e=Object(o.useState)(!1),t=i()(e,2),n=t[0],r=t[1],s=Object(o.useState)(!1),a=i()(s,2),c=a[0],f=a[1],j=Object(o.useState)(!1),b=i()(j,2),g=b[0],m=b[1],O=Object(o.useState)(null),C=i()(O,2),w=C[0],P=C[1],S=Object(o.useState)(),k=i()(S,2),I=k[0],B=k[1],D=Object(o.useState)(),L=i()(D,2),W=L[0],E=L[1],_=Object(o.useState)(),R=i()(_,2),V=R[0],M=R[1],$=Object(o.useState)(!1),U=i()($,2),K=U[0],G=U[1],Z=Object(o.useState)(),q=i()(Z,2),Q=q[0],H=q[1],ee=y.use(),te=X.use(),ne=Object(o.useState)(0),oe=i()(ne,2),re=oe[0],ie=oe[1];Object(o.useEffect)((function(){if(ee.length>0){for(var e=0,t=0;t<ee.length;t++)e+=parseFloat(ee[t].price);ie(e)}else ie(0)}),[ee]);var se=function(){var e=z()((function*(e){var t=structuredClone(te);t.push(e),Y(t),v(t)}));return function(t){return e.apply(this,arguments)}}(),ae=function(e){var t=te.length+1;if("deliveryOrder"===e){var n=5.5,o=new Date,i=["\x1b@","\x1ba1","Tomas Pizza","\n","#B4-200 Preston Pkwy, Cambridge\n","www.dreamcitypizza.com\n","(519) 650-0409\n",o.toLocaleDateString()+" "+o.toLocaleTimeString()+"\n","\n","Transaction # "+t+"\n","\n","Delivery Order: $5.50 Fee\n","\n","\n","\n","\x1ba0"];ee.map((function(e){n+=parseFloat(e.price),i.push("Name: "+e.name),i.push("\n"),i.push("Price: $"+e.price),e.options&&(i.push("\n"),e.options.map((function(e){i.push(e),i.push("\n")}))),i.push("\n\n")})),n=(n*=1.13).toFixed(2),i.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Customer Name: "+I,"\n\n","Customer Phone #:  "+W,"\n\n","Customer Address #:  "+V,"\n\n","Total Including (13% Tax): "+n+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(e){return e.json()})).then((function(e){console.log(e)})),se({date:o,transNum:t,total:n,method:"deliveryOrder",cart:ee}),x([]),r(!1)}if("pickupOrder"===e){var s=0,a=new Date,c=["\x1b@","\x1ba1","Tomas Pizza","\n","#B4-200 Preston Pkwy, Cambridge\n","www.dreamcitypizza.com\n","(519) 650-0409\n",a.toLocaleDateString()+" "+a.toLocaleTimeString()+"\n","\n","Transaction # "+t+"\n","\n","Pickup Order\n","\n","\n","\n","\x1ba0"];ee.map((function(e){s+=parseFloat(e.price),c.push("Name: "+e.name),c.push("\n"),c.push("Price: $"+e.price),e.options&&(c.push("\n"),e.options.map((function(e){c.push(e),c.push("\n")}))),c.push("\n\n")})),s=(s*=1.13).toFixed(2),c.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Customer Name: "+I,"\n\n","Customer Phone #:  "+W,"\n\n","Total Including (13% Tax): "+s+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){console.log(e)})),se({date:a,transNum:t,total:s,method:"pickupOrder",cart:ee}),x([]),r(!1)}var l=0,u=new Date,d=["\x1b@","\x1ba1","Tomas Pizza","\n","#B4-200 Preston Pkwy, Cambridge\n","www.dreamcitypizza.com\n","(519) 650-0409\n",u.toLocaleDateString()+" "+u.toLocaleTimeString()+"\n","\n","Transaction # "+t+"\n","\n","\n","\n","\x1ba0"];ee.map((function(e){l+=parseFloat(e.price),d.push("Name: "+e.name),d.push("\n"),d.push("\n"),d.push("Price: $"+e.price),e.options&&(d.push("\n"),e.options.map((function(e){d.push(e),d.push("\n")}))),d.push("\n\n")})),l=(l*=1.13).toFixed(2),"Cash"===e?d.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e+"\n\n","Total Including (13% Tax): $"+l+"\n\n","Change Due: $"+Q+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0","\x10\x14\x01\0\x05"):d.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e+"\n\n","Total Including (13% Tax): $"+l+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}).then((function(e){return e.json()})).then((function(e){console.log(e)})),se({date:u,transNum:t,total:l,method:e,cart:ee}),x([])};return Object(T.jsx)(l.default,{style:J.container,children:Object(T.jsxs)(d.default,{style:J.container,contentContainerStyle:J.contentContainer,children:[Object(T.jsx)(l.default,{children:ee.map((function(e,t){return Object(T.jsxs)(l.default,{style:{marginBottom:20},children:[Object(T.jsxs)(p.default,{children:["Name: ",e.name]}),Object(T.jsxs)(p.default,{children:["Price: ",e.price]}),e.description&&Object(T.jsxs)(p.default,{children:["Description: ",e.description]}),e.options&&e.options.map((function(e){return Object(T.jsx)(p.default,{children:e})})),Object(T.jsx)(p.default,{style:{color:"blue"},onPress:function(){var e=structuredClone(ee);e.splice(t,1),x(e)},children:"Remove"})]})}))}),Object(T.jsxs)(l.default,{children:[Object(T.jsxs)(p.default,{children:["Sub: ",re.toFixed(2)]}),Object(T.jsxs)(p.default,{children:["Total: ",(1.13*re).toFixed(2)]}),Object(T.jsx)(h.Button,{title:"Cash",onPress:function(){return f(!0)},disabled:ee.length<1||w,style:{marginBottom:20}}),Object(T.jsx)(h.Button,{title:"Card",onPress:function(){return ae("Card")},disabled:ee.length<1||w,style:{marginBottom:20}}),Object(T.jsx)((function(){return null===w?Object(T.jsx)(h.Button,{title:"Phone Order",onPress:function(){return r(!0)},disabled:ee.length>0,style:{marginBottom:20}}):w&&ee.length>0?Object(T.jsx)(h.Button,{title:"Complete",onPress:function(){ae(K?"deliveryOrder":"pickupOrder"),P(null),B(null),E(null),M(null)},style:{marginBottom:20}}):Object(T.jsx)(h.Button,{title:"Cancel",onPress:function(){return P(null)},style:{marginBottom:20}})}),{}),Object(T.jsx)(h.Button,{title:"Change",onPress:function(){return m(!0)},disabled:ee.length>0||w})]}),Object(T.jsx)(u.default,{visible:n,children:Object(T.jsx)(N,{setDeliveryModal:r,setOngoingDelivery:P,setName:B,setPhone:E,setAddress:M,name:I,phone:W,address:V,deliveryChecked:K,setDeliveryChecked:G})}),Object(T.jsx)(u.default,{visible:c,children:Object(T.jsx)(F,{setCashModal:f,GetTrans:function(){return ae("Cash")},total:(1.13*re).toFixed(2),setChangeDue:H})}),Object(T.jsx)(u.default,{visible:g,children:Object(T.jsx)(A,{setChangeModal:m})})]})})},J=c.default.create({container:{backgroundColor:"lightgrey",flex:1,height:"100%"},contentContainer:{backgroundColor:"lightgrey",flex:1,height:"100%",justifyContent:"space-between",padding:20}}),G=function(){X.use();var e=Object(o.useState)([]),t=i()(e,2),n=(t[0],t[1],new Date,Object(o.useState)({todaysReceiptValue:0,todaysReceipts:0})),r=i()(n,2),s=r[0];r[1];return Object(T.jsxs)(l.default,{style:Z.container,children:[Object(T.jsx)(h.Text,{style:{textAlign:"center",margin:25},children:"List Of Transactions"}),Object(T.jsxs)(l.default,{style:{flexDirection:"row",width:"100%",alignItems:"center",justifyContent:"center"},children:[Object(T.jsxs)(h.Text,{style:{textAlign:"center",margin:25},children:["Todays Total Price: ",s.todaysReceiptValue]}),Object(T.jsx)(h.Button,{style:{height:40,alignItems:"center",justifyContent:"center"},title:"Print Todays Receipts"}),Object(T.jsxs)(h.Text,{style:{textAlign:"center",margin:25},children:["Todays Total Receipts: ",s.todaysReceipts]})]}),Object(T.jsx)(l.default,{style:Z.contentContainer})]})},Z=c.default.create({container:{backgroundColor:"white",flex:1,height:"100%"},contentContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",paddingLeft:50,paddingRight:50,paddingBottom:50,height:"100%",width:"100%",alignItems:"center"}}),q=function(e){var t=e.isModalVisible;return Object(T.jsx)(u.default,{visible:t,transparent:!0,children:Object(T.jsxs)(l.default,{style:{alignItems:"center",justifyContent:"center",flex:1,backgroundColor:"rgba(52, 52, 52, 0.8)"},children:[Object(T.jsx)("style",{children:".loader {\n  border: 16px solid #f3f3f3;\n  border-radius: 50%;\n  border-top: 16px solid #3498db;\n  width: 120px;\n  height: 120px;\n  -webkit-animation: spin 2s linear infinite; /* Safari */\n  animation: spin 2s linear infinite;\n}\n\n/* Safari */\n@-webkit-keyframes spin {\n  0% { -webkit-transform: rotate(0deg); }\n  100% { -webkit-transform: rotate(360deg); }\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}"}),Object(T.jsx)("div",{className:"loader"})]})})},Q=(c.default.create({}),function(){var e=C.use(),t=Object(o.useState)(),n=i()(t,2),r=n[0],s=n[1],a=Object(o.useState)(!1),c=i()(a,2),u=c[0],j=c[1];return Object(T.jsxs)(d.default,{style:{padding:25},children:[Object(T.jsx)(p.default,{style:{fontSize:17,fontWeight:"600"},children:"Current categories"}),e.categories.map((function(t,n){return Object(T.jsxs)(l.default,{style:{flexDirection:"row",justifyContent:"space-between",padding:15,margin:10,backgroundColor:"lightgrey"},children:[Object(T.jsx)(p.default,{style:{fontSize:17},children:t}),Object(T.jsx)(f.default,{onPress:function(){return function(t){var n=structuredClone(e);n.categories.splice(t,1),U(n.categories,n.products),j(!0)}(n)},style:{justifyContent:"center",alignItems:"center"},children:Object(T.jsx)(p.default,{style:{color:"red",fontWeight:"600"},children:"Remove X"})})]})})),Object(T.jsx)(h.TextInput,{placeholder:"Enter New Category",onChangeText:function(e){return s(e)},style:{margin:10}}),Object(T.jsx)(h.Button,{title:"Add New Category",onPress:function(){U([].concat(b()(e.categories),[r]),e.products),j(!0)},style:{margin:10}}),Object(T.jsx)(q,{isModalVisible:u})]})}),H=(c.default.create({}),n(9)),ee=n.n(H),te=n(129);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var oe=function(e){var t=e.label,n=e.options,r=e.setValue,s=e.value,a=e.style,c=Object(o.useState)(!1),u=i()(c,2),d=u[0],p=u[1];return Object(T.jsxs)(l.default,{style:[re.container,a],children:[Object(T.jsx)(h.ListItem,{title:s||t,trailing:function(e){return Object(T.jsx)(te.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){ee()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:d?"chevron-up":"chevron-down"},e))},onPress:function(){return p((function(e){return!e}))}}),d&&Object(T.jsx)(T.Fragment,{children:n.map((function(e){return Object(T.jsx)(h.ListItem,{title:e,onPress:function(){r(e),p(!1)}})}))})]})},re=c.default.create({container:{backgroundColor:"white"}});function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){ee()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=function(e){var t=e.setProductModal,n=e.setisModalVisible,r=e.existingProduct,s=e.existingProductIndex,a=C.use(),c=Object(o.useState)(r||{name:null,price:null,catagory:null,options:[],description:null}),u=i()(c,2),j=u[0],g=u[1],m=Object(o.useState)({index:null,inputName:null,innerList:null}),O=i()(m,2),y=O[0],x=O[1];function w(e){if(e)U(b()(a.categories),[].concat(b()(a.products),[e]));else if(r){var t=structuredClone(a.products);t[s]=j,U(b()(a.categories),t)}else U(b()(a.categories),[].concat(b()(a.products),[j]));n(!0)}Object(o.useEffect)((function(){var e=sessionStorage.getItem("scrollPosition");e&&(window.scrollTo(0,parseInt(e)),sessionStorage.removeItem("scrollPosition"))}),[j]);return Object(T.jsxs)(d.default,{contentContainerStyle:{width:"93%",alignSelf:"center",marginTop:25},children:[Object(T.jsxs)(l.default,{style:{flexDirection:"row",padding:20,justifyContent:"space-between",alignItems:"center"},children:[Object(T.jsx)(f.default,{onPress:function(){return t(!1)},children:Object(T.jsx)(p.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"X"})}),Object(T.jsx)(f.default,{onPress:function(){var e=structuredClone(j);e.name=e.name+" Copy",w(e)},children:Object(T.jsx)(p.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"Copy"})}),Object(T.jsx)(p.default,{style:{marginBottom:25},children:"AddProduct"})]}),Object(T.jsx)(h.TextInput,{placeholder:"Enter Product Name",onChangeText:function(e){g((function(t){return se(se({},t),{},{name:e})}))},value:j.name,style:{marginBottom:25}}),Object(T.jsx)(h.TextInput,{placeholder:"Enter any other items that come with this",onChangeText:function(e){g((function(t){return se(se({},t),{},{description:e})}))},style:{marginBottom:25},value:j.description}),Object(T.jsx)(h.TextInput,{placeholder:"Enter Product Price",onChangeText:function(e){g((function(t){return se(se({},t),{},{price:e})}))},style:{marginBottom:25},value:j.price}),Object(T.jsx)(oe,{label:"Choose catagory",options:a.categories,setValue:function(e){g((function(t){return se(se({},t),{},{catagory:e})}))},value:j.catagory,style:{marginBottom:25}}),Object(T.jsx)((function(){return Object(T.jsxs)(l.default,{children:[j.options.map((function(e,t){var n=Object(o.useState)([]),r=i()(n,2),s=r[0],a=r[1],c=Object(o.useState)([]),u=i()(c,2),d=u[0],m=u[1];return Object(o.useEffect)((function(){if(j.options.length>1){var t=[];j.options.forEach((function(n){n.label!==e.label&&t.push(n.label)})),m(t)}}),[]),Object(o.useEffect)((function(){if(null!==e.selectedCaseKey){var t=j.options.filter((function(t){return t.label==e.selectedCaseKey})),n=[];t[0].optionsList.forEach((function(e){n.push(e.label)})),a(n)}}),[d]),Object(T.jsxs)(l.default,{style:{padding:25,margin:15,backgroundColor:"lightgrey"},children:[Object(T.jsx)(f.default,{onPress:function(){var t=structuredClone(j);t.options.push(se(se({},e),{},{label:e.label+" Copy"})),g((function(e){return se(se({},e),{},{options:t.options})}))},children:Object(T.jsx)(p.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"Copy"})}),Object(T.jsx)(f.default,{onPress:function(){var e=structuredClone(j);e.options.splice(t,1),g((function(t){return se(se({},t),{},{options:e.options})}))},children:Object(T.jsx)(p.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"X"})}),Object(T.jsx)(h.TextInput,{placeholder:"Enter Select List Label",onChangeText:function(e){var n=b()(j.options);n[t].label=e,x({index:t,inputName:"label",innerList:!1}),sessionStorage.setItem("scrollPosition",window.pageYOffset),g((function(e){return se(se({},e),{},{options:n})}))},value:e.label,autoFocus:y.index===t&&!1===y.innerList&&"label"===y.inputName,style:{marginBottom:25}}),Object(T.jsx)(h.TextInput,{placeholder:"Enter Number Of Selectable; If There Is",onChangeText:function(e){var n=b()(j.options);n[t].numOfSelectable=e,x({index:t,inputName:"numOfSelectable",innerList:!1}),sessionStorage.setItem("scrollPosition",window.pageYOffset),g((function(e){return se(se({},e),{},{options:n})}))},value:e.numOfSelectable,autoFocus:y.index===t&&!1===y.innerList&&"numOfSelectable"===y.inputName,style:{marginBottom:25}}),e.optionsList.map((function(e,n){return Object(T.jsxs)(l.default,{style:{flexDirection:"row",marginBottom:25,alignItems:"center"},children:[Object(T.jsx)(h.TextInput,{placeholder:"Enter Option Label",onChangeText:function(e){var o=structuredClone(j);o.options[t].optionsList[n].label=e,x({index:n,inputName:"label",innerList:!0}),sessionStorage.setItem("scrollPosition",window.pageYOffset),g(o)},value:e.label,autoFocus:y.index===n&&!0===y.innerList&&"label"===y.inputName}),Object(T.jsx)(h.TextInput,{placeholder:"Enter price increase",onChangeText:function(e){var o=structuredClone(j);o.options[t].optionsList[n].priceIncrease=e,x({index:n,inputName:"priceIncrease",innerList:!0}),sessionStorage.setItem("scrollPosition",window.pageYOffset),g(o)},value:e.priceIncrease,autoFocus:y.index===n&&!0===y.innerList&&"priceIncrease"===y.inputName,style:{marginLeft:20,marginRight:20}}),Object(T.jsx)(f.default,{onPress:function(){var e=structuredClone(j);e.options[t].optionsList.splice(n,1),g((function(t){return se(se({},t),{},{options:e.options})})),g((function(t){return se(se({},t),{},{options:e.options})}))},children:Object(T.jsx)(p.default,{style:{fontWeight:"700",color:"red"},children:"X"})})]})})),Object(T.jsx)(h.Button,{title:"Add Option Choice",onPress:function(){var e=b()(j.options);e[t].optionsList.push({label:null,priceIncrease:null}),g((function(t){return se(se({},t),{},{options:e})})),x({index:e[t].optionsList.length-1,inputName:"label",innerList:!0}),sessionStorage.setItem("scrollPosition",window.pageYOffset)},style:{marginBottom:25}}),d.length>1&&Object(T.jsxs)(l.default,{style:{flexDirection:"row",justifyContent:"space-between",marginBottom:25},children:[Object(T.jsx)(oe,{label:"Show if...",options:d,setValue:function(e){var n=b()(j.options);n[t].selectedCaseKey=e,g((function(e){return se(se({},e),{},{options:n})})),sessionStorage.setItem("scrollPosition",window.pageYOffset),x({index:null,inputName:null,innerList:null})},value:e.selectedCaseKey,style:{marginBottom:25}}),Object(T.jsx)(p.default,{children:'"="'}),Object(T.jsx)(oe,{label:"Show if...",options:s,setValue:function(e){var n=b()(j.options);n[t].selectedCaseValue=e,g((function(e){return se(se({},e),{},{options:n})})),sessionStorage.setItem("scrollPosition",window.pageYOffset),x({index:null,inputName:null,innerList:null})},value:e.selectedCaseValue,style:{marginBottom:25}})]})]})})),Object(T.jsx)(h.Button,{title:"Add Product Option",onPress:function(){sessionStorage.setItem("scrollPosition",window.pageYOffset),g((function(e){return se(se({},e),{},{options:[].concat(b()(e.options),[{label:null,optionsList:[],selectedCaseKey:null,selectedCaseValue:null,numOfSelectable:null}])})})),x({index:j.options.length,inputName:"label",innerList:!1})},style:{marginBottom:25}})]})}),{}),Object(T.jsx)(h.Button,{title:"Add/Save Product",onPress:function(){return w()},style:{marginBottom:25,marginTop:25,backgroundColor:"lightgreen"}})]})},ce=(c.default.create({}),function(){var e=C.use(),t=Object(o.useState)(!1),n=i()(t,2),r=n[0],s=n[1],a=Object(o.useState)(!1),c=i()(a,2),j=c[0],b=c[1],g=Object(o.useState)(!1),m=i()(g,2),O=m[0],y=m[1];return Object(T.jsxs)(d.default,{style:{padding:25},children:[Object(T.jsx)(p.default,{style:{fontSize:17,fontWeight:"600"},children:"Current Products"}),e.categories.length>0?e.products.map((function(t,n){return Object(T.jsxs)(l.default,{style:{flexDirection:"row",justifyContent:"space-between",padding:15,margin:10,backgroundColor:"lightgrey"},children:[Object(T.jsxs)(p.default,{style:{fontSize:17},children:["Product: ",t.name]}),Object(T.jsxs)(l.default,{style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"10%"},children:[Object(T.jsx)(h.Button,{title:"Edit",onPress:function(){return b(!0)},style:{margin:10}}),Object(T.jsx)(f.default,{onPress:function(){return function(t){var n=structuredClone(e);n.products.splice(t,1),U(n.categories,n.products),y(!0)}(n)},style:{justifyContent:"center",alignItems:"center",borderRadius:3,backgroundColor:"red",padding:10,margin:10},children:Object(T.jsx)(p.default,{style:{color:"white",fontWeight:"600",fontSize:18},children:"X"})})]}),Object(T.jsx)(u.default,{visible:j,children:Object(T.jsx)(ae,{setProductModal:b,setisModalVisible:y,existingProduct:t,existingProductIndex:n})})]})})):Object(T.jsx)(p.default,{style:{marginTop:50,marginBottom:50},children:"You must add a category before you can add a product..."}),e.products.length<1&&e.categories.length>0&&Object(T.jsx)(p.default,{style:{marginTop:50,marginBottom:50},children:"You have no products..."}),Object(T.jsx)(h.Button,{title:"Add New Product",onPress:function(){return s(!0)},style:{margin:10},disabled:e.categories.length<1}),Object(T.jsx)(u.default,{visible:r,children:Object(T.jsx)(ae,{setProductModal:s,setisModalVisible:y})}),Object(T.jsx)(q,{isModalVisible:O})]})}),le=(c.default.create({}),function(){var e=P.use(),t=Object(o.useState)(e.apiUrl),n=i()(t,2),r=n[0],s=n[1],a=Object(o.useState)(e.ck),c=i()(a,2),l=c[0],u=c[1],f=Object(o.useState)(e.cs),j=i()(f,2),b=j[0],g=j[1],m=Object(o.useState)(e.useWoocommerce),O=i()(m,2),y=O[0],x=O[1];return Object(T.jsxs)(d.default,{style:{padding:25},children:[Object(T.jsx)(p.default,{style:{fontSize:17,fontWeight:"600"},children:"Current categories"}),Object(T.jsx)(h.TextInput,{placeholder:"Enter Woocommerce 'API Url'",onChangeText:function(e){return s(e)},style:{margin:10},value:r}),Object(T.jsx)(h.TextInput,{placeholder:"Enter Woocommerce 'CK'",onChangeText:function(e){return u(e)},style:{margin:10},value:l}),Object(T.jsx)(h.TextInput,{placeholder:"Enter Woocommerce 'CS'",onChangeText:function(e){return g(e)},style:{margin:10},value:b}),Object(T.jsx)(h.Switch,{value:y,onValueChange:function(e){return x(e)}}),Object(T.jsx)(h.Button,{title:"Save",onPress:function(){null!==r&&null!==l&&null!==b&&(S({apiUrl:r,ck:l,cs:b,useWoocommerce:y}),function(e){var t;$.collection("users").doc(null==(t=M.currentUser)?void 0:t.uid).update({wooCredentials:e})}({apiUrl:r,ck:l,cs:b,useWoocommerce:y}))},style:{margin:10}})]})}),ue=function(){var e=C.use(),t=Object(o.useState)(),n=i()(t,2),r=n[0],s=n[1],a=Object(o.useState)(!1),c=i()(a,2),u=c[0],d=c[1];Object(o.useEffect)((function(){var e=localStorage.getItem("localScreen");s(e),"add-category"!==e&&"add-product"!==e&&"edit-woocommerce"!==e||d(!0)}),[]);return Object(T.jsxs)(l.default,{style:de.container,children:[Object(T.jsx)((function(){var t;return!0===u?Object(T.jsxs)(l.default,{style:{width:"100%",height:120,flexDirection:"row",alignItems:"center",justifyContent:"space-evenly",backgroundColor:"red"},children:[Object(T.jsx)(h.Button,{titleStyle:"add-category"===r?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:"add-category"===r?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){s("add-category"),localStorage.setItem("localScreen","add-category")},title:"Add Category"}),Object(T.jsx)(h.Button,{titleStyle:"add-product"===r?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:"add-product"===r?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){s("add-product"),localStorage.setItem("localScreen","add-product")},title:"Add Product"}),Object(T.jsx)(h.Button,{titleStyle:"edit-woocommerce"===r?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:"edit-woocommerce"===r?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){s("edit-woocommerce"),localStorage.setItem("localScreen","edit-woocommerce")},title:"Woocommerce"}),Object(T.jsx)(h.Button,{titleStyle:{color:"black",fontWeight:"700"},style:{backgroundColor:"white"},onPress:function(){localStorage.removeItem("localScreen"),M.signOut()},title:"Logout"}),Object(T.jsx)(h.Button,{titleStyle:{color:"black",fontWeight:"700"},style:{backgroundColor:"white"},onPress:function(){d(!1),s(),localStorage.removeItem("localScreen")},title:"X"}),Object(T.jsx)(h.Button,{titleStyle:{color:"black",fontWeight:"700"},style:{backgroundColor:"white"},onPress:function(){fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(["\x1b@","\x1ba1","Tomas Pizza","\n","#B4-200 Preston Pkwy, Cambridge\n","www.dreamcitypizza.com\n","(519) 650-0409\n","Transaction # 1\n","\n","Pickup Order\n","\n","\n","\n","\x1ba0"])}).then((function(e){return e.json()})).then((function(e){console.log(e)}))},title:"Test"})]}):Object(T.jsxs)(l.default,{style:{width:"100%",height:120,flexDirection:"row",alignItems:"center",justifyContent:"space-evenly",backgroundColor:"red"},children:[null==(t=e.categories)?void 0:t.map((function(e,t){return r||0!==t?Object(T.jsx)(h.Button,{titleStyle:r===e?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:r===e?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){s(e),localStorage.setItem("localScreen",e)},title:e},t):Object(T.jsx)(h.Button,{titleStyle:{color:"white",fontWeight:"700"},style:{backgroundColor:"blue"},onPress:function(){s(e),localStorage.setItem("localScreen",e)},title:e},t)})),Object(T.jsx)(h.Button,{titleStyle:"transList"===r?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:"transList"===r?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){s("transList"),localStorage.setItem("localScreen","transList")},title:"Transaction"}),Object(T.jsx)(h.Button,{titleStyle:{color:"black",fontWeight:"700"},style:{backgroundColor:"white"},onPress:function(){return d(!0)},title:"Settings"})]})}),{}),Object(T.jsx)((function(){return"add-category"===r?Object(T.jsx)(Q,{}):"add-product"===r?Object(T.jsx)(ce,{}):"edit-woocommerce"===r?Object(T.jsx)(le,{}):"transList"===r?Object(T.jsx)(l.default,{style:{height:"85%"},children:Object(T.jsx)(G,{})}):Object(T.jsxs)(l.default,{style:{flexDirection:"row",height:"85%"},children:[Object(T.jsx)(B,{catalog:e,section:r}),Object(T.jsx)(K,{})]})}),{})]})},de=c.default.create({container:{backgroundColor:"white",flex:1}}),pe=Object(a.default)();function fe(){return Object(T.jsx)(pe.Navigator,{screenOptions:{headerShown:!1},children:Object(T.jsx)(pe.Screen,{name:"Home",component:ue})})}var he=function(){return Object(T.jsx)(fe,{})},je=n(74),be=n(429);function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){ee()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oe=function(e){var t=e.navigation,r=Object(o.useState)(),s=i()(r,2),a=s[0],c=s[1],u=Object(o.useState)(),d=i()(u,2),p=d[0],f=d[1],j=Object(o.useState)(!1),b=i()(j,2),g=b[0],m=b[1];return Object(T.jsx)(l.default,{style:ye.container,children:Object(T.jsxs)(be.SafeAreaView,{style:ye.safeareaContainer,children:[Object(T.jsx)(je.default,{source:n(231),style:ye.logo}),Object(T.jsxs)(l.default,{style:ye.innerContainer,children:[Object(T.jsx)(h.TextInput,{label:"Email",variant:"outlined",style:{width:"100%",marginBottom:10},value:a,onChangeText:function(e){return c(e)},autoCorrect:!1,textContentType:"emailAddress"}),Object(T.jsx)(h.TextInput,{label:"Password",variant:"outlined",trailing:function(e){return Object(T.jsx)(h.IconButton,me({onPress:function(){return m((function(e){return!e}))},icon:function(e){return Object(T.jsx)(te.default,me({name:"eye"},e))}},e))},value:p,onChangeText:function(e){return f(e)},secureTextEntry:!g,style:{width:"100%"}})]}),Object(T.jsxs)(l.default,{style:ye.innerContainer,children:[Object(T.jsx)(h.Button,{title:"Login",uppercase:!1,contentContainerStyle:{width:"100%",height:60,backgroundColor:"black",alignItems:"center",justifyContent:"center"},style:{marginBottom:10},onPress:function(){a&&p&&function(e,t){M.signInWithEmailAndPassword(e,t)}(a,p)}}),Object(T.jsx)(h.Text,{variant:"subtitle1",style:{marginBottom:10},children:"Or"}),Object(T.jsx)(h.Button,{title:"Register",uppercase:!1,contentContainerStyle:{width:"100%",height:60,backgroundColor:"grey",alignItems:"center",justifyContent:"center"},onPress:function(){return t.navigate("Register")}})]})]})})},ye=c.default.create({container:{flex:1,height:"100%",width:"100%",backgroundColor:"white",justifyContent:"center",alignItems:"center"},safeareaContainer:{flex:1,height:"60%",width:"80%",justifyContent:"space-evenly",alignItems:"center"},logo:{width:250,resizeMode:"contain"},innerContainer:{width:"100%",justifyContent:"center",alignItems:"center"}});function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){ee()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we=function(e){var t=e.navigation,r=Object(o.useState)(),s=i()(r,2),a=s[0],c=s[1],u=Object(o.useState)(),d=i()(u,2),p=d[0],f=d[1],j=Object(o.useState)(!1),b=i()(j,2),g=b[0],m=b[1];return Object(T.jsx)(l.default,{style:Xe.container,children:Object(T.jsxs)(be.SafeAreaView,{style:Xe.safeareaContainer,children:[Object(T.jsx)(je.default,{source:n(231),style:Xe.logo}),Object(T.jsxs)(l.default,{style:Xe.innerContainer,children:[Object(T.jsx)(h.TextInput,{label:"Email",variant:"outlined",style:{width:"100%",marginBottom:10},value:a,onChangeText:function(e){return c(e)},autoCorrect:!1,textContentType:"emailAddress"}),Object(T.jsx)(h.TextInput,{label:"Password",variant:"outlined",trailing:function(e){return Object(T.jsx)(h.IconButton,Ce({onPress:function(){return m((function(e){return!e}))},icon:function(e){return Object(T.jsx)(te.default,Ce({name:"eye"},e))}},e))},value:p,onChangeText:function(e){return f(e)},secureTextEntry:!g,style:{width:"100%"}})]}),Object(T.jsxs)(l.default,{style:Xe.innerContainer,children:[Object(T.jsx)(h.Button,{title:"Register",uppercase:!1,contentContainerStyle:{width:"100%",height:60,backgroundColor:"black",alignItems:"center",justifyContent:"center"},style:{marginBottom:10},onPress:function(){a&&p&&function(e,t){M.createUserWithEmailAndPassword(e,t).then((function(e){e.user&&$.collection("users").doc(e.user.uid).set({paid:!0,products:[],categories:[],wooCredentials:{ck:null,cs:null,useWoocommerce:!1}})})).catch((function(e){return console.log(e)}))}(a,p)}}),Object(T.jsxs)(l.default,{style:{flexDirection:"row"},children:[Object(T.jsx)(h.Text,{variant:"subtitle1",style:{marginBottom:10},children:"Or"}),Object(T.jsx)(h.Text,{variant:"subtitle1",style:{marginBottom:10,marginLeft:5,color:"blue"},onPress:function(){return t.goBack()},children:"Go Back"})]})]})]})})},Xe=c.default.create({container:{flex:1,height:"100%",width:"100%",backgroundColor:"white",justifyContent:"center",alignItems:"center"},safeareaContainer:{flex:1,height:"60%",width:"80%",justifyContent:"space-evenly",alignItems:"center"},logo:{width:250,resizeMode:"contain"},innerContainer:{width:"100%",justifyContent:"center",alignItems:"center"}}),ve=Object(a.default)();function Pe(){return Object(T.jsxs)(ve.Navigator,{screenOptions:{headerShown:!1},children:[Object(T.jsx)(ve.Screen,{name:"Login",component:Oe}),Object(T.jsx)(ve.Screen,{name:"Register",component:we})]})}var Se=function(){var e=m.use(),t=P.use(),n=X.use(),r=Object(o.useState)(!0),a=i()(r,2),c=a[0],l=a[1];return Object(o.useEffect)((function(){M.onAuthStateChanged((function(e){e?(O(e),$.collection("users").doc(e.uid).get().then((function(e){w({products:e.data().products,categories:e.data().categories}),e.data().transList&&v(e.data().transList),e.data().wooCredentials&&S(e.data().wooCredentials)})),setTimeout((function(){l(!1)}),1)):(O(null),w({products:null,categories:null}),setTimeout((function(){l(!1)}),1))}))}),[]),Object(o.useEffect)((function(){if(e){var t=$.collection("users").doc(e.uid).onSnapshot((function(e){l(!0),w({products:e.data().products,categories:e.data().categories}),v(e.data().transList),setTimeout((function(){l(!1)}),1)}));return function(){return t()}}}),[e]),Object(o.useEffect)((function(){if(!0===t.useWoocommerce){var e=setInterval((function(){fetch(t.apiUrl,{headers:{Authorization:"Basic "+btoa(t.ck+":"+t.cs)}}).then((function(e){return e.json()})).then((function(e){var t=e,o=[];if(n.concat(t).reduce((function(e,t){return e.includes(t.transaction_id)||(e.push(t.transaction_id),o.push(t)),e}),[]),o.length>n.length){var r=structuredClone(o).splice(n.length,o.length-n.length);if(Y(o),r.length>1)r.forEach((function(e){var t,n=[];n.push("\x1b@","\x1ba1","Tomas Pizza","\n","#B4-200 Preston Pkwy, Cambridge\n","www.dreamcitypizza.com\n","(519) 650-0409\n",e.date_created+"\n","\n","Online Order\n","Transaction # "+e.number+"\n","\n","\n","\n","\x1ba0"),null==(t=e.line_items)||t.map((function(e){var t;(n.push("\n"),n.push("Name: "+e.name),n.push("\n"),n.push("Quantity: "+e.quantity),n.push("\n"),n.push("Price: $"+e.price),n.push("\n"),e.meta_data)?null==(t=e.meta_data)||t.map((function(t,o){0===o?(n.push(t.key+" : "+t.value),e.meta_data[o+1].key!==t.key&&n.push("\n")):o!==e.meta_data.length-1&&(e.meta_data[o-1].key===t.key?n.push(" , "+t.value):n.push(t.key+" : "+t.value),e.meta_data[o+1].key!==t.key&&n.push("\n"))})):n.push("\n\n")})),n.push("Shipping:"),n.push("Address: "+e.shipping.address_1),n.push("City: "+e.shipping.city),n.push("Zip/Postal Code: "+e.shipping.postcode),n.push("Province/State: "+e.shipping.state),n.push("Name: "+e.shipping.first_name+" "+e.shipping.last_name),n.push("\n"),e.shipping_lines.map((function(e){return n.push("Shipping Method: "+e.method_title)})),n.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e.payment_method_title+"\n\n","Total Including (13% Tax): $"+(parseFloat(e.total)+parseFloat(e.total_tax)).toFixed(2)+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n"),n.push("\x1dV\0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}));else{var i,s=r[0],a=[];a.push("\x1b@","\x1ba1","Tomas Pizza","\n","#B4-200 Preston Pkwy, Cambridge\n","www.dreamcitypizza.com\n","(519) 650-0409\n",s.date_created+"\n","\n","Online Order\n","Transaction # "+s.number+"\n","\n","\n","\n","\x1ba0"),null==(i=s.line_items)||i.map((function(e){var t;(a.push("\n"),a.push("Name: "+e.name),a.push("\n"),a.push("Quantity: "+e.quantity),a.push("\n"),a.push("Price: $"+e.price),a.push("\n"),e.meta_data)?null==(t=e.meta_data)||t.map((function(t,n){0===n?(a.push(t.key+" : "+t.value),e.meta_data[n+1].key!==t.key&&a.push("\n")):n!==e.meta_data.length-1&&(e.meta_data[n-1].key===t.key?a.push(" , "+t.value):a.push(t.key+" : "+t.value),e.meta_data[n+1].key!==t.key&&a.push("\n"))})):a.push("\n\n")})),a.push("Shipping:"),a.push("Address: "+s.shipping.address_1),a.push("City: "+s.shipping.city),a.push("Zip/Postal Code: "+s.shipping.postcode),a.push("Province/State: "+s.shipping.state),a.push("Name: "+s.shipping.first_name+" "+s.shipping.last_name),a.push("\n"),s.shipping_lines.map((function(e){return a.push("Shipping Method: "+e.method_title)})),a.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+s.payment_method_title+"\n\n","Total Including (13% Tax): $"+(parseFloat(s.total)+parseFloat(s.total_tax)).toFixed(2)+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n"),a.push("\x1dV\0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}}})).catch((function(t){alert("Error has errored with woocommerce api. Try refreshing or updating creditials"),clearInterval(e)}))}),5e3);return function(){return clearInterval(e)}}}),[t,n]),Object(T.jsx)(s.default,{children:c?Object(T.jsx)(q,{isModalVisible:!0}):Object(T.jsx)(T.Fragment,{children:e?Object(T.jsx)(he,{}):Object(T.jsx)(Pe,{})})})};t.default=function(){return Object(T.jsx)(Se,{})}},293:function(e,t,n){e.exports=n(412)}},[[293,1,2]]]);
//# sourceMappingURL=app.975693ef.chunk.js.map