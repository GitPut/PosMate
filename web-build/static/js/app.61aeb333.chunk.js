(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{237:function(e,t,n){e.exports=n.p+"static/media/dpos-logo.58fecdd6.png"},458:function(e,t,n){e.exports=n.p+"static/media/random-img1.a79e0878.png"},459:function(e,t,n){e.exports=n.p+"static/media/dpos-logo-black.9464d239.png"},467:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(15),i=n.n(o),s=n(42),c=n.n(s),a=n(8),l=n.n(a),u=n(835),d=n(827),h=n(65),f=n(11),p=n(40),j=n(7),b=n(50),g=n(43),m=n(22),x=n(18),O=n(1),y=function(e){var t=e.navigation,n=e.product,r=e.productIndex;return Object(O.jsx)(x.Button,{title:n.name,onPress:function(){return t.navigate("ProductListing",{product:n})},contentContainerStyle:w.touchable,style:w.touchable},r)},w=f.default.create({touchable:{margin:25,width:300,height:80,backgroundColor:"rgba(125,126,132,1)",alignItems:"center",justifyContent:"center"}});function C(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}function v(){var e=Object(r.useState)(C()),t=l()(e,2),n=t[0],o=t[1];return Object(r.useEffect)((function(){function e(){o(C())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}b.default.get("window").height;var X=function(e){var t=e.navigation,n=e.catalog,o=v(),i=o.height,s=o.width,c=Object(r.useState)(null),a=l()(c,2),u=a[0],d=a[1];return Object(O.jsxs)(j.default,{style:P({height:i,width:s}).container,children:[Object(O.jsx)((function(){var e;return Object(O.jsx)(j.default,{style:{backgroundColor:"#E6E6E6",width:"90%",height:50,flexDirection:"row",marginTop:20,justifyContent:"space-evenly",alignItems:"center",alignSelf:"center"},children:null==(e=n.categories)?void 0:e.map((function(e,t){return Object(O.jsx)(p.default,{onPress:function(){d(e)},children:Object(O.jsx)(m.default,{style:[null===u&&0===t&&{color:"black",fontWeight:"600",borderBottomWidth:1}||u===e&&{color:"black",fontWeight:"600",borderBottomWidth:1},{fontSize:16}],children:e})},t)}))})}),{}),Object(O.jsx)(g.default,{style:P({height:i,width:s}).scrollview,contentContainerStyle:P({height:i,width:s}).wrapper,children:Object(O.jsx)((function(){if(n.products&&n.products.length>0)return u?n.products.filter((function(e){return e.catagory===u})).map((function(e,n){return Object(O.jsx)(y,{product:e,productIndex:n,navigation:t},n)})):n.products.filter((function(e){return e.catagory===n.categories[0]})).map((function(e,n){return Object(O.jsx)(y,{product:e,productIndex:n,navigation:t},n)}))}),{})})]})},P=function(e){return f.default.create({container:{backgroundColor:"white",height:e.height-80,width:.7*e.width},wrapper:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",paddingLeft:50,paddingRight:50},scrollview:{width:"100%"}})},S=n(140),T=n(826),k=Object(T.default)(null),D=function(e){k.set(e)},I=Object(T.default)([]),B=function(e){I.set(e)},L=Object(T.default)({products:[],categories:[]}),R=function(e){L.set(e)},E=Object(T.default)([]),W=function(e){E.set(e)},F=Object(T.default)({apiUrl:null,ck:null,cs:null,useWoocommerce:!1}),z=function(e){F.set(e)},N=Object(T.default)({name:null,address:null,phoneNumber:null,website:null,comSelected:null,deliveryPrice:null}),_=function(e){N.set(e)},V=n(296),M=function(e){var t=e.setDeliveryModal,n=e.setOngoingDelivery,r=e.setName,o=e.setPhone,i=e.setAddress,s=e.name,c=e.phone,a=e.address,l=e.deliveryChecked,u=e.setDeliveryChecked;return Object(O.jsxs)(g.default,{style:A.modalContainer,children:[Object(O.jsxs)(j.default,{style:A.sizeRow,children:[Object(O.jsx)(m.default,{children:"Enter Phone Order Details"}),Object(O.jsxs)(j.default,{children:[Object(O.jsx)(m.default,{children:"Delivery?"}),Object(O.jsx)(V.Switch,{value:l,onValueChange:function(){u(!l)}})]})]}),Object(O.jsx)(x.TextInput,{label:"Name",variant:"outlined",style:A.input,onChangeText:function(e){return r(e)},autoCorrect:!1,value:s}),Object(O.jsx)(x.TextInput,{label:"Phone #",variant:"outlined",style:A.input,onChangeText:function(e){return o(e)},autoCorrect:!1,value:c}),l&&Object(O.jsx)(x.TextInput,{label:"Address",variant:"outlined",style:A.input,onChangeText:function(e){return i(e)},autoCorrect:!1,value:a}),Object(O.jsx)(x.Button,{title:"Order",onPress:function(){t(!1),n(!0)},contentContainerStyle:A.btn,style:{margin:25}}),Object(O.jsx)(x.Button,{title:"Cancel",onPress:function(){t(!1),n(null)},contentContainerStyle:A.btn,style:{margin:25}})]})},A=f.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:25},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{height:40,justifyContent:"center",alignItems:"center"},input:{marginTop:25,marginBottom:25}}),$=function(e){var t=e.setCashModal,n=e.GetTrans,o=e.total,i=e.setChangeDue,s=Object(r.useState)(""),c=l()(s,2),a=c[0],u=c[1];return Object(O.jsxs)(g.default,{style:K.modalContainer,children:[Object(O.jsx)(j.default,{style:K.sizeRow,children:Object(O.jsx)(m.default,{children:"Cash Payment Details"})}),Object(O.jsxs)(m.default,{children:["Total: ",o]}),Object(O.jsx)(x.TextInput,{label:"Enter Cash Given",variant:"outlined",style:K.input,onChangeText:function(e){u(e),i((parseFloat(e)-o).toFixed(2))},autoCorrect:!1,value:a}),Object(O.jsxs)(m.default,{children:["Change Due:"," ",parseFloat(a)>o&&(parseFloat(a)-o).toFixed(2)]}),Object(O.jsx)(x.Button,{title:"Print",onPress:function(){n("Cash"),t(!1)},contentContainerStyle:K.btn,style:{margin:25}}),Object(O.jsx)(x.Button,{title:"Cancel",onPress:function(){return t(!1)},contentContainerStyle:K.btn,style:{margin:25}})]})},K=f.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:25},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{height:40,justifyContent:"center",alignItems:"center"},input:{marginTop:25,marginBottom:25}}),U=function(e){var t=e.setChangeModal,o=e.order,i=e.completeOrder,s=e.setcurrentOrder,c=o.total,a=Object(r.useState)(""),u=l()(a,2),d=u[0],h=u[1],f=N.use();return Object(O.jsxs)(g.default,{style:H.modalContainer,children:[Object(O.jsx)(j.default,{style:H.sizeRow,children:Object(O.jsx)(m.default,{children:"Cash Payment Details"})}),Object(O.jsxs)(m.default,{children:["Total: $",c]}),Object(O.jsx)(x.TextInput,{label:"Enter Cash Given",variant:"outlined",style:H.input,onChangeText:function(e){return h(e)},autoCorrect:!1,value:d}),Object(O.jsxs)(m.default,{children:["Change Due: ",(parseFloat(d)-c).toFixed(2)]}),Object(O.jsx)(x.Button,{title:"Finsh Payment",onPress:function(){!function(){var e=["\x1b@","\x1ba1",f.name,"\n",f.address+"\n",f.website+"\n",f.phoneNumber+"\n","\n","Pickup Order Paid\n","Transaction # "+o.transNum+"\n","\n","Customer Name: "+o.customer.name+"\n","\n","Customer Phone: "+o.customer.phone+"\n","\n","\n","\n","\n","\x1ba0","Total: $"+c+"\n","Cash Given: $"+d+"\n","Change Due: $"+(parseFloat(d)-parseFloat(c)).toFixed(2)+"\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0","\x10\x14\x01\0\x05"],t=n(117);t.websocket.connect().then((function(){var n=t.configs.create("storeDetails.comSelected");return t.print(n,e)})).then(t.websocket.disconnect).catch((function(e){console.error(e)})),i()}()},contentContainerStyle:H.btn,style:{margin:25}}),Object(O.jsx)(x.Button,{title:"Cancel",onPress:function(){t(!1),s({element:null,index:null})},contentContainerStyle:H.btn,style:{margin:25}})]})},H=f.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:25},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{height:40,justifyContent:"center",alignItems:"center"},input:{marginTop:25,marginBottom:25}}),G=n(250);n(818),n(575);G.default.initializeApp({apiKey:"AIzaSyDmtlrkfZRbFy8P7D4BFXTIkzMDC_DP5n8",authDomain:"posmate-5fc0a.firebaseapp.com",projectId:"posmate-5fc0a",storageBucket:"posmate-5fc0a.appspot.com",messagingSenderId:"48463376409",appId:"1:48463376409:web:b427a4fbc3c210a5977a88"});var q=G.default.auth(),Q=G.default.firestore(),Z=function(e,t){return new Promise((function(n,r){var o;Q.collection("users").doc(null==(o=q.currentUser)?void 0:o.uid).update({products:t,categories:e}).then((function(){return n("Promise resolved!")})).catch((function(){return r("Promise rejected!")}))}))},J=function(e){var t;Q.collection("users").doc(null==(t=q.currentUser)?void 0:t.uid).update({transList:e})},Y=function(){return q.signOut()},ee=n(115),te=n(472),ne=function(e){var t=e.navigation,o=v(),i=o.height,s=o.width,a=Object(r.useState)(!1),u=l()(a,2),d=u[0],h=u[1],f=Object(r.useState)(!1),b=l()(f,2),x=b[0],y=b[1],w=Object(r.useState)(!1),C=l()(w,2),X=C[0],P=C[1],T=Object(r.useState)(null),k=l()(T,2),D=k[0],L=k[1],R=Object(r.useState)(null),W=l()(R,2),F=W[0],z=W[1],_=Object(r.useState)(null),V=l()(_,2),A=V[0],K=V[1],H=Object(r.useState)(null),G=l()(H,2),q=G[0],Q=G[1],Z=Object(r.useState)(!1),Y=l()(Z,2),ne=Y[0],oe=Y[1],ie=Object(r.useState)(),se=l()(ie,2),ce=se[0],ae=se[1],le=I.use(),ue=E.use(),de=N.use(),he=Object(r.useState)(0),fe=l()(he,2),pe=fe[0],je=fe[1];Object(r.useEffect)((function(){if(le.length>0){for(var e=0,t=0;t<le.length;t++)e+=parseFloat(le[t].price);je(e)}else je(0)}),[le]);var be=function(){var e=c()((function*(e){var t=structuredClone(ue);console.log("trans: ",t),console.log("Payload: ",e),t.push(e),J(t)}));return function(t){return e.apply(this,arguments)}}(),ge=function(e){var t=(null==ue?void 0:ue.length)+1;if("deliveryOrder"===e){var r=de.deliveryPrice>0?parseFloat(de.deliveryPrice):0,o=new Date,i=["\x1b@","\x1ba1",de.name,"\n",de.address+"\n",de.website+"\n",de.phoneNumber+"\n",o.toLocaleDateString()+" "+o.toLocaleTimeString()+"\n","\n","Transaction # "+t+"\n","\n","Delivery Order: $"+de.deliveryPrice+" Fee\n","\n","\n","\n","\x1ba0"];le.map((function(e){r+=parseFloat(e.price),i.push("Name: "+e.name),i.push("Price: $"+e.price),e.description&&(i.push("\n"),i.push(e.description)),e.options&&(i.push("\n"),e.options.map((function(e){i.push(e),i.push("\n")}))),e.extraDetails&&(i.push(e.extraDetails),i.push("\n")),i.push("\n\n")})),r=(r*=1.13).toFixed(2),i.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Customer Name: "+F,"\n\n","Customer Phone #:  "+A,"\n\n","Customer Address #:  "+q,"\n\n","Total Including (13% Tax): "+r+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0");var s=n(117);s.websocket.connect().then((function(){var e=s.configs.create("storeDetails.comSelected");return s.print(e,i)})).then(s.websocket.disconnect).catch((function(e){console.error(e)})),be({id:Math.random().toString(36).substr(2,9)+"-l",date:o,transNum:t,total:r,method:"deliveryOrder",cart:le,completed:!1,customer:{name:F,phone:A,address:q}}),B([]),h(!1)}else if("pickupOrder"===e){var c=0,a=new Date,l=["\x1b@","\x1ba1",de.name,"\n",de.address+"\n",de.website+"\n",de.phoneNumber+"\n",a.toLocaleDateString()+" "+a.toLocaleTimeString()+"\n","\n","Transaction # "+t+"\n","\n","Pickup Order\n","\n","\n","\n","\x1ba0"];le.map((function(e){c+=parseFloat(e.price),l.push("Name: "+e.name),l.push("Price: $"+e.price),e.description&&(l.push("\n"),l.push(e.description)),e.options&&(l.push("\n"),e.options.map((function(e){l.push(e),l.push("\n")}))),e.extraDetails&&(l.push(e.extraDetails),l.push("\n")),l.push("\n\n")})),c=(c*=1.13).toFixed(2),l.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Customer Name: "+F,"\n\n","Customer Phone #:  "+A,"\n\n","Total Including (13% Tax): "+c+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0");var u=n(117);u.websocket.connect().then((function(){var e=u.configs.create("storeDetails.comSelected");return u.print(e,l)})).then(u.websocket.disconnect).catch((function(e){console.error(e)})),be({id:Math.random().toString(36).substr(2,9)+"-l",date:a,transNum:t,total:c,method:"pickupOrder",cart:le,completed:!1,customer:{name:F,phone:A,address:q}}),B([]),h(!1)}else{var d=0,f=new Date,p=["\x1b@","\x1ba1",de.name,"\n",de.address+"\n",de.website+"\n",de.phoneNumber+"\n",f.toLocaleDateString()+" "+f.toLocaleTimeString()+"\n","\n","Transaction # "+t+"\n","\n","\n","\n","\x1ba0"];le.map((function(e){d+=parseFloat(e.price),p.push("Name: "+e.name),p.push("\n"),p.push("Price: $"+e.price),e.description&&(p.push("\n"),p.push(e.description)),e.options&&(p.push("\n"),e.options.map((function(e){p.push(e),p.push("\n")}))),e.extraDetails&&(p.push(e.extraDetails),p.push("\n")),p.push("\n\n")})),d=(d*=1.13).toFixed(2),"Cash"===e?p.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e+"\n\n","Total Including (13% Tax): $"+d+"\n\n","Change Due: $"+ce+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0","\x10\x14\x01\0\x05"):p.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e+"\n\n","Total Including (13% Tax): $"+d+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0");var j=n(117);j.websocket.connect().then((function(){var e=j.configs.create("storeDetails.comSelected");return j.print(e,p)})).then(j.websocket.disconnect).catch((function(e){console.error(e)})),be({id:Math.random().toString(36).substr(2,9)+"-l",date:f,transNum:t,total:d,method:e,cart:le})}B([])};return Object(O.jsxs)(j.default,{style:re({height:i,width:s}).container,children:[Object(O.jsxs)(j.default,{style:re({height:i,width:s}).cartHeader,children:[Object(O.jsx)(m.default,{style:{fontSize:20,width:"50%"},children:"Bill Total"}),Object(O.jsx)(p.default,{style:re({height:i,width:s}).iconContainer,children:Object(O.jsx)(ee.default,{name:"person-add",size:26,color:"white"})}),Object(O.jsx)(p.default,{style:re({height:i,width:s}).iconContainer,onPress:function(){return h(!0)},disabled:le.length>0,children:Object(O.jsx)(te.default,{name:"telephone",size:32,color:"white"})}),Object(O.jsx)(p.default,{style:re({height:i,width:s}).iconContainer,onPress:function(){return t.navigate("CompletePaymentPhoneOrder")},disabled:le.length>0||D,children:Object(O.jsx)(ee.default,{name:"checkmark",size:32,color:"white"})})]}),Object(O.jsx)(g.default,{contentContainerStyle:re({height:i,width:s}).contentContainer,children:Object(O.jsx)(j.default,{children:le.map((function(e,t){return Object(O.jsxs)(j.default,{style:{backgroundColor:"white",shadowColor:"rgba(0,0,0,1)",shadowOffset:{width:3,height:3},elevation:30,shadowOpacity:.07,shadowRadius:10,marginBottom:20,padding:15},children:[Object(O.jsxs)(j.default,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[Object(O.jsx)(j.default,{style:{width:"33%"},children:Object(O.jsx)(j.default,{style:{backgroundColor:"#E6E6E6",width:50,height:50,justifyContent:"center",alignItems:"center"},children:Object(O.jsx)(m.default,{style:re({height:i,width:s}).headerTxt,children:t+1})})}),Object(O.jsx)(j.default,{style:{width:"33%",alignItems:"center"},children:Object(O.jsx)(m.default,{style:re({height:i,width:s}).headerTxt,children:e.name})}),Object(O.jsx)(j.default,{style:{width:"33%",alignItems:"flex-end"},children:Object(O.jsx)(m.default,{style:{color:"red",fontSize:15,fontWeight:"600"},onPress:function(){var e=structuredClone(le);e.splice(t,1),B(e)},children:"X"})})]}),Object(O.jsxs)(m.default,{style:re({height:i,width:s}).innerTxt,children:["Price: $",e.price]}),e.description&&Object(O.jsxs)(m.default,{style:re({height:i,width:s}).innerTxt,children:["Description: ",e.description]}),e.options&&e.options.map((function(e){return Object(O.jsx)(m.default,{style:re({height:i,width:s}).innerTxt,children:e})})),e.extraDetails&&Object(O.jsxs)(m.default,{style:re({height:i,width:s}).innerTxt,children:["Extra Info: ",e.extraDetails]})]})}))})}),Object(O.jsxs)(j.default,{style:re({height:i,width:s}).totalContainer,children:[Object(O.jsxs)(j.default,{style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[Object(O.jsx)(m.default,{style:re({height:i,width:s}).totalTxt,children:"Sub:"}),Object(O.jsxs)(m.default,{style:re({height:i,width:s}).totalTxtPrice,children:["$",pe.toFixed(2)]})]}),Object(O.jsxs)(j.default,{style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[Object(O.jsx)(m.default,{style:re({height:i,width:s}).totalTxt,children:"Total:"}),Object(O.jsxs)(m.default,{style:re({height:i,width:s}).totalTxtPrice,children:["$",(1.13*pe).toFixed(2)]})]}),Object(O.jsx)((function(){return null===D?Object(O.jsxs)(j.default,{style:{flexDirection:"row",width:"100%",alignSelf:"center",justifyContent:"space-between",alignItems:"center"},children:[Object(O.jsx)(p.default,{style:re({height:i,width:s}).cashButton,onPress:function(){return y(!0)},disabled:le.length<1||D,children:Object(O.jsx)(m.default,{style:re({height:i,width:s}).btnTxt,children:"Cash"})}),Object(O.jsx)(p.default,{style:re({height:i,width:s}).cardButton,onPress:function(){return ge("Card")},disabled:le.length<1||D,children:Object(O.jsx)(m.default,{style:re({height:i,width:s}).btnTxt,children:"Card"})})]}):D&&le.length>0?Object(O.jsx)(p.default,{style:re({height:i,width:s}).bigButton,onPress:function(){ge(ne?"deliveryOrder":"pickupOrder"),L(null),z(null),K(null),Q(null)},children:Object(O.jsx)(m.default,{style:re({height:i,width:s}).btnTxt,children:"Complete"})}):Object(O.jsx)(p.default,{style:re({height:i,width:s}).bigButton,onPress:function(){return L(null)},children:Object(O.jsx)(m.default,{style:re({height:i,width:s}).btnTxt,children:"Cancel"})})}),{})]}),Object(O.jsx)(S.default,{visible:d,children:Object(O.jsx)(M,{setDeliveryModal:h,setOngoingDelivery:L,setName:z,setPhone:K,setAddress:Q,name:F,phone:A,address:q,deliveryChecked:ne,setDeliveryChecked:oe})}),Object(O.jsx)(S.default,{visible:x,children:Object(O.jsx)($,{setCashModal:y,GetTrans:function(){return ge("Cash")},total:(1.13*pe).toFixed(2),setChangeDue:ae})}),Object(O.jsx)(S.default,{visible:X,children:Object(O.jsx)(U,{setChangeModal:P})})]})},re=function(e){return f.default.create({container:{height:e.height,width:.3*e.width,padding:20,backgroundColor:"rgba(31,35,48,1)",borderTopRightRadius:0,borderBottomRightRadius:0,borderTopLeftRadius:2,borderBottomLeftRadius:2,shadowColor:"rgba(0,0,0,1)",shadowOffset:{width:-3,height:3},elevation:30,shadowOpacity:.92,shadowRadius:10},contentContainer:{height:"100%",justifyContent:"space-between",width:"100%"},totalContainer:{height:.12*e.height,paddingTop:10},cartHeader:{height:.06*e.height,justifyContent:"space-between",width:"100%",flexDirection:"row",alignItems:"center",marginBottom:20},iconContainer:{backgroundColor:"rgba(125,126,132,1)",borderRadius:30,width:40,height:40,alignItems:"center",justifyContent:"center"},cashButton:{backgroundColor:"rgba(51,81,243,1)",borderRadius:30,borderTopRightRadius:0,borderBottomRightRadius:0,width:"49.5%",height:55,alignItems:"center",justifyContent:"center"},cardButton:{backgroundColor:"rgba(51,81,243,1)",borderRadius:30,borderTopRightRadius:30,borderBottomRightRadius:30,borderTopLeftRadius:0,borderBottomLeftRadius:0,width:"49.5%",height:55,alignItems:"center",justifyContent:"center"},btnTxt:{fontSize:20,color:"white"},totalTxt:{fontSize:16,marginBottom:5,color:"rgba(255,255,255,1)",fontWeight:"600"},totalTxtPrice:{fontSize:16,marginBottom:5,color:"rgba(255,255,255,1)",fontWeight:"600"},bigButton:{backgroundColor:"rgba(51,81,243,1)",borderRadius:30,width:"98%",height:55,alignItems:"center",justifyContent:"center"},innerTxt:{fontSize:13,marginBottom:10},headerTxt:{fontSize:15,fontWeight:"600"}})},oe=n(237),ie=n.n(oe),se=function(e){var t=e.navigation,n=v(),r=n.height,o=n.width,i=L.use();return Object(O.jsx)(j.default,{style:{flex:1,height:r,width:o},children:Object(O.jsxs)(j.default,{style:{flexDirection:"row",height:"100%"},children:[Object(O.jsxs)(j.default,{style:{width:"70%",height:"100%"},children:[Object(O.jsx)((function(){return Object(O.jsxs)(j.default,{style:{width:"100%",height:80,flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"rgba(31,35,48,1)",paddingLeft:25,paddingRight:25},children:[Object(O.jsx)(h.default,{source:ie.a,style:{width:200,height:160,resizeMode:"contain"}}),Object(O.jsx)(p.default,{onPress:function(){return t.navigate("SettingsHome")},children:Object(O.jsx)(ee.default,{name:"settings",size:32,color:"white"})})]})}),{}),Object(O.jsx)(X,{catalog:i,navigation:t})]}),Object(O.jsx)(ne,{navigation:t})]})})},ce=(f.default.create({container:{backgroundColor:"white",flex:1}}),function(e){var t=e.navigation,n=L.use();return Object(O.jsxs)(g.default,{style:{padding:25},children:[Object(O.jsx)(m.default,{style:{fontSize:17,fontWeight:"600"},children:"Current Products"}),n.categories.length>0?n.products.map((function(e,r){return Object(O.jsxs)(j.default,{style:{flexDirection:"row",justifyContent:"space-between",padding:15,margin:10,backgroundColor:"lightgrey"},children:[Object(O.jsxs)(m.default,{style:{fontSize:17},children:["Product: ",e.name]}),Object(O.jsxs)(j.default,{style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"20%"},children:[Object(O.jsx)(x.Button,{title:"Duplicate",onPress:function(){var t=structuredClone(e);t.name=t.name+" Copy",Z(i()(n.categories),[].concat(i()(n.products),[t]))},style:{margin:10}}),Object(O.jsx)(x.Button,{title:"Edit",onPress:function(){return t.navigate("AddProduct",{existingProduct:e,existingProductIndex:r})},style:{margin:10}}),Object(O.jsx)(p.default,{onPress:function(){return function(e){var t=structuredClone(n);t.products.splice(e,1),Z(t.categories,t.products)}(r)},style:{justifyContent:"center",alignItems:"center",borderRadius:3,backgroundColor:"red",padding:10,margin:10},children:Object(O.jsx)(m.default,{style:{color:"white",fontWeight:"600",fontSize:18},children:"X"})})]})]})})):Object(O.jsx)(m.default,{style:{marginTop:50,marginBottom:50},children:"You must add a category before you can add a product..."}),n.products.length<1&&n.categories.length>0&&Object(O.jsx)(m.default,{style:{marginTop:50,marginBottom:50},children:"You have no products..."}),Object(O.jsx)(x.Button,{title:"Add New Product",onPress:function(){return t.navigate("AddProduct")},style:{margin:10},disabled:n.categories.length<1})]})}),ae=(f.default.create({}),n(9)),le=n.n(ae),ue=n(138),de=n(107);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var fe=function(e){var t=e.label,n=e.options,o=e.setValue,i=e.value,s=e.style,c=Object(r.useState)(!1),a=l()(c,2),u=a[0],d=a[1];return Object(O.jsxs)(j.default,{style:[pe.container,s],children:[Object(O.jsx)(x.ListItem,{title:i||t,trailing:function(e){return Object(O.jsx)(de.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){le()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:u?"chevron-up":"chevron-down"},e))},onPress:function(){return d((function(e){return!e}))}}),u&&Object(O.jsx)(O.Fragment,{children:n.map((function(e){return Object(O.jsx)(x.ListItem,{title:e,onPress:function(){o(e),d(!1)}})}))})]})},pe=f.default.create({container:{backgroundColor:"white"}});function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){le()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge=function(e){var t=e.item,n=e.index,o=e.setnewProduct,i=e.newProduct,s=e.newProductOptions,c=e.indexOn,a=e.setindexOn;if(c===n){var u,d=Object(r.useState)(structuredClone(t)),h=l()(d,2),f=h[0],b=h[1],g=Object(r.useState)(structuredClone(t.optionsList)),y=l()(g,2),w=y[0],C=y[1],v=i.options.map((function(e){if(e.label!==f.label&&null!==e.label)return e.label}));return(f.selectedCaseKey||f.selectedCaseValue)&&(s.current[n].selectedCaseList=[{selectedCaseKey:f.selectedCaseKey,selectedCaseValue:f.selectedCaseValue}],s.current[n].selectedCaseKey=null,s.current[n].selectedCaseValue=null,b((function(e){return be(be({},e),{},{selectedCaseList:[{selectedCaseKey:null,selectedCaseValue:null}]})}))),Object(O.jsx)(j.default,{children:Object(O.jsxs)(j.default,{style:{padding:25,margin:15,backgroundColor:"lightgrey"},children:[Object(O.jsxs)(p.default,{onPress:function(){return a(c!==n?n:null)},style:{padding:25,margin:15,backgroundColor:"lightgrey",flexDirection:"row",justifyContent:"space-between",height:100},children:[Object(O.jsx)(m.default,{children:t.label}),Object(O.jsx)(p.default,{onPress:function(){s.current.push(be(be({},t),{},{label:t.label+" Copy"})),o((function(e){return be(be({},e),{},{options:s.current})})),a(null)},children:Object(O.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"Copy"})}),Object(O.jsx)(p.default,{onPress:function(){s.current.splice(n,1),o((function(e){return be(be({},e),{},{options:s.current})})),a(null)},children:Object(O.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"X"})}),Object(O.jsx)(p.default,{onPress:function(){!function(e,t){var n=s.current.splice(e,1)[0];s.current.splice(t,0,n)}(n,n+1),o((function(e){return be(be({},e),{},{options:s.current})})),a(null)},children:Object(O.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"\\/"})}),Object(O.jsx)(p.default,{onPress:function(){!function(e,t){var n=s.current.splice(e,1)[0];s.current.splice(t,0,n)}(n,n-1),o((function(e){return be(be({},e),{},{options:s.current})})),a(null)},children:Object(O.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"/\\"})})]}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Select List Label",onChangeText:function(e){b((function(t){return be(be({},t),{},{label:e})})),s.current[n].label=e},value:f.label,style:{marginBottom:25}}),Object(O.jsx)(fe,{label:"Option Type",options:["Standard","Dropdown"],setValue:function(e){f.optionType?s.current[n].optionType=e:s.current[n]=be(be({},f),{},{optionType:e}),b((function(t){return be(be({},t),{},{optionType:e})}))},value:f.optionType,style:{marginBottom:25}}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Number Of Selectable; If There Is",onChangeText:function(e){b((function(t){return be(be({},t),{},{numOfSelectable:e})})),s.current[n].numOfSelectable=e},value:f.numOfSelectable,style:{marginBottom:25}}),w.map((function(e,t){var r=structuredClone(e);return Object(O.jsxs)(j.default,{style:{flexDirection:"row",marginBottom:25,alignItems:"center"},children:[Object(O.jsx)(x.TextInput,{placeholder:"Enter Option Label",onChangeText:function(e){var r=structuredClone(w);r[t].label=e,s.current[n].optionsList=r,C(r)},value:r.label}),Object(O.jsx)(x.TextInput,{placeholder:"Enter price increase",onChangeText:function(e){var r=structuredClone(w);r[t].priceIncrease=e,s.current[n].optionsList=r,C(r)},value:r.priceIncrease,style:{marginLeft:20,marginRight:20}}),Object(O.jsx)(p.default,{onPress:function(){var e=structuredClone(w);e.splice(t,1),s.current[n].optionsList=e,C(e)},children:Object(O.jsx)(m.default,{style:{fontWeight:"700",color:"red"},children:"X"})})]})})),Object(O.jsx)(x.Button,{title:"Add Option Choice",onPress:function(){var e=structuredClone(w);e.push({label:null,priceIncrease:null}),s.current[n].optionsList=e,C(e)},style:{marginBottom:25}}),null==(u=f.selectedCaseList)?void 0:u.map((function(e,t){var r=i.options.filter((function(t){return t.label==e.selectedCaseKey})),o=r.length>0?r[0].optionsList.map((function(e){return e.label})):[];return Object(O.jsxs)(j.default,{style:{flexDirection:"row",justifyContent:"space-between",marginBottom:25},children:[Object(O.jsx)(fe,{label:"Show if...",options:v,setValue:function(e){s.current[n].selectedCaseList[t].selectedCaseKey=e,b((function(e){return be(be({},e),{},{selectedCaseList:s.current[n].selectedCaseList})}))},value:e.selectedCaseKey,style:{marginBottom:25}}),Object(O.jsx)(m.default,{children:'"="'}),Object(O.jsx)(fe,{label:"Show if...",options:o,setValue:function(e){s.current[n].selectedCaseList[t].selectedCaseValue=e,b((function(e){return be(be({},e),{},{selectedCaseList:s.current[n].selectedCaseList})}))},value:e.selectedCaseValue,style:{marginBottom:25}}),Object(O.jsx)(x.Button,{title:"Remove",onPress:function(){s.current[n].selectedCaseList.splice(t,1),b((function(e){return be(be({},e),{},{selectedCaseList:s.current[n].selectedCaseList})}))}})]})})),v.length>1&&Object(O.jsx)(x.Button,{title:"Add If Statement",onPress:function(){s.current[n].selectedCaseList?(s.current[n].selectedCaseList.push({selectedCaseKey:null,selectedCaseValue:null}),b((function(e){return be(be({},e),{},{selectedCaseList:s.current[n].selectedCaseList})}))):(s.current[n].selectedCaseList=[{selectedCaseKey:null,selectedCaseValue:null}],b((function(e){return be(be({},e),{},{selectedCaseList:[{selectedCaseKey:null,selectedCaseValue:null}]})})))}})]})})}return Object(O.jsxs)(p.default,{onPress:function(){return a(c!==n?n:null)},style:{padding:25,margin:15,backgroundColor:"lightgrey",flexDirection:"row",justifyContent:"space-between",height:100},children:[Object(O.jsx)(m.default,{children:t.label}),Object(O.jsx)(p.default,{onPress:function(){s.current.push(be(be({},t),{},{label:t.label+" Copy"})),o((function(e){return be(be({},e),{},{options:s.current})})),a(null)},children:Object(O.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"Copy"})}),Object(O.jsx)(p.default,{onPress:function(){s.current.splice(n,1),o((function(e){return be(be({},e),{},{options:s.current})})),a(null)},children:Object(O.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"X"})}),Object(O.jsx)(p.default,{onPress:function(){!function(e,t){var n=s.current.splice(e,1)[0];s.current.splice(t,0,n)}(n,n+1),o((function(e){return be(be({},e),{},{options:s.current})})),a(null)},children:Object(O.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"\\/"})}),Object(O.jsx)(p.default,{onPress:function(){!function(e,t){var n=s.current.splice(e,1)[0];s.current.splice(t,0,n)}(n,n-1),o((function(e){return be(be({},e),{},{options:s.current})})),a(null)},children:Object(O.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"/\\"})})]})};function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){le()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oe=function(e){var t=e.route,n=e.navigation,o=t.params?t.params:{existingProduct:null,existingProductIndex:null},s=o.existingProduct,c=o.existingProductIndex,a=L.use(),u=Object(r.useState)(s||{name:null,price:null,catagory:null,options:[],description:null}),d=l()(u,2),h=d[0],f=d[1],b=Object(r.useRef)(s?s.options:[]),y=Object(r.useState)(0),w=l()(y,2),C=w[0],v=w[1];function X(e){if(e)Z(i()(a.categories),[].concat(i()(a.products),[e])),n.goBack();else if(s){var t=structuredClone(a.products),r=xe(xe({},h),{},{options:b.current});t[c]=r,Z(i()(a.categories),t),n.goBack()}else Z(i()(a.categories),[].concat(i()(a.products),[h])),n.goBack()}return Object(O.jsx)(g.default,{style:{width:"100%",height:"100%",flex:1},contentContainerStyle:{width:"93%",alignSelf:"center",marginTop:25},children:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(j.default,{style:{flexDirection:"row",padding:20,justifyContent:"space-between",alignItems:"center"},children:[Object(O.jsx)(p.default,{onPress:function(){return n.goBack()},children:Object(O.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"X"})}),Object(O.jsx)(p.default,{onPress:function(){var e=structuredClone(h);e.name=e.name+" Copy",X(e)},children:Object(O.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"Copy"})}),Object(O.jsx)(m.default,{style:{marginBottom:25},children:"AddProduct"})]}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Product Name",onChangeText:function(e){f((function(t){return xe(xe({},t),{},{name:e})}))},value:h.name,style:{marginBottom:25}}),Object(O.jsx)(x.TextInput,{placeholder:"Enter any other items that come with this",onChangeText:function(e){f((function(t){return xe(xe({},t),{},{description:e})}))},style:{marginBottom:25},value:h.description}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Product Price",onChangeText:function(e){f((function(t){return xe(xe({},t),{},{price:e})}))},style:{marginBottom:25},value:h.price}),Object(O.jsx)(fe,{label:"Choose catagory",options:a.categories,setValue:function(e){f((function(t){return xe(xe({},t),{},{catagory:e})}))},value:h.catagory,style:{marginBottom:25}}),Object(O.jsx)((function(){return Object(O.jsxs)(j.default,{children:[Object(O.jsx)(ue.default,{getItemLayout:function(e,t){var n;return{length:t===C?400*(null==(n=e.optionsList)?void 0:n.length):100,offset:400*t,index:t}},data:h.options,keyExtractor:function(e){var t;return null==(t=e.id)?void 0:t.toString()},renderItem:function(e){var t=e.item,n=e.index;return Object(O.jsx)(ge,{item:t,index:n,newProduct:h,setnewProduct:f,newProductOptions:b,indexOn:C,setindexOn:v})}}),Object(O.jsx)(x.Button,{title:"Add Product Option",onPress:function(){b.current.push({label:null,optionsList:[],selectedCaseKey:null,selectedCaseValue:null,numOfSelectable:null,id:Math.random().toString(36).substr(2,9),optionType:null}),f((function(e){return xe(xe({},e),{},{options:b.current})})),v(b.current.length-1)},style:{marginBottom:25}})]})}),{}),Object(O.jsx)(x.Button,{title:"Add/Save Product",onPress:function(){X()},style:{marginBottom:25,marginTop:25,backgroundColor:"lightgreen"}})]})})},ye=(f.default.create({}),function(){var e=F.use(),t=Object(r.useState)(e.apiUrl),n=l()(t,2),o=n[0],i=n[1],s=Object(r.useState)(e.ck),c=l()(s,2),a=c[0],u=c[1],d=Object(r.useState)(e.cs),h=l()(d,2),f=h[0],p=h[1],j=Object(r.useState)(e.useWoocommerce),b=l()(j,2),y=b[0],w=b[1];return Object(O.jsxs)(g.default,{style:{padding:25},children:[Object(O.jsx)(m.default,{style:{fontSize:17,fontWeight:"600"},children:"Current categories"}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Woocommerce 'API Url'",onChangeText:function(e){return i(e)},style:{margin:10},value:o}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Woocommerce 'CK'",onChangeText:function(e){return u(e)},style:{margin:10},value:a}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Woocommerce 'CS'",onChangeText:function(e){return p(e)},style:{margin:10},value:f}),Object(O.jsx)(x.Switch,{value:y,onValueChange:function(e){return w(e)}}),Object(O.jsx)(x.Button,{title:"Save",onPress:function(){null!==o&&null!==a&&null!==f&&(z({apiUrl:o,ck:a,cs:f,useWoocommerce:y}),function(e){var t;Q.collection("users").doc(null==(t=q.currentUser)?void 0:t.uid).update({wooCredentials:e})}({apiUrl:o,ck:a,cs:f,useWoocommerce:y}))},style:{margin:10}})]})}),we=function(){var e=N.use(),t=Object(r.useState)(e.name),n=l()(t,2),o=n[0],i=n[1],s=Object(r.useState)(e.phoneNumber),c=l()(s,2),a=c[0],u=c[1],d=Object(r.useState)(e.address),h=l()(d,2),f=h[0],p=h[1],j=Object(r.useState)(e.website),b=l()(j,2),y=b[0],w=b[1],C=Object(r.useState)(e.deliveryPrice),v=l()(C,2),X=v[0],P=v[1],S=Object(r.useState)(e.comSelected),T=l()(S,2),k=T[0],D=T[1];return Object(O.jsxs)(g.default,{style:{padding:25},children:[Object(O.jsx)(m.default,{style:{fontSize:17,fontWeight:"600"},children:"Current categories"}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Store Name",onChangeText:function(e){return i(e)},style:{margin:10},value:o}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Store Website Url",onChangeText:function(e){return w(e)},style:{margin:10},value:y}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Store Phone Number",onChangeText:function(e){return u(e)},style:{margin:10},value:a}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Store Address",onChangeText:function(e){return p(e)},style:{margin:10},value:f}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Delivery Price",onChangeText:function(e){return P(e)},style:{margin:10},value:X}),Object(O.jsx)(fe,{options:["COM1","COM2","COM3","COM4","COM5","COM6","What Cum?"],label:"Pick Printer COM",value:k,setValue:D}),Object(O.jsx)(x.Button,{title:"Save",onPress:function(){null!==o&&null!==a&&null!==f&&(_({name:o,phoneNumber:a,address:f,website:y,deliveryPrice:X,comSelected:k}),function(e){var t;Q.collection("users").doc(null==(t=q.currentUser)?void 0:t.uid).update({storeDetails:e})}({name:o,phoneNumber:a,address:f,website:y,deliveryPrice:X,comSelected:k}))},style:{margin:10}})]})},Ce=function(e){var t=e.isModalVisible;return Object(O.jsx)(S.default,{visible:t,transparent:!0,children:Object(O.jsxs)(j.default,{style:{alignItems:"center",justifyContent:"center",flex:1,backgroundColor:"rgba(52, 52, 52, 0.8)"},children:[Object(O.jsx)("style",{children:".loader {\n  border: 16px solid #f3f3f3;\n  border-radius: 50%;\n  border-top: 16px solid #3498db;\n  width: 120px;\n  height: 120px;\n  -webkit-animation: spin 2s linear infinite; /* Safari */\n  animation: spin 2s linear infinite;\n}\n\n/* Safari */\n@-webkit-keyframes spin {\n  0% { -webkit-transform: rotate(0deg); }\n  100% { -webkit-transform: rotate(360deg); }\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}"}),Object(O.jsx)("div",{className:"loader"})]})})},ve=(f.default.create({}),function(){var e=L.use(),t=Object(r.useState)(),n=l()(t,2),o=n[0],s=n[1],c=Object(r.useState)(!1),a=l()(c,2),u=a[0],d=a[1];return Object(O.jsxs)(g.default,{style:{padding:25},children:[Object(O.jsx)(m.default,{style:{fontSize:17,fontWeight:"600"},children:"Current categories"}),e.categories.map((function(t,n){return Object(O.jsxs)(j.default,{style:{flexDirection:"row",justifyContent:"space-between",padding:15,margin:10,backgroundColor:"lightgrey"},children:[Object(O.jsx)(m.default,{style:{fontSize:17},children:t}),Object(O.jsx)(p.default,{onPress:function(){return function(t){var n=structuredClone(e);n.categories.splice(t,1),Z(n.categories,n.products),d(!0)}(n)},style:{justifyContent:"center",alignItems:"center"},children:Object(O.jsx)(m.default,{style:{color:"red",fontWeight:"600"},children:"Remove X"})})]})})),Object(O.jsx)(x.TextInput,{placeholder:"Enter New Category",onChangeText:function(e){return s(e)},style:{margin:10}}),Object(O.jsx)(x.Button,{title:"Add New Category",onPress:function(){Z([].concat(i()(e.categories),[o]),e.products),d(!0)},style:{margin:10}}),Object(O.jsx)(Ce,{isModalVisible:u})]})}),Xe=(f.default.create({}),function(){var e=E.use(),t=Object(r.useState)([]),o=l()(t,2),i=o[0],s=o[1],c=new Date,a=Object(r.useState)({todaysReceiptValue:0,todaysReceipts:0}),u=l()(a,2),d=u[0],h=u[1],f=N.use();Object(r.useEffect)((function(){if((null==e?void 0:e.length)>0){e.sort((function(e,t){if(e.date&&t.date)return e.date.seconds-t.date.seconds;if(e.date&&t.date_created){var n=new Date(t.date_created).getTime()/1e3;return e.date.seconds-n}return e.date_created&&t.date?new Date(e.date_created).getTime()/1e3-t.date.seconds:new Date(e.date_created).getTime()/1e3-new Date(t.date_created).getTime()/1e3})).reverse(),s(e);var t=e.reduce((function(e,t){return(t.date?new Date(1e3*t.date.seconds):new Date(t.date_created)).toLocaleDateString()===c.toLocaleDateString()?e+parseFloat(t.total):e}),0),n=e.reduce((function(e,t){return(t.date?new Date(1e3*t.date.seconds):new Date(t.date_created)).toLocaleDateString()===c.toLocaleDateString()?e+1:e}),0);h({todaysReceiptValue:t.toFixed(2),todaysReceipts:n})}}),[e]);var p=function(e){var t=[];return e.forEach((function(e){t.filter((function(t){return t.key===e.key})).length>0?t.forEach((function(n,r){n.key===e.key&&t[r].vals.push(e.value)})):t.push({key:e.key,vals:[e.value]})})),t};return Object(O.jsxs)(j.default,{style:Pe.container,children:[Object(O.jsx)(x.Text,{style:{textAlign:"center",margin:25},children:"List Of Transactions"}),Object(O.jsxs)(j.default,{style:{flexDirection:"row",width:"100%",alignItems:"center",justifyContent:"center"},children:[Object(O.jsxs)(x.Text,{style:{textAlign:"center",margin:25},children:["Todays Total Price: ",d.todaysReceiptValue]}),Object(O.jsx)(x.Button,{style:{height:40,alignItems:"center",justifyContent:"center"},title:"Print Todays Receipts",onPress:function(){var e=["\x1b@","\x1ba1",f.name,"\n",f.address+"\n",f.website+"\n",f.phoneNumber+"\n",c.toLocaleDateString()+" "+c.toLocaleTimeString()+"\n","\n","\n","\n","\n","\x1ba0","\n\n","Number Of Receipts: "+d.todaysReceipts+"\n\n","Sub-Total: $"+(d.todaysReceiptValue/1.13).toFixed(2)+"\n\n","Tax: $"+(d.todaysReceiptValue/1.13*.13).toFixed(2)+"\n\n","Total Including (13% Tax): $"+d.todaysReceiptValue+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"],t=n(117);t.websocket.connect().then((function(){var n=t.configs.create(f.comSelected);return t.print(n,e)})).then(t.websocket.disconnect).catch((function(e){console.error(e)}))}}),Object(O.jsxs)(x.Text,{style:{textAlign:"center",margin:25},children:["Todays Total Receipts: ",d.todaysReceipts]})]}),Object(O.jsx)(j.default,{style:Pe.contentContainer,children:i?null==i?void 0:i.map((function(e,t){var r,o;console.log("Item details: ",e);var i=e.date?new Date(1e3*e.date.seconds):e.date_created?new Date(e.date_created):null;return Object(O.jsxs)(j.default,{style:{backgroundColor:"grey",padding:30,margin:10},children:[e.cart_hash&&Object(O.jsx)(x.Text,{children:"Online Order"}),Object(O.jsx)(x.Text,{children:i.toLocaleString()}),null==(r=e.cart)?void 0:r.map((function(e,t){var n;return Object(O.jsxs)(j.default,{style:{marginBottom:20},children:[Object(O.jsxs)(x.Text,{children:["Name: ",e.name]}),Object(O.jsxs)(x.Text,{children:["Quantity: ",e.quantity]}),Object(O.jsxs)(x.Text,{children:["Price: ",e.price]}),e.options&&(null==(n=e.options)?void 0:n.map((function(e){return Object(O.jsx)(x.Text,{children:e})})))]},t)})),null==(o=e.line_items)?void 0:o.map((function(e,t){return Object(O.jsxs)(j.default,{style:{marginBottom:20},children:[Object(O.jsxs)(x.Text,{children:["Name: ",e.name]}),Object(O.jsxs)(x.Text,{children:["Quantity: ",e.quantity]}),Object(O.jsxs)(x.Text,{children:["Price: ",e.price]}),e.meta&&p(e.meta).map((function(e){return Object(O.jsxs)(j.default,{style:{flexDirection:"row"},children:[Object(O.jsxs)(x.Text,{children:[e.key," : "]}),e.vals.map((function(t,n){return Object(O.jsxs)(x.Text,{children:[t,n>=0&&n<e.vals.length-1&&", "]})}))]})}))]},t)})),Object(O.jsx)(x.Button,{title:"Print",onPress:function(){if(e.date){var t,r=0,o=["\x1b@","\x1ba1",f.name,"\n",f.address+"\n",f.website+"\n",f.phoneNumber+"\n",i.toLocaleDateString()+" "+i.toLocaleTimeString()+"\n","\n","Transaction # "+e.transNum+"\n","\n","\n","\n","\x1ba0"];null==(t=e.cart)||t.map((function(e){var t;(r+=parseFloat(e.price),o.push("Name: "+e.name),o.push("\n"),o.push("Price: $"+e.price),e.options)&&(o.push("\n"),null==(t=e.options)||t.map((function(e){o.push(e),o.push("\n")})));o.push("\n\n")})),r=(r*=1.13).toFixed(2),o.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Total Including (13% Tax): $"+r+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0");var s=n(117);s.websocket.connect().then((function(){var e=s.configs.create(f.comSelected);return s.print(e,o)})).then(s.websocket.disconnect).catch((function(e){console.error(e)}))}else{var c,a=[];a.push("\x1b@","\x1ba1",f.name,"\n",f.address+"\n",f.website+"\n",f.phoneNumber+"\n",e.date_created+"\n","\n","Online Order\n","Transaction # "+e.number+"\n","\n","\n","\n","\x1ba0"),null==(c=e.line_items)||c.map((function(e){var t;(a.push("\n"),a.push("Name: "+e.name),a.push("\n"),a.push("Quantity: "+e.quantity),a.push("\n"),a.push("Price: $"+e.price),a.push("\n"),e.meta)?null==(t=e.meta)||t.map((function(t,n){0===n?(a.push(t.key+" : "+t.value),e.meta[n+1].key!==t.key&&a.push("\n")):n!==e.meta.length-1&&(e.meta[n-1].key===t.key?a.push(" , "+t.value):a.push(t.key+" : "+t.value),e.meta[n+1].key!==t.key&&a.push("\n"))})):a.push("\n\n")})),a.push("\n"),a.push("\n"),a.push("Customer Details:"),a.push("\n"),a.push("Address: "+e.shipping.address_1),a.push("\n"),a.push("City: "+e.shipping.city),a.push("\n"),a.push("Zip/Postal Code: "+e.shipping.postcode),a.push("\n"),a.push("Province/State: "+e.shipping.state),a.push("\n"),a.push("Name: "+e.shipping.first_name+" "+e.shipping.last_name),a.push("\n"),e.shipping_lines.map((function(e){return a.push("Shipping Method: "+e.method_title)})),a.push("\n"),a.push("\n"),a.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e.payment_method_title+"\n\n","Total Including (13% Tax): $"+(parseFloat(e.total)+parseFloat(e.total_tax)).toFixed(2)+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n"),a.push("\x1dV\0");var l=n(117);l.websocket.connect().then((function(){var e=l.configs.create(f.comSelected);return l.print(e,a)})).then(l.websocket.disconnect).catch((function(e){console.error(e)}))}}})]},t)})):Object(O.jsx)(x.Text,{children:"No receipts yet"})})]})}),Pe=f.default.create({container:{backgroundColor:"white",flex:1,height:"100%"},contentContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",paddingLeft:50,paddingRight:50,paddingBottom:50,height:"100%",width:"100%",alignItems:"center"}});function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Te=function(e){var t=e.label,n=e.options,o=e.setValue,i=e.value,s=e.style,c=Object(r.useState)(!1),a=l()(c,2),u=a[0],d=a[1];return Object(O.jsxs)(j.default,{style:[ke.container,s],children:[Object(O.jsx)(x.ListItem,{title:i?i.label+" : $"+(null!==i.priceIncrease?i.priceIncrease:0):t,trailing:function(e){return Object(O.jsx)(de.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){le()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:u?"chevron-up":"chevron-down"},e))},onPress:function(){return d((function(e){return!e}))}}),u&&Object(O.jsx)(O.Fragment,{children:n.map((function(e,t){return Object(O.jsx)(x.ListItem,{title:e.label+" : $"+(null!==e.priceIncrease?e.priceIncrease:0),onPress:function(){o({option:{label:e.label,priceIncrease:null!==e.priceIncrease?e.priceIncrease:0},listIndex:t}),d(!1)}})}))})]})},ke=f.default.create({container:{backgroundColor:"white"}}),De=function(e){var t=e.navigation,n=e.route.params.product,o=Object(r.useState)(n),s=l()(o,2),c=s[0],a=s[1],u=Object(r.useState)(n.price),d=l()(u,2),h=d[0],f=d[1],b=Object(r.useState)(null),y=l()(b,2),w=y[0],C=y[1],v=function(e){var t,n,o=e.e,i=e.index,s=function(){var e;if((null==(e=o.selectedCaseList)?void 0:e.length)>0){var t,n=[];return o.selectedCaseList.forEach((function(e){var t=c.options.filter((function(t){return t.label==e.selectedCaseKey}));if(t.length>0){var r=t[0].optionsList.filter((function(t){return t.label==e.selectedCaseValue}));r.length>0&&!0===r[0].selected&&n.push(e)}})),(null==(t=o.selectedCaseList)?void 0:t.length)===n.length}return!0},u=Object(r.useState)(),d=l()(u,2),h=d[0],b=d[1],g=o.optionsList.filter((function(e){return e.selected}));if(g.length>0&&!h&&b(g[0]),!((null==(t=o.selectedCaseList)?void 0:t.length)>0)||s())return"dropdown"===(null==(n=o.optionType)?void 0:n.toLowerCase())?Object(O.jsxs)(j.default,{style:{marginBottom:25,width:"100%"},children:[Object(O.jsxs)(m.default,{style:{fontWeight:"700",fontSize:18},children:["Label: ",o.label]}),Object(O.jsx)(Te,{label:o.label,options:o.optionsList,setValue:function(e){var t=e.option,n=e.listIndex,r=structuredClone(c);r.options[i].optionsList.forEach((function(e,t){e.selected&&(r.options[i].optionsList[t].selected=!1,f((function(e){return(parseFloat(e)-parseFloat(null!==r.options[i].optionsList[t].priceIncrease?r.options[i].optionsList[t].priceIncrease:0)).toFixed(2)})))})),r.options[i].optionsList[n].selected=!0,f((function(e){return(parseFloat(e)+parseFloat(null!==r.options[i].optionsList[n].priceIncrease?r.options[i].optionsList[n].priceIncrease:0)).toFixed(2)})),console.log(t),b(t),a(r)},value:h,style:{marginBottom:25}})]},i):Object(O.jsxs)(j.default,{style:{marginBottom:25,flexWrap:"wrap",width:"100%"},children:[Object(O.jsxs)(m.default,{style:{fontWeight:"700",fontSize:18},children:["Label: ",o.label]}),Object(O.jsx)(j.default,{style:{flexWrap:"wrap",flexDirection:"row"},children:o.optionsList.map((function(e,t){return Object(O.jsxs)(p.default,{style:[1==c.options[i].optionsList[t].selected&&{backgroundColor:"green"},{flexDirection:"row",justifyContent:"space-between",padding:10,margin:5,borderColor:"black",borderWidth:2}],onPress:function(){var e=structuredClone(c);0==!e.options[i].optionsList[t].selected?(e.options[i].optionsList[t].selected=!1,f((function(n){return(parseFloat(n)-parseFloat(null!==e.options[i].optionsList[t].priceIncrease?e.options[i].optionsList[t].priceIncrease:0)).toFixed(2)}))):(e.options[i].optionsList.filter((function(e){return!0===e.selected})).length<parseInt(o.numOfSelectable)||!o.numOfSelectable)&&(e.options[i].optionsList[t].selected=!0,f((function(n){return(parseFloat(n)+parseFloat(null!==e.options[i].optionsList[t].priceIncrease?e.options[i].optionsList[t].priceIncrease:0)).toFixed(2)}))),a(e)},children:[Object(O.jsxs)(m.default,{style:Ie.h2Black,children:["Name: ",e.label]}),Object(O.jsx)(j.default,{style:{width:20}}),Object(O.jsxs)(m.default,{style:Ie.h2Black,children:["Price: $",null!==e.priceIncrease?e.priceIncrease:0]})]},t)}))})]},i);if(!1===s()){var x=structuredClone(c),y=0;x.options[i].optionsList.forEach((function(e,t){!0===e.selected&&(y+=parseFloat(null!==x.options[i].optionsList[t].priceIncrease?priceIncrease:0),x.options[i].optionsList[t].selected=!1)})),y>0&&(f((function(e){return(parseFloat(e)-y).toFixed(2)})),a(x))}};return Object(O.jsxs)(g.default,{style:Ie.modalContainer,children:[Object(O.jsxs)(m.default,{style:Ie.h2Black,children:["Name: ",n.name]}),n.description&&Object(O.jsxs)(m.default,{style:Ie.h2Black,children:["Name: ",n.description]}),Object(O.jsxs)(m.default,{style:[{marginBottom:25},Ie.h2Black],children:["Price: ",h]}),c.options.map((function(e,t){return Object(O.jsx)(v,{e:e,index:t},t)})),Object(O.jsx)(x.TextInput,{placeholder:"Write any extra info here..",multiline:!0,onChangeText:function(e){return C(e)},value:w,style:{marginTop:15,marginBottom:15},inputStyle:{padding:10}}),Object(O.jsx)(x.Button,{title:"Add To Cart",onPress:function(){var e,r=[];c.options.forEach((function(e){var t=e.label+": ",n=e.optionsList.filter((function(e){return!0===e.selected})).length;n>0&&(t=e.label+": ",e.optionsList.map((function(r,o){!0===r.selected&&(o<e.optionsList.length-1&&n>1?t+=r.label+" , ":t+=r.label)})),r.push(t))})),e={name:c.name,price:h,description:n.description,options:r,extraDetails:w},I.set((function(t){return[].concat(i()(t),[e])})),t.goBack(),a(n),f(c.price),C(null)},style:Ie.btn}),Object(O.jsx)(x.Button,{title:"Close",onPress:function(){return t.goBack()},style:Ie.btn})]})},Ie=f.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:10},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{marginBottom:25},dropDown:{marginBottom:25},h2White:{fontSize:17,color:"white"},h2Black:{fontSize:20,color:"black"}}),Be=function(e){var t=e.navigation;return Object(O.jsxs)(j.default,{children:[Object(O.jsx)(m.default,{children:"Settings Home"}),Object(O.jsx)(x.Button,{title:"Edit Categories",onPress:function(){return t.navigate("EditCategories")},style:{marginBottom:15}}),Object(O.jsx)(x.Button,{title:"Edit Products",onPress:function(){return t.navigate("EditProductList")},style:{marginBottom:15}}),Object(O.jsx)(x.Button,{title:"Edit Woocommerce Settings",onPress:function(){return t.navigate("EditWoocommerce")},style:{marginBottom:15}}),Object(O.jsx)(x.Button,{title:"Edit Store Details",onPress:function(){return t.navigate("StoreDetails")},style:{marginBottom:15}}),Object(O.jsx)(x.Button,{title:"View Transactions",onPress:function(){return t.navigate("Transactions")},style:{marginBottom:15}}),Object(O.jsx)(x.Button,{title:"Logout",onPress:Y,style:{marginBottom:15}})]})},Le=(f.default.create({}),function(e){var t=e.setongoingOrderListModal,n=v(),o=n.height,i=n.width,s=E.use(),c=Object(r.useState)(!1),a=l()(c,2),u=a[0],d=a[1],h=Object(r.useState)({element:null,index:null}),f=l()(h,2),p=f[0],b=f[1];return Object(O.jsx)(j.default,{style:{backgroundColor:"rgba(0, 0, 0, 0.3)",justifyContent:"center",alignItems:"center",height:o,width:i},children:Object(O.jsxs)(j.default,{style:{backgroundColor:"white",height:.7*o,width:.7*o,borderRadius:30,shadowColor:"rgba(0,0,0,1)",shadowOffset:{width:3,height:3},elevation:30,shadowOpacity:.57,shadowRadius:10},children:[Object(O.jsxs)(j.default,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[Object(O.jsx)(de.default,{onPress:function(){return t(!1)},name:"close",size:26,color:"rgba(74,74,74,1)",style:{width:"25%",marginLeft:20}}),Object(O.jsx)(x.Text,{style:{margin:25,fontSize:20,fontWeight:"600",width:"50%",textAlign:"center"},children:"Pending Orders"}),Object(O.jsx)(j.default,{style:{width:"25%"}})]}),Object(O.jsx)(g.default,{contentContainerStyle:Re.contentContainer,children:s?null==s?void 0:s.map((function(e,t){try{var n,r;if(e.id)if("-l"===(null==(n=e.id)?void 0:n.substr((null==(r=e.id)?void 0:r.length)-2,2))&&!1===e.completed&&!0!==e.cancelled){var o,i=e.date?new Date(1e3*e.date.seconds):e.date_created?new Date(e.date_created):null;return Object(O.jsxs)(j.default,{style:{backgroundColor:"rgba(243,243,243,1)",borderRadius:30,width:"100%",height:68,padding:30,flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:20},children:[Object(O.jsxs)(j.default,{style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"60%"},children:[Object(O.jsx)(x.Text,{children:null==(o=e.customer)?void 0:o.name}),Object(O.jsx)(x.Text,{children:null==i?void 0:i.toLocaleTimeString()})]}),Object(O.jsx)(j.default,{style:{borderRightWidth:1,height:35,backgroundColor:"black"}}),"pickupOrder"===e.method?Object(O.jsx)(de.default,{onPress:function(){if("pickupOrder"===e.method)d(!0),b({element:e,index:t});else{var n=structuredClone(s);n[t].completed=!0,J(n)}},name:"store",size:26,color:"rgba(74,74,74,1)"}):Object(O.jsx)(de.default,{onPress:function(){if("pickupOrder"===e.method)d(!0),b({element:e,index:t});else{var n=structuredClone(s);n[t].completed=!0,J(n)}},name:"car",size:26,color:"rgba(74,74,74,1)"}),Object(O.jsx)(de.default,{onPress:function(){var e=structuredClone(s);e[t].cancelled=!0,J(e)},name:"cancel",size:26,color:"rgba(74,74,74,1)"})]},t)}}catch(c){console.log("Error at complete phone order")}})):Object(O.jsx)(x.Text,{children:"No Orders Yet"})}),Object(O.jsx)(S.default,{visible:u,transparent:!0,children:Object(O.jsx)(U,{setChangeModal:d,setcurrentOrder:b,order:p.element,completeOrder:function(){var e=structuredClone(s);e[p.index].completed=!0,J(e),d(!1)},goBack:function(){b({element:null,index:null}),d(!1)}})})]})})}),Re=f.default.create({contentContainer:{justifyContent:"space-between",paddingLeft:50,paddingRight:50,paddingBottom:50,height:"95%",width:"100%",alignItems:"center"}}),Ee=Object(d.default)();function We(){return Object(O.jsxs)(Ee.Navigator,{children:[Object(O.jsx)(Ee.Screen,{name:"Home",component:se,options:{headerShown:!1}}),Object(O.jsx)(Ee.Screen,{name:"SettingsHome",component:Be}),Object(O.jsx)(Ee.Screen,{name:"EditCategories",component:ve}),Object(O.jsx)(Ee.Screen,{name:"EditProductList",component:ce}),Object(O.jsx)(Ee.Screen,{name:"AddProduct",component:Oe,options:{headerShown:!1}}),Object(O.jsx)(Ee.Screen,{name:"EditWoocommerce",component:ye}),Object(O.jsx)(Ee.Screen,{name:"StoreDetails",component:we}),Object(O.jsx)(Ee.Screen,{name:"Transactions",component:Xe}),Object(O.jsx)(Ee.Screen,{name:"ProductListing",component:De,options:{headerShown:!1}}),Object(O.jsx)(Ee.Screen,{name:"CompletePaymentPhoneOrder",component:Le})]})}var Fe=function(){return Object(O.jsx)(We,{})},ze=n(458),Ne=n.n(ze),_e=n(459),Ve=n.n(_e),Me=function(e){var t=e.containerStyle,n=e.titleStyle,r=e.title,o=e.onPress;return Object(O.jsx)(p.default,{style:[{backgroundColor:"rgba(51,81,243,1)",borderRadius:30,width:160,height:50,justifyContent:"center",alignItems:"center"},t&&t],onPress:o,children:Object(O.jsx)(m.default,{style:[{fontSize:18,color:"white",fontWeight:"600"},n&&n],children:r})})},Ae=function(e){var t=e.navigation,n=Object(r.useState)(),o=l()(n,2),i=o[0],s=o[1],c=Object(r.useState)(),a=l()(c,2),u=a[0],d=a[1],f=Object(r.useState)(!1),p=l()(f,2),b=p[0],g=p[1];return Object(O.jsxs)(j.default,{style:$e.container,children:[Object(O.jsx)(j.default,{style:$e.leftColorAccent}),Object(O.jsxs)(j.default,{style:$e.rightHalfContainer,children:[Object(O.jsxs)(j.default,{style:$e.loginContainer,children:[Object(O.jsx)(h.default,{source:Ve.a,style:{width:250,height:160,resizeMode:"contain"}}),Object(O.jsx)(x.Text,{style:{marginBottom:35,color:"rgba(155,155,155,1)",fontSize:20},children:"Online E-Transaction Point-of-Sale Software"}),Object(O.jsx)(x.Text,{style:{color:"rgba(0,0,0,1)",fontSize:20,marginBottom:10,fontWeight:"600",marginLeft:"3%"},children:"Login"}),Object(O.jsxs)(j.default,{style:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(241,241,241,1)",borderRadius:30,height:60,marginBottom:25},children:[Object(O.jsx)(j.default,{style:{width:60,alignItems:"center",justifyContent:"center",backgroundColor:"rgba(218,216,216,1)",borderRadius:30,height:60},children:Object(O.jsx)(ee.default,{name:"person-circle-outline",size:32,color:"rgba(71,106,229,1)"})}),Object(O.jsx)(x.TextInput,{placeholder:"Enter email",style:{width:"80%"},inputStyle:{backgroundColor:"rgba(241,241,241,1)"},value:i,onChangeText:function(e){return s(e)},autoCorrect:!1,textContentType:"emailAddress"})]}),Object(O.jsxs)(j.default,{style:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(241,241,241,1)",borderRadius:30,height:60,marginBottom:25},children:[Object(O.jsx)(j.default,{style:{width:60,alignItems:"center",justifyContent:"center",backgroundColor:"rgba(218,216,216,1)",borderRadius:30,height:60},children:Object(O.jsx)(ee.default,{name:"finger-print",size:32,color:"rgba(71,106,229,1)"})}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Password",style:{width:"75%"},inputStyle:{backgroundColor:"rgba(241,241,241,1)"},value:u,onChangeText:function(e){return d(e)},secureTextEntry:!b}),Object(O.jsx)(j.default,{style:{width:60,alignItems:"center",justifyContent:"center",height:60},children:b?Object(O.jsx)(ee.default,{name:"eye-off",size:32,color:"rgba(74,74,74,1)",onPress:function(){return g((function(e){return!e}))}}):Object(O.jsx)(ee.default,{name:"eye",size:32,color:"rgba(74,74,74,1)",onPress:function(){return g((function(e){return!e}))}})})]}),Object(O.jsx)(Me,{title:"Login",onPress:function(){i&&u&&function(e,t){q.signInWithEmailAndPassword(e,t)}(i,u)}}),Object(O.jsxs)(x.Text,{style:{color:"rgba(0,0,0,1)",fontSize:15,marginBottom:10,fontWeight:"400",marginLeft:"3%",marginTop:25},children:["Or"," ",Object(O.jsx)(x.Text,{style:{color:"blue"},onPress:function(){return t.navigate("Register")},children:"Register"})]})]}),Object(O.jsx)(h.default,{source:Ne.a,style:$e.img})]})]})},$e=f.default.create({container:{flex:1,height:"100%",width:"100%",backgroundColor:"white",flexWrap:"wrap",flexDirection:"row"},leftColorAccent:{backgroundColor:"rgba(31,35,48,1)",borderTopRightRadius:20,borderBottomRightRadius:20,width:"8%",height:"100%"},rightHalfContainer:{width:"92%",height:"100%",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",paddingLeft:70},loginContainer:{padding:20,shadowColor:"rgba(0,0,0,1)",shadowOffset:{height:0,width:3},elevation:150,shadowOpacity:.22,shadowRadius:50,borderRadius:30,backgroundColor:"rgba(255,255,255,1)",width:518,height:676},img:{height:768,width:541,resizeMode:"contain"}}),Ke=n(834);function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){le()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ge=function(e){var t=e.navigation,o=Object(r.useState)(),i=l()(o,2),s=i[0],c=i[1],a=Object(r.useState)(),u=l()(a,2),d=u[0],f=u[1],p=Object(r.useState)(!1),b=l()(p,2),g=b[0],m=b[1];return Object(O.jsx)(j.default,{style:qe.container,children:Object(O.jsxs)(Ke.SafeAreaView,{style:qe.safeareaContainer,children:[Object(O.jsx)(h.default,{source:n(593),style:qe.logo}),Object(O.jsxs)(j.default,{style:qe.innerContainer,children:[Object(O.jsx)(x.TextInput,{label:"Email",variant:"outlined",style:{width:"100%",marginBottom:10},value:s,onChangeText:function(e){return c(e)},autoCorrect:!1,textContentType:"emailAddress"}),Object(O.jsx)(x.TextInput,{label:"Password",variant:"outlined",trailing:function(e){return Object(O.jsx)(x.IconButton,He({onPress:function(){return m((function(e){return!e}))},icon:function(e){return Object(O.jsx)(de.default,He({name:"eye"},e))}},e))},value:d,onChangeText:function(e){return f(e)},secureTextEntry:!g,style:{width:"100%"}})]}),Object(O.jsxs)(j.default,{style:qe.innerContainer,children:[Object(O.jsx)(x.Button,{title:"Register",uppercase:!1,contentContainerStyle:{width:"100%",height:60,backgroundColor:"black",alignItems:"center",justifyContent:"center"},style:{marginBottom:10},onPress:function(){s&&d&&function(e,t){q.createUserWithEmailAndPassword(e,t).then((function(e){e.user&&Q.collection("users").doc(e.user.uid).set({paid:!0,products:[],categories:[],wooCredentials:{ck:null,cs:null,useWoocommerce:!1},transList:[],storeDetails:{name:null,address:null,phoneNumber:null,website:null,comSelected:null,deliveryPrice:null}})})).catch((function(e){return console.log(e)}))}(s,d)}}),Object(O.jsxs)(j.default,{style:{flexDirection:"row"},children:[Object(O.jsx)(x.Text,{variant:"subtitle1",style:{marginBottom:10},children:"Or"}),Object(O.jsx)(x.Text,{variant:"subtitle1",style:{marginBottom:10,marginLeft:5,color:"blue"},onPress:function(){return t.goBack()},children:"Go Back"})]})]})]})})},qe=f.default.create({container:{flex:1,height:"100%",width:"100%",backgroundColor:"white",justifyContent:"center",alignItems:"center"},safeareaContainer:{flex:1,height:"60%",width:"80%",justifyContent:"space-evenly",alignItems:"center"},logo:{width:250,resizeMode:"contain"},innerContainer:{width:"100%",justifyContent:"center",alignItems:"center"}}),Qe=function(e){var t=e.navigation;e.route,e.options,e.back;return Object(O.jsxs)(j.default,{style:{width:"100%",height:90,flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"rgba(31,35,48,1)",paddingLeft:40,paddingRight:40},children:[Object(O.jsx)(h.default,{source:ie.a,style:{width:250,height:160,resizeMode:"contain"}}),Object(O.jsx)(p.default,{style:{backgroundColor:"rgba(51,81,243,1)",borderRadius:30,width:160,height:50,justifyContent:"center",alignItems:"center"},onPress:function(){t.navigate("Login")},children:Object(O.jsx)(m.default,{style:{fontSize:18,color:"white",fontWeight:"600"},children:"Login"})})]})},Ze=function(){return Object(O.jsx)(j.default,{style:Je.main,children:Object(O.jsx)(m.default,{children:"WebHome"})})},Je=f.default.create({main:{flex:1,backgroundColor:"white"}});function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var et=Object(d.default)();function tt(){return Object(O.jsxs)(et.Navigator,{screenOptions:{header:function(e){return Object(O.jsx)(Qe,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){le()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))},headerMode:"screen"},children:[Object(O.jsx)(et.Screen,{name:"WebHome",component:Ze}),Object(O.jsx)(et.Screen,{name:"Login",component:Ae,options:{headerShown:!1}}),Object(O.jsx)(et.Screen,{name:"Register",component:Ge,options:{headerShown:!1}})]})}var nt=function(){var e=k.use(),t=F.use(),o=E.use(),s=N.use(),a=Object(r.useState)(!0),d=l()(a,2),h=d[0],f=d[1];return Object(r.useEffect)((function(){q.onAuthStateChanged((function(e){e?(D(e),Q.collection("users").doc(e.uid).get().then((function(e){R({products:e.data().products,categories:e.data().categories}),e.data().transList&&W(e.data().transList),e.data().wooCredentials&&z(e.data().wooCredentials),e.data().storeDetails&&_(e.data().storeDetails)})),setTimeout((function(){f(!1)}),1)):(D(null),R({products:null,categories:null}),setTimeout((function(){f(!1)}),1))}))}),[]),Object(r.useEffect)((function(){if(e){var t=Q.collection("users").doc(e.uid).onSnapshot((function(e){f(!0),R({products:e.data().products,categories:e.data().categories}),e.data().transList&&W(e.data().transList),e.data().wooCredentials&&z(e.data().wooCredentials),e.data().storeDetails&&_(e.data().storeDetails),setTimeout((function(){f(!1)}),1)}));return function(){return t()}}}),[e]),Object(r.useEffect)((function(){if(!0===t.useWoocommerce){var e=setInterval((function(){var e=new(n(594))({url:t.apiUrl,consumerKey:t.ck,consumerSecret:t.cs,wpAPI:!0,version:"wc/v1"}),r=1,a=[],l=function(){var t=c()((function*(){var t=yield e.getAsync("orders?page="+r+"&per_page=100"),n=JSON.parse(t.body);a=[].concat(i()(a),i()(n)),100===n.length?(r++,l()):console.log(a)}));return function(){return t.apply(this,arguments)}}();l().then((function(){var e=a,t=[];if(o.concat(e).reduce((function(e,n){return e.includes(n.id)||(e.push(n.id),t.push(n)),e}),[]),console.log("new array: ",t),t.length>o.length){console.log("new item");var r=structuredClone(t).splice(o.length,t.length-o.length);if(console.log("NEW ITEMS ",r),J(t),r.length>1)r.forEach((function(e){var t,r=[];r.push("\x1b@","\x1ba1",s.name,"\n",s.address+"\n",s.website+"\n",s.phoneNumber+"\n",e.date_created+"\n","\n","Online Order\n","Transaction # "+e.number+"\n","\n","\n","\n","\x1ba0"),null==(t=e.line_items)||t.map((function(e){var t;(r.push("\n"),r.push("Name: "+e.name),r.push("\n"),r.push("Quantity: "+e.quantity),r.push("\n"),r.push("Price: $"+e.price),r.push("\n"),e.meta)?null==(t=e.meta)||t.map((function(t,n){0===n?(r.push(t.key+" : "+t.value),e.meta[n+1].key!==t.key&&r.push("\n")):n!==e.meta.length-1&&(e.meta[n-1].key===t.key?r.push(" , "+t.value):r.push(t.key+" : "+t.value),e.meta[n+1].key!==t.key&&r.push("\n"))})):r.push("\n\n")})),r.push("\n"),r.push("\n"),r.push("Customer Details:"),r.push("\n"),r.push("Address: "+e.shipping.address_1),r.push("\n"),r.push("City: "+e.shipping.city),r.push("\n"),r.push("Zip/Postal Code: "+e.shipping.postcode),r.push("\n"),r.push("Province/State: "+e.shipping.state),r.push("\n"),r.push("Name: "+e.shipping.first_name+" "+e.shipping.last_name),r.push("\n"),e.shipping_lines.map((function(e){return r.push("Shipping Method: "+e.method_title)})),r.push("\n"),r.push("\n"),r.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e.payment_method_title+"\n\n","Total Including (13% Tax): $"+(parseFloat(e.total)+parseFloat(e.total_tax)).toFixed(2)+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n"),r.push("\x1dV\0");var o=n(117);o.websocket.connect().then((function(){var e=o.configs.create("storeDetails.comSelected");return o.print(e,r)})).then(o.websocket.disconnect).catch((function(e){console.error(e)}))}));else{var i,c=r[0],l=[];l.push("\x1b@","\x1ba1",s.name,"\n",s.address+"\n",s.website+"\n",s.phoneNumber+"\n",c.date_created+"\n","\n","Online Order\n","Transaction # "+c.number+"\n","\n","\n","\n","\x1ba0"),null==(i=c.line_items)||i.map((function(e){var t;(l.push("\n"),l.push("Name: "+e.name),l.push("\n"),l.push("Quantity: "+e.quantity),l.push("\n"),l.push("Price: $"+e.price),l.push("\n"),e.meta)?null==(t=e.meta)||t.map((function(t,n){0===n?(l.push(t.key+" : "+t.value),e.meta[n+1].key!==t.key&&l.push("\n")):n!==e.meta.length-1&&(e.meta[n-1].key===t.key?l.push(" , "+t.value):l.push(t.key+" : "+t.value),e.meta[n+1].key!==t.key&&l.push("\n"))})):l.push("\n\n")})),l.push("\n"),l.push("\n"),l.push("Customer Details:"),l.push("\n"),l.push("Address: "+c.shipping.address_1),l.push("\n"),l.push("City: "+c.shipping.city),l.push("\n"),l.push("Zip/Postal Code: "+c.shipping.postcode),l.push("\n"),l.push("Province/State: "+c.shipping.state),l.push("\n"),l.push("Name: "+c.shipping.first_name+" "+c.shipping.last_name),l.push("\n"),c.shipping_lines.map((function(e){return l.push("Shipping Method: "+e.method_title)})),l.push("\n"),l.push("\n"),l.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+c.payment_method_title+"\n\n","Total Including (13% Tax): $"+(parseFloat(c.total)+parseFloat(c.total_tax)).toFixed(2)+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n"),l.push("\x1dV\0");var u=n(117);u.websocket.connect().then((function(){var e=u.configs.create("storeDetails.comSelected");return u.print(e,l)})).then(u.websocket.disconnect).catch((function(e){console.error(e)}))}}}))}),5e3);return function(){return clearInterval(e)}}}),[t,o]),Object(O.jsx)(u.default,{children:h?Object(O.jsx)(Ce,{isModalVisible:!0}):Object(O.jsx)(O.Fragment,{children:e?Object(O.jsx)(Fe,{}):Object(O.jsx)(tt,{})})})};t.default=function(){return Object(O.jsx)(nt,{})}},479:function(e,t,n){e.exports=n(817)},593:function(e,t,n){e.exports=n.p+"static/media/pathblazer-logo.17137072.png"},610:function(e,t){},612:function(e,t){},621:function(e,t){},623:function(e,t){},648:function(e,t){},650:function(e,t){},651:function(e,t){},656:function(e,t){},658:function(e,t){},677:function(e,t){},689:function(e,t){},692:function(e,t){},697:function(e,t){},699:function(e,t){},722:function(e,t){}},[[479,1,2]]]);
//# sourceMappingURL=app.61aeb333.chunk.js.map