(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{328:function(e,t,n){e.exports=n.p+"static/media/pathblazer-logo.17137072.png"},457:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(15),i=n.n(o),a=n(40),c=n.n(a),s=n(8),l=n.n(s),u=n(824),d=n(9),p=n.n(d),f=n(816),h=n(11),j=n(7),b=n(16),g=n(2),m=function(e){var t=e.navigation,n=e.product,r=e.productIndex;return Object(g.jsx)(j.default,{children:Object(g.jsx)(b.Button,{title:n.name,onPress:function(){return t.navigate("ProductListing",{product:n})},style:O.touchable})},r)},O=h.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:10},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{marginBottom:25},dropDown:{marginBottom:25},h2White:{fontSize:17,color:"white"},h2Black:{fontSize:20,color:"black"}}),y=function(e){var t=e.navigation,n=e.section,r=e.catalog;return Object(g.jsx)(j.default,{style:x.container,children:Object(g.jsx)((function(){if(r.products&&r.products.length>0)return n?r.products.filter((function(e){return e.catagory===n})).map((function(e,n){return Object(g.jsx)(m,{product:e,productIndex:n,navigation:t},n)})):r.products.filter((function(e){return e.catagory===r.categories[0]})).map((function(e,n){return Object(g.jsx)(m,{product:e,productIndex:n,navigation:t},n)}))}),{})})},x=h.default.create({container:{backgroundColor:"white",flex:2,height:"100%"},wrapper:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",paddingLeft:50,paddingRight:50,height:"100%",width:"100%",alignItems:"center"}}),X=n(173),C=n(48),v=n(23),w=n(815),S=Object(w.default)(null),P=function(e){S.set(e)},T=Object(w.default)([]),D=function(e){T.set(e)},I=Object(w.default)({products:[],categories:[]}),k=function(e){I.set(e)},B=Object(w.default)([]),E=function(e){B.set(e)},L=Object(w.default)({apiUrl:null,ck:null,cs:null,useWoocommerce:!1}),W=function(e){L.set(e)},_=Object(w.default)({name:null,address:null,phoneNumber:null,website:null,comSelected:null,deliveryPrice:null}),N=function(e){_.set(e)},F=Object(w.default)(null),R=function(e){F.set(e)},V=n(292),A=function(e){var t=e.setDeliveryModal,n=e.setOngoingDelivery,r=e.setName,o=e.setPhone,i=e.setAddress,a=e.name,c=e.phone,s=e.address,l=e.deliveryChecked,u=e.setDeliveryChecked;return Object(g.jsxs)(C.default,{style:M.modalContainer,children:[Object(g.jsxs)(j.default,{style:M.sizeRow,children:[Object(g.jsx)(v.default,{children:"Enter Phone Order Details"}),Object(g.jsxs)(j.default,{children:[Object(g.jsx)(v.default,{children:"Delivery?"}),Object(g.jsx)(V.Switch,{value:l,onValueChange:function(){u(!l)}})]})]}),Object(g.jsx)(b.TextInput,{label:"Name",variant:"outlined",style:M.input,onChangeText:function(e){return r(e)},autoCorrect:!1,value:a}),Object(g.jsx)(b.TextInput,{label:"Phone #",variant:"outlined",style:M.input,onChangeText:function(e){return o(e)},autoCorrect:!1,value:c}),l&&Object(g.jsx)(b.TextInput,{label:"Address",variant:"outlined",style:M.input,onChangeText:function(e){return i(e)},autoCorrect:!1,value:s}),Object(g.jsx)(b.Button,{title:"Order",onPress:function(){t(!1),n(!0)},contentContainerStyle:M.btn,style:{margin:25}}),Object(g.jsx)(b.Button,{title:"Cancel",onPress:function(){t(!1),n(null)},contentContainerStyle:M.btn,style:{margin:25}})]})},M=h.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:25},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{height:40,justifyContent:"center",alignItems:"center"},input:{marginTop:25,marginBottom:25}}),z=function(e){var t=e.setCashModal,n=e.GetTrans,o=e.total,i=e.setChangeDue,a=Object(r.useState)(""),c=l()(a,2),s=c[0],u=c[1];return Object(g.jsxs)(C.default,{style:$.modalContainer,children:[Object(g.jsx)(j.default,{style:$.sizeRow,children:Object(g.jsx)(v.default,{children:"Cash Payment Details"})}),Object(g.jsxs)(v.default,{children:["Total: ",o]}),Object(g.jsx)(b.TextInput,{label:"Enter Cash Given",variant:"outlined",style:$.input,onChangeText:function(e){u(e),i((parseFloat(e)-o).toFixed(2))},autoCorrect:!1,value:s}),Object(g.jsxs)(v.default,{children:["Change Due:"," ",parseFloat(s)>o&&(parseFloat(s)-o).toFixed(2)]}),Object(g.jsx)(b.Button,{title:"Print",onPress:function(){n("Cash"),t(!1)},contentContainerStyle:$.btn,style:{margin:25}}),Object(g.jsx)(b.Button,{title:"Cancel",onPress:function(){return t(!1)},contentContainerStyle:$.btn,style:{margin:25}})]})},$=h.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:25},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{height:40,justifyContent:"center",alignItems:"center"},input:{marginTop:25,marginBottom:25}}),J=function(e){var t=e.setChangeModal,n=Object(r.useState)(""),o=l()(n,2),i=o[0],a=o[1],c=Object(r.useState)(""),s=l()(c,2),u=s[0],d=s[1],p=_.use();return Object(g.jsxs)(C.default,{style:K.modalContainer,children:[Object(g.jsx)(j.default,{style:K.sizeRow,children:Object(g.jsx)(v.default,{children:"Cash Payment Details"})}),Object(g.jsx)(b.TextInput,{label:"Enter Total",variant:"outlined",style:K.input,onChangeText:function(e){return a(e)},autoCorrect:!1,value:i}),Object(g.jsx)(b.TextInput,{label:"Enter Cash Given",variant:"outlined",style:K.input,onChangeText:function(e){return d(e)},autoCorrect:!1,value:u}),Object(g.jsxs)(v.default,{children:["Change Due: ",(parseFloat(u)-i).toFixed(2)]}),Object(g.jsx)(b.Button,{title:"Open Cash",onPress:function(){!function(){var e=["\x1b@","\x1ba1",p.name,"\n",p.address+"\n",p.website+"\n",p.phoneNumber+"\n","\n","\n","\n","\n","\x1ba0","Total: $"+i+"\n","Cash Given: $"+u+"\n","Change Due: $"+(parseFloat(u)-parseFloat(i)).toFixed(2)+"\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0","\x10\x14\x01\0\x05"];fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:e,comSelected:p.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")}))}(),t(!1)},contentContainerStyle:K.btn,style:{margin:25}}),Object(g.jsx)(b.Button,{title:"Cancel",onPress:function(){return t(!1)},contentContainerStyle:K.btn,style:{margin:25}})]})},K=h.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:25},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{height:40,justifyContent:"center",alignItems:"center"},input:{marginTop:25,marginBottom:25}}),U=n(246);n(807),n(564);U.default.initializeApp({apiKey:"AIzaSyDmtlrkfZRbFy8P7D4BFXTIkzMDC_DP5n8",authDomain:"posmate-5fc0a.firebaseapp.com",projectId:"posmate-5fc0a",storageBucket:"posmate-5fc0a.appspot.com",messagingSenderId:"48463376409",appId:"1:48463376409:web:b427a4fbc3c210a5977a88"});var G=U.default.auth(),q=U.default.firestore(),Q=function(e,t){return new Promise((function(n,r){var o;q.collection("users").doc(null==(o=G.currentUser)?void 0:o.uid).update({products:t,categories:e}).then((function(){return n("Promise resolved!")})).catch((function(){return r("Promise rejected!")}))}))},Z=function(e){var t;q.collection("users").doc(null==(t=G.currentUser)?void 0:t.uid).update({transList:e})},Y=function(){var e=Object(r.useState)(!1),t=l()(e,2),n=t[0],o=t[1],i=Object(r.useState)(!1),a=l()(i,2),s=a[0],u=a[1],d=Object(r.useState)(!1),p=l()(d,2),f=p[0],h=p[1],m=Object(r.useState)(null),O=l()(m,2),y=O[0],x=O[1],w=Object(r.useState)(),S=l()(w,2),P=S[0],I=S[1],k=Object(r.useState)(),E=l()(k,2),L=E[0],W=E[1],N=Object(r.useState)(),F=l()(N,2),R=F[0],V=F[1],M=Object(r.useState)(!1),$=l()(M,2),K=$[0],U=$[1],G=Object(r.useState)(),q=l()(G,2),Q=q[0],Y=q[1],ee=T.use(),te=B.use(),ne=_.use(),re=Object(r.useState)(0),oe=l()(re,2),ie=oe[0],ae=oe[1];Object(r.useEffect)((function(){if(ee.length>0){for(var e=0,t=0;t<ee.length;t++)e+=parseFloat(ee[t].price);ae(e)}else ae(0)}),[ee]);var ce=function(){var e=c()((function*(e){var t=structuredClone(te);console.log("trans: ",t),console.log("Payload: ",e),t.push(e),Z(t)}));return function(t){return e.apply(this,arguments)}}(),se=function(e){var t=(null==te?void 0:te.length)+1;if("deliveryOrder"===e){var n=ne.deliveryPrice>0?parseFloat(ne.deliveryPrice):0,r=new Date,i=["\x1b@","\x1ba1",ne.name,"\n",ne.address+"\n",ne.website+"\n",ne.phoneNumber+"\n",r.toLocaleDateString()+" "+r.toLocaleTimeString()+"\n","\n","Transaction # "+t+"\n","\n","Delivery Order: $"+ne.deliveryPrice+" Fee\n","\n","\n","\n","\x1ba0"];ee.map((function(e){n+=parseFloat(e.price),i.push("Name: "+e.name),i.push("Price: $"+e.price),e.description&&(i.push("\n"),i.push(e.description)),e.options&&(i.push("\n"),e.options.map((function(e){i.push(e),i.push("\n")}))),e.extraDetails&&(i.push(e.extraDetails),i.push("\n")),i.push("\n\n")})),n=(n*=1.13).toFixed(2),i.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Customer Name: "+P,"\n\n","Customer Phone #:  "+L,"\n\n","Customer Address #:  "+R,"\n\n","Total Including (13% Tax): "+n+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:i,comSelected:ne.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")})),ce({date:r,transNum:t,total:n,method:"deliveryOrder",cart:ee}),D([]),o(!1)}else if("pickupOrder"===e){var a=0,c=new Date,s=["\x1b@","\x1ba1",ne.name,"\n",ne.address+"\n",ne.website+"\n",ne.phoneNumber+"\n",c.toLocaleDateString()+" "+c.toLocaleTimeString()+"\n","\n","Transaction # "+t+"\n","\n","Pickup Order\n","\n","\n","\n","\x1ba0"];ee.map((function(e){a+=parseFloat(e.price),s.push("Name: "+e.name),s.push("Price: $"+e.price),e.description&&(s.push("\n"),s.push(e.description)),e.options&&(s.push("\n"),e.options.map((function(e){s.push(e),s.push("\n")}))),e.extraDetails&&(s.push(e.extraDetails),s.push("\n")),s.push("\n\n")})),a=(a*=1.13).toFixed(2),s.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Customer Name: "+P,"\n\n","Customer Phone #:  "+L,"\n\n","Total Including (13% Tax): "+a+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:s,comSelected:ne.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")})),ce({date:c,transNum:t,total:a,method:"pickupOrder",cart:ee}),D([]),o(!1)}else{var l=0,u=new Date,d=["\x1b@","\x1ba1",ne.name,"\n",ne.address+"\n",ne.website+"\n",ne.phoneNumber+"\n",u.toLocaleDateString()+" "+u.toLocaleTimeString()+"\n","\n","Transaction # "+t+"\n","\n","\n","\n","\x1ba0"];ee.map((function(e){l+=parseFloat(e.price),d.push("Name: "+e.name),d.push("\n"),d.push("Price: $"+e.price),e.description&&(d.push("\n"),d.push(e.description)),e.options&&(d.push("\n"),e.options.map((function(e){d.push(e),d.push("\n")}))),e.extraDetails&&(d.push(e.extraDetails),d.push("\n")),d.push("\n\n")})),l=(l*=1.13).toFixed(2),"Cash"===e?d.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e+"\n\n","Total Including (13% Tax): $"+l+"\n\n","Change Due: $"+Q+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0","\x10\x14\x01\0\x05"):d.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e+"\n\n","Total Including (13% Tax): $"+l+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:d,comSelected:ne.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")})),ce({date:u,transNum:t,total:l,method:e,cart:ee})}D([])};return Object(g.jsx)(j.default,{style:H.container,children:Object(g.jsxs)(C.default,{style:H.container,contentContainerStyle:H.contentContainer,children:[Object(g.jsx)(j.default,{children:ee.map((function(e,t){return Object(g.jsxs)(j.default,{style:{marginBottom:20},children:[Object(g.jsxs)(v.default,{children:["Name: ",e.name]}),Object(g.jsxs)(v.default,{children:["Price: ",e.price]}),e.description&&Object(g.jsxs)(v.default,{children:["Description: ",e.description]}),e.options&&e.options.map((function(e){return Object(g.jsx)(v.default,{children:e})})),e.extraDetails&&Object(g.jsx)(v.default,{children:e.extraDetails}),Object(g.jsx)(v.default,{style:{color:"blue"},onPress:function(){var e=structuredClone(ee);e.splice(t,1),D(e)},children:"Remove"})]})}))}),Object(g.jsxs)(j.default,{children:[Object(g.jsxs)(v.default,{children:["Sub: ",ie.toFixed(2)]}),Object(g.jsxs)(v.default,{children:["Total: ",(1.13*ie).toFixed(2)]}),Object(g.jsx)(b.Button,{title:"Cash",onPress:function(){return u(!0)},disabled:ee.length<1||y,style:{marginBottom:20}}),Object(g.jsx)(b.Button,{title:"Card",onPress:function(){return se("Card")},disabled:ee.length<1||y,style:{marginBottom:20}}),Object(g.jsx)((function(){return null===y?Object(g.jsx)(b.Button,{title:"Phone Order",onPress:function(){return o(!0)},disabled:ee.length>0,style:{marginBottom:20}}):y&&ee.length>0?Object(g.jsx)(b.Button,{title:"Complete",onPress:function(){se(K?"deliveryOrder":"pickupOrder"),x(null),I(null),W(null),V(null)},style:{marginBottom:20}}):Object(g.jsx)(b.Button,{title:"Cancel",onPress:function(){return x(null)},style:{marginBottom:20}})}),{}),Object(g.jsx)(b.Button,{title:"Change",onPress:function(){return h(!0)},disabled:ee.length>0||y})]}),Object(g.jsx)(X.default,{visible:n,children:Object(g.jsx)(A,{setDeliveryModal:o,setOngoingDelivery:x,setName:I,setPhone:W,setAddress:V,name:P,phone:L,address:R,deliveryChecked:K,setDeliveryChecked:U})}),Object(g.jsx)(X.default,{visible:s,children:Object(g.jsx)(z,{setCashModal:u,GetTrans:function(){return se("Cash")},total:(1.13*ie).toFixed(2),setChangeDue:Y})}),Object(g.jsx)(X.default,{visible:f,children:Object(g.jsx)(J,{setChangeModal:h})})]})})},H=h.default.create({container:{backgroundColor:"lightgrey",flex:1,height:"100%"},contentContainer:{backgroundColor:"lightgrey",flex:1,height:"100%",justifyContent:"space-between",padding:20}}),ee=function(e){var t=e.navigation,n=I.use(),r=F.use();return Object(g.jsx)(j.default,{style:te.container,children:Object(g.jsx)((function(){return Object(g.jsxs)(j.default,{style:{flexDirection:"row",height:"100%"},children:[Object(g.jsx)(y,{catalog:n,section:r,navigation:t}),Object(g.jsx)(Y,{})]})}),{})})},te=h.default.create({container:{backgroundColor:"white",flex:1}}),ne=n(58),re=function(e){var t=e.navigation,n=I.use();return Object(g.jsxs)(C.default,{style:{padding:25},children:[Object(g.jsx)(v.default,{style:{fontSize:17,fontWeight:"600"},children:"Current Products"}),n.categories.length>0?n.products.map((function(e,r){return Object(g.jsxs)(j.default,{style:{flexDirection:"row",justifyContent:"space-between",padding:15,margin:10,backgroundColor:"lightgrey"},children:[Object(g.jsxs)(v.default,{style:{fontSize:17},children:["Product: ",e.name]}),Object(g.jsxs)(j.default,{style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"20%"},children:[Object(g.jsx)(b.Button,{title:"Duplicate",onPress:function(){var t=structuredClone(e);t.name=t.name+" Copy",Q(i()(n.categories),[].concat(i()(n.products),[t]))},style:{margin:10}}),Object(g.jsx)(b.Button,{title:"Edit",onPress:function(){return t.navigate("AddProduct",{existingProduct:e,existingProductIndex:r})},style:{margin:10}}),Object(g.jsx)(ne.default,{onPress:function(){return function(e){var t=structuredClone(n);t.products.splice(e,1),Q(t.categories,t.products)}(r)},style:{justifyContent:"center",alignItems:"center",borderRadius:3,backgroundColor:"red",padding:10,margin:10},children:Object(g.jsx)(v.default,{style:{color:"white",fontWeight:"600",fontSize:18},children:"X"})})]})]})})):Object(g.jsx)(v.default,{style:{marginTop:50,marginBottom:50},children:"You must add a category before you can add a product..."}),n.products.length<1&&n.categories.length>0&&Object(g.jsx)(v.default,{style:{marginTop:50,marginBottom:50},children:"You have no products..."}),Object(g.jsx)(b.Button,{title:"Add New Product",onPress:function(){return t.navigate("AddProduct")},style:{margin:10},disabled:n.categories.length<1})]})},oe=(h.default.create({}),n(136)),ie=n(135);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ce=function(e){var t=e.label,n=e.options,o=e.setValue,i=e.value,a=e.style,c=Object(r.useState)(!1),s=l()(c,2),u=s[0],d=s[1];return Object(g.jsxs)(j.default,{style:[se.container,a],children:[Object(g.jsx)(b.ListItem,{title:i||t,trailing:function(e){return Object(g.jsx)(ie.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:u?"chevron-up":"chevron-down"},e))},onPress:function(){return d((function(e){return!e}))}}),u&&Object(g.jsx)(g.Fragment,{children:n.map((function(e){return Object(g.jsx)(b.ListItem,{title:e,onPress:function(){o(e),d(!1)}})}))})]})},se=h.default.create({container:{backgroundColor:"white"}});function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var de=function(e){var t=e.item,n=e.index,o=e.setnewProduct,i=e.newProduct,a=e.newProductOptions,c=e.indexOn,s=e.setindexOn;if(c===n){var u=Object(r.useState)([]),d=l()(u,2),p=d[0],f=d[1],h=Object(r.useState)(t),m=l()(h,2),O=m[0],y=m[1],x=Object(r.useState)(structuredClone(t.optionsList)),X=l()(x,2),C=X[0],w=X[1],S=i.options.map((function(e){if(e.label!==O.label&&null!==e.label)return e.label}));return Object(r.useEffect)((function(){if(null!==O.selectedCaseKey)if(i.options.length>1){var e=i.options.filter((function(e){return e.label==O.selectedCaseKey})),t=e.length>0&&e[0].optionsList.map((function(e){return e.label}));f(t)}else a.current[n].selectedCaseKey=null,a.current[n].selectedCaseValue=null}),[O]),Object(g.jsx)(j.default,{children:Object(g.jsxs)(j.default,{style:{padding:25,margin:15,backgroundColor:"lightgrey"},children:[Object(g.jsxs)(ne.default,{onPress:function(){return s(c!==n?n:null)},style:{padding:25,margin:15,backgroundColor:"lightgrey",flexDirection:"row",justifyContent:"space-between",height:100},children:[Object(g.jsx)(v.default,{children:t.label}),Object(g.jsx)(ne.default,{onPress:function(){a.current.push(ue(ue({},t),{},{label:t.label+" Copy"})),o((function(e){return ue(ue({},e),{},{options:a.current})})),s(a.current.length-1)},children:Object(g.jsx)(v.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"Copy"})}),Object(g.jsx)(ne.default,{onPress:function(){a.current.splice(n,1),o((function(e){return ue(ue({},e),{},{options:a.current})})),s(c-1)},children:Object(g.jsx)(v.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"X"})}),Object(g.jsx)(ne.default,{onPress:function(){!function(e,t){var n=a.current.splice(e,1)[0];a.current.splice(t,0,n)}(n,n+1),o((function(e){return ue(ue({},e),{},{options:a.current})})),s(null)},children:Object(g.jsx)(v.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"\\/"})}),Object(g.jsx)(ne.default,{onPress:function(){!function(e,t){var n=a.current.splice(e,1)[0];a.current.splice(t,0,n)}(n,n-1),o((function(e){return ue(ue({},e),{},{options:a.current})})),s(null)},children:Object(g.jsx)(v.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"/\\"})})]}),Object(g.jsx)(b.TextInput,{placeholder:"Enter Select List Label",onChangeText:function(e){y((function(t){return ue(ue({},t),{},{label:e})})),a.current[n].label=e},value:O.label,style:{marginBottom:25}}),Object(g.jsx)(ce,{label:"Option Type",options:["Standard","Dropdown"],setValue:function(e){O.optionType?a.current[n].optionType=e:(a.current[n]=ue(ue({},O),{},{optionType:e}),console.log(a.current[n].optionType)),o((function(e){return ue(ue({},e),{},{options:a.current})}))},value:O.optionType,style:{marginBottom:25}}),Object(g.jsx)(b.TextInput,{placeholder:"Enter Number Of Selectable; If There Is",onChangeText:function(e){y((function(t){return ue(ue({},t),{},{numOfSelectable:e})})),a.current[n].numOfSelectable=e},value:O.numOfSelectable,style:{marginBottom:25}}),C.map((function(e,t){var r=structuredClone(e);return Object(g.jsxs)(j.default,{style:{flexDirection:"row",marginBottom:25,alignItems:"center"},children:[Object(g.jsx)(b.TextInput,{placeholder:"Enter Option Label",onChangeText:function(e){var r=structuredClone(C);r[t].label=e,a.current[n].optionsList=r,w(r)},value:r.label}),Object(g.jsx)(b.TextInput,{placeholder:"Enter price increase",onChangeText:function(e){var r=structuredClone(C);r[t].priceIncrease=e,a.current[n].optionsList=r,w(r)},value:r.priceIncrease,style:{marginLeft:20,marginRight:20}}),Object(g.jsx)(ne.default,{onPress:function(){var e=structuredClone(C);e.splice(t,1),a.current[n].optionsList=e,w(e)},children:Object(g.jsx)(v.default,{style:{fontWeight:"700",color:"red"},children:"X"})})]})})),Object(g.jsx)(b.Button,{title:"Add Option Choice",onPress:function(){var e=structuredClone(C);e.push({label:null,priceIncrease:null}),a.current[n].optionsList=e,w(e)},style:{marginBottom:25}}),S.length>1&&Object(g.jsxs)(j.default,{style:{flexDirection:"row",justifyContent:"space-between",marginBottom:25},children:[Object(g.jsx)(ce,{label:"Show if...",options:S,setValue:function(e){y((function(t){return ue(ue({},t),{},{selectedCaseKey:e})})),a.current[n].selectedCaseKey=e},value:O.selectedCaseKey,style:{marginBottom:25}}),Object(g.jsx)(v.default,{children:'"="'}),Object(g.jsx)(ce,{label:"Show if...",options:p,setValue:function(e){y((function(t){return ue(ue({},t),{},{selectedCaseValue:e})})),a.current[n].selectedCaseValue=e},value:O.selectedCaseValue,style:{marginBottom:25}})]})]})})}return Object(g.jsxs)(ne.default,{onPress:function(){return s(c!==n?n:null)},style:{padding:25,margin:15,backgroundColor:"lightgrey",flexDirection:"row",justifyContent:"space-between",height:100},children:[Object(g.jsx)(v.default,{children:t.label}),Object(g.jsx)(ne.default,{onPress:function(){a.current.push(ue(ue({},t),{},{label:t.label+" Copy"})),o((function(e){return ue(ue({},e),{},{options:a.current})})),s(a.current.length-1)},children:Object(g.jsx)(v.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"Copy"})}),Object(g.jsx)(ne.default,{onPress:function(){a.current.splice(n,1),o((function(e){return ue(ue({},e),{},{options:a.current})})),s(c-1)},children:Object(g.jsx)(v.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"X"})}),Object(g.jsx)(ne.default,{onPress:function(){!function(e,t){var n=a.current.splice(e,1)[0];a.current.splice(t,0,n)}(n,n+1),o((function(e){return ue(ue({},e),{},{options:a.current})})),s(null)},children:Object(g.jsx)(v.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"\\/"})}),Object(g.jsx)(ne.default,{onPress:function(){!function(e,t){var n=a.current.splice(e,1)[0];a.current.splice(t,0,n)}(n,n-1),o((function(e){return ue(ue({},e),{},{options:a.current})})),s(null)},children:Object(g.jsx)(v.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"/\\"})})]})};function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he=function(e){var t=e.route,n=e.navigation,o=t.params?t.params:{existingProduct:null,existingProductIndex:null},a=o.existingProduct,c=o.existingProductIndex,s=I.use(),u=Object(r.useState)(a||{name:null,price:null,catagory:null,options:[],description:null}),d=l()(u,2),p=d[0],f=d[1],h=Object(r.useRef)(a?a.options:[]),m=Object(r.useState)(0),O=l()(m,2),y=O[0],x=O[1];function X(e){if(e)Q(i()(s.categories),[].concat(i()(s.products),[e])),n.goBack();else if(a){var t=structuredClone(s.products),r=fe(fe({},p),{},{options:h.current});t[c]=r,Q(i()(s.categories),t),n.goBack()}else Q(i()(s.categories),[].concat(i()(s.products),[p])),n.goBack()}return Object(g.jsx)(C.default,{style:{width:"100%",height:"100%",flex:1},contentContainerStyle:{width:"93%",alignSelf:"center",marginTop:25},children:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(j.default,{style:{flexDirection:"row",padding:20,justifyContent:"space-between",alignItems:"center"},children:[Object(g.jsx)(ne.default,{onPress:function(){return n.goBack()},children:Object(g.jsx)(v.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"X"})}),Object(g.jsx)(ne.default,{onPress:function(){var e=structuredClone(p);e.name=e.name+" Copy",X(e)},children:Object(g.jsx)(v.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"Copy"})}),Object(g.jsx)(v.default,{style:{marginBottom:25},children:"AddProduct"})]}),Object(g.jsx)(b.TextInput,{placeholder:"Enter Product Name",onChangeText:function(e){f((function(t){return fe(fe({},t),{},{name:e})}))},value:p.name,style:{marginBottom:25}}),Object(g.jsx)(b.TextInput,{placeholder:"Enter any other items that come with this",onChangeText:function(e){f((function(t){return fe(fe({},t),{},{description:e})}))},style:{marginBottom:25},value:p.description}),Object(g.jsx)(b.TextInput,{placeholder:"Enter Product Price",onChangeText:function(e){f((function(t){return fe(fe({},t),{},{price:e})}))},style:{marginBottom:25},value:p.price}),Object(g.jsx)(ce,{label:"Choose catagory",options:s.categories,setValue:function(e){f((function(t){return fe(fe({},t),{},{catagory:e})}))},value:p.catagory,style:{marginBottom:25}}),Object(g.jsx)((function(){return Object(g.jsxs)(j.default,{children:[Object(g.jsx)(oe.default,{getItemLayout:function(e,t){var n;return{length:t===y?400*(null==(n=e.optionsList)?void 0:n.length):100,offset:400*t,index:t}},data:p.options,keyExtractor:function(e){var t;return null==(t=e.id)?void 0:t.toString()},renderItem:function(e){var t=e.item,n=e.index;return Object(g.jsx)(de,{item:t,index:n,newProduct:p,setnewProduct:f,newProductOptions:h,indexOn:y,setindexOn:x})}}),Object(g.jsx)(b.Button,{title:"Add Product Option",onPress:function(){h.current.push({label:null,optionsList:[],selectedCaseKey:null,selectedCaseValue:null,numOfSelectable:null,id:Math.random().toString(36).substr(2,9),optionType:null}),f((function(e){return fe(fe({},e),{},{options:h.current})})),x(h.current.length-1)},style:{marginBottom:25}})]})}),{}),Object(g.jsx)(b.Button,{title:"Add/Save Product",onPress:function(){X()},style:{marginBottom:25,marginTop:25,backgroundColor:"lightgreen"}})]})})},je=(h.default.create({}),function(){var e=L.use(),t=Object(r.useState)(e.apiUrl),n=l()(t,2),o=n[0],i=n[1],a=Object(r.useState)(e.ck),c=l()(a,2),s=c[0],u=c[1],d=Object(r.useState)(e.cs),p=l()(d,2),f=p[0],h=p[1],j=Object(r.useState)(e.useWoocommerce),m=l()(j,2),O=m[0],y=m[1];return Object(g.jsxs)(C.default,{style:{padding:25},children:[Object(g.jsx)(v.default,{style:{fontSize:17,fontWeight:"600"},children:"Current categories"}),Object(g.jsx)(b.TextInput,{placeholder:"Enter Woocommerce 'API Url'",onChangeText:function(e){return i(e)},style:{margin:10},value:o}),Object(g.jsx)(b.TextInput,{placeholder:"Enter Woocommerce 'CK'",onChangeText:function(e){return u(e)},style:{margin:10},value:s}),Object(g.jsx)(b.TextInput,{placeholder:"Enter Woocommerce 'CS'",onChangeText:function(e){return h(e)},style:{margin:10},value:f}),Object(g.jsx)(b.Switch,{value:O,onValueChange:function(e){return y(e)}}),Object(g.jsx)(b.Button,{title:"Save",onPress:function(){null!==o&&null!==s&&null!==f&&(W({apiUrl:o,ck:s,cs:f,useWoocommerce:O}),function(e){var t;q.collection("users").doc(null==(t=G.currentUser)?void 0:t.uid).update({wooCredentials:e})}({apiUrl:o,ck:s,cs:f,useWoocommerce:O}))},style:{margin:10}})]})}),be=function(){var e=_.use(),t=Object(r.useState)(e.name),n=l()(t,2),o=n[0],i=n[1],a=Object(r.useState)(e.phoneNumber),c=l()(a,2),s=c[0],u=c[1],d=Object(r.useState)(e.address),p=l()(d,2),f=p[0],h=p[1],j=Object(r.useState)(e.website),m=l()(j,2),O=m[0],y=m[1],x=Object(r.useState)(e.deliveryPrice),X=l()(x,2),w=X[0],S=X[1],P=Object(r.useState)(e.comSelected),T=l()(P,2),D=T[0],I=T[1];return Object(g.jsxs)(C.default,{style:{padding:25},children:[Object(g.jsx)(v.default,{style:{fontSize:17,fontWeight:"600"},children:"Current categories"}),Object(g.jsx)(b.TextInput,{placeholder:"Enter Store Name",onChangeText:function(e){return i(e)},style:{margin:10},value:o}),Object(g.jsx)(b.TextInput,{placeholder:"Enter Store Website Url",onChangeText:function(e){return y(e)},style:{margin:10},value:O}),Object(g.jsx)(b.TextInput,{placeholder:"Enter Store Phone Number",onChangeText:function(e){return u(e)},style:{margin:10},value:s}),Object(g.jsx)(b.TextInput,{placeholder:"Enter Store Address",onChangeText:function(e){return h(e)},style:{margin:10},value:f}),Object(g.jsx)(b.TextInput,{placeholder:"Enter Delivery Price",onChangeText:function(e){return S(e)},style:{margin:10},value:w}),Object(g.jsx)(ce,{options:["COM1","COM2","COM3","COM4","COM5","COM6","What Cum?"],label:"Pick Printer COM",value:D,setValue:I}),Object(g.jsx)(b.Button,{title:"Save",onPress:function(){null!==o&&null!==s&&null!==f&&(N({name:o,phoneNumber:s,address:f,website:O,deliveryPrice:w,comSelected:D}),function(e){var t;q.collection("users").doc(null==(t=G.currentUser)?void 0:t.uid).update({storeDetails:e})}({name:o,phoneNumber:s,address:f,website:O,deliveryPrice:w,comSelected:D}))},style:{margin:10}})]})},ge=function(e){var t=e.isModalVisible;return Object(g.jsx)(X.default,{visible:t,transparent:!0,children:Object(g.jsxs)(j.default,{style:{alignItems:"center",justifyContent:"center",flex:1,backgroundColor:"rgba(52, 52, 52, 0.8)"},children:[Object(g.jsx)("style",{children:".loader {\n  border: 16px solid #f3f3f3;\n  border-radius: 50%;\n  border-top: 16px solid #3498db;\n  width: 120px;\n  height: 120px;\n  -webkit-animation: spin 2s linear infinite; /* Safari */\n  animation: spin 2s linear infinite;\n}\n\n/* Safari */\n@-webkit-keyframes spin {\n  0% { -webkit-transform: rotate(0deg); }\n  100% { -webkit-transform: rotate(360deg); }\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}"}),Object(g.jsx)("div",{className:"loader"})]})})},me=(h.default.create({}),function(){var e=I.use(),t=Object(r.useState)(),n=l()(t,2),o=n[0],a=n[1],c=Object(r.useState)(!1),s=l()(c,2),u=s[0],d=s[1];return Object(g.jsxs)(C.default,{style:{padding:25},children:[Object(g.jsx)(v.default,{style:{fontSize:17,fontWeight:"600"},children:"Current categories"}),e.categories.map((function(t,n){return Object(g.jsxs)(j.default,{style:{flexDirection:"row",justifyContent:"space-between",padding:15,margin:10,backgroundColor:"lightgrey"},children:[Object(g.jsx)(v.default,{style:{fontSize:17},children:t}),Object(g.jsx)(ne.default,{onPress:function(){return function(t){var n=structuredClone(e);n.categories.splice(t,1),Q(n.categories,n.products),d(!0)}(n)},style:{justifyContent:"center",alignItems:"center"},children:Object(g.jsx)(v.default,{style:{color:"red",fontWeight:"600"},children:"Remove X"})})]})})),Object(g.jsx)(b.TextInput,{placeholder:"Enter New Category",onChangeText:function(e){return a(e)},style:{margin:10}}),Object(g.jsx)(b.Button,{title:"Add New Category",onPress:function(){Q([].concat(i()(e.categories),[o]),e.products),d(!0)},style:{margin:10}}),Object(g.jsx)(ge,{isModalVisible:u})]})}),Oe=(h.default.create({}),function(){var e=B.use(),t=Object(r.useState)([]),n=l()(t,2),o=n[0],i=n[1],a=new Date,c=Object(r.useState)({todaysReceiptValue:0,todaysReceipts:0}),s=l()(c,2),u=s[0],d=s[1],p=_.use();Object(r.useEffect)((function(){if((null==e?void 0:e.length)>0){e.sort((function(e,t){if(e.date&&t.date)return e.date.seconds-t.date.seconds;if(e.date&&t.date_created){var n=new Date(t.date_created).getTime()/1e3;return e.date.seconds-n}return e.date_created&&t.date?new Date(e.date_created).getTime()/1e3-t.date.seconds:new Date(e.date_created).getTime()/1e3-new Date(t.date_created).getTime()/1e3})).reverse(),i(e);var t=e.reduce((function(e,t){return(t.date?new Date(1e3*t.date.seconds):new Date(t.date_created)).toLocaleDateString()===a.toLocaleDateString()?e+parseFloat(t.total):e}),0),n=e.reduce((function(e,t){return(t.date?new Date(1e3*t.date.seconds):new Date(t.date_created)).toLocaleDateString()===a.toLocaleDateString()?e+1:e}),0);d({todaysReceiptValue:t.toFixed(2),todaysReceipts:n})}}),[e]);return Object(g.jsxs)(j.default,{style:ye.container,children:[Object(g.jsx)(b.Text,{style:{textAlign:"center",margin:25},children:"List Of Transactions"}),Object(g.jsxs)(j.default,{style:{flexDirection:"row",width:"100%",alignItems:"center",justifyContent:"center"},children:[Object(g.jsxs)(b.Text,{style:{textAlign:"center",margin:25},children:["Todays Total Price: ",u.todaysReceiptValue]}),Object(g.jsx)(b.Button,{style:{height:40,alignItems:"center",justifyContent:"center"},title:"Print Todays Receipts",onPress:function(){var e=["\x1b@","\x1ba1",p.name,"\n",p.address+"\n",p.website+"\n",p.phoneNumber+"\n",a.toLocaleDateString()+" "+a.toLocaleTimeString()+"\n","\n","\n","\n","\n","\x1ba0","\n\n","Number Of Receipts: "+u.todaysReceipts+"\n\n","Sub-Total: $"+(u.todaysReceiptValue/1.13).toFixed(2)+"\n\n","Tax: $"+(u.todaysReceiptValue/1.13*.13).toFixed(2)+"\n\n","Total Including (13% Tax): $"+u.todaysReceiptValue+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"];fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:e,comSelected:p.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")}))}}),Object(g.jsxs)(b.Text,{style:{textAlign:"center",margin:25},children:["Todays Total Receipts: ",u.todaysReceipts]})]}),Object(g.jsx)(j.default,{style:ye.contentContainer,children:o?null==o?void 0:o.map((function(e,t){var n,r,o=e.date?new Date(1e3*e.date.seconds):e.date_created?new Date(e.date_created):null;return Object(g.jsxs)(j.default,{style:{backgroundColor:"grey",padding:30,margin:10},children:[Object(g.jsx)(b.Text,{children:o.toLocaleString()}),null==(n=e.cart)?void 0:n.map((function(e,t){var n;return Object(g.jsxs)(j.default,{style:{marginBottom:20},children:[Object(g.jsxs)(b.Text,{children:["Name: ",e.name]}),Object(g.jsxs)(b.Text,{children:["Quantity: ",e.quantity]}),Object(g.jsxs)(b.Text,{children:["Price: ",e.price]}),e.options&&(null==(n=e.options)?void 0:n.map((function(e){return Object(g.jsx)(b.Text,{children:e})})))]},t)})),null==(r=e.line_items)?void 0:r.map((function(e,t){var n;return Object(g.jsxs)(j.default,{style:{marginBottom:20},children:[Object(g.jsxs)(b.Text,{children:["Name: ",e.name]}),Object(g.jsxs)(b.Text,{children:["Quantity: ",e.quantity]}),Object(g.jsxs)(b.Text,{children:["Price: ",e.price]}),null==(n=e.meta_data)?void 0:n.map((function(t,n){if(n!==e.meta_data.length-1)return Object(g.jsx)(b.Text,{children:t.key+" : "+t.value})}))]},t)})),Object(g.jsx)(b.Button,{title:"Print",onPress:function(){if(e.date){var t,n=0,r=["\x1b@","\x1ba1",p.name,"\n",p.address+"\n",p.website+"\n",p.phoneNumber+"\n",o.toLocaleDateString()+" "+o.toLocaleTimeString()+"\n","\n","Transaction # "+e.transNum+"\n","\n","\n","\n","\x1ba0"];null==(t=e.cart)||t.map((function(e){var t;(n+=parseFloat(e.price),r.push("Name: "+e.name),r.push("\n"),r.push("Price: $"+e.price),e.options)&&(r.push("\n"),null==(t=e.options)||t.map((function(e){r.push(e),r.push("\n")})));r.push("\n\n")})),n=(n*=1.13).toFixed(2),r.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Total Including (13% Tax): $"+n+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:r,comSelected:p.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")}))}else{var i,a=[];a.push("\x1b@","\x1ba1",p.name,"\n",p.address+"\n",p.website+"\n",p.phoneNumber+"\n",e.date_created+"\n","\n","Online Order\n","Transaction # "+e.number+"\n","\n","\n","\n","\x1ba0"),null==(i=e.line_items)||i.map((function(e){var t;(a.push("\n"),a.push("Name: "+e.name),a.push("\n"),a.push("Quantity: "+e.quantity),a.push("\n"),a.push("Price: $"+e.price),a.push("\n"),e.meta_data)?null==(t=e.meta_data)||t.map((function(t,n){0===n?(a.push(t.key+" : "+t.value),e.meta_data[n+1].key!==t.key&&a.push("\n")):n!==e.meta_data.length-1&&(e.meta_data[n-1].key===t.key?a.push(" , "+t.value):a.push(t.key+" : "+t.value),e.meta_data[n+1].key!==t.key&&a.push("\n"))})):a.push("\n\n")})),a.push("\n"),a.push("\n"),a.push("Customer Details:"),a.push("\n"),a.push("Address: "+e.shipping.address_1),a.push("\n"),a.push("City: "+e.shipping.city),a.push("\n"),a.push("Zip/Postal Code: "+e.shipping.postcode),a.push("\n"),a.push("Province/State: "+e.shipping.state),a.push("\n"),a.push("Name: "+e.shipping.first_name+" "+e.shipping.last_name),a.push("\n"),e.shipping_lines.map((function(e){return a.push("Shipping Method: "+e.method_title)})),a.push("\n"),a.push("\n"),a.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e.payment_method_title+"\n\n","Total Including (13% Tax): $"+(parseFloat(e.total)+parseFloat(e.total_tax)).toFixed(2)+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n"),a.push("\x1dV\0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:a,comSelected:p.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")}))}}})]},t)})):Object(g.jsx)(b.Text,{children:"No receipts yet"})})]})}),ye=h.default.create({container:{backgroundColor:"white",flex:1,height:"100%"},contentContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",paddingLeft:50,paddingRight:50,paddingBottom:50,height:"100%",width:"100%",alignItems:"center"}}),xe=function(e){var t,n=e.navigation,o=(e.route,e.options,e.back,Object(r.useState)(!1)),i=l()(o,2),a=i[0],c=i[1],s=I.use(),u=F.use();return Object(r.useEffect)((function(){var e=localStorage.getItem("settingsOn");c(e)}),[]),1==a?Object(g.jsxs)(j.default,{style:{width:"100%",height:120,flexDirection:"row",alignItems:"center",justifyContent:"space-evenly",backgroundColor:"red"},children:[Object(g.jsx)(b.Button,{titleStyle:"EditCategories"===u?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:"EditCategories"===u?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){localStorage.setItem("localScreen","EditCategories"),localStorage.setItem("settingsOn",!0),n.navigate("EditCategories"),R("EditCategories")},title:"Add Category"}),Object(g.jsx)(b.Button,{titleStyle:"EditProductList"===u?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:"EditProductList"===u?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){localStorage.setItem("localScreen","EditProductList"),n.navigate("EditProductList"),localStorage.setItem("settingsOn",!0),R("EditProductList")},title:"Add Product"}),Object(g.jsx)(b.Button,{titleStyle:"EditWoocommerce"===u?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:"EditWoocommerce"===u?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){localStorage.setItem("localScreen","EditWoocommerce"),n.navigate("EditWoocommerce"),localStorage.setItem("settingsOn",!0),R("EditWoocommerce")},title:"Woocommerce"}),Object(g.jsx)(b.Button,{titleStyle:"StoreDetails"===u?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:"StoreDetails"===u?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){localStorage.setItem("localScreen","StoreDetails"),n.navigate("StoreDetails"),localStorage.setItem("settingsOn",!0),R("StoreDetails")},title:"Store Details"}),Object(g.jsx)(b.Button,{titleStyle:"Transactions"===u?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:"Transactions"===u?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){localStorage.setItem("localScreen","Transactions"),n.navigate("Transactions"),localStorage.setItem("settingsOn",!0),R("Transactions")},title:"Transaction"}),Object(g.jsx)(b.Button,{titleStyle:{color:"black",fontWeight:"700"},style:{backgroundColor:"white"},onPress:function(){localStorage.removeItem("localScreen"),G.signOut()},title:"Logout"}),Object(g.jsx)(b.Button,{titleStyle:{color:"black",fontWeight:"700"},style:{backgroundColor:"white"},onPress:function(){localStorage.removeItem("localScreen"),R(),c(!1),localStorage.setItem("settingsOn",!1)},title:"X"})]}):Object(g.jsxs)(j.default,{style:{width:"100%",height:120,flexDirection:"row",alignItems:"center",justifyContent:"space-evenly",backgroundColor:"red"},children:[null==(t=s.categories)?void 0:t.map((function(e,t){return u||0!==t?Object(g.jsx)(b.Button,{titleStyle:u===e?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:u===e?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){R(e),localStorage.setItem("localScreen",e)},title:e},t):Object(g.jsx)(b.Button,{titleStyle:{color:"white",fontWeight:"700"},style:{backgroundColor:"blue"},onPress:function(){R(e)},title:e},t)})),Object(g.jsx)(b.Button,{titleStyle:{color:"black",fontWeight:"700"},style:{backgroundColor:"white"},onPress:function(){return c(!0)},title:"Settings"})]})};function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ce=function(e){var t=e.label,n=e.options,o=e.setValue,i=e.value,a=e.style,c=Object(r.useState)(!1),s=l()(c,2),u=s[0],d=s[1];return Object(g.jsxs)(j.default,{style:[ve.container,a],children:[Object(g.jsx)(b.ListItem,{title:i?i.label+" : $"+(null!==i.priceIncrease?i.priceIncrease:0):t,trailing:function(e){return Object(g.jsx)(ie.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:u?"chevron-up":"chevron-down"},e))},onPress:function(){return d((function(e){return!e}))}}),u&&Object(g.jsx)(g.Fragment,{children:n.map((function(e,t){return Object(g.jsx)(b.ListItem,{title:e.label+" : $"+(null!==e.priceIncrease?e.priceIncrease:0),onPress:function(){o({option:{label:e.label,priceIncrease:null!==e.priceIncrease?e.priceIncrease:0},listIndex:t}),d(!1)}})}))})]})},ve=h.default.create({container:{backgroundColor:"white"}}),we=function(e){var t=e.navigation,n=e.route.params.product,o=Object(r.useState)(n),a=l()(o,2),c=a[0],s=a[1],u=Object(r.useState)(n.price),d=l()(u,2),p=d[0],f=d[1],h=Object(r.useState)(null),m=l()(h,2),O=m[0],y=m[1],x=function(e){var t=e.e,n=e.index,o=Object(r.useState)(),i=l()(o,2),a=i[0],u=i[1],d=t.optionsList.filter((function(e){return e.selected}));d.length>0&&!a&&u(d[0]);var p,h,b=!1,m=c.options.filter((function(e){return e.label==t.selectedCaseKey}));if(m.length>0&&(p=m[0].optionsList.filter((function(e){return e.label==t.selectedCaseValue}))).length>0&&(b=!0===p[0].selected),null===t.selectedCaseKey||b)return"dropdown"===(null==(h=t.optionType)?void 0:h.toLowerCase())?Object(g.jsxs)(j.default,{style:{marginBottom:25,width:"100%"},children:[Object(g.jsxs)(v.default,{style:{fontWeight:"700",fontSize:18},children:["Label: ",t.label]}),Object(g.jsx)(Ce,{label:t.label,options:t.optionsList,setValue:function(e){var t=e.option,r=e.listIndex,o=structuredClone(c);o.options[n].optionsList.forEach((function(e,t){e.selected&&(o.options[n].optionsList[t].selected=!1,f((function(e){return(parseFloat(e)-parseFloat(null!==o.options[n].optionsList[t].priceIncrease?o.options[n].optionsList[t].priceIncrease:0)).toFixed(2)})))})),o.options[n].optionsList[r].selected=!0,f((function(e){return(parseFloat(e)+parseFloat(null!==o.options[n].optionsList[r].priceIncrease?o.options[n].optionsList[r].priceIncrease:0)).toFixed(2)})),console.log(t),u(t),s(o)},value:a,style:{marginBottom:25}})]},n):Object(g.jsxs)(j.default,{style:{marginBottom:25,flexWrap:"wrap",width:"100%"},children:[Object(g.jsxs)(v.default,{style:{fontWeight:"700",fontSize:18},children:["Label: ",t.label]}),Object(g.jsx)(j.default,{style:{flexWrap:"wrap",flexDirection:"row"},children:t.optionsList.map((function(e,r){return Object(g.jsxs)(ne.default,{style:[1==c.options[n].optionsList[r].selected&&{backgroundColor:"green"},{flexDirection:"row",justifyContent:"space-between",padding:10,margin:5,borderColor:"black",borderWidth:2}],onPress:function(){var e=structuredClone(c);0==!e.options[n].optionsList[r].selected?(e.options[n].optionsList[r].selected=!1,f((function(t){return(parseFloat(t)-parseFloat(null!==e.options[n].optionsList[r].priceIncrease?e.options[n].optionsList[r].priceIncrease:0)).toFixed(2)}))):(e.options[n].optionsList.filter((function(e){return!0===e.selected})).length<parseInt(t.numOfSelectable)||!t.numOfSelectable)&&(e.options[n].optionsList[r].selected=!0,f((function(t){return(parseFloat(t)+parseFloat(null!==e.options[n].optionsList[r].priceIncrease?e.options[n].optionsList[r].priceIncrease:0)).toFixed(2)}))),s(e)},children:[Object(g.jsxs)(v.default,{style:Se.h2Black,children:["Name: ",e.label]}),Object(g.jsx)(j.default,{style:{width:20}}),Object(g.jsxs)(v.default,{style:Se.h2Black,children:["Price: $",null!==e.priceIncrease?e.priceIncrease:0]})]},r)}))})]},n);if(!1===b){var O=structuredClone(c),y=0;O.options[n].optionsList.forEach((function(e,t){!0===e.selected&&(y+=parseFloat(null!==O.options[n].optionsList[t].priceIncrease?priceIncrease:0),O.options[n].optionsList[t].selected=!1)})),y>0&&(f((function(e){return(parseFloat(e)-y).toFixed(2)})),s(O))}};return Object(g.jsxs)(C.default,{style:Se.modalContainer,children:[Object(g.jsxs)(v.default,{style:Se.h2Black,children:["Name: ",n.name]}),n.description&&Object(g.jsxs)(v.default,{style:Se.h2Black,children:["Name: ",n.description]}),Object(g.jsxs)(v.default,{style:[{marginBottom:25},Se.h2Black],children:["Price: ",p]}),c.options.map((function(e,t){return Object(g.jsx)(x,{e:e,index:t},t)})),Object(g.jsx)(b.TextInput,{placeholder:"Write any extra info here..",multiline:!0,onChangeText:function(e){return y(e)},value:O,style:{marginTop:15,marginBottom:15},inputStyle:{padding:10}}),Object(g.jsx)(b.Button,{title:"Add To Cart",onPress:function(){var e,r=[];c.options.forEach((function(e){var t=e.label+": ",n=e.optionsList.filter((function(e){return!0===e.selected})).length;n>0&&(t=e.label+": ",e.optionsList.map((function(r,o){!0===r.selected&&(o<e.optionsList.length-1&&n>1?t+=r.label+" , ":t+=r.label)})),r.push(t))})),e={name:c.name,price:p,description:n.description,options:r,extraDetails:O},T.set((function(t){return[].concat(i()(t),[e])})),t.goBack(),s(n),f(c.price),y(null)},style:Se.btn}),Object(g.jsx)(b.Button,{title:"Close",onPress:function(){return t.goBack()},style:Se.btn})]})},Se=h.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:10},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{marginBottom:25},dropDown:{marginBottom:25},h2White:{fontSize:17,color:"white"},h2Black:{fontSize:20,color:"black"}});function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Te=Object(f.default)();function De(){return Object(g.jsxs)(Te.Navigator,{screenOptions:{header:function(e){return Object(g.jsx)(xe,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))},headerMode:"screen"},children:[Object(g.jsx)(Te.Screen,{name:"Home",component:ee}),Object(g.jsx)(Te.Screen,{name:"EditCategories",component:me}),Object(g.jsx)(Te.Screen,{name:"EditProductList",component:re}),Object(g.jsx)(Te.Screen,{name:"AddProduct",component:he,options:{headerShown:!1}}),Object(g.jsx)(Te.Screen,{name:"EditWoocommerce",component:je}),Object(g.jsx)(Te.Screen,{name:"StoreDetails",component:be}),Object(g.jsx)(Te.Screen,{name:"Transactions",component:Oe}),Object(g.jsx)(Te.Screen,{name:"ProductListing",component:we,options:{headerShown:!1}})]})}var Ie=function(){return Object(g.jsx)(De,{})},ke=n(87),Be=n(823);function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var We=function(e){var t=e.navigation,o=Object(r.useState)(),i=l()(o,2),a=i[0],c=i[1],s=Object(r.useState)(),u=l()(s,2),d=u[0],p=u[1],f=Object(r.useState)(!1),h=l()(f,2),m=h[0],O=h[1];return Object(g.jsx)(j.default,{style:_e.container,children:Object(g.jsxs)(Be.SafeAreaView,{style:_e.safeareaContainer,children:[Object(g.jsx)(ke.default,{source:n(328),style:_e.logo}),Object(g.jsxs)(j.default,{style:_e.innerContainer,children:[Object(g.jsx)(b.TextInput,{label:"Email",variant:"outlined",style:{width:"100%",marginBottom:10},value:a,onChangeText:function(e){return c(e)},autoCorrect:!1,textContentType:"emailAddress"}),Object(g.jsx)(b.TextInput,{label:"Password",variant:"outlined",trailing:function(e){return Object(g.jsx)(b.IconButton,Le({onPress:function(){return O((function(e){return!e}))},icon:function(e){return Object(g.jsx)(ie.default,Le({name:"eye"},e))}},e))},value:d,onChangeText:function(e){return p(e)},secureTextEntry:!m,style:{width:"100%"}})]}),Object(g.jsxs)(j.default,{style:_e.innerContainer,children:[Object(g.jsx)(b.Button,{title:"Login",uppercase:!1,contentContainerStyle:{width:"100%",height:60,backgroundColor:"black",alignItems:"center",justifyContent:"center"},style:{marginBottom:10},onPress:function(){a&&d&&function(e,t){G.signInWithEmailAndPassword(e,t)}(a,d)}}),Object(g.jsx)(b.Text,{variant:"subtitle1",style:{marginBottom:10},children:"Or"}),Object(g.jsx)(b.Button,{title:"Register",uppercase:!1,contentContainerStyle:{width:"100%",height:60,backgroundColor:"grey",alignItems:"center",justifyContent:"center"},onPress:function(){return t.navigate("Register")}})]})]})})},_e=h.default.create({container:{flex:1,height:"100%",width:"100%",backgroundColor:"white",justifyContent:"center",alignItems:"center"},safeareaContainer:{flex:1,height:"60%",width:"80%",justifyContent:"space-evenly",alignItems:"center"},logo:{width:250,resizeMode:"contain"},innerContainer:{width:"100%",justifyContent:"center",alignItems:"center"}});function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Re=function(e){var t=e.navigation,o=Object(r.useState)(),i=l()(o,2),a=i[0],c=i[1],s=Object(r.useState)(),u=l()(s,2),d=u[0],p=u[1],f=Object(r.useState)(!1),h=l()(f,2),m=h[0],O=h[1];return Object(g.jsx)(j.default,{style:Ve.container,children:Object(g.jsxs)(Be.SafeAreaView,{style:Ve.safeareaContainer,children:[Object(g.jsx)(ke.default,{source:n(328),style:Ve.logo}),Object(g.jsxs)(j.default,{style:Ve.innerContainer,children:[Object(g.jsx)(b.TextInput,{label:"Email",variant:"outlined",style:{width:"100%",marginBottom:10},value:a,onChangeText:function(e){return c(e)},autoCorrect:!1,textContentType:"emailAddress"}),Object(g.jsx)(b.TextInput,{label:"Password",variant:"outlined",trailing:function(e){return Object(g.jsx)(b.IconButton,Fe({onPress:function(){return O((function(e){return!e}))},icon:function(e){return Object(g.jsx)(ie.default,Fe({name:"eye"},e))}},e))},value:d,onChangeText:function(e){return p(e)},secureTextEntry:!m,style:{width:"100%"}})]}),Object(g.jsxs)(j.default,{style:Ve.innerContainer,children:[Object(g.jsx)(b.Button,{title:"Register",uppercase:!1,contentContainerStyle:{width:"100%",height:60,backgroundColor:"black",alignItems:"center",justifyContent:"center"},style:{marginBottom:10},onPress:function(){a&&d&&function(e,t){G.createUserWithEmailAndPassword(e,t).then((function(e){e.user&&q.collection("users").doc(e.user.uid).set({paid:!0,products:[],categories:[],wooCredentials:{ck:null,cs:null,useWoocommerce:!1},transList:[],storeDetails:{name:null,address:null,phoneNumber:null,website:null,comSelected:null,deliveryPrice:null}})})).catch((function(e){return console.log(e)}))}(a,d)}}),Object(g.jsxs)(j.default,{style:{flexDirection:"row"},children:[Object(g.jsx)(b.Text,{variant:"subtitle1",style:{marginBottom:10},children:"Or"}),Object(g.jsx)(b.Text,{variant:"subtitle1",style:{marginBottom:10,marginLeft:5,color:"blue"},onPress:function(){return t.goBack()},children:"Go Back"})]})]})]})})},Ve=h.default.create({container:{flex:1,height:"100%",width:"100%",backgroundColor:"white",justifyContent:"center",alignItems:"center"},safeareaContainer:{flex:1,height:"60%",width:"80%",justifyContent:"space-evenly",alignItems:"center"},logo:{width:250,resizeMode:"contain"},innerContainer:{width:"100%",justifyContent:"center",alignItems:"center"}}),Ae=Object(f.default)();function Me(){return Object(g.jsxs)(Ae.Navigator,{screenOptions:{headerShown:!1},children:[Object(g.jsx)(Ae.Screen,{name:"Login",component:We}),Object(g.jsx)(Ae.Screen,{name:"Register",component:Re})]})}var ze=function(){var e=S.use(),t=L.use(),o=B.use(),a=_.use(),s=Object(r.useState)(!0),d=l()(s,2),p=d[0],f=d[1];return Object(r.useEffect)((function(){G.onAuthStateChanged((function(e){e?(P(e),q.collection("users").doc(e.uid).get().then((function(e){k({products:e.data().products,categories:e.data().categories}),e.data().transList&&E(e.data().transList),e.data().wooCredentials&&W(e.data().wooCredentials),e.data().storeDetails&&N(e.data().storeDetails)})),setTimeout((function(){f(!1)}),1)):(P(null),k({products:null,categories:null}),setTimeout((function(){f(!1)}),1))}))}),[]),Object(r.useEffect)((function(){if(e){var t=q.collection("users").doc(e.uid).onSnapshot((function(e){f(!0),k({products:e.data().products,categories:e.data().categories}),e.data().transList&&E(e.data().transList),e.data().wooCredentials&&W(e.data().wooCredentials),e.data().storeDetails&&N(e.data().storeDetails),setTimeout((function(){f(!1)}),1)}));return function(){return t()}}}),[e]),Object(r.useEffect)((function(){if(!0===t.useWoocommerce){var e=setInterval((function(){var e=new(n(582))({url:t.apiUrl,consumerKey:t.ck,consumerSecret:t.cs,wpAPI:!0,version:"wc/v1"}),r=1,s=[],l=function(){var t=c()((function*(){var t=yield e.getAsync("orders?page="+r+"&per_page=100"),n=JSON.parse(t.body);s=[].concat(i()(s),i()(n)),100===n.length?(r++,l()):console.log(s)}));return function(){return t.apply(this,arguments)}}();l().then((function(){var e=s,t=[];if(o.concat(e).reduce((function(e,n){return e.includes(n.id)||(e.push(n.id),t.push(n)),e}),[]),console.log("new array: ",t),t.length>o.length){console.log("new item");var n=structuredClone(t).splice(o.length,t.length-o.length);if(console.log("NEW ITEMS ",n),Z(t),n.length>1)n.forEach((function(e){var t,n=[];n.push("\x1b@","\x1ba1",a.name,"\n",a.address+"\n",a.website+"\n",a.phoneNumber+"\n",e.date_created+"\n","\n","Online Order\n","Transaction # "+e.number+"\n","\n","\n","\n","\x1ba0"),null==(t=e.line_items)||t.map((function(e){var t;(n.push("\n"),n.push("Name: "+e.name),n.push("\n"),n.push("Quantity: "+e.quantity),n.push("\n"),n.push("Price: $"+e.price),n.push("\n"),e.meta_data)?null==(t=e.meta_data)||t.map((function(t,r){0===r?(n.push(t.key+" : "+t.value),e.meta_data[r+1].key!==t.key&&n.push("\n")):r!==e.meta_data.length-1&&(e.meta_data[r-1].key===t.key?n.push(" , "+t.value):n.push(t.key+" : "+t.value),e.meta_data[r+1].key!==t.key&&n.push("\n"))})):n.push("\n\n")})),n.push("\n"),n.push("\n"),n.push("Customer Details:"),n.push("\n"),n.push("Address: "+e.shipping.address_1),n.push("\n"),n.push("City: "+e.shipping.city),n.push("\n"),n.push("Zip/Postal Code: "+e.shipping.postcode),n.push("\n"),n.push("Province/State: "+e.shipping.state),n.push("\n"),n.push("Name: "+e.shipping.first_name+" "+e.shipping.last_name),n.push("\n"),e.shipping_lines.map((function(e){return n.push("Shipping Method: "+e.method_title)})),n.push("\n"),n.push("\n"),n.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e.payment_method_title+"\n\n","Total Including (13% Tax): $"+(parseFloat(e.total)+parseFloat(e.total_tax)).toFixed(2)+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n"),n.push("\x1dV\0"),c()((function*(){return yield fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:n,comSelected:a.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.log("Error with printer")}))}))}));else{var r,i=n[0],l=[];l.push("\x1b@","\x1ba1",a.name,"\n",a.address+"\n",a.website+"\n",a.phoneNumber+"\n",i.date_created+"\n","\n","Online Order\n","Transaction # "+i.number+"\n","\n","\n","\n","\x1ba0"),null==(r=i.line_items)||r.map((function(e){var t;(l.push("\n"),l.push("Name: "+e.name),l.push("\n"),l.push("Quantity: "+e.quantity),l.push("\n"),l.push("Price: $"+e.price),l.push("\n"),e.meta_data)?null==(t=e.meta_data)||t.map((function(t,n){0===n?(l.push(t.key+" : "+t.value),e.meta_data[n+1].key!==t.key&&l.push("\n")):n!==e.meta_data.length-1&&(e.meta_data[n-1].key===t.key?l.push(" , "+t.value):l.push(t.key+" : "+t.value),e.meta_data[n+1].key!==t.key&&l.push("\n"))})):l.push("\n\n")})),l.push("\n"),l.push("\n"),l.push("Customer Details:"),l.push("\n"),l.push("Address: "+i.shipping.address_1),l.push("\n"),l.push("City: "+i.shipping.city),l.push("\n"),l.push("Zip/Postal Code: "+i.shipping.postcode),l.push("\n"),l.push("Province/State: "+i.shipping.state),l.push("\n"),l.push("Name: "+i.shipping.first_name+" "+i.shipping.last_name),l.push("\n"),i.shipping_lines.map((function(e){return l.push("Shipping Method: "+e.method_title)})),l.push("\n"),l.push("\n"),l.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+i.payment_method_title+"\n\n","Total Including (13% Tax): $"+(parseFloat(i.total)+parseFloat(i.total_tax)).toFixed(2)+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n"),l.push("\x1dV\0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:l,comSelected:a.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")}))}}}))}),5e3);return function(){return clearInterval(e)}}}),[t,o]),Object(g.jsx)(u.default,{children:p?Object(g.jsx)(ge,{isModalVisible:!0}):Object(g.jsx)(g.Fragment,{children:e?Object(g.jsx)(Ie,{}):Object(g.jsx)(Me,{})})})};t.default=function(){return Object(g.jsx)(ze,{})}},468:function(e,t,n){e.exports=n(806)},598:function(e,t){},600:function(e,t){},609:function(e,t){},611:function(e,t){},636:function(e,t){},638:function(e,t){},639:function(e,t){},644:function(e,t){},646:function(e,t){},665:function(e,t){},677:function(e,t){},680:function(e,t){},685:function(e,t){},687:function(e,t){},710:function(e,t){}},[[468,1,2]]]);
//# sourceMappingURL=app.ad51da08.chunk.js.map