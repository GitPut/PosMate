(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{328:function(e,t,n){e.exports=n.p+"static/media/pathblazer-logo.17137072.png"},457:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n(15),i=n.n(r),a=n(40),s=n.n(a),c=n(8),l=n.n(c),u=n(824),d=n(816),p=n(11),h=n(7),f=n(106),j=n(48),b=n(25),g=n(99),m=n(18),O=n(815),x=Object(O.default)(null),y=function(e){x.set(e)},X=Object(O.default)([]),C=function(e){X.set(e)},v=Object(O.default)({products:[],categories:[]}),w=function(e){v.set(e)},S=Object(O.default)([]),P=function(e){S.set(e)},T=Object(O.default)({apiUrl:null,ck:null,cs:null,useWoocommerce:!1}),I=function(e){T.set(e)},k=Object(O.default)({name:null,address:null,phoneNumber:null,website:null,comSelected:null,deliveryPrice:null}),D=function(e){k.set(e)},B=n(5),L=function(e){var t=e.product,n=e.productIndex,r=t,a=Object(o.useState)(r),s=l()(a,2),c=s[0],u=s[1],d=Object(o.useState)(r.price),p=l()(d,2),O=p[0],x=p[1],y=Object(o.useState)(!1),C=l()(y,2),v=C[0],w=C[1],S=function(e){var t,n=e.e,o=e.index,r=!1,i=c.options.filter((function(e){return e.label==n.selectedCaseKey}));if(i.length>0&&(t=i[0].optionsList.filter((function(e){return e.label==n.selectedCaseValue}))).length>0&&(r=!0===t[0].selected),null===n.selectedCaseKey||r)return Object(B.jsxs)(h.default,{style:{marginBottom:25},children:[Object(B.jsxs)(b.default,{style:{fontWeight:"700",fontSize:18},children:["Label: ",n.label]}),n.optionsList.map((function(e,t){return Object(B.jsxs)(g.default,{style:[1==c.options[o].optionsList[t].selected?{backgroundColor:"green"}:{borderColor:"black",borderWidth:2},{flexDirection:"row",justifyContent:"space-between",padding:10,margin:5}],onPress:function(){var e=structuredClone(c);0==!e.options[o].optionsList[t].selected?(e.options[o].optionsList[t].selected=!1,x((function(n){return parseFloat(n)-parseFloat(e.options[o].optionsList[t].priceIncrease)}))):(e.options[o].optionsList.filter((function(e){return!0===e.selected})).length<parseInt(n.numOfSelectable)||!n.numOfSelectable)&&(e.options[o].optionsList[t].selected=!0,x((function(n){return parseFloat(n)+parseFloat(e.options[o].optionsList[t].priceIncrease)}))),u(e)},children:[Object(B.jsxs)(b.default,{style:E.h2Black,children:["Name: ",e.label]}),Object(B.jsxs)(b.default,{style:E.h2Black,children:["Price: $",e.priceIncrease]})]},t)}))]},o);if(!1===r){var a=structuredClone(c),s=0;a.options[o].optionsList.forEach((function(e,t){!0===e.selected&&(s+=parseFloat(a.options[o].optionsList[t].priceIncrease),a.options[o].optionsList[t].selected=!1)})),s>0&&(x((function(e){return parseFloat(e)-s})),u(a))}};return Object(B.jsxs)(h.default,{children:[Object(B.jsx)(m.Button,{title:r.name,onPress:function(){return w(!0)},style:E.touchable}),Object(B.jsx)(f.default,{visible:v,children:Object(B.jsxs)(j.default,{style:E.modalContainer,children:[Object(B.jsxs)(b.default,{style:E.h2Black,children:["Name: ",r.name]}),Object(B.jsxs)(b.default,{style:[{marginBottom:25},E.h2Black],children:["Price: ",O]}),r.options.map((function(e,t){return Object(B.jsx)(S,{e:e,index:t},t)})),Object(B.jsx)(m.Button,{title:"Add To Cart",onPress:function(){var e,t=[];c.options.forEach((function(e){var n=e.label+": ",o=e.optionsList.filter((function(e){return!0===e.selected})).length;o>0&&(n=e.label+": ",e.optionsList.map((function(t,r){!0===t.selected&&(r<e.optionsList.length-1&&o>1?n+=t.label+" , ":n+=t.label)})),t.push(n))})),e={name:c.name,price:O.toFixed(2),description:r.description,options:t},X.set((function(t){return[].concat(i()(t),[e])})),w(!1),u(r),x(c.price)},style:E.btn}),Object(B.jsx)(m.Button,{title:"Close",onPress:function(){return w(!1)},style:E.btn})]})})]},n)},E=p.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:10},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{marginBottom:25},dropDown:{marginBottom:25},h2White:{fontSize:17,color:"white"},h2Black:{fontSize:20,color:"black"}}),N=function(e){var t=e.section,n=e.catalog;return Object(B.jsx)(h.default,{style:_.container,children:Object(B.jsx)((function(){if(n.products&&n.products.length>0)return t?n.products.filter((function(e){return e.catagory===t})).map((function(e,t){return Object(B.jsx)(L,{product:e,productIndex:t},t)})):n.products.filter((function(e){return e.catagory===n.categories[0]})).map((function(e,t){return Object(B.jsx)(L,{product:e,productIndex:t},t)}))}),{})})},_=p.default.create({container:{backgroundColor:"white",flex:2,height:"100%"},wrapper:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",paddingLeft:50,paddingRight:50,height:"100%",width:"100%",alignItems:"center"}}),F=n(292),W=function(e){var t=e.setDeliveryModal,n=e.setOngoingDelivery,o=e.setName,r=e.setPhone,i=e.setAddress,a=e.name,s=e.phone,c=e.address,l=e.deliveryChecked,u=e.setDeliveryChecked;return Object(B.jsxs)(j.default,{style:V.modalContainer,children:[Object(B.jsxs)(h.default,{style:V.sizeRow,children:[Object(B.jsx)(b.default,{children:"Enter Phone Order Details"}),Object(B.jsxs)(h.default,{children:[Object(B.jsx)(b.default,{children:"Delivery?"}),Object(B.jsx)(F.Switch,{value:l,onValueChange:function(){u(!l)}})]})]}),Object(B.jsx)(m.TextInput,{label:"Name",variant:"outlined",style:V.input,onChangeText:function(e){return o(e)},autoCorrect:!1,value:a}),Object(B.jsx)(m.TextInput,{label:"Phone #",variant:"outlined",style:V.input,onChangeText:function(e){return r(e)},autoCorrect:!1,value:s}),l&&Object(B.jsx)(m.TextInput,{label:"Address",variant:"outlined",style:V.input,onChangeText:function(e){return i(e)},autoCorrect:!1,value:c}),Object(B.jsx)(m.Button,{title:"Order",onPress:function(){t(!1),n(!0)},contentContainerStyle:V.btn,style:{margin:25}}),Object(B.jsx)(m.Button,{title:"Cancel",onPress:function(){t(!1),n(null)},contentContainerStyle:V.btn,style:{margin:25}})]})},V=p.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:25},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{height:40,justifyContent:"center",alignItems:"center"},input:{marginTop:25,marginBottom:25}}),M=function(e){var t=e.setCashModal,n=e.GetTrans,r=e.total,i=e.setChangeDue,a=Object(o.useState)(""),s=l()(a,2),c=s[0],u=s[1];return Object(B.jsxs)(j.default,{style:R.modalContainer,children:[Object(B.jsx)(h.default,{style:R.sizeRow,children:Object(B.jsx)(b.default,{children:"Cash Payment Details"})}),Object(B.jsxs)(b.default,{children:["Total: ",r]}),Object(B.jsx)(m.TextInput,{label:"Enter Cash Given",variant:"outlined",style:R.input,onChangeText:function(e){u(e),i((parseFloat(e)-r).toFixed(2))},autoCorrect:!1,value:c}),Object(B.jsxs)(b.default,{children:["Change Due:"," ",parseFloat(c)>r&&(parseFloat(c)-r).toFixed(2)]}),Object(B.jsx)(m.Button,{title:"Print",onPress:function(){n("Cash"),t(!1)},contentContainerStyle:R.btn,style:{margin:25}}),Object(B.jsx)(m.Button,{title:"Cancel",onPress:function(){return t(!1)},contentContainerStyle:R.btn,style:{margin:25}})]})},R=p.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:25},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{height:40,justifyContent:"center",alignItems:"center"},input:{marginTop:25,marginBottom:25}}),A=function(e){var t=e.setChangeModal,n=Object(o.useState)(""),r=l()(n,2),i=r[0],a=r[1],s=Object(o.useState)(""),c=l()(s,2),u=c[0],d=c[1],p=k.use();return Object(B.jsxs)(j.default,{style:z.modalContainer,children:[Object(B.jsx)(h.default,{style:z.sizeRow,children:Object(B.jsx)(b.default,{children:"Cash Payment Details"})}),Object(B.jsx)(m.TextInput,{label:"Enter Total",variant:"outlined",style:z.input,onChangeText:function(e){return a(e)},autoCorrect:!1,value:i}),Object(B.jsx)(m.TextInput,{label:"Enter Cash Given",variant:"outlined",style:z.input,onChangeText:function(e){return d(e)},autoCorrect:!1,value:u}),Object(B.jsxs)(b.default,{children:["Change Due: ",(parseFloat(u)-i).toFixed(2)]}),Object(B.jsx)(m.Button,{title:"Open Cash",onPress:function(){!function(){var e=["\x1b@","\x1ba1",p.name,"\n",p.address+"\n",p.website+"\n",p.phoneNumber+"\n","\n","\n","\n","\n","\x1ba0","Total: $"+i+"\n","Cash Given: $"+u+"\n","Change Due: $"+(parseFloat(u)-parseFloat(i)).toFixed(2)+"\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0","\x10\x14\x01\0\x05"];fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:e,comSelected:p.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")}))}(),t(!1)},contentContainerStyle:z.btn,style:{margin:25}}),Object(B.jsx)(m.Button,{title:"Cancel",onPress:function(){return t(!1)},contentContainerStyle:z.btn,style:{margin:25}})]})},z=p.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:25},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{height:40,justifyContent:"center",alignItems:"center"},input:{marginTop:25,marginBottom:25}}),$=n(246);n(807),n(564);$.default.initializeApp({apiKey:"AIzaSyDmtlrkfZRbFy8P7D4BFXTIkzMDC_DP5n8",authDomain:"posmate-5fc0a.firebaseapp.com",projectId:"posmate-5fc0a",storageBucket:"posmate-5fc0a.appspot.com",messagingSenderId:"48463376409",appId:"1:48463376409:web:b427a4fbc3c210a5977a88"});var J=$.default.auth(),U=$.default.firestore(),K=function(e,t){var n;U.collection("users").doc(null==(n=J.currentUser)?void 0:n.uid).update({products:t,categories:e})},G=function(e){var t;U.collection("users").doc(null==(t=J.currentUser)?void 0:t.uid).update({transList:e})},q=function(){var e=Object(o.useState)(!1),t=l()(e,2),n=t[0],r=t[1],i=Object(o.useState)(!1),a=l()(i,2),c=a[0],u=a[1],d=Object(o.useState)(!1),p=l()(d,2),g=p[0],O=p[1],x=Object(o.useState)(null),y=l()(x,2),v=y[0],w=y[1],P=Object(o.useState)(),T=l()(P,2),I=T[0],D=T[1],L=Object(o.useState)(),E=l()(L,2),N=E[0],_=E[1],F=Object(o.useState)(),V=l()(F,2),R=V[0],z=V[1],$=Object(o.useState)(!1),J=l()($,2),U=J[0],K=J[1],q=Object(o.useState)(),Z=l()(q,2),Y=Z[0],H=Z[1],ee=X.use(),te=S.use(),ne=k.use(),oe=Object(o.useState)(0),re=l()(oe,2),ie=re[0],ae=re[1];Object(o.useEffect)((function(){if(ee.length>0){for(var e=0,t=0;t<ee.length;t++)e+=parseFloat(ee[t].price);ae(e)}else ae(0)}),[ee]);var se=function(){var e=s()((function*(e){var t=structuredClone(te);t.unshift(e),G(t)}));return function(t){return e.apply(this,arguments)}}(),ce=function(e){var t=(null==te?void 0:te.length)+1;if("deliveryOrder"===e){var n=ne.deliveryPrice>0?parseFloat(ne.deliveryPrice):0,o=new Date,i=["\x1b@","\x1ba1",ne.name,"\n",ne.address+"\n",ne.website+"\n",ne.phoneNumber+"\n",o.toLocaleDateString()+" "+o.toLocaleTimeString()+"\n","\n","Transaction # "+t+"\n","\n","Delivery Order: $"+ne.deliveryPrice+" Fee\n","\n","\n","\n","\x1ba0"];ee.map((function(e){n+=parseFloat(e.price),i.push("Name: "+e.name),i.push("\n"),i.push("Price: $"+e.price),e.options&&(i.push("\n"),e.options.map((function(e){i.push(e),i.push("\n")}))),i.push("\n\n")})),n=(n*=1.13).toFixed(2),i.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Customer Name: "+I,"\n\n","Customer Phone #:  "+N,"\n\n","Customer Address #:  "+R,"\n\n","Total Including (13% Tax): "+n+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:i,comSelected:ne.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")})),se({date:o,transNum:t,total:n,method:"deliveryOrder",cart:ee}),C([]),r(!1)}else if("pickupOrder"===e){var a=0,s=new Date,c=["\x1b@","\x1ba1",ne.name,"\n",ne.address+"\n",ne.website+"\n",ne.phoneNumber+"\n",s.toLocaleDateString()+" "+s.toLocaleTimeString()+"\n","\n","Transaction # "+t+"\n","\n","Pickup Order\n","\n","\n","\n","\x1ba0"];ee.map((function(e){a+=parseFloat(e.price),c.push("Name: "+e.name),c.push("\n"),c.push("Price: $"+e.price),e.options&&(c.push("\n"),e.options.map((function(e){c.push(e),c.push("\n")}))),c.push("\n\n")})),a=(a*=1.13).toFixed(2),c.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Customer Name: "+I,"\n\n","Customer Phone #:  "+N,"\n\n","Total Including (13% Tax): "+a+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:c,comSelected:ne.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")})),se({date:s,transNum:t,total:a,method:"pickupOrder",cart:ee}),C([]),r(!1)}else{var l=0,u=new Date,d=["\x1b@","\x1ba1",ne.name,"\n",ne.address+"\n",ne.website+"\n",ne.phoneNumber+"\n",u.toLocaleDateString()+" "+u.toLocaleTimeString()+"\n","\n","Transaction # "+t+"\n","\n","\n","\n","\x1ba0"];ee.map((function(e){l+=parseFloat(e.price),d.push("Name: "+e.name),d.push("\n"),d.push("\n"),d.push("Price: $"+e.price),e.options&&(d.push("\n"),e.options.map((function(e){d.push(e),d.push("\n")}))),d.push("\n\n")})),l=(l*=1.13).toFixed(2),"Cash"===e?d.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e+"\n\n","Total Including (13% Tax): $"+l+"\n\n","Change Due: $"+Y+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0","\x10\x14\x01\0\x05"):d.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e+"\n\n","Total Including (13% Tax): $"+l+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:d,comSelected:ne.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")})),se({date:u,transNum:t,total:l,method:e,cart:ee})}C([])};return Object(B.jsx)(h.default,{style:Q.container,children:Object(B.jsxs)(j.default,{style:Q.container,contentContainerStyle:Q.contentContainer,children:[Object(B.jsx)(h.default,{children:ee.map((function(e,t){return Object(B.jsxs)(h.default,{style:{marginBottom:20},children:[Object(B.jsxs)(b.default,{children:["Name: ",e.name]}),Object(B.jsxs)(b.default,{children:["Price: ",e.price]}),e.description&&Object(B.jsxs)(b.default,{children:["Description: ",e.description]}),e.options&&e.options.map((function(e){return Object(B.jsx)(b.default,{children:e})})),Object(B.jsx)(b.default,{style:{color:"blue"},onPress:function(){var e=structuredClone(ee);e.splice(t,1),C(e)},children:"Remove"})]})}))}),Object(B.jsxs)(h.default,{children:[Object(B.jsxs)(b.default,{children:["Sub: ",ie.toFixed(2)]}),Object(B.jsxs)(b.default,{children:["Total: ",(1.13*ie).toFixed(2)]}),Object(B.jsx)(m.Button,{title:"Cash",onPress:function(){return u(!0)},disabled:ee.length<1||v,style:{marginBottom:20}}),Object(B.jsx)(m.Button,{title:"Card",onPress:function(){return ce("Card")},disabled:ee.length<1||v,style:{marginBottom:20}}),Object(B.jsx)((function(){return null===v?Object(B.jsx)(m.Button,{title:"Phone Order",onPress:function(){return r(!0)},disabled:ee.length>0,style:{marginBottom:20}}):v&&ee.length>0?Object(B.jsx)(m.Button,{title:"Complete",onPress:function(){ce(U?"deliveryOrder":"pickupOrder"),w(null),D(null),_(null),z(null)},style:{marginBottom:20}}):Object(B.jsx)(m.Button,{title:"Cancel",onPress:function(){return w(null)},style:{marginBottom:20}})}),{}),Object(B.jsx)(m.Button,{title:"Change",onPress:function(){return O(!0)},disabled:ee.length>0||v})]}),Object(B.jsx)(f.default,{visible:n,children:Object(B.jsx)(W,{setDeliveryModal:r,setOngoingDelivery:w,setName:D,setPhone:_,setAddress:z,name:I,phone:N,address:R,deliveryChecked:U,setDeliveryChecked:K})}),Object(B.jsx)(f.default,{visible:c,children:Object(B.jsx)(M,{setCashModal:u,GetTrans:function(){return ce("Cash")},total:(1.13*ie).toFixed(2),setChangeDue:H})}),Object(B.jsx)(f.default,{visible:g,children:Object(B.jsx)(A,{setChangeModal:O})})]})})},Q=p.default.create({container:{backgroundColor:"lightgrey",flex:1,height:"100%"},contentContainer:{backgroundColor:"lightgrey",flex:1,height:"100%",justifyContent:"space-between",padding:20}}),Z=function(){var e=S.use(),t=Object(o.useState)([]),n=l()(t,2),r=n[0],i=n[1],a=new Date,s=Object(o.useState)({todaysReceiptValue:0,todaysReceipts:0}),c=l()(s,2),u=c[0],d=c[1],p=k.use();Object(o.useEffect)((function(){if((null==e?void 0:e.length)>0){e.sort((function(e,t){if(e.date&&t.date)return e.date.seconds-t.date.seconds;if(e.date&&t.date_created){var n=new Date(t.date_created).getTime()/1e3;return e.date.seconds-n}return e.date_created&&t.date?new Date(e.date_created).getTime()/1e3-t.date.seconds:new Date(e.date_created).getTime()/1e3-new Date(t.date_created).getTime()/1e3})).reverse(),i(e);var t=e.reduce((function(e,t){return(t.date?new Date(1e3*t.date.seconds):new Date(t.date_created)).toLocaleDateString()===a.toLocaleDateString()?e+parseFloat(t.total):e}),0),n=e.reduce((function(e,t){return(t.date?new Date(1e3*t.date.seconds):new Date(t.date_created)).toLocaleDateString()===a.toLocaleDateString()?e+1:e}),0);d({todaysReceiptValue:t.toFixed(2),todaysReceipts:n})}}),[e]);return Object(B.jsxs)(h.default,{style:Y.container,children:[Object(B.jsx)(m.Text,{style:{textAlign:"center",margin:25},children:"List Of Transactions"}),Object(B.jsxs)(h.default,{style:{flexDirection:"row",width:"100%",alignItems:"center",justifyContent:"center"},children:[Object(B.jsxs)(m.Text,{style:{textAlign:"center",margin:25},children:["Todays Total Price: ",u.todaysReceiptValue]}),Object(B.jsx)(m.Button,{style:{height:40,alignItems:"center",justifyContent:"center"},title:"Print Todays Receipts",onPress:function(){var e=["\x1b@","\x1ba1",p.name,"\n",p.address+"\n",p.website+"\n",p.phoneNumber+"\n",a.toLocaleDateString()+" "+a.toLocaleTimeString()+"\n","\n","\n","\n","\n","\x1ba0","\n\n","Number Of Receipts: "+u.todaysReceipts+"\n\n","Sub-Total: $"+(u.todaysReceiptValue/1.13).toFixed(2)+"\n\n","Tax: $"+(u.todaysReceiptValue/1.13*.13).toFixed(2)+"\n\n","Total Including (13% Tax): $"+u.todaysReceiptValue+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"];fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:e,comSelected:p.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")}))}}),Object(B.jsxs)(m.Text,{style:{textAlign:"center",margin:25},children:["Todays Total Receipts: ",u.todaysReceipts]})]}),Object(B.jsx)(h.default,{style:Y.contentContainer,children:r?null==r?void 0:r.map((function(e,t){var n,o,r=e.date?new Date(1e3*e.date.seconds):e.date_created?new Date(e.date_created):null;return Object(B.jsxs)(h.default,{style:{backgroundColor:"grey",padding:30,margin:10},children:[Object(B.jsx)(m.Text,{children:r.toLocaleString()}),null==(n=e.cart)?void 0:n.map((function(e,t){var n;return Object(B.jsxs)(h.default,{style:{marginBottom:20},children:[Object(B.jsxs)(m.Text,{children:["Name: ",e.name]}),Object(B.jsxs)(m.Text,{children:["Quantity: ",e.quantity]}),Object(B.jsxs)(m.Text,{children:["Price: ",e.price]}),e.options&&(null==(n=e.options)?void 0:n.map((function(e){return Object(B.jsx)(m.Text,{children:e})})))]},t)})),null==(o=e.line_items)?void 0:o.map((function(e,t){var n;return Object(B.jsxs)(h.default,{style:{marginBottom:20},children:[Object(B.jsxs)(m.Text,{children:["Name: ",e.name]}),Object(B.jsxs)(m.Text,{children:["Quantity: ",e.quantity]}),Object(B.jsxs)(m.Text,{children:["Price: ",e.price]}),null==(n=e.meta_data)?void 0:n.map((function(t,n){if(n!==e.meta_data.length-1)return Object(B.jsx)(m.Text,{children:t.key+" : "+t.value})}))]},t)})),Object(B.jsx)(m.Button,{title:"Print",onPress:function(){if(e.date){var t,n=0,o=["\x1b@","\x1ba1",p.name,"\n",p.address+"\n",p.website+"\n",p.phoneNumber+"\n",r.toLocaleDateString()+" "+r.toLocaleTimeString()+"\n","\n","Transaction # "+e.transNum+"\n","\n","\n","\n","\x1ba0"];null==(t=e.cart)||t.map((function(e){var t;(n+=parseFloat(e.price),o.push("Name: "+e.name),o.push("\n"),o.push("Price: $"+e.price),e.options)&&(o.push("\n"),null==(t=e.options)||t.map((function(e){o.push(e),o.push("\n")})));o.push("\n\n")})),n=(n*=1.13).toFixed(2),o.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Total Including (13% Tax): $"+n+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:o,comSelected:p.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")}))}else{var i,a=[];a.push("\x1b@","\x1ba1",p.name,"\n",p.address+"\n",p.website+"\n",p.phoneNumber+"\n",e.date_created+"\n","\n","Online Order\n","Transaction # "+e.number+"\n","\n","\n","\n","\x1ba0"),null==(i=e.line_items)||i.map((function(e){var t;(a.push("\n"),a.push("Name: "+e.name),a.push("\n"),a.push("Quantity: "+e.quantity),a.push("\n"),a.push("Price: $"+e.price),a.push("\n"),e.meta_data)?null==(t=e.meta_data)||t.map((function(t,n){0===n?(a.push(t.key+" : "+t.value),e.meta_data[n+1].key!==t.key&&a.push("\n")):n!==e.meta_data.length-1&&(e.meta_data[n-1].key===t.key?a.push(" , "+t.value):a.push(t.key+" : "+t.value),e.meta_data[n+1].key!==t.key&&a.push("\n"))})):a.push("\n\n")})),a.push("\n"),a.push("\n"),a.push("Customer Details:"),a.push("\n"),a.push("Address: "+e.shipping.address_1),a.push("\n"),a.push("City: "+e.shipping.city),a.push("\n"),a.push("Zip/Postal Code: "+e.shipping.postcode),a.push("\n"),a.push("Province/State: "+e.shipping.state),a.push("\n"),a.push("Name: "+e.shipping.first_name+" "+e.shipping.last_name),a.push("\n"),e.shipping_lines.map((function(e){return a.push("Shipping Method: "+e.method_title)})),a.push("\n"),a.push("\n"),a.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e.payment_method_title+"\n\n","Total Including (13% Tax): $"+(parseFloat(e.total)+parseFloat(e.total_tax)).toFixed(2)+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n"),a.push("\x1dV\0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:a,comSelected:p.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")}))}}})]},t)})):Object(B.jsx)(m.Text,{children:"No receipts yet"})})]})},Y=p.default.create({container:{backgroundColor:"white",flex:1,height:"100%"},contentContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",paddingLeft:50,paddingRight:50,paddingBottom:50,height:"100%",width:"100%",alignItems:"center"}}),H=function(e){var t=e.isModalVisible;return Object(B.jsx)(f.default,{visible:t,transparent:!0,children:Object(B.jsxs)(h.default,{style:{alignItems:"center",justifyContent:"center",flex:1,backgroundColor:"rgba(52, 52, 52, 0.8)"},children:[Object(B.jsx)("style",{children:".loader {\n  border: 16px solid #f3f3f3;\n  border-radius: 50%;\n  border-top: 16px solid #3498db;\n  width: 120px;\n  height: 120px;\n  -webkit-animation: spin 2s linear infinite; /* Safari */\n  animation: spin 2s linear infinite;\n}\n\n/* Safari */\n@-webkit-keyframes spin {\n  0% { -webkit-transform: rotate(0deg); }\n  100% { -webkit-transform: rotate(360deg); }\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}"}),Object(B.jsx)("div",{className:"loader"})]})})},ee=(p.default.create({}),function(){var e=v.use(),t=Object(o.useState)(),n=l()(t,2),r=n[0],a=n[1],s=Object(o.useState)(!1),c=l()(s,2),u=c[0],d=c[1];return Object(B.jsxs)(j.default,{style:{padding:25},children:[Object(B.jsx)(b.default,{style:{fontSize:17,fontWeight:"600"},children:"Current categories"}),e.categories.map((function(t,n){return Object(B.jsxs)(h.default,{style:{flexDirection:"row",justifyContent:"space-between",padding:15,margin:10,backgroundColor:"lightgrey"},children:[Object(B.jsx)(b.default,{style:{fontSize:17},children:t}),Object(B.jsx)(g.default,{onPress:function(){return function(t){var n=structuredClone(e);n.categories.splice(t,1),K(n.categories,n.products),d(!0)}(n)},style:{justifyContent:"center",alignItems:"center"},children:Object(B.jsx)(b.default,{style:{color:"red",fontWeight:"600"},children:"Remove X"})})]})})),Object(B.jsx)(m.TextInput,{placeholder:"Enter New Category",onChangeText:function(e){return a(e)},style:{margin:10}}),Object(B.jsx)(m.Button,{title:"Add New Category",onPress:function(){K([].concat(i()(e.categories),[r]),e.products),d(!0)},style:{margin:10}}),Object(B.jsx)(H,{isModalVisible:u})]})}),te=(p.default.create({}),n(9)),ne=n.n(te),oe=n(168);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var ie=function(e){var t=e.label,n=e.options,r=e.setValue,i=e.value,a=e.style,s=Object(o.useState)(!1),c=l()(s,2),u=c[0],d=c[1];return Object(B.jsxs)(h.default,{style:[ae.container,a],children:[Object(B.jsx)(m.ListItem,{title:i||t,trailing:function(e){return Object(B.jsx)(oe.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ne()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:u?"chevron-up":"chevron-down"},e))},onPress:function(){return d((function(e){return!e}))}}),u&&Object(B.jsx)(B.Fragment,{children:n.map((function(e){return Object(B.jsx)(m.ListItem,{title:e,onPress:function(){r(e),d(!1)}})}))})]})},ae=p.default.create({container:{backgroundColor:"white"}});function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){ne()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le=function(e){var t=e.setProductModal,n=e.setisModalVisible,r=e.existingProduct,a=e.existingProductIndex,s=v.use(),c=Object(o.useState)(r||{name:null,price:null,catagory:null,options:[],description:null}),u=l()(c,2),d=u[0],p=u[1],f=Object(o.useState)({index:null,inputName:null,innerList:null,cursor:null,cursorEnd:null}),O=l()(f,2),x=O[0],y=O[1];function X(e){if(e)K(i()(s.categories),[].concat(i()(s.products),[e]));else if(r){var t=structuredClone(s.products);t[a]=d,K(i()(s.categories),t)}else K(i()(s.categories),[].concat(i()(s.products),[d]));n(!0)}return Object(B.jsxs)(j.default,{contentContainerStyle:{width:"93%",alignSelf:"center",marginTop:25},children:[Object(B.jsxs)(h.default,{style:{flexDirection:"row",padding:20,justifyContent:"space-between",alignItems:"center"},children:[Object(B.jsx)(g.default,{onPress:function(){return t(!1)},children:Object(B.jsx)(b.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"X"})}),Object(B.jsx)(g.default,{onPress:function(){var e=structuredClone(d);e.name=e.name+" Copy",X(e)},children:Object(B.jsx)(b.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"Copy"})}),Object(B.jsx)(b.default,{style:{marginBottom:25},children:"AddProduct"})]}),Object(B.jsx)(m.TextInput,{placeholder:"Enter Product Name",onChangeText:function(e){p((function(t){return ce(ce({},t),{},{name:e})}))},value:d.name,style:{marginBottom:25}}),Object(B.jsx)(m.TextInput,{placeholder:"Enter any other items that come with this",onChangeText:function(e){p((function(t){return ce(ce({},t),{},{description:e})}))},style:{marginBottom:25},value:d.description}),Object(B.jsx)(m.TextInput,{placeholder:"Enter Product Price",onChangeText:function(e){p((function(t){return ce(ce({},t),{},{price:e})}))},style:{marginBottom:25},value:d.price}),Object(B.jsx)(ie,{label:"Choose catagory",options:s.categories,setValue:function(e){p((function(t){return ce(ce({},t),{},{catagory:e})}))},value:d.catagory,style:{marginBottom:25}}),Object(B.jsx)((function(){return Object(B.jsxs)(h.default,{children:[d.options.map((function(e,t){var n=Object(o.useState)([]),r=l()(n,2),a=r[0],s=r[1],c=Object(o.useState)([]),u=l()(c,2),f=u[0],j=u[1];return Object(o.useEffect)((function(){if(d.options.length>1){var t=[];d.options.forEach((function(n){n.label!==e.label&&t.push(n.label)})),j(t)}}),[]),Object(o.useEffect)((function(){if(null!==e.selectedCaseKey){var t=d.options.filter((function(t){return t.label==e.selectedCaseKey})),n=[];t[0].optionsList.forEach((function(e){n.push(e.label)})),s(n)}}),[f]),Object(B.jsxs)(h.default,{style:{padding:25,margin:15,backgroundColor:"lightgrey"},children:[Object(B.jsx)(g.default,{onPress:function(){var t=structuredClone(d);t.options.push(ce(ce({},e),{},{label:e.label+" Copy"})),y({index:null,inputName:null,innerList:null,cursor:null,cursorEnd:null}),p((function(e){return ce(ce({},e),{},{options:t.options})}))},children:Object(B.jsx)(b.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"Copy"})}),Object(B.jsx)(g.default,{onPress:function(){var e=structuredClone(d);e.options.splice(t,1),p((function(t){return ce(ce({},t),{},{options:e.options})}))},children:Object(B.jsx)(b.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"X"})}),Object(B.jsx)(m.TextInput,{placeholder:"Enter Select List Label",onChange:function(e){var n=e.nativeEvent.text,o=i()(d.options);o[t].label=n,y({index:t,inputName:"label",innerList:!1,cursor:e.target.selectionStart,cursorEnd:e.target.selectionEnd}),p((function(e){return ce(ce({},e),{},{options:o})}))},onFocus:function(e){e.target.selectionStart=x.cursor,e.target.selectionEnd=x.cursorEnd},value:e.label,autoFocus:x.index===t&&!1===x.innerList&&"label"===x.inputName,style:{marginBottom:25}}),Object(B.jsx)(m.TextInput,{placeholder:"Enter Number Of Selectable; If There Is",onChange:function(e){var n=e.nativeEvent.text,o=i()(d.options);o[t].numOfSelectable=n,y({index:t,inputName:"numOfSelectable",innerList:!1,cursor:e.target.selectionStart,cursorEnd:e.target.selectionEnd}),p((function(e){return ce(ce({},e),{},{options:o})}))},onFocus:function(e){e.target.selectionStart=x.cursor,e.target.selectionEnd=x.cursorEnd},value:e.numOfSelectable,autoFocus:x.index===t&&!1===x.innerList&&"numOfSelectable"===x.inputName,style:{marginBottom:25}}),e.optionsList.map((function(e,n){return Object(B.jsxs)(h.default,{style:{flexDirection:"row",marginBottom:25,alignItems:"center"},children:[Object(B.jsx)(m.TextInput,{placeholder:"Enter Option Label",onChange:function(e){var o=e.nativeEvent.text,r=structuredClone(d);r.options[t].optionsList[n].label=o,y({index:t,inputName:"label",innerList:!0,indexInnerList:n,cursor:e.target.selectionStart,cursorEnd:e.target.selectionEnd}),p(r)},onFocus:function(e){e.target.selectionStart=x.cursor,e.target.selectionEnd=x.cursorEnd},value:e.label,autoFocus:x.index===t&&!0===x.innerList&&"label"===x.inputName&&x.indexInnerList===n}),Object(B.jsx)(m.TextInput,{placeholder:"Enter price increase",onChange:function(e){var o=e.nativeEvent.text,r=structuredClone(d);r.options[t].optionsList[n].priceIncrease=o,y({index:t,inputName:"priceIncrease",innerList:!0,indexInnerList:n,cursor:e.target.selectionStart,cursorEnd:e.target.selectionEnd}),p(r)},onFocus:function(e){e.target.selectionStart=x.cursor,e.target.selectionEnd=x.cursorEnd},value:e.priceIncrease,autoFocus:x.index===t&&!0===x.innerList&&"priceIncrease"===x.inputName&&x.indexInnerList===n,style:{marginLeft:20,marginRight:20}}),Object(B.jsx)(g.default,{onPress:function(){var e=structuredClone(d);e.options[t].optionsList.splice(n,1),p((function(t){return ce(ce({},t),{},{options:e.options})})),p((function(t){return ce(ce({},t),{},{options:e.options})}))},children:Object(B.jsx)(b.default,{style:{fontWeight:"700",color:"red"},children:"X"})})]})})),Object(B.jsx)(m.Button,{title:"Add Option Choice",onPress:function(){var e=i()(d.options);e[t].optionsList.push({label:null,priceIncrease:null}),p((function(t){return ce(ce({},t),{},{options:e})})),y({index:t,inputName:"label",innerList:!0,indexInnerList:e[t].optionsList.length-1})},style:{marginBottom:25}}),f.length>1&&Object(B.jsxs)(h.default,{style:{flexDirection:"row",justifyContent:"space-between",marginBottom:25},children:[Object(B.jsx)(ie,{label:"Show if...",options:f,setValue:function(e){var n=i()(d.options);n[t].selectedCaseKey=e,p((function(e){return ce(ce({},e),{},{options:n})})),y({index:null,inputName:null,innerList:null,indexInnerList:null})},value:e.selectedCaseKey,style:{marginBottom:25}}),Object(B.jsx)(b.default,{children:'"="'}),Object(B.jsx)(ie,{label:"Show if...",options:a,setValue:function(e){var n=i()(d.options);n[t].selectedCaseValue=e,p((function(e){return ce(ce({},e),{},{options:n})})),y({index:null,inputName:null,innerList:null,indexInnerList:null})},value:e.selectedCaseValue,style:{marginBottom:25}})]})]})})),Object(B.jsx)(m.Button,{title:"Add Product Option",onPress:function(){p((function(e){return ce(ce({},e),{},{options:[].concat(i()(e.options),[{label:null,optionsList:[],selectedCaseKey:null,selectedCaseValue:null,numOfSelectable:null}])})})),y({index:d.options.length,inputName:"label",innerList:!1,indexInnerList:null})},style:{marginBottom:25}})]})}),{}),Object(B.jsx)(m.Button,{title:"Add/Save Product",onPress:function(){return X()},style:{marginBottom:25,marginTop:25,backgroundColor:"lightgreen"}})]})},ue=(p.default.create({}),function(){var e=v.use(),t=Object(o.useState)(!1),n=l()(t,2),r=n[0],i=n[1],a=Object(o.useState)(!1),s=l()(a,2),c=s[0],u=s[1];return Object(B.jsxs)(j.default,{style:{padding:25},children:[Object(B.jsx)(b.default,{style:{fontSize:17,fontWeight:"600"},children:"Current Products"}),e.categories.length>0?e.products.map((function(t,n){var r=Object(o.useState)(!1),i=l()(r,2),a=i[0],s=i[1];return Object(B.jsxs)(h.default,{style:{flexDirection:"row",justifyContent:"space-between",padding:15,margin:10,backgroundColor:"lightgrey"},children:[Object(B.jsxs)(b.default,{style:{fontSize:17},children:["Product: ",t.name]}),Object(B.jsxs)(h.default,{style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"10%"},children:[Object(B.jsx)(m.Button,{title:"Edit",onPress:function(){return s(!0)},style:{margin:10}}),Object(B.jsx)(g.default,{onPress:function(){return function(t){var n=structuredClone(e);n.products.splice(t,1),K(n.categories,n.products),u(!0)}(n)},style:{justifyContent:"center",alignItems:"center",borderRadius:3,backgroundColor:"red",padding:10,margin:10},children:Object(B.jsx)(b.default,{style:{color:"white",fontWeight:"600",fontSize:18},children:"X"})})]}),Object(B.jsx)(f.default,{visible:a,children:Object(B.jsx)(le,{setProductModal:s,setisModalVisible:u,existingProduct:t,existingProductIndex:n})})]})})):Object(B.jsx)(b.default,{style:{marginTop:50,marginBottom:50},children:"You must add a category before you can add a product..."}),e.products.length<1&&e.categories.length>0&&Object(B.jsx)(b.default,{style:{marginTop:50,marginBottom:50},children:"You have no products..."}),Object(B.jsx)(m.Button,{title:"Add New Product",onPress:function(){return i(!0)},style:{margin:10},disabled:e.categories.length<1}),Object(B.jsx)(f.default,{visible:r,children:Object(B.jsx)(le,{setProductModal:i,setisModalVisible:u})}),Object(B.jsx)(H,{isModalVisible:c})]})}),de=(p.default.create({}),function(){var e=T.use(),t=Object(o.useState)(e.apiUrl),n=l()(t,2),r=n[0],i=n[1],a=Object(o.useState)(e.ck),s=l()(a,2),c=s[0],u=s[1],d=Object(o.useState)(e.cs),p=l()(d,2),h=p[0],f=p[1],g=Object(o.useState)(e.useWoocommerce),O=l()(g,2),x=O[0],y=O[1];return Object(B.jsxs)(j.default,{style:{padding:25},children:[Object(B.jsx)(b.default,{style:{fontSize:17,fontWeight:"600"},children:"Current categories"}),Object(B.jsx)(m.TextInput,{placeholder:"Enter Woocommerce 'API Url'",onChangeText:function(e){return i(e)},style:{margin:10},value:r}),Object(B.jsx)(m.TextInput,{placeholder:"Enter Woocommerce 'CK'",onChangeText:function(e){return u(e)},style:{margin:10},value:c}),Object(B.jsx)(m.TextInput,{placeholder:"Enter Woocommerce 'CS'",onChangeText:function(e){return f(e)},style:{margin:10},value:h}),Object(B.jsx)(m.Switch,{value:x,onValueChange:function(e){return y(e)}}),Object(B.jsx)(m.Button,{title:"Save",onPress:function(){null!==r&&null!==c&&null!==h&&(I({apiUrl:r,ck:c,cs:h,useWoocommerce:x}),function(e){var t;U.collection("users").doc(null==(t=J.currentUser)?void 0:t.uid).update({wooCredentials:e})}({apiUrl:r,ck:c,cs:h,useWoocommerce:x}))},style:{margin:10}})]})}),pe=function(){var e=k.use(),t=Object(o.useState)(e.name),n=l()(t,2),r=n[0],i=n[1],a=Object(o.useState)(e.phoneNumber),s=l()(a,2),c=s[0],u=s[1],d=Object(o.useState)(e.address),p=l()(d,2),h=p[0],f=p[1],g=Object(o.useState)(e.website),O=l()(g,2),x=O[0],y=O[1],X=Object(o.useState)(e.deliveryPrice),C=l()(X,2),v=C[0],w=C[1],S=Object(o.useState)(e.comSelected),P=l()(S,2),T=P[0],I=P[1];return Object(B.jsxs)(j.default,{style:{padding:25},children:[Object(B.jsx)(b.default,{style:{fontSize:17,fontWeight:"600"},children:"Current categories"}),Object(B.jsx)(m.TextInput,{placeholder:"Enter Store Name",onChangeText:function(e){return i(e)},style:{margin:10},value:r}),Object(B.jsx)(m.TextInput,{placeholder:"Enter Store Website Url",onChangeText:function(e){return y(e)},style:{margin:10},value:x}),Object(B.jsx)(m.TextInput,{placeholder:"Enter Store Phone Number",onChangeText:function(e){return u(e)},style:{margin:10},value:c}),Object(B.jsx)(m.TextInput,{placeholder:"Enter Store Address",onChangeText:function(e){return f(e)},style:{margin:10},value:h}),Object(B.jsx)(m.TextInput,{placeholder:"Enter Delivery Price",onChangeText:function(e){return w(e)},style:{margin:10},value:v}),Object(B.jsx)(ie,{options:["COM1","COM2","COM3","COM4","COM5","COM6","What Cum?"],label:"Pick Printer COM",value:T,setValue:I}),Object(B.jsx)(m.Button,{title:"Save",onPress:function(){null!==r&&null!==c&&null!==h&&(D({name:r,phoneNumber:c,address:h,website:x,deliveryPrice:v,comSelected:T}),function(e){var t;U.collection("users").doc(null==(t=J.currentUser)?void 0:t.uid).update({storeDetails:e})}({name:r,phoneNumber:c,address:h,website:x,deliveryPrice:v,comSelected:T}))},style:{margin:10}})]})},he=function(){var e=v.use(),t=Object(o.useState)(),n=l()(t,2),r=n[0],i=n[1],a=Object(o.useState)(!1),s=l()(a,2),c=s[0],u=s[1];Object(o.useEffect)((function(){var e=localStorage.getItem("localScreen");i(e),"add-category"!==e&&"add-product"!==e&&"edit-woocommerce"!==e&&"edit-store-details"!==e||u(!0)}),[]);return Object(B.jsxs)(h.default,{style:fe.container,children:[Object(B.jsx)((function(){var t;return!0===c?Object(B.jsxs)(h.default,{style:{width:"100%",height:120,flexDirection:"row",alignItems:"center",justifyContent:"space-evenly",backgroundColor:"red"},children:[Object(B.jsx)(m.Button,{titleStyle:"add-category"===r?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:"add-category"===r?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){i("add-category"),localStorage.setItem("localScreen","add-category")},title:"Add Category"}),Object(B.jsx)(m.Button,{titleStyle:"add-product"===r?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:"add-product"===r?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){i("add-product"),localStorage.setItem("localScreen","add-product")},title:"Add Product"}),Object(B.jsx)(m.Button,{titleStyle:"edit-woocommerce"===r?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:"edit-woocommerce"===r?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){i("edit-woocommerce"),localStorage.setItem("localScreen","edit-woocommerce")},title:"Woocommerce"}),Object(B.jsx)(m.Button,{titleStyle:"edit-store-details"===r?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:"edit-store-details"===r?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){i("edit-store-details"),localStorage.setItem("localScreen","edit-store-details")},title:"Store Details"}),Object(B.jsx)(m.Button,{titleStyle:{color:"black",fontWeight:"700"},style:{backgroundColor:"white"},onPress:function(){localStorage.removeItem("localScreen"),J.signOut()},title:"Logout"}),Object(B.jsx)(m.Button,{titleStyle:{color:"black",fontWeight:"700"},style:{backgroundColor:"white"},onPress:function(){u(!1),i(),localStorage.removeItem("localScreen")},title:"X"})]}):Object(B.jsxs)(h.default,{style:{width:"100%",height:120,flexDirection:"row",alignItems:"center",justifyContent:"space-evenly",backgroundColor:"red"},children:[null==(t=e.categories)?void 0:t.map((function(e,t){return r||0!==t?Object(B.jsx)(m.Button,{titleStyle:r===e?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:r===e?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){i(e),localStorage.setItem("localScreen",e)},title:e},t):Object(B.jsx)(m.Button,{titleStyle:{color:"white",fontWeight:"700"},style:{backgroundColor:"blue"},onPress:function(){i(e),localStorage.setItem("localScreen",e)},title:e},t)})),Object(B.jsx)(m.Button,{titleStyle:"transList"===r?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:"transList"===r?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){i("transList"),localStorage.setItem("localScreen","transList")},title:"Transaction"}),Object(B.jsx)(m.Button,{titleStyle:{color:"black",fontWeight:"700"},style:{backgroundColor:"white"},onPress:function(){return u(!0)},title:"Settings"})]})}),{}),Object(B.jsx)((function(){return"add-category"===r?Object(B.jsx)(ee,{}):"add-product"===r?Object(B.jsx)(ue,{}):"edit-woocommerce"===r?Object(B.jsx)(de,{}):"edit-store-details"===r?Object(B.jsx)(pe,{}):"transList"===r?Object(B.jsx)(h.default,{style:{height:"85%"},children:Object(B.jsx)(Z,{})}):Object(B.jsxs)(h.default,{style:{flexDirection:"row",height:"85%"},children:[Object(B.jsx)(N,{catalog:e,section:r}),Object(B.jsx)(q,{})]})}),{})]})},fe=p.default.create({container:{backgroundColor:"white",flex:1}}),je=Object(d.default)();function be(){return Object(B.jsx)(je.Navigator,{screenOptions:{headerShown:!1},children:Object(B.jsx)(je.Screen,{name:"Home",component:he})})}var ge=function(){return Object(B.jsx)(be,{})},me=n(86),Oe=n(823);function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){ne()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe=function(e){var t=e.navigation,r=Object(o.useState)(),i=l()(r,2),a=i[0],s=i[1],c=Object(o.useState)(),u=l()(c,2),d=u[0],p=u[1],f=Object(o.useState)(!1),j=l()(f,2),b=j[0],g=j[1];return Object(B.jsx)(h.default,{style:Ce.container,children:Object(B.jsxs)(Oe.SafeAreaView,{style:Ce.safeareaContainer,children:[Object(B.jsx)(me.default,{source:n(328),style:Ce.logo}),Object(B.jsxs)(h.default,{style:Ce.innerContainer,children:[Object(B.jsx)(m.TextInput,{label:"Email",variant:"outlined",style:{width:"100%",marginBottom:10},value:a,onChangeText:function(e){return s(e)},autoCorrect:!1,textContentType:"emailAddress"}),Object(B.jsx)(m.TextInput,{label:"Password",variant:"outlined",trailing:function(e){return Object(B.jsx)(m.IconButton,ye({onPress:function(){return g((function(e){return!e}))},icon:function(e){return Object(B.jsx)(oe.default,ye({name:"eye"},e))}},e))},value:d,onChangeText:function(e){return p(e)},secureTextEntry:!b,style:{width:"100%"}})]}),Object(B.jsxs)(h.default,{style:Ce.innerContainer,children:[Object(B.jsx)(m.Button,{title:"Login",uppercase:!1,contentContainerStyle:{width:"100%",height:60,backgroundColor:"black",alignItems:"center",justifyContent:"center"},style:{marginBottom:10},onPress:function(){a&&d&&function(e,t){J.signInWithEmailAndPassword(e,t)}(a,d)}}),Object(B.jsx)(m.Text,{variant:"subtitle1",style:{marginBottom:10},children:"Or"}),Object(B.jsx)(m.Button,{title:"Register",uppercase:!1,contentContainerStyle:{width:"100%",height:60,backgroundColor:"grey",alignItems:"center",justifyContent:"center"},onPress:function(){return t.navigate("Register")}})]})]})})},Ce=p.default.create({container:{flex:1,height:"100%",width:"100%",backgroundColor:"white",justifyContent:"center",alignItems:"center"},safeareaContainer:{flex:1,height:"60%",width:"80%",justifyContent:"space-evenly",alignItems:"center"},logo:{width:250,resizeMode:"contain"},innerContainer:{width:"100%",justifyContent:"center",alignItems:"center"}});function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){ne()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se=function(e){var t=e.navigation,r=Object(o.useState)(),i=l()(r,2),a=i[0],s=i[1],c=Object(o.useState)(),u=l()(c,2),d=u[0],p=u[1],f=Object(o.useState)(!1),j=l()(f,2),b=j[0],g=j[1];return Object(B.jsx)(h.default,{style:Pe.container,children:Object(B.jsxs)(Oe.SafeAreaView,{style:Pe.safeareaContainer,children:[Object(B.jsx)(me.default,{source:n(328),style:Pe.logo}),Object(B.jsxs)(h.default,{style:Pe.innerContainer,children:[Object(B.jsx)(m.TextInput,{label:"Email",variant:"outlined",style:{width:"100%",marginBottom:10},value:a,onChangeText:function(e){return s(e)},autoCorrect:!1,textContentType:"emailAddress"}),Object(B.jsx)(m.TextInput,{label:"Password",variant:"outlined",trailing:function(e){return Object(B.jsx)(m.IconButton,we({onPress:function(){return g((function(e){return!e}))},icon:function(e){return Object(B.jsx)(oe.default,we({name:"eye"},e))}},e))},value:d,onChangeText:function(e){return p(e)},secureTextEntry:!b,style:{width:"100%"}})]}),Object(B.jsxs)(h.default,{style:Pe.innerContainer,children:[Object(B.jsx)(m.Button,{title:"Register",uppercase:!1,contentContainerStyle:{width:"100%",height:60,backgroundColor:"black",alignItems:"center",justifyContent:"center"},style:{marginBottom:10},onPress:function(){a&&d&&function(e,t){J.createUserWithEmailAndPassword(e,t).then((function(e){e.user&&U.collection("users").doc(e.user.uid).set({paid:!0,products:[],categories:[],wooCredentials:{ck:null,cs:null,useWoocommerce:!1},transList:[],storeDetails:{name:null,address:null,phoneNumber:null,website:null,comSelected:null,deliveryPrice:null}})})).catch((function(e){return console.log(e)}))}(a,d)}}),Object(B.jsxs)(h.default,{style:{flexDirection:"row"},children:[Object(B.jsx)(m.Text,{variant:"subtitle1",style:{marginBottom:10},children:"Or"}),Object(B.jsx)(m.Text,{variant:"subtitle1",style:{marginBottom:10,marginLeft:5,color:"blue"},onPress:function(){return t.goBack()},children:"Go Back"})]})]})]})})},Pe=p.default.create({container:{flex:1,height:"100%",width:"100%",backgroundColor:"white",justifyContent:"center",alignItems:"center"},safeareaContainer:{flex:1,height:"60%",width:"80%",justifyContent:"space-evenly",alignItems:"center"},logo:{width:250,resizeMode:"contain"},innerContainer:{width:"100%",justifyContent:"center",alignItems:"center"}}),Te=Object(d.default)();function Ie(){return Object(B.jsxs)(Te.Navigator,{screenOptions:{headerShown:!1},children:[Object(B.jsx)(Te.Screen,{name:"Login",component:Xe}),Object(B.jsx)(Te.Screen,{name:"Register",component:Se})]})}var ke=function(){var e=x.use(),t=T.use(),r=S.use(),a=k.use(),c=Object(o.useState)(!0),d=l()(c,2),p=d[0],h=d[1];return Object(o.useEffect)((function(){J.onAuthStateChanged((function(e){e?(y(e),U.collection("users").doc(e.uid).get().then((function(e){w({products:e.data().products,categories:e.data().categories}),e.data().transList&&P(e.data().transList),e.data().wooCredentials&&I(e.data().wooCredentials),e.data().storeDetails&&D(e.data().storeDetails)})),setTimeout((function(){h(!1)}),1)):(y(null),w({products:null,categories:null}),setTimeout((function(){h(!1)}),1))}))}),[]),Object(o.useEffect)((function(){if(e){var t=U.collection("users").doc(e.uid).onSnapshot((function(e){h(!0),w({products:e.data().products,categories:e.data().categories}),e.data().transList&&P(e.data().transList),e.data().wooCredentials&&I(e.data().wooCredentials),e.data().storeDetails&&D(e.data().storeDetails),setTimeout((function(){h(!1)}),1)}));return function(){return t()}}}),[e]),Object(o.useEffect)((function(){if(!0===t.useWoocommerce){var e=setInterval((function(){var e=new(n(582))({url:t.apiUrl,consumerKey:t.ck,consumerSecret:t.cs,wpAPI:!0,version:"wc/v1"}),o=1,c=[],l=function(){var t=s()((function*(){var t=yield e.getAsync("orders?page="+o+"&per_page=100"),n=JSON.parse(t.body);c=[].concat(i()(c),i()(n)),100===n.length?(o++,l()):console.log(c)}));return function(){return t.apply(this,arguments)}}();l().then((function(){var e=c,t=[];if(r.concat(e).reduce((function(e,n){return e.includes(n.id)||(e.push(n.id),t.push(n)),e}),[]),console.log("new array: ",t),t.length>r.length){console.log("new item");var n=structuredClone(t).splice(r.length,t.length-r.length);if(console.log("NEW ITEMS ",n),G(t),n.length>1)n.forEach((function(e){var t,n=[];n.push("\x1b@","\x1ba1",a.name,"\n",a.address+"\n",a.website+"\n",a.phoneNumber+"\n",e.date_created+"\n","\n","Online Order\n","Transaction # "+e.number+"\n","\n","\n","\n","\x1ba0"),null==(t=e.line_items)||t.map((function(e){var t;(n.push("\n"),n.push("Name: "+e.name),n.push("\n"),n.push("Quantity: "+e.quantity),n.push("\n"),n.push("Price: $"+e.price),n.push("\n"),e.meta_data)?null==(t=e.meta_data)||t.map((function(t,o){0===o?(n.push(t.key+" : "+t.value),e.meta_data[o+1].key!==t.key&&n.push("\n")):o!==e.meta_data.length-1&&(e.meta_data[o-1].key===t.key?n.push(" , "+t.value):n.push(t.key+" : "+t.value),e.meta_data[o+1].key!==t.key&&n.push("\n"))})):n.push("\n\n")})),n.push("\n"),n.push("\n"),n.push("Customer Details:"),n.push("\n"),n.push("Address: "+e.shipping.address_1),n.push("\n"),n.push("City: "+e.shipping.city),n.push("\n"),n.push("Zip/Postal Code: "+e.shipping.postcode),n.push("\n"),n.push("Province/State: "+e.shipping.state),n.push("\n"),n.push("Name: "+e.shipping.first_name+" "+e.shipping.last_name),n.push("\n"),e.shipping_lines.map((function(e){return n.push("Shipping Method: "+e.method_title)})),n.push("\n"),n.push("\n"),n.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e.payment_method_title+"\n\n","Total Including (13% Tax): $"+(parseFloat(e.total)+parseFloat(e.total_tax)).toFixed(2)+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n"),n.push("\x1dV\0"),s()((function*(){return yield fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:n,comSelected:a.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.log("Error with printer")}))}))}));else{var o,i=n[0],l=[];l.push("\x1b@","\x1ba1",a.name,"\n",a.address+"\n",a.website+"\n",a.phoneNumber+"\n",i.date_created+"\n","\n","Online Order\n","Transaction # "+i.number+"\n","\n","\n","\n","\x1ba0"),null==(o=i.line_items)||o.map((function(e){var t;(l.push("\n"),l.push("Name: "+e.name),l.push("\n"),l.push("Quantity: "+e.quantity),l.push("\n"),l.push("Price: $"+e.price),l.push("\n"),e.meta_data)?null==(t=e.meta_data)||t.map((function(t,n){0===n?(l.push(t.key+" : "+t.value),e.meta_data[n+1].key!==t.key&&l.push("\n")):n!==e.meta_data.length-1&&(e.meta_data[n-1].key===t.key?l.push(" , "+t.value):l.push(t.key+" : "+t.value),e.meta_data[n+1].key!==t.key&&l.push("\n"))})):l.push("\n\n")})),l.push("\n"),l.push("\n"),l.push("Customer Details:"),l.push("\n"),l.push("Address: "+i.shipping.address_1),l.push("\n"),l.push("City: "+i.shipping.city),l.push("\n"),l.push("Zip/Postal Code: "+i.shipping.postcode),l.push("\n"),l.push("Province/State: "+i.shipping.state),l.push("\n"),l.push("Name: "+i.shipping.first_name+" "+i.shipping.last_name),l.push("\n"),i.shipping_lines.map((function(e){return l.push("Shipping Method: "+e.method_title)})),l.push("\n"),l.push("\n"),l.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+i.payment_method_title+"\n\n","Total Including (13% Tax): $"+(parseFloat(i.total)+parseFloat(i.total_tax)).toFixed(2)+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n"),l.push("\x1dV\0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:l,comSelected:a.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")}))}}}))}),5e3);return function(){return clearInterval(e)}}}),[t,r]),Object(B.jsx)(u.default,{children:p?Object(B.jsx)(H,{isModalVisible:!0}):Object(B.jsx)(B.Fragment,{children:e?Object(B.jsx)(ge,{}):Object(B.jsx)(Ie,{})})})};t.default=function(){return Object(B.jsx)(ke,{})}},468:function(e,t,n){e.exports=n(806)},598:function(e,t){},600:function(e,t){},609:function(e,t){},611:function(e,t){},636:function(e,t){},638:function(e,t){},639:function(e,t){},644:function(e,t){},646:function(e,t){},665:function(e,t){},677:function(e,t){},680:function(e,t){},685:function(e,t){},687:function(e,t){},710:function(e,t){}},[[468,1,2]]]);
//# sourceMappingURL=app.86185c50.chunk.js.map