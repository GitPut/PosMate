(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{328:function(e,t,n){e.exports=n.p+"static/media/pathblazer-logo.17137072.png"},457:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(15),i=n.n(o),c=n(40),s=n.n(c),a=n(8),l=n.n(a),u=n(824),d=n(9),p=n.n(d),f=n(816),h=n(11),j=n(7),b=n(138),g=n(48),m=n(23),O=n(58),y=n(17),x=n(815),X=Object(x.default)(null),C=function(e){X.set(e)},v=Object(x.default)([]),w=function(e){v.set(e)},S=Object(x.default)({products:[],categories:[]}),P=function(e){S.set(e)},T=Object(x.default)([]),D=function(e){T.set(e)},I=Object(x.default)({apiUrl:null,ck:null,cs:null,useWoocommerce:!1}),k=function(e){I.set(e)},B=Object(x.default)({name:null,address:null,phoneNumber:null,website:null,comSelected:null,deliveryPrice:null}),E=function(e){B.set(e)},L=Object(x.default)(null),W=function(e){L.set(e)},_=n(135),N=n(2);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var V=function(e){var t=e.label,n=e.options,o=e.setValue,i=e.value,c=e.style,s=Object(r.useState)(!1),a=l()(s,2),u=a[0],d=a[1];return Object(N.jsxs)(j.default,{style:[R.container,c],children:[Object(N.jsx)(y.ListItem,{title:i?i.label+" : $"+(null!==i.priceIncrease?i.priceIncrease:0):t,trailing:function(e){return Object(N.jsx)(_.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:u?"chevron-up":"chevron-down"},e))},onPress:function(){return d((function(e){return!e}))}}),u&&Object(N.jsx)(N.Fragment,{children:n.map((function(e,t){return Object(N.jsx)(y.ListItem,{title:e.label+" : $"+(null!==e.priceIncrease?e.priceIncrease:0),onPress:function(){o({option:{label:e.label,priceIncrease:null!==e.priceIncrease?e.priceIncrease:0},listIndex:t}),d(!1)}})}))})]})},R=h.default.create({container:{backgroundColor:"white"}}),A=function(e){var t=e.product,n=e.productIndex,o=t,c=Object(r.useState)(o),s=l()(c,2),a=s[0],u=s[1],d=Object(r.useState)(o.price),p=l()(d,2),f=p[0],h=p[1],x=Object(r.useState)(!1),X=l()(x,2),C=X[0],w=X[1],S=Object(r.useState)(),P=l()(S,2),T=P[0],D=P[1],I=function(e){var t=e.e,n=e.index,o=Object(r.useState)(),i=l()(o,2),c=i[0],s=i[1],d=t.optionsList.filter((function(e){return e.selected}));d.length>0&&!c&&s(d[0]);var p,f,b=!1,g=a.options.filter((function(e){return e.label==t.selectedCaseKey}));if(g.length>0&&(p=g[0].optionsList.filter((function(e){return e.label==t.selectedCaseValue}))).length>0&&(b=!0===p[0].selected),null===t.selectedCaseKey||b)return"dropdown"===(null==(f=t.optionType)?void 0:f.toLowerCase())?Object(N.jsxs)(j.default,{style:{marginBottom:25,width:"100%"},children:[Object(N.jsxs)(m.default,{style:{fontWeight:"700",fontSize:18},children:["Label: ",t.label]}),Object(N.jsx)(V,{label:t.label,options:t.optionsList,setValue:function(e){var t=e.option,r=e.listIndex,o=structuredClone(a);o.options[n].optionsList.forEach((function(e,t){e.selected&&(o.options[n].optionsList[t].selected=!1,h((function(e){return(parseFloat(e)-parseFloat(null!==o.options[n].optionsList[t].priceIncrease?o.options[n].optionsList[t].priceIncrease:0)).toFixed(2)})))})),o.options[n].optionsList[r].selected=!0,h((function(e){return(parseFloat(e)+parseFloat(null!==o.options[n].optionsList[r].priceIncrease?o.options[n].optionsList[r].priceIncrease:0)).toFixed(2)})),console.log(t),s(t),u(o)},value:c,style:{marginBottom:25}})]},n):Object(N.jsxs)(j.default,{style:{marginBottom:25,flexWrap:"wrap",width:"100%"},children:[Object(N.jsxs)(m.default,{style:{fontWeight:"700",fontSize:18},children:["Label: ",t.label]}),Object(N.jsx)(j.default,{style:{flexWrap:"wrap",flexDirection:"row"},children:t.optionsList.map((function(e,r){return Object(N.jsxs)(O.default,{style:[1==a.options[n].optionsList[r].selected&&{backgroundColor:"green"},{flexDirection:"row",justifyContent:"space-between",padding:10,margin:5,borderColor:"black",borderWidth:2}],onPress:function(){var e=structuredClone(a);0==!e.options[n].optionsList[r].selected?(e.options[n].optionsList[r].selected=!1,h((function(t){return(parseFloat(t)-parseFloat(null!==e.options[n].optionsList[r].priceIncrease?e.options[n].optionsList[r].priceIncrease:0)).toFixed(2)}))):(e.options[n].optionsList.filter((function(e){return!0===e.selected})).length<parseInt(t.numOfSelectable)||!t.numOfSelectable)&&(e.options[n].optionsList[r].selected=!0,h((function(t){return(parseFloat(t)+parseFloat(null!==e.options[n].optionsList[r].priceIncrease?e.options[n].optionsList[r].priceIncrease:0)).toFixed(2)}))),u(e)},children:[Object(N.jsxs)(m.default,{style:M.h2Black,children:["Name: ",e.label]}),Object(N.jsx)(j.default,{style:{width:20}}),Object(N.jsxs)(m.default,{style:M.h2Black,children:["Price: $",null!==e.priceIncrease?e.priceIncrease:0]})]},r)}))})]},n);if(!1===b){var y=structuredClone(a),x=0;y.options[n].optionsList.forEach((function(e,t){!0===e.selected&&(x+=parseFloat(null!==y.options[n].optionsList[t].priceIncrease?priceIncrease:0),y.options[n].optionsList[t].selected=!1)})),x>0&&(h((function(e){return(parseFloat(e)-x).toFixed(2)})),u(y))}};return Object(N.jsxs)(j.default,{children:[Object(N.jsx)(y.Button,{title:o.name,onPress:function(){return w(!0)},style:M.touchable}),Object(N.jsx)(b.default,{visible:C,children:Object(N.jsxs)(g.default,{style:M.modalContainer,children:[Object(N.jsxs)(m.default,{style:M.h2Black,children:["Name: ",o.name]}),o.description&&Object(N.jsxs)(m.default,{style:M.h2Black,children:["Name: ",o.description]}),Object(N.jsxs)(m.default,{style:[{marginBottom:25},M.h2Black],children:["Price: ",f]}),a.options.map((function(e,t){return Object(N.jsx)(I,{e:e,index:t},t)})),Object(N.jsx)(y.TextInput,{placeholder:"Write any extra info here..",multiline:!0,onChangeText:function(e){return D(e)},value:T,style:{marginTop:15,marginBottom:15},inputStyle:{padding:10}}),Object(N.jsx)(y.Button,{title:"Add To Cart",onPress:function(){var e,t=[];a.options.forEach((function(e){var n=e.label+": ",r=e.optionsList.filter((function(e){return!0===e.selected})).length;r>0&&(n=e.label+": ",e.optionsList.map((function(t,o){!0===t.selected&&(o<e.optionsList.length-1&&r>1?n+=t.label+" , ":n+=t.label)})),t.push(n))})),e={name:a.name,price:f.toFixed(2),description:o.description,options:t,extraDetails:T},v.set((function(t){return[].concat(i()(t),[e])})),w(!1),u(o),h(a.price),D()},style:M.btn}),Object(N.jsx)(y.Button,{title:"Close",onPress:function(){return w(!1)},style:M.btn})]})})]},n)},M=h.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:10},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{marginBottom:25},dropDown:{marginBottom:25},h2White:{fontSize:17,color:"white"},h2Black:{fontSize:20,color:"black"}}),z=function(e){var t=e.section,n=e.catalog;return Object(N.jsx)(j.default,{style:$.container,children:Object(N.jsx)((function(){if(n.products&&n.products.length>0)return t?n.products.filter((function(e){return e.catagory===t})).map((function(e,t){return Object(N.jsx)(A,{product:e,productIndex:t},t)})):n.products.filter((function(e){return e.catagory===n.categories[0]})).map((function(e,t){return Object(N.jsx)(A,{product:e,productIndex:t},t)}))}),{})})},$=h.default.create({container:{backgroundColor:"white",flex:2,height:"100%"},wrapper:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",paddingLeft:50,paddingRight:50,height:"100%",width:"100%",alignItems:"center"}}),J=n(292),K=function(e){var t=e.setDeliveryModal,n=e.setOngoingDelivery,r=e.setName,o=e.setPhone,i=e.setAddress,c=e.name,s=e.phone,a=e.address,l=e.deliveryChecked,u=e.setDeliveryChecked;return Object(N.jsxs)(g.default,{style:U.modalContainer,children:[Object(N.jsxs)(j.default,{style:U.sizeRow,children:[Object(N.jsx)(m.default,{children:"Enter Phone Order Details"}),Object(N.jsxs)(j.default,{children:[Object(N.jsx)(m.default,{children:"Delivery?"}),Object(N.jsx)(J.Switch,{value:l,onValueChange:function(){u(!l)}})]})]}),Object(N.jsx)(y.TextInput,{label:"Name",variant:"outlined",style:U.input,onChangeText:function(e){return r(e)},autoCorrect:!1,value:c}),Object(N.jsx)(y.TextInput,{label:"Phone #",variant:"outlined",style:U.input,onChangeText:function(e){return o(e)},autoCorrect:!1,value:s}),l&&Object(N.jsx)(y.TextInput,{label:"Address",variant:"outlined",style:U.input,onChangeText:function(e){return i(e)},autoCorrect:!1,value:a}),Object(N.jsx)(y.Button,{title:"Order",onPress:function(){t(!1),n(!0)},contentContainerStyle:U.btn,style:{margin:25}}),Object(N.jsx)(y.Button,{title:"Cancel",onPress:function(){t(!1),n(null)},contentContainerStyle:U.btn,style:{margin:25}})]})},U=h.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:25},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{height:40,justifyContent:"center",alignItems:"center"},input:{marginTop:25,marginBottom:25}}),G=function(e){var t=e.setCashModal,n=e.GetTrans,o=e.total,i=e.setChangeDue,c=Object(r.useState)(""),s=l()(c,2),a=s[0],u=s[1];return Object(N.jsxs)(g.default,{style:q.modalContainer,children:[Object(N.jsx)(j.default,{style:q.sizeRow,children:Object(N.jsx)(m.default,{children:"Cash Payment Details"})}),Object(N.jsxs)(m.default,{children:["Total: ",o]}),Object(N.jsx)(y.TextInput,{label:"Enter Cash Given",variant:"outlined",style:q.input,onChangeText:function(e){u(e),i((parseFloat(e)-o).toFixed(2))},autoCorrect:!1,value:a}),Object(N.jsxs)(m.default,{children:["Change Due:"," ",parseFloat(a)>o&&(parseFloat(a)-o).toFixed(2)]}),Object(N.jsx)(y.Button,{title:"Print",onPress:function(){n("Cash"),t(!1)},contentContainerStyle:q.btn,style:{margin:25}}),Object(N.jsx)(y.Button,{title:"Cancel",onPress:function(){return t(!1)},contentContainerStyle:q.btn,style:{margin:25}})]})},q=h.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:25},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{height:40,justifyContent:"center",alignItems:"center"},input:{marginTop:25,marginBottom:25}}),Q=function(e){var t=e.setChangeModal,n=Object(r.useState)(""),o=l()(n,2),i=o[0],c=o[1],s=Object(r.useState)(""),a=l()(s,2),u=a[0],d=a[1],p=B.use();return Object(N.jsxs)(g.default,{style:Z.modalContainer,children:[Object(N.jsx)(j.default,{style:Z.sizeRow,children:Object(N.jsx)(m.default,{children:"Cash Payment Details"})}),Object(N.jsx)(y.TextInput,{label:"Enter Total",variant:"outlined",style:Z.input,onChangeText:function(e){return c(e)},autoCorrect:!1,value:i}),Object(N.jsx)(y.TextInput,{label:"Enter Cash Given",variant:"outlined",style:Z.input,onChangeText:function(e){return d(e)},autoCorrect:!1,value:u}),Object(N.jsxs)(m.default,{children:["Change Due: ",(parseFloat(u)-i).toFixed(2)]}),Object(N.jsx)(y.Button,{title:"Open Cash",onPress:function(){!function(){var e=["\x1b@","\x1ba1",p.name,"\n",p.address+"\n",p.website+"\n",p.phoneNumber+"\n","\n","\n","\n","\n","\x1ba0","Total: $"+i+"\n","Cash Given: $"+u+"\n","Change Due: $"+(parseFloat(u)-parseFloat(i)).toFixed(2)+"\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0","\x10\x14\x01\0\x05"];fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:e,comSelected:p.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")}))}(),t(!1)},contentContainerStyle:Z.btn,style:{margin:25}}),Object(N.jsx)(y.Button,{title:"Cancel",onPress:function(){return t(!1)},contentContainerStyle:Z.btn,style:{margin:25}})]})},Z=h.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:25},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{height:40,justifyContent:"center",alignItems:"center"},input:{marginTop:25,marginBottom:25}}),Y=n(246);n(807),n(566);Y.default.initializeApp({apiKey:"AIzaSyDmtlrkfZRbFy8P7D4BFXTIkzMDC_DP5n8",authDomain:"posmate-5fc0a.firebaseapp.com",projectId:"posmate-5fc0a",storageBucket:"posmate-5fc0a.appspot.com",messagingSenderId:"48463376409",appId:"1:48463376409:web:b427a4fbc3c210a5977a88"});var H=Y.default.auth(),ee=Y.default.firestore(),te=function(e,t){return new Promise((function(n,r){var o;ee.collection("users").doc(null==(o=H.currentUser)?void 0:o.uid).update({products:t,categories:e}).then((function(){return n("Promise resolved!")})).catch((function(){return r("Promise rejected!")}))}))},ne=function(e){var t;ee.collection("users").doc(null==(t=H.currentUser)?void 0:t.uid).update({transList:e})},re=function(){var e=Object(r.useState)(!1),t=l()(e,2),n=t[0],o=t[1],i=Object(r.useState)(!1),c=l()(i,2),a=c[0],u=c[1],d=Object(r.useState)(!1),p=l()(d,2),f=p[0],h=p[1],O=Object(r.useState)(null),x=l()(O,2),X=x[0],C=x[1],S=Object(r.useState)(),P=l()(S,2),D=P[0],I=P[1],k=Object(r.useState)(),E=l()(k,2),L=E[0],W=E[1],_=Object(r.useState)(),F=l()(_,2),V=F[0],R=F[1],A=Object(r.useState)(!1),M=l()(A,2),z=M[0],$=M[1],J=Object(r.useState)(),U=l()(J,2),q=U[0],Z=U[1],Y=v.use(),H=T.use(),ee=B.use(),te=Object(r.useState)(0),re=l()(te,2),ie=re[0],ce=re[1];Object(r.useEffect)((function(){if(Y.length>0){for(var e=0,t=0;t<Y.length;t++)e+=parseFloat(Y[t].price);ce(e)}else ce(0)}),[Y]);var se=function(){var e=s()((function*(e){var t=structuredClone(H);t.unshift(e),ne(t)}));return function(t){return e.apply(this,arguments)}}(),ae=function(e){var t=(null==H?void 0:H.length)+1;if("deliveryOrder"===e){var n=ee.deliveryPrice>0?parseFloat(ee.deliveryPrice):0,r=new Date,i=["\x1b@","\x1ba1",ee.name,"\n",ee.address+"\n",ee.website+"\n",ee.phoneNumber+"\n",r.toLocaleDateString()+" "+r.toLocaleTimeString()+"\n","\n","Transaction # "+t+"\n","\n","Delivery Order: $"+ee.deliveryPrice+" Fee\n","\n","\n","\n","\x1ba0"];Y.map((function(e){n+=parseFloat(e.price),i.push("Name: "+e.name),i.push("Price: $"+e.price),e.description&&(i.push(e.description),i.push("\n")),e.options&&(i.push("\n"),e.options.map((function(e){i.push(e),i.push("\n")}))),e.extraDetails&&(i.push(e.extraDetails),i.push("\n")),i.push("\n\n")})),n=(n*=1.13).toFixed(2),i.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Customer Name: "+D,"\n\n","Customer Phone #:  "+L,"\n\n","Customer Address #:  "+V,"\n\n","Total Including (13% Tax): "+n+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:i,comSelected:ee.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")})),se({date:r,transNum:t,total:n,method:"deliveryOrder",cart:Y}),w([]),o(!1)}else if("pickupOrder"===e){var c=0,s=new Date,a=["\x1b@","\x1ba1",ee.name,"\n",ee.address+"\n",ee.website+"\n",ee.phoneNumber+"\n",s.toLocaleDateString()+" "+s.toLocaleTimeString()+"\n","\n","Transaction # "+t+"\n","\n","Pickup Order\n","\n","\n","\n","\x1ba0"];Y.map((function(e){c+=parseFloat(e.price),a.push("Name: "+e.name),a.push("Price: $"+e.price),e.description&&(a.push(e.description),a.push("\n")),e.options&&(a.push("\n"),e.options.map((function(e){a.push(e),a.push("\n")}))),e.extraDetails&&(a.push(e.extraDetails),a.push("\n")),a.push("\n\n")})),c=(c*=1.13).toFixed(2),a.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Customer Name: "+D,"\n\n","Customer Phone #:  "+L,"\n\n","Total Including (13% Tax): "+c+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:a,comSelected:ee.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")})),se({date:s,transNum:t,total:c,method:"pickupOrder",cart:Y}),w([]),o(!1)}else{var l=0,u=new Date,d=["\x1b@","\x1ba1",ee.name,"\n",ee.address+"\n",ee.website+"\n",ee.phoneNumber+"\n",u.toLocaleDateString()+" "+u.toLocaleTimeString()+"\n","\n","Transaction # "+t+"\n","\n","\n","\n","\x1ba0"];Y.map((function(e){l+=parseFloat(e.price),d.push("Name: "+e.name),d.push("\n"),d.push("Price: $"+e.price),e.description&&(d.push(e.description),d.push("\n")),e.options&&(d.push("\n"),e.options.map((function(e){d.push(e),d.push("\n")}))),e.extraDetails&&(d.push(e.extraDetails),d.push("\n")),d.push("\n\n")})),l=(l*=1.13).toFixed(2),"Cash"===e?d.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e+"\n\n","Total Including (13% Tax): $"+l+"\n\n","Change Due: $"+q+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0","\x10\x14\x01\0\x05"):d.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e+"\n\n","Total Including (13% Tax): $"+l+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:d,comSelected:ee.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")})),se({date:u,transNum:t,total:l,method:e,cart:Y})}w([])};return Object(N.jsx)(j.default,{style:oe.container,children:Object(N.jsxs)(g.default,{style:oe.container,contentContainerStyle:oe.contentContainer,children:[Object(N.jsx)(j.default,{children:Y.map((function(e,t){return Object(N.jsxs)(j.default,{style:{marginBottom:20},children:[Object(N.jsxs)(m.default,{children:["Name: ",e.name]}),Object(N.jsxs)(m.default,{children:["Price: ",e.price]}),e.description&&Object(N.jsxs)(m.default,{children:["Description: ",e.description]}),e.options&&e.options.map((function(e){return Object(N.jsx)(m.default,{children:e})})),e.extraDetails&&Object(N.jsx)(m.default,{children:e.extraDetails}),Object(N.jsx)(m.default,{style:{color:"blue"},onPress:function(){var e=structuredClone(Y);e.splice(t,1),w(e)},children:"Remove"})]})}))}),Object(N.jsxs)(j.default,{children:[Object(N.jsxs)(m.default,{children:["Sub: ",ie.toFixed(2)]}),Object(N.jsxs)(m.default,{children:["Total: ",(1.13*ie).toFixed(2)]}),Object(N.jsx)(y.Button,{title:"Cash",onPress:function(){return u(!0)},disabled:Y.length<1||X,style:{marginBottom:20}}),Object(N.jsx)(y.Button,{title:"Card",onPress:function(){return ae("Card")},disabled:Y.length<1||X,style:{marginBottom:20}}),Object(N.jsx)((function(){return null===X?Object(N.jsx)(y.Button,{title:"Phone Order",onPress:function(){return o(!0)},disabled:Y.length>0,style:{marginBottom:20}}):X&&Y.length>0?Object(N.jsx)(y.Button,{title:"Complete",onPress:function(){ae(z?"deliveryOrder":"pickupOrder"),C(null),I(null),W(null),R(null)},style:{marginBottom:20}}):Object(N.jsx)(y.Button,{title:"Cancel",onPress:function(){return C(null)},style:{marginBottom:20}})}),{}),Object(N.jsx)(y.Button,{title:"Change",onPress:function(){return h(!0)},disabled:Y.length>0||X})]}),Object(N.jsx)(b.default,{visible:n,children:Object(N.jsx)(K,{setDeliveryModal:o,setOngoingDelivery:C,setName:I,setPhone:W,setAddress:R,name:D,phone:L,address:V,deliveryChecked:z,setDeliveryChecked:$})}),Object(N.jsx)(b.default,{visible:a,children:Object(N.jsx)(G,{setCashModal:u,GetTrans:function(){return ae("Cash")},total:(1.13*ie).toFixed(2),setChangeDue:Z})}),Object(N.jsx)(b.default,{visible:f,children:Object(N.jsx)(Q,{setChangeModal:h})})]})})},oe=h.default.create({container:{backgroundColor:"lightgrey",flex:1,height:"100%"},contentContainer:{backgroundColor:"lightgrey",flex:1,height:"100%",justifyContent:"space-between",padding:20}}),ie=function(){var e=S.use(),t=L.use();return Object(N.jsx)(j.default,{style:ce.container,children:Object(N.jsx)((function(){return Object(N.jsxs)(j.default,{style:{flexDirection:"row",height:"100%"},children:[Object(N.jsx)(z,{catalog:e,section:t}),Object(N.jsx)(re,{})]})}),{})})},ce=h.default.create({container:{backgroundColor:"white",flex:1}}),se=function(e){var t=e.navigation,n=S.use();return Object(N.jsxs)(g.default,{style:{padding:25},children:[Object(N.jsx)(m.default,{style:{fontSize:17,fontWeight:"600"},children:"Current Products"}),n.categories.length>0?n.products.map((function(e,r){return Object(N.jsxs)(j.default,{style:{flexDirection:"row",justifyContent:"space-between",padding:15,margin:10,backgroundColor:"lightgrey"},children:[Object(N.jsxs)(m.default,{style:{fontSize:17},children:["Product: ",e.name]}),Object(N.jsxs)(j.default,{style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"20%"},children:[Object(N.jsx)(y.Button,{title:"Duplicate",onPress:function(){var t=structuredClone(e);t.name=t.name+" Copy",te(i()(n.categories),[].concat(i()(n.products),[t]))},style:{margin:10}}),Object(N.jsx)(y.Button,{title:"Edit",onPress:function(){return t.navigate("AddProduct",{existingProduct:e,existingProductIndex:r})},style:{margin:10}}),Object(N.jsx)(O.default,{onPress:function(){return function(e){var t=structuredClone(n);t.products.splice(e,1),te(t.categories,t.products)}(r)},style:{justifyContent:"center",alignItems:"center",borderRadius:3,backgroundColor:"red",padding:10,margin:10},children:Object(N.jsx)(m.default,{style:{color:"white",fontWeight:"600",fontSize:18},children:"X"})})]})]})})):Object(N.jsx)(m.default,{style:{marginTop:50,marginBottom:50},children:"You must add a category before you can add a product..."}),n.products.length<1&&n.categories.length>0&&Object(N.jsx)(m.default,{style:{marginTop:50,marginBottom:50},children:"You have no products..."}),Object(N.jsx)(y.Button,{title:"Add New Product",onPress:function(){return t.navigate("AddProduct")},style:{margin:10},disabled:n.categories.length<1})]})},ae=(h.default.create({}),n(136));function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ue=function(e){var t=e.label,n=e.options,o=e.setValue,i=e.value,c=e.style,s=Object(r.useState)(!1),a=l()(s,2),u=a[0],d=a[1];return Object(N.jsxs)(j.default,{style:[de.container,c],children:[Object(N.jsx)(y.ListItem,{title:i||t,trailing:function(e){return Object(N.jsx)(_.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:u?"chevron-up":"chevron-down"},e))},onPress:function(){return d((function(e){return!e}))}}),u&&Object(N.jsx)(N.Fragment,{children:n.map((function(e){return Object(N.jsx)(y.ListItem,{title:e,onPress:function(){o(e),d(!1)}})}))})]})},de=h.default.create({container:{backgroundColor:"white"}});function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he=function(e){var t=e.item,n=e.index,o=e.setnewProduct,i=e.newProduct,c=e.newProductOptions,s=e.indexOn,a=e.setindexOn;if(s===n){var u=Object(r.useState)([]),d=l()(u,2),p=d[0],f=d[1],h=Object(r.useState)(t),b=l()(h,2),g=b[0],x=b[1],X=Object(r.useState)(structuredClone(t.optionsList)),C=l()(X,2),v=C[0],w=C[1],S=i.options.map((function(e){if(e.label!==g.label&&null!==e.label)return e.label}));return Object(r.useEffect)((function(){if(null!==g.selectedCaseKey)if(i.options.length>1){var e=i.options.filter((function(e){return e.label==g.selectedCaseKey})),t=e.length>0&&e[0].optionsList.map((function(e){return e.label}));f(t)}else c.current[n].selectedCaseKey=null,c.current[n].selectedCaseValue=null}),[g]),Object(N.jsx)(j.default,{children:Object(N.jsxs)(j.default,{style:{padding:25,margin:15,backgroundColor:"lightgrey"},children:[Object(N.jsxs)(O.default,{onPress:function(){return a(s!==n?n:null)},style:{padding:25,margin:15,backgroundColor:"lightgrey",flexDirection:"row",justifyContent:"space-between",height:100},children:[Object(N.jsx)(m.default,{children:t.label}),Object(N.jsx)(O.default,{onPress:function(){c.current.push(fe(fe({},t),{},{label:t.label+" Copy"})),o((function(e){return fe(fe({},e),{},{options:c.current})})),a(c.current.length-1)},children:Object(N.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"Copy"})}),Object(N.jsx)(O.default,{onPress:function(){c.current.splice(n,1),o((function(e){return fe(fe({},e),{},{options:c.current})})),a(s-1)},children:Object(N.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"X"})}),Object(N.jsx)(O.default,{onPress:function(){!function(e,t){var n=c.current.splice(e,1)[0];c.current.splice(t,0,n)}(n,n+1),o((function(e){return fe(fe({},e),{},{options:c.current})})),a(null)},children:Object(N.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"\\/"})}),Object(N.jsx)(O.default,{onPress:function(){!function(e,t){var n=c.current.splice(e,1)[0];c.current.splice(t,0,n)}(n,n-1),o((function(e){return fe(fe({},e),{},{options:c.current})})),a(null)},children:Object(N.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"/\\"})})]}),Object(N.jsx)(y.TextInput,{placeholder:"Enter Select List Label",onChangeText:function(e){x((function(t){return fe(fe({},t),{},{label:e})})),c.current[n].label=e},value:g.label,style:{marginBottom:25}}),Object(N.jsx)(ue,{label:"Option Type",options:["Standard","Dropdown"],setValue:function(e){g.optionType?c.current[n].optionType=e:(c.current[n]=fe(fe({},g),{},{optionType:e}),console.log(c.current[n].optionType)),o((function(e){return fe(fe({},e),{},{options:c.current})}))},value:g.optionType,style:{marginBottom:25}}),Object(N.jsx)(y.TextInput,{placeholder:"Enter Number Of Selectable; If There Is",onChangeText:function(e){x((function(t){return fe(fe({},t),{},{numOfSelectable:e})})),c.current[n].numOfSelectable=e},value:g.numOfSelectable,style:{marginBottom:25}}),v.map((function(e,t){var r=structuredClone(e);return Object(N.jsxs)(j.default,{style:{flexDirection:"row",marginBottom:25,alignItems:"center"},children:[Object(N.jsx)(y.TextInput,{placeholder:"Enter Option Label",onChangeText:function(e){var r=structuredClone(v);r[t].label=e,c.current[n].optionsList=r,w(r)},value:r.label}),Object(N.jsx)(y.TextInput,{placeholder:"Enter price increase",onChangeText:function(e){var r=structuredClone(v);r[t].priceIncrease=e,c.current[n].optionsList=r,w(r)},value:r.priceIncrease,style:{marginLeft:20,marginRight:20}}),Object(N.jsx)(O.default,{onPress:function(){var e=structuredClone(v);e.splice(t,1),c.current[n].optionsList=e,w(e)},children:Object(N.jsx)(m.default,{style:{fontWeight:"700",color:"red"},children:"X"})})]})})),Object(N.jsx)(y.Button,{title:"Add Option Choice",onPress:function(){var e=structuredClone(v);e.push({label:null,priceIncrease:null}),c.current[n].optionsList=e,w(e)},style:{marginBottom:25}}),S.length>1&&Object(N.jsxs)(j.default,{style:{flexDirection:"row",justifyContent:"space-between",marginBottom:25},children:[Object(N.jsx)(ue,{label:"Show if...",options:S,setValue:function(e){x((function(t){return fe(fe({},t),{},{selectedCaseKey:e})})),c.current[n].selectedCaseKey=e},value:g.selectedCaseKey,style:{marginBottom:25}}),Object(N.jsx)(m.default,{children:'"="'}),Object(N.jsx)(ue,{label:"Show if...",options:p,setValue:function(e){x((function(t){return fe(fe({},t),{},{selectedCaseValue:e})})),c.current[n].selectedCaseValue=e},value:g.selectedCaseValue,style:{marginBottom:25}})]})]})})}return Object(N.jsxs)(O.default,{onPress:function(){return a(s!==n?n:null)},style:{padding:25,margin:15,backgroundColor:"lightgrey",flexDirection:"row",justifyContent:"space-between",height:100},children:[Object(N.jsx)(m.default,{children:t.label}),Object(N.jsx)(O.default,{onPress:function(){c.current.push(fe(fe({},t),{},{label:t.label+" Copy"})),o((function(e){return fe(fe({},e),{},{options:c.current})})),a(c.current.length-1)},children:Object(N.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"Copy"})}),Object(N.jsx)(O.default,{onPress:function(){c.current.splice(n,1),o((function(e){return fe(fe({},e),{},{options:c.current})})),a(s-1)},children:Object(N.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"X"})}),Object(N.jsx)(O.default,{onPress:function(){!function(e,t){var n=c.current.splice(e,1)[0];c.current.splice(t,0,n)}(n,n+1),o((function(e){return fe(fe({},e),{},{options:c.current})})),a(null)},children:Object(N.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"\\/"})}),Object(N.jsx)(O.default,{onPress:function(){!function(e,t){var n=c.current.splice(e,1)[0];c.current.splice(t,0,n)}(n,n-1),o((function(e){return fe(fe({},e),{},{options:c.current})})),a(null)},children:Object(N.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"/\\"})})]})};function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge=function(e){var t=e.route,n=e.navigation,o=t.params?t.params:{existingProduct:null,existingProductIndex:null},c=o.existingProduct,s=o.existingProductIndex,a=S.use(),u=Object(r.useState)(c||{name:null,price:null,catagory:null,options:[],description:null}),d=l()(u,2),p=d[0],f=d[1],h=Object(r.useRef)(c?c.options:[]),b=Object(r.useState)(0),x=l()(b,2),X=x[0],C=x[1];function v(e){if(e)te(i()(a.categories),[].concat(i()(a.products),[e])),n.goBack();else if(c){var t=structuredClone(a.products),r=be(be({},p),{},{options:h.current});t[s]=r,te(i()(a.categories),t),n.goBack()}else te(i()(a.categories),[].concat(i()(a.products),[p])),n.goBack()}return Object(N.jsx)(g.default,{style:{width:"100%",height:"100%",flex:1},contentContainerStyle:{width:"93%",alignSelf:"center",marginTop:25},children:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(j.default,{style:{flexDirection:"row",padding:20,justifyContent:"space-between",alignItems:"center"},children:[Object(N.jsx)(O.default,{onPress:function(){return n.goBack()},children:Object(N.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"X"})}),Object(N.jsx)(O.default,{onPress:function(){var e=structuredClone(p);e.name=e.name+" Copy",v(e)},children:Object(N.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"Copy"})}),Object(N.jsx)(m.default,{style:{marginBottom:25},children:"AddProduct"})]}),Object(N.jsx)(y.TextInput,{placeholder:"Enter Product Name",onChangeText:function(e){f((function(t){return be(be({},t),{},{name:e})}))},value:p.name,style:{marginBottom:25}}),Object(N.jsx)(y.TextInput,{placeholder:"Enter any other items that come with this",onChangeText:function(e){f((function(t){return be(be({},t),{},{description:e})}))},style:{marginBottom:25},value:p.description}),Object(N.jsx)(y.TextInput,{placeholder:"Enter Product Price",onChangeText:function(e){f((function(t){return be(be({},t),{},{price:e})}))},style:{marginBottom:25},value:p.price}),Object(N.jsx)(ue,{label:"Choose catagory",options:a.categories,setValue:function(e){f((function(t){return be(be({},t),{},{catagory:e})}))},value:p.catagory,style:{marginBottom:25}}),Object(N.jsx)((function(){return Object(N.jsxs)(j.default,{children:[Object(N.jsx)(ae.default,{getItemLayout:function(e,t){var n;return{length:t===X?400*(null==(n=e.optionsList)?void 0:n.length):100,offset:400*t,index:t}},data:p.options,keyExtractor:function(e){var t;return null==(t=e.id)?void 0:t.toString()},renderItem:function(e){var t=e.item,n=e.index;return Object(N.jsx)(he,{item:t,index:n,newProduct:p,setnewProduct:f,newProductOptions:h,indexOn:X,setindexOn:C})}}),Object(N.jsx)(y.Button,{title:"Add Product Option",onPress:function(){h.current.push({label:null,optionsList:[],selectedCaseKey:null,selectedCaseValue:null,numOfSelectable:null,id:Math.random().toString(36).substr(2,9),optionType:null}),f((function(e){return be(be({},e),{},{options:h.current})})),C(h.current.length-1)},style:{marginBottom:25}})]})}),{}),Object(N.jsx)(y.Button,{title:"Add/Save Product",onPress:function(){v()},style:{marginBottom:25,marginTop:25,backgroundColor:"lightgreen"}})]})})},me=(h.default.create({}),function(){var e=I.use(),t=Object(r.useState)(e.apiUrl),n=l()(t,2),o=n[0],i=n[1],c=Object(r.useState)(e.ck),s=l()(c,2),a=s[0],u=s[1],d=Object(r.useState)(e.cs),p=l()(d,2),f=p[0],h=p[1],j=Object(r.useState)(e.useWoocommerce),b=l()(j,2),O=b[0],x=b[1];return Object(N.jsxs)(g.default,{style:{padding:25},children:[Object(N.jsx)(m.default,{style:{fontSize:17,fontWeight:"600"},children:"Current categories"}),Object(N.jsx)(y.TextInput,{placeholder:"Enter Woocommerce 'API Url'",onChangeText:function(e){return i(e)},style:{margin:10},value:o}),Object(N.jsx)(y.TextInput,{placeholder:"Enter Woocommerce 'CK'",onChangeText:function(e){return u(e)},style:{margin:10},value:a}),Object(N.jsx)(y.TextInput,{placeholder:"Enter Woocommerce 'CS'",onChangeText:function(e){return h(e)},style:{margin:10},value:f}),Object(N.jsx)(y.Switch,{value:O,onValueChange:function(e){return x(e)}}),Object(N.jsx)(y.Button,{title:"Save",onPress:function(){null!==o&&null!==a&&null!==f&&(k({apiUrl:o,ck:a,cs:f,useWoocommerce:O}),function(e){var t;ee.collection("users").doc(null==(t=H.currentUser)?void 0:t.uid).update({wooCredentials:e})}({apiUrl:o,ck:a,cs:f,useWoocommerce:O}))},style:{margin:10}})]})}),Oe=function(){var e=B.use(),t=Object(r.useState)(e.name),n=l()(t,2),o=n[0],i=n[1],c=Object(r.useState)(e.phoneNumber),s=l()(c,2),a=s[0],u=s[1],d=Object(r.useState)(e.address),p=l()(d,2),f=p[0],h=p[1],j=Object(r.useState)(e.website),b=l()(j,2),O=b[0],x=b[1],X=Object(r.useState)(e.deliveryPrice),C=l()(X,2),v=C[0],w=C[1],S=Object(r.useState)(e.comSelected),P=l()(S,2),T=P[0],D=P[1];return Object(N.jsxs)(g.default,{style:{padding:25},children:[Object(N.jsx)(m.default,{style:{fontSize:17,fontWeight:"600"},children:"Current categories"}),Object(N.jsx)(y.TextInput,{placeholder:"Enter Store Name",onChangeText:function(e){return i(e)},style:{margin:10},value:o}),Object(N.jsx)(y.TextInput,{placeholder:"Enter Store Website Url",onChangeText:function(e){return x(e)},style:{margin:10},value:O}),Object(N.jsx)(y.TextInput,{placeholder:"Enter Store Phone Number",onChangeText:function(e){return u(e)},style:{margin:10},value:a}),Object(N.jsx)(y.TextInput,{placeholder:"Enter Store Address",onChangeText:function(e){return h(e)},style:{margin:10},value:f}),Object(N.jsx)(y.TextInput,{placeholder:"Enter Delivery Price",onChangeText:function(e){return w(e)},style:{margin:10},value:v}),Object(N.jsx)(ue,{options:["COM1","COM2","COM3","COM4","COM5","COM6","What Cum?"],label:"Pick Printer COM",value:T,setValue:D}),Object(N.jsx)(y.Button,{title:"Save",onPress:function(){null!==o&&null!==a&&null!==f&&(E({name:o,phoneNumber:a,address:f,website:O,deliveryPrice:v,comSelected:T}),function(e){var t;ee.collection("users").doc(null==(t=H.currentUser)?void 0:t.uid).update({storeDetails:e})}({name:o,phoneNumber:a,address:f,website:O,deliveryPrice:v,comSelected:T}))},style:{margin:10}})]})},ye=function(e){var t=e.isModalVisible;return Object(N.jsx)(b.default,{visible:t,transparent:!0,children:Object(N.jsxs)(j.default,{style:{alignItems:"center",justifyContent:"center",flex:1,backgroundColor:"rgba(52, 52, 52, 0.8)"},children:[Object(N.jsx)("style",{children:".loader {\n  border: 16px solid #f3f3f3;\n  border-radius: 50%;\n  border-top: 16px solid #3498db;\n  width: 120px;\n  height: 120px;\n  -webkit-animation: spin 2s linear infinite; /* Safari */\n  animation: spin 2s linear infinite;\n}\n\n/* Safari */\n@-webkit-keyframes spin {\n  0% { -webkit-transform: rotate(0deg); }\n  100% { -webkit-transform: rotate(360deg); }\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}"}),Object(N.jsx)("div",{className:"loader"})]})})},xe=(h.default.create({}),function(){var e=S.use(),t=Object(r.useState)(),n=l()(t,2),o=n[0],c=n[1],s=Object(r.useState)(!1),a=l()(s,2),u=a[0],d=a[1];return Object(N.jsxs)(g.default,{style:{padding:25},children:[Object(N.jsx)(m.default,{style:{fontSize:17,fontWeight:"600"},children:"Current categories"}),e.categories.map((function(t,n){return Object(N.jsxs)(j.default,{style:{flexDirection:"row",justifyContent:"space-between",padding:15,margin:10,backgroundColor:"lightgrey"},children:[Object(N.jsx)(m.default,{style:{fontSize:17},children:t}),Object(N.jsx)(O.default,{onPress:function(){return function(t){var n=structuredClone(e);n.categories.splice(t,1),te(n.categories,n.products),d(!0)}(n)},style:{justifyContent:"center",alignItems:"center"},children:Object(N.jsx)(m.default,{style:{color:"red",fontWeight:"600"},children:"Remove X"})})]})})),Object(N.jsx)(y.TextInput,{placeholder:"Enter New Category",onChangeText:function(e){return c(e)},style:{margin:10}}),Object(N.jsx)(y.Button,{title:"Add New Category",onPress:function(){te([].concat(i()(e.categories),[o]),e.products),d(!0)},style:{margin:10}}),Object(N.jsx)(ye,{isModalVisible:u})]})}),Xe=(h.default.create({}),function(){var e=T.use(),t=Object(r.useState)([]),n=l()(t,2),o=n[0],i=n[1],c=new Date,s=Object(r.useState)({todaysReceiptValue:0,todaysReceipts:0}),a=l()(s,2),u=a[0],d=a[1],p=B.use();Object(r.useEffect)((function(){if((null==e?void 0:e.length)>0){e.sort((function(e,t){if(e.date&&t.date)return e.date.seconds-t.date.seconds;if(e.date&&t.date_created){var n=new Date(t.date_created).getTime()/1e3;return e.date.seconds-n}return e.date_created&&t.date?new Date(e.date_created).getTime()/1e3-t.date.seconds:new Date(e.date_created).getTime()/1e3-new Date(t.date_created).getTime()/1e3})).reverse(),i(e);var t=e.reduce((function(e,t){return(t.date?new Date(1e3*t.date.seconds):new Date(t.date_created)).toLocaleDateString()===c.toLocaleDateString()?e+parseFloat(t.total):e}),0),n=e.reduce((function(e,t){return(t.date?new Date(1e3*t.date.seconds):new Date(t.date_created)).toLocaleDateString()===c.toLocaleDateString()?e+1:e}),0);d({todaysReceiptValue:t.toFixed(2),todaysReceipts:n})}}),[e]);return Object(N.jsxs)(j.default,{style:Ce.container,children:[Object(N.jsx)(y.Text,{style:{textAlign:"center",margin:25},children:"List Of Transactions"}),Object(N.jsxs)(j.default,{style:{flexDirection:"row",width:"100%",alignItems:"center",justifyContent:"center"},children:[Object(N.jsxs)(y.Text,{style:{textAlign:"center",margin:25},children:["Todays Total Price: ",u.todaysReceiptValue]}),Object(N.jsx)(y.Button,{style:{height:40,alignItems:"center",justifyContent:"center"},title:"Print Todays Receipts",onPress:function(){var e=["\x1b@","\x1ba1",p.name,"\n",p.address+"\n",p.website+"\n",p.phoneNumber+"\n",c.toLocaleDateString()+" "+c.toLocaleTimeString()+"\n","\n","\n","\n","\n","\x1ba0","\n\n","Number Of Receipts: "+u.todaysReceipts+"\n\n","Sub-Total: $"+(u.todaysReceiptValue/1.13).toFixed(2)+"\n\n","Tax: $"+(u.todaysReceiptValue/1.13*.13).toFixed(2)+"\n\n","Total Including (13% Tax): $"+u.todaysReceiptValue+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"];fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:e,comSelected:p.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")}))}}),Object(N.jsxs)(y.Text,{style:{textAlign:"center",margin:25},children:["Todays Total Receipts: ",u.todaysReceipts]})]}),Object(N.jsx)(j.default,{style:Ce.contentContainer,children:o?null==o?void 0:o.map((function(e,t){var n,r,o=e.date?new Date(1e3*e.date.seconds):e.date_created?new Date(e.date_created):null;return Object(N.jsxs)(j.default,{style:{backgroundColor:"grey",padding:30,margin:10},children:[Object(N.jsx)(y.Text,{children:o.toLocaleString()}),null==(n=e.cart)?void 0:n.map((function(e,t){var n;return Object(N.jsxs)(j.default,{style:{marginBottom:20},children:[Object(N.jsxs)(y.Text,{children:["Name: ",e.name]}),Object(N.jsxs)(y.Text,{children:["Quantity: ",e.quantity]}),Object(N.jsxs)(y.Text,{children:["Price: ",e.price]}),e.options&&(null==(n=e.options)?void 0:n.map((function(e){return Object(N.jsx)(y.Text,{children:e})})))]},t)})),null==(r=e.line_items)?void 0:r.map((function(e,t){var n;return Object(N.jsxs)(j.default,{style:{marginBottom:20},children:[Object(N.jsxs)(y.Text,{children:["Name: ",e.name]}),Object(N.jsxs)(y.Text,{children:["Quantity: ",e.quantity]}),Object(N.jsxs)(y.Text,{children:["Price: ",e.price]}),null==(n=e.meta_data)?void 0:n.map((function(t,n){if(n!==e.meta_data.length-1)return Object(N.jsx)(y.Text,{children:t.key+" : "+t.value})}))]},t)})),Object(N.jsx)(y.Button,{title:"Print",onPress:function(){if(e.date){var t,n=0,r=["\x1b@","\x1ba1",p.name,"\n",p.address+"\n",p.website+"\n",p.phoneNumber+"\n",o.toLocaleDateString()+" "+o.toLocaleTimeString()+"\n","\n","Transaction # "+e.transNum+"\n","\n","\n","\n","\x1ba0"];null==(t=e.cart)||t.map((function(e){var t;(n+=parseFloat(e.price),r.push("Name: "+e.name),r.push("\n"),r.push("Price: $"+e.price),e.options)&&(r.push("\n"),null==(t=e.options)||t.map((function(e){r.push(e),r.push("\n")})));r.push("\n\n")})),n=(n*=1.13).toFixed(2),r.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Total Including (13% Tax): $"+n+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:r,comSelected:p.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")}))}else{var i,c=[];c.push("\x1b@","\x1ba1",p.name,"\n",p.address+"\n",p.website+"\n",p.phoneNumber+"\n",e.date_created+"\n","\n","Online Order\n","Transaction # "+e.number+"\n","\n","\n","\n","\x1ba0"),null==(i=e.line_items)||i.map((function(e){var t;(c.push("\n"),c.push("Name: "+e.name),c.push("\n"),c.push("Quantity: "+e.quantity),c.push("\n"),c.push("Price: $"+e.price),c.push("\n"),e.meta_data)?null==(t=e.meta_data)||t.map((function(t,n){0===n?(c.push(t.key+" : "+t.value),e.meta_data[n+1].key!==t.key&&c.push("\n")):n!==e.meta_data.length-1&&(e.meta_data[n-1].key===t.key?c.push(" , "+t.value):c.push(t.key+" : "+t.value),e.meta_data[n+1].key!==t.key&&c.push("\n"))})):c.push("\n\n")})),c.push("\n"),c.push("\n"),c.push("Customer Details:"),c.push("\n"),c.push("Address: "+e.shipping.address_1),c.push("\n"),c.push("City: "+e.shipping.city),c.push("\n"),c.push("Zip/Postal Code: "+e.shipping.postcode),c.push("\n"),c.push("Province/State: "+e.shipping.state),c.push("\n"),c.push("Name: "+e.shipping.first_name+" "+e.shipping.last_name),c.push("\n"),e.shipping_lines.map((function(e){return c.push("Shipping Method: "+e.method_title)})),c.push("\n"),c.push("\n"),c.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e.payment_method_title+"\n\n","Total Including (13% Tax): $"+(parseFloat(e.total)+parseFloat(e.total_tax)).toFixed(2)+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n"),c.push("\x1dV\0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:c,comSelected:p.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")}))}}})]},t)})):Object(N.jsx)(y.Text,{children:"No receipts yet"})})]})}),Ce=h.default.create({container:{backgroundColor:"white",flex:1,height:"100%"},contentContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",paddingLeft:50,paddingRight:50,paddingBottom:50,height:"100%",width:"100%",alignItems:"center"}}),ve=function(e){var t,n=e.navigation,o=(e.route,e.options,e.back,Object(r.useState)(!1)),i=l()(o,2),c=i[0],s=i[1],a=S.use(),u=L.use();return Object(r.useEffect)((function(){var e=localStorage.getItem("settingsOn");s(e)}),[]),1==c?Object(N.jsxs)(j.default,{style:{width:"100%",height:120,flexDirection:"row",alignItems:"center",justifyContent:"space-evenly",backgroundColor:"red"},children:[Object(N.jsx)(y.Button,{titleStyle:"EditCategories"===u?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:"EditCategories"===u?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){localStorage.setItem("localScreen","EditCategories"),localStorage.setItem("settingsOn",!0),n.navigate("EditCategories"),W("EditCategories")},title:"Add Category"}),Object(N.jsx)(y.Button,{titleStyle:"EditProductList"===u?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:"EditProductList"===u?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){localStorage.setItem("localScreen","EditProductList"),n.navigate("EditProductList"),localStorage.setItem("settingsOn",!0),W("EditProductList")},title:"Add Product"}),Object(N.jsx)(y.Button,{titleStyle:"EditWoocommerce"===u?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:"EditWoocommerce"===u?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){localStorage.setItem("localScreen","EditWoocommerce"),n.navigate("EditWoocommerce"),localStorage.setItem("settingsOn",!0),W("EditWoocommerce")},title:"Woocommerce"}),Object(N.jsx)(y.Button,{titleStyle:"StoreDetails"===u?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:"StoreDetails"===u?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){localStorage.setItem("localScreen","StoreDetails"),n.navigate("StoreDetails"),localStorage.setItem("settingsOn",!0),W("StoreDetails")},title:"Store Details"}),Object(N.jsx)(y.Button,{titleStyle:"Transactions"===u?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:"Transactions"===u?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){localStorage.setItem("localScreen","Transactions"),n.navigate("Transactions"),localStorage.setItem("settingsOn",!0),W("Transactions")},title:"Transaction"}),Object(N.jsx)(y.Button,{titleStyle:{color:"black",fontWeight:"700"},style:{backgroundColor:"white"},onPress:function(){localStorage.removeItem("localScreen"),H.signOut()},title:"Logout"}),Object(N.jsx)(y.Button,{titleStyle:{color:"black",fontWeight:"700"},style:{backgroundColor:"white"},onPress:function(){localStorage.removeItem("localScreen"),W(),s(!1),localStorage.setItem("settingsOn",!1)},title:"X"})]}):Object(N.jsxs)(j.default,{style:{width:"100%",height:120,flexDirection:"row",alignItems:"center",justifyContent:"space-evenly",backgroundColor:"red"},children:[null==(t=a.categories)?void 0:t.map((function(e,t){return u||0!==t?Object(N.jsx)(y.Button,{titleStyle:u===e?{color:"white",fontWeight:"700"}:{color:"black",fontWeight:"700"},style:u===e?{backgroundColor:"blue"}:{backgroundColor:"white"},onPress:function(){W(e),localStorage.setItem("localScreen",e)},title:e},t):Object(N.jsx)(y.Button,{titleStyle:{color:"white",fontWeight:"700"},style:{backgroundColor:"blue"},onPress:function(){W(e)},title:e},t)})),Object(N.jsx)(y.Button,{titleStyle:{color:"black",fontWeight:"700"},style:{backgroundColor:"white"},onPress:function(){return s(!0)},title:"Settings"})]})};function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Se=Object(f.default)();function Pe(){return Object(N.jsxs)(Se.Navigator,{screenOptions:{header:function(e){return Object(N.jsx)(ve,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))},headerMode:"screen"},children:[Object(N.jsx)(Se.Screen,{name:"Home",component:ie}),Object(N.jsx)(Se.Screen,{name:"EditCategories",component:xe}),Object(N.jsx)(Se.Screen,{name:"EditProductList",component:se}),Object(N.jsx)(Se.Screen,{name:"AddProduct",component:ge,options:{headerShown:!1}}),Object(N.jsx)(Se.Screen,{name:"EditWoocommerce",component:me}),Object(N.jsx)(Se.Screen,{name:"StoreDetails",component:Oe}),Object(N.jsx)(Se.Screen,{name:"Transactions",component:Xe})]})}var Te=function(){return Object(N.jsx)(Pe,{})},De=n(87),Ie=n(823);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ee=function(e){var t=e.navigation,o=Object(r.useState)(),i=l()(o,2),c=i[0],s=i[1],a=Object(r.useState)(),u=l()(a,2),d=u[0],p=u[1],f=Object(r.useState)(!1),h=l()(f,2),b=h[0],g=h[1];return Object(N.jsx)(j.default,{style:Le.container,children:Object(N.jsxs)(Ie.SafeAreaView,{style:Le.safeareaContainer,children:[Object(N.jsx)(De.default,{source:n(328),style:Le.logo}),Object(N.jsxs)(j.default,{style:Le.innerContainer,children:[Object(N.jsx)(y.TextInput,{label:"Email",variant:"outlined",style:{width:"100%",marginBottom:10},value:c,onChangeText:function(e){return s(e)},autoCorrect:!1,textContentType:"emailAddress"}),Object(N.jsx)(y.TextInput,{label:"Password",variant:"outlined",trailing:function(e){return Object(N.jsx)(y.IconButton,Be({onPress:function(){return g((function(e){return!e}))},icon:function(e){return Object(N.jsx)(_.default,Be({name:"eye"},e))}},e))},value:d,onChangeText:function(e){return p(e)},secureTextEntry:!b,style:{width:"100%"}})]}),Object(N.jsxs)(j.default,{style:Le.innerContainer,children:[Object(N.jsx)(y.Button,{title:"Login",uppercase:!1,contentContainerStyle:{width:"100%",height:60,backgroundColor:"black",alignItems:"center",justifyContent:"center"},style:{marginBottom:10},onPress:function(){c&&d&&function(e,t){H.signInWithEmailAndPassword(e,t)}(c,d)}}),Object(N.jsx)(y.Text,{variant:"subtitle1",style:{marginBottom:10},children:"Or"}),Object(N.jsx)(y.Button,{title:"Register",uppercase:!1,contentContainerStyle:{width:"100%",height:60,backgroundColor:"grey",alignItems:"center",justifyContent:"center"},onPress:function(){return t.navigate("Register")}})]})]})})},Le=h.default.create({container:{flex:1,height:"100%",width:"100%",backgroundColor:"white",justifyContent:"center",alignItems:"center"},safeareaContainer:{flex:1,height:"60%",width:"80%",justifyContent:"space-evenly",alignItems:"center"},logo:{width:250,resizeMode:"contain"},innerContainer:{width:"100%",justifyContent:"center",alignItems:"center"}});function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ne=function(e){var t=e.navigation,o=Object(r.useState)(),i=l()(o,2),c=i[0],s=i[1],a=Object(r.useState)(),u=l()(a,2),d=u[0],p=u[1],f=Object(r.useState)(!1),h=l()(f,2),b=h[0],g=h[1];return Object(N.jsx)(j.default,{style:Fe.container,children:Object(N.jsxs)(Ie.SafeAreaView,{style:Fe.safeareaContainer,children:[Object(N.jsx)(De.default,{source:n(328),style:Fe.logo}),Object(N.jsxs)(j.default,{style:Fe.innerContainer,children:[Object(N.jsx)(y.TextInput,{label:"Email",variant:"outlined",style:{width:"100%",marginBottom:10},value:c,onChangeText:function(e){return s(e)},autoCorrect:!1,textContentType:"emailAddress"}),Object(N.jsx)(y.TextInput,{label:"Password",variant:"outlined",trailing:function(e){return Object(N.jsx)(y.IconButton,_e({onPress:function(){return g((function(e){return!e}))},icon:function(e){return Object(N.jsx)(_.default,_e({name:"eye"},e))}},e))},value:d,onChangeText:function(e){return p(e)},secureTextEntry:!b,style:{width:"100%"}})]}),Object(N.jsxs)(j.default,{style:Fe.innerContainer,children:[Object(N.jsx)(y.Button,{title:"Register",uppercase:!1,contentContainerStyle:{width:"100%",height:60,backgroundColor:"black",alignItems:"center",justifyContent:"center"},style:{marginBottom:10},onPress:function(){c&&d&&function(e,t){H.createUserWithEmailAndPassword(e,t).then((function(e){e.user&&ee.collection("users").doc(e.user.uid).set({paid:!0,products:[],categories:[],wooCredentials:{ck:null,cs:null,useWoocommerce:!1},transList:[],storeDetails:{name:null,address:null,phoneNumber:null,website:null,comSelected:null,deliveryPrice:null}})})).catch((function(e){return console.log(e)}))}(c,d)}}),Object(N.jsxs)(j.default,{style:{flexDirection:"row"},children:[Object(N.jsx)(y.Text,{variant:"subtitle1",style:{marginBottom:10},children:"Or"}),Object(N.jsx)(y.Text,{variant:"subtitle1",style:{marginBottom:10,marginLeft:5,color:"blue"},onPress:function(){return t.goBack()},children:"Go Back"})]})]})]})})},Fe=h.default.create({container:{flex:1,height:"100%",width:"100%",backgroundColor:"white",justifyContent:"center",alignItems:"center"},safeareaContainer:{flex:1,height:"60%",width:"80%",justifyContent:"space-evenly",alignItems:"center"},logo:{width:250,resizeMode:"contain"},innerContainer:{width:"100%",justifyContent:"center",alignItems:"center"}}),Ve=Object(f.default)();function Re(){return Object(N.jsxs)(Ve.Navigator,{screenOptions:{headerShown:!1},children:[Object(N.jsx)(Ve.Screen,{name:"Login",component:Ee}),Object(N.jsx)(Ve.Screen,{name:"Register",component:Ne})]})}var Ae=function(){var e=X.use(),t=I.use(),o=T.use(),c=B.use(),a=Object(r.useState)(!0),d=l()(a,2),p=d[0],f=d[1];return Object(r.useEffect)((function(){H.onAuthStateChanged((function(e){e?(C(e),ee.collection("users").doc(e.uid).get().then((function(e){P({products:e.data().products,categories:e.data().categories}),e.data().transList&&D(e.data().transList),e.data().wooCredentials&&k(e.data().wooCredentials),e.data().storeDetails&&E(e.data().storeDetails)})),setTimeout((function(){f(!1)}),1)):(C(null),P({products:null,categories:null}),setTimeout((function(){f(!1)}),1))}))}),[]),Object(r.useEffect)((function(){if(e){var t=ee.collection("users").doc(e.uid).onSnapshot((function(e){f(!0),P({products:e.data().products,categories:e.data().categories}),e.data().transList&&D(e.data().transList),e.data().wooCredentials&&k(e.data().wooCredentials),e.data().storeDetails&&E(e.data().storeDetails),setTimeout((function(){f(!1)}),1)}));return function(){return t()}}}),[e]),Object(r.useEffect)((function(){if(!0===t.useWoocommerce){var e=setInterval((function(){var e=new(n(582))({url:t.apiUrl,consumerKey:t.ck,consumerSecret:t.cs,wpAPI:!0,version:"wc/v1"}),r=1,a=[],l=function(){var t=s()((function*(){var t=yield e.getAsync("orders?page="+r+"&per_page=100"),n=JSON.parse(t.body);a=[].concat(i()(a),i()(n)),100===n.length?(r++,l()):console.log(a)}));return function(){return t.apply(this,arguments)}}();l().then((function(){var e=a,t=[];if(o.concat(e).reduce((function(e,n){return e.includes(n.id)||(e.push(n.id),t.push(n)),e}),[]),console.log("new array: ",t),t.length>o.length){console.log("new item");var n=structuredClone(t).splice(o.length,t.length-o.length);if(console.log("NEW ITEMS ",n),ne(t),n.length>1)n.forEach((function(e){var t,n=[];n.push("\x1b@","\x1ba1",c.name,"\n",c.address+"\n",c.website+"\n",c.phoneNumber+"\n",e.date_created+"\n","\n","Online Order\n","Transaction # "+e.number+"\n","\n","\n","\n","\x1ba0"),null==(t=e.line_items)||t.map((function(e){var t;(n.push("\n"),n.push("Name: "+e.name),n.push("\n"),n.push("Quantity: "+e.quantity),n.push("\n"),n.push("Price: $"+e.price),n.push("\n"),e.meta_data)?null==(t=e.meta_data)||t.map((function(t,r){0===r?(n.push(t.key+" : "+t.value),e.meta_data[r+1].key!==t.key&&n.push("\n")):r!==e.meta_data.length-1&&(e.meta_data[r-1].key===t.key?n.push(" , "+t.value):n.push(t.key+" : "+t.value),e.meta_data[r+1].key!==t.key&&n.push("\n"))})):n.push("\n\n")})),n.push("\n"),n.push("\n"),n.push("Customer Details:"),n.push("\n"),n.push("Address: "+e.shipping.address_1),n.push("\n"),n.push("City: "+e.shipping.city),n.push("\n"),n.push("Zip/Postal Code: "+e.shipping.postcode),n.push("\n"),n.push("Province/State: "+e.shipping.state),n.push("\n"),n.push("Name: "+e.shipping.first_name+" "+e.shipping.last_name),n.push("\n"),e.shipping_lines.map((function(e){return n.push("Shipping Method: "+e.method_title)})),n.push("\n"),n.push("\n"),n.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e.payment_method_title+"\n\n","Total Including (13% Tax): $"+(parseFloat(e.total)+parseFloat(e.total_tax)).toFixed(2)+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n"),n.push("\x1dV\0"),s()((function*(){return yield fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:n,comSelected:c.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.log("Error with printer")}))}))}));else{var r,i=n[0],l=[];l.push("\x1b@","\x1ba1",c.name,"\n",c.address+"\n",c.website+"\n",c.phoneNumber+"\n",i.date_created+"\n","\n","Online Order\n","Transaction # "+i.number+"\n","\n","\n","\n","\x1ba0"),null==(r=i.line_items)||r.map((function(e){var t;(l.push("\n"),l.push("Name: "+e.name),l.push("\n"),l.push("Quantity: "+e.quantity),l.push("\n"),l.push("Price: $"+e.price),l.push("\n"),e.meta_data)?null==(t=e.meta_data)||t.map((function(t,n){0===n?(l.push(t.key+" : "+t.value),e.meta_data[n+1].key!==t.key&&l.push("\n")):n!==e.meta_data.length-1&&(e.meta_data[n-1].key===t.key?l.push(" , "+t.value):l.push(t.key+" : "+t.value),e.meta_data[n+1].key!==t.key&&l.push("\n"))})):l.push("\n\n")})),l.push("\n"),l.push("\n"),l.push("Customer Details:"),l.push("\n"),l.push("Address: "+i.shipping.address_1),l.push("\n"),l.push("City: "+i.shipping.city),l.push("\n"),l.push("Zip/Postal Code: "+i.shipping.postcode),l.push("\n"),l.push("Province/State: "+i.shipping.state),l.push("\n"),l.push("Name: "+i.shipping.first_name+" "+i.shipping.last_name),l.push("\n"),i.shipping_lines.map((function(e){return l.push("Shipping Method: "+e.method_title)})),l.push("\n"),l.push("\n"),l.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+i.payment_method_title+"\n\n","Total Including (13% Tax): $"+(parseFloat(i.total)+parseFloat(i.total_tax)).toFixed(2)+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n"),l.push("\x1dV\0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:l,comSelected:c.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")}))}}}))}),5e3);return function(){return clearInterval(e)}}}),[t,o]),Object(N.jsx)(u.default,{children:p?Object(N.jsx)(ye,{isModalVisible:!0}):Object(N.jsx)(N.Fragment,{children:e?Object(N.jsx)(Te,{}):Object(N.jsx)(Re,{})})})};t.default=function(){return Object(N.jsx)(Ae,{})}},468:function(e,t,n){e.exports=n(806)},598:function(e,t){},600:function(e,t){},609:function(e,t){},611:function(e,t){},636:function(e,t){},638:function(e,t){},639:function(e,t){},644:function(e,t){},646:function(e,t){},665:function(e,t){},677:function(e,t){},680:function(e,t){},685:function(e,t){},687:function(e,t){},710:function(e,t){}},[[468,1,2]]]);
//# sourceMappingURL=app.ecb67fdb.chunk.js.map