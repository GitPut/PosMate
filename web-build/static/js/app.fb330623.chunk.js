(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{236:function(e,t,n){e.exports=n.p+"static/media/dpos-logo.58fecdd6.png"},456:function(e,t,n){e.exports=n.p+"static/media/random-img1.a79e0878.png"},457:function(e,t,n){e.exports=n.p+"static/media/dpos-logo-black.9464d239.png"},465:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(16),i=n.n(o),a=n(41),s=n.n(a),c=n(8),l=n.n(c),u=n(834),d=n(826),h=n(65),p=n(11),f=n(33),j=n(7),g=n(50),b=n(44),m=n(20),x=n(15),O=n(1),y=function(e){var t=e.navigation,n=e.product,r=e.productIndex;return Object(O.jsx)(x.Button,{title:n.name,onPress:function(){return t.navigate("ProductListing",{product:n})},contentContainerStyle:w.touchable,style:w.touchable},r)},w=p.default.create({touchable:{margin:25,width:300,height:80,backgroundColor:"rgba(125,126,132,1)",alignItems:"center",justifyContent:"center"}});function C(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}function v(){var e=Object(r.useState)(C()),t=l()(e,2),n=t[0],o=t[1];return Object(r.useEffect)((function(){function e(){o(C())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}g.default.get("window").height;var X=function(e){var t=e.navigation,n=e.catalog,o=v(),i=o.height,a=o.width,s=Object(r.useState)(null),c=l()(s,2),u=c[0],d=c[1];return Object(O.jsxs)(j.default,{style:S({height:i,width:a}).container,children:[Object(O.jsx)((function(){var e;return Object(O.jsx)(j.default,{style:{backgroundColor:"#E6E6E6",width:"90%",height:50,flexDirection:"row",marginTop:20,justifyContent:"space-evenly",alignItems:"center",alignSelf:"center"},children:null==(e=n.categories)?void 0:e.map((function(e,t){return Object(O.jsx)(f.default,{onPress:function(){d(e)},children:Object(O.jsx)(m.default,{style:[null===u&&0===t&&{color:"black",fontWeight:"600",borderBottomWidth:1}||u===e&&{color:"black",fontWeight:"600",borderBottomWidth:1},{fontSize:16}],children:e})},t)}))})}),{}),Object(O.jsx)(b.default,{style:S({height:i,width:a}).scrollview,contentContainerStyle:S({height:i,width:a}).wrapper,children:Object(O.jsx)((function(){if(n.products&&n.products.length>0)return u?n.products.filter((function(e){return e.catagory===u})).map((function(e,n){return Object(O.jsx)(y,{product:e,productIndex:n,navigation:t},n)})):n.products.filter((function(e){return e.catagory===n.categories[0]})).map((function(e,n){return Object(O.jsx)(y,{product:e,productIndex:n,navigation:t},n)}))}),{})})]})},S=function(e){return p.default.create({container:{backgroundColor:"white",height:e.height-80,width:.7*e.width},wrapper:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",paddingLeft:50,paddingRight:50},scrollview:{width:"100%"}})},P=n(138),T=n(825),D=Object(T.default)(null),I=function(e){D.set(e)},k=Object(T.default)([]),B=function(e){k.set(e)},L=Object(T.default)({products:[],categories:[]}),E=function(e){L.set(e)},_=Object(T.default)([]),N=function(e){_.set(e)},R=Object(T.default)({apiUrl:null,ck:null,cs:null,useWoocommerce:!1}),W=function(e){R.set(e)},F=Object(T.default)({name:null,address:null,phoneNumber:null,website:null,comSelected:null,deliveryPrice:null}),z=function(e){F.set(e)},M=n(295),V=function(e){var t=e.setDeliveryModal,n=e.setOngoingDelivery,r=e.setName,o=e.setPhone,i=e.setAddress,a=e.name,s=e.phone,c=e.address,l=e.deliveryChecked,u=e.setDeliveryChecked;return Object(O.jsxs)(b.default,{style:A.modalContainer,children:[Object(O.jsxs)(j.default,{style:A.sizeRow,children:[Object(O.jsx)(m.default,{children:"Enter Phone Order Details"}),Object(O.jsxs)(j.default,{children:[Object(O.jsx)(m.default,{children:"Delivery?"}),Object(O.jsx)(M.Switch,{value:l,onValueChange:function(){u(!l)}})]})]}),Object(O.jsx)(x.TextInput,{label:"Name",variant:"outlined",style:A.input,onChangeText:function(e){return r(e)},autoCorrect:!1,value:a}),Object(O.jsx)(x.TextInput,{label:"Phone #",variant:"outlined",style:A.input,onChangeText:function(e){return o(e)},autoCorrect:!1,value:s}),l&&Object(O.jsx)(x.TextInput,{label:"Address",variant:"outlined",style:A.input,onChangeText:function(e){return i(e)},autoCorrect:!1,value:c}),Object(O.jsx)(x.Button,{title:"Order",onPress:function(){t(!1),n(!0)},contentContainerStyle:A.btn,style:{margin:25}}),Object(O.jsx)(x.Button,{title:"Cancel",onPress:function(){t(!1),n(null)},contentContainerStyle:A.btn,style:{margin:25}})]})},A=p.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:25},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{height:40,justifyContent:"center",alignItems:"center"},input:{marginTop:25,marginBottom:25}}),$=function(e){var t=e.setCashModal,n=e.GetTrans,o=e.total,i=e.setChangeDue,a=Object(r.useState)(""),s=l()(a,2),c=s[0],u=s[1];return Object(O.jsxs)(b.default,{style:U.modalContainer,children:[Object(O.jsx)(j.default,{style:U.sizeRow,children:Object(O.jsx)(m.default,{children:"Cash Payment Details"})}),Object(O.jsxs)(m.default,{children:["Total: ",o]}),Object(O.jsx)(x.TextInput,{label:"Enter Cash Given",variant:"outlined",style:U.input,onChangeText:function(e){u(e),i((parseFloat(e)-o).toFixed(2))},autoCorrect:!1,value:c}),Object(O.jsxs)(m.default,{children:["Change Due:"," ",parseFloat(c)>o&&(parseFloat(c)-o).toFixed(2)]}),Object(O.jsx)(x.Button,{title:"Print",onPress:function(){n("Cash"),t(!1)},contentContainerStyle:U.btn,style:{margin:25}}),Object(O.jsx)(x.Button,{title:"Cancel",onPress:function(){return t(!1)},contentContainerStyle:U.btn,style:{margin:25}})]})},U=p.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:25},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{height:40,justifyContent:"center",alignItems:"center"},input:{marginTop:25,marginBottom:25}}),J=function(e){var t=e.setChangeModal,n=e.order,o=e.completeOrder,i=e.setcurrentOrder,a=n.total,s=Object(r.useState)(""),c=l()(s,2),u=c[0],d=c[1],h=F.use();return Object(O.jsxs)(b.default,{style:K.modalContainer,children:[Object(O.jsx)(j.default,{style:K.sizeRow,children:Object(O.jsx)(m.default,{children:"Cash Payment Details"})}),Object(O.jsxs)(m.default,{children:["Total: $",a]}),Object(O.jsx)(x.TextInput,{label:"Enter Cash Given",variant:"outlined",style:K.input,onChangeText:function(e){return d(e)},autoCorrect:!1,value:u}),Object(O.jsxs)(m.default,{children:["Change Due: ",(parseFloat(u)-a).toFixed(2)]}),Object(O.jsx)(x.Button,{title:"Finsh Payment",onPress:function(){!function(){var e=["\x1b@","\x1ba1",h.name,"\n",h.address+"\n",h.website+"\n",h.phoneNumber+"\n","\n","Pickup Order Paid\n","Transaction # "+n.transNum+"\n","\n","Customer Name: "+n.customer.name+"\n","\n","Customer Phone: "+n.customer.phone+"\n","\n","\n","\n","\n","\x1ba0","Total: $"+a+"\n","Cash Given: $"+u+"\n","Change Due: $"+(parseFloat(u)-parseFloat(a)).toFixed(2)+"\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0","\x10\x14\x01\0\x05"];fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:e,comSelected:h.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")})),o()}()},contentContainerStyle:K.btn,style:{margin:25}}),Object(O.jsx)(x.Button,{title:"Cancel",onPress:function(){t(!1),i({element:null,index:null})},contentContainerStyle:K.btn,style:{margin:25}})]})},K=p.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:25},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{height:40,justifyContent:"center",alignItems:"center"},input:{marginTop:25,marginBottom:25}}),H=n(249);n(817),n(573);H.default.initializeApp({apiKey:"AIzaSyDmtlrkfZRbFy8P7D4BFXTIkzMDC_DP5n8",authDomain:"posmate-5fc0a.firebaseapp.com",projectId:"posmate-5fc0a",storageBucket:"posmate-5fc0a.appspot.com",messagingSenderId:"48463376409",appId:"1:48463376409:web:b427a4fbc3c210a5977a88"});var q=H.default.auth(),Q=H.default.firestore(),G=function(e,t){return new Promise((function(n,r){var o;Q.collection("users").doc(null==(o=q.currentUser)?void 0:o.uid).update({products:t,categories:e}).then((function(){return n("Promise resolved!")})).catch((function(){return r("Promise rejected!")}))}))},Z=function(e){var t;Q.collection("users").doc(null==(t=q.currentUser)?void 0:t.uid).update({transList:e})},Y=n(114),ee=n(470),te=function(e){var t=e.navigation,n=v(),o=n.height,i=n.width,a=Object(r.useState)(!1),c=l()(a,2),u=c[0],d=c[1],h=Object(r.useState)(!1),p=l()(h,2),g=p[0],x=p[1],y=Object(r.useState)(!1),w=l()(y,2),C=w[0],X=w[1],S=Object(r.useState)(null),T=l()(S,2),D=T[0],I=T[1],L=Object(r.useState)(null),E=l()(L,2),N=E[0],R=E[1],W=Object(r.useState)(null),z=l()(W,2),M=z[0],A=z[1],U=Object(r.useState)(null),K=l()(U,2),H=K[0],q=K[1],Q=Object(r.useState)(!1),G=l()(Q,2),te=G[0],re=G[1],oe=Object(r.useState)(),ie=l()(oe,2),ae=ie[0],se=ie[1],ce=k.use(),le=_.use(),ue=F.use(),de=Object(r.useState)(0),he=l()(de,2),pe=he[0],fe=he[1];Object(r.useEffect)((function(){if(ce.length>0){for(var e=0,t=0;t<ce.length;t++)e+=parseFloat(ce[t].price);fe(e)}else fe(0)}),[ce]);var je=function(){var e=s()((function*(e){var t=structuredClone(le);console.log("trans: ",t),console.log("Payload: ",e),t.push(e),Z(t)}));return function(t){return e.apply(this,arguments)}}(),ge=function(e){var t=(null==le?void 0:le.length)+1;if("deliveryOrder"===e){var n=ue.deliveryPrice>0?parseFloat(ue.deliveryPrice):0,r=new Date,o=["\x1b@","\x1ba1",ue.name,"\n",ue.address+"\n",ue.website+"\n",ue.phoneNumber+"\n",r.toLocaleDateString()+" "+r.toLocaleTimeString()+"\n","\n","Transaction # "+t+"\n","\n","Delivery Order: $"+ue.deliveryPrice+" Fee\n","\n","\n","\n","\x1ba0"];ce.map((function(e){n+=parseFloat(e.price),o.push("Name: "+e.name),o.push("Price: $"+e.price),e.description&&(o.push("\n"),o.push(e.description)),e.options&&(o.push("\n"),e.options.map((function(e){o.push(e),o.push("\n")}))),e.extraDetails&&(o.push(e.extraDetails),o.push("\n")),o.push("\n\n")})),n=(n*=1.13).toFixed(2),o.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Customer Name: "+N,"\n\n","Customer Phone #:  "+M,"\n\n","Customer Address #:  "+H,"\n\n","Total Including (13% Tax): "+n+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:o,comSelected:ue.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")})),je({id:Math.random().toString(36).substr(2,9)+"-l",date:r,transNum:t,total:n,method:"deliveryOrder",cart:ce,completed:!1,customer:{name:N,phone:M,address:H}}),B([]),d(!1)}else if("pickupOrder"===e){var i=0,a=new Date,s=["\x1b@","\x1ba1",ue.name,"\n",ue.address+"\n",ue.website+"\n",ue.phoneNumber+"\n",a.toLocaleDateString()+" "+a.toLocaleTimeString()+"\n","\n","Transaction # "+t+"\n","\n","Pickup Order\n","\n","\n","\n","\x1ba0"];ce.map((function(e){i+=parseFloat(e.price),s.push("Name: "+e.name),s.push("Price: $"+e.price),e.description&&(s.push("\n"),s.push(e.description)),e.options&&(s.push("\n"),e.options.map((function(e){s.push(e),s.push("\n")}))),e.extraDetails&&(s.push(e.extraDetails),s.push("\n")),s.push("\n\n")})),i=(i*=1.13).toFixed(2),s.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Customer Name: "+N,"\n\n","Customer Phone #:  "+M,"\n\n","Total Including (13% Tax): "+i+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:s,comSelected:ue.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")})),je({id:Math.random().toString(36).substr(2,9)+"-l",date:a,transNum:t,total:i,method:"pickupOrder",cart:ce,completed:!1,customer:{name:N,phone:M,address:H}}),B([]),d(!1)}else{var c=0,l=new Date,u=["\x1b@","\x1ba1",ue.name,"\n",ue.address+"\n",ue.website+"\n",ue.phoneNumber+"\n",l.toLocaleDateString()+" "+l.toLocaleTimeString()+"\n","\n","Transaction # "+t+"\n","\n","\n","\n","\x1ba0"];ce.map((function(e){c+=parseFloat(e.price),u.push("Name: "+e.name),u.push("\n"),u.push("Price: $"+e.price),e.description&&(u.push("\n"),u.push(e.description)),e.options&&(u.push("\n"),e.options.map((function(e){u.push(e),u.push("\n")}))),e.extraDetails&&(u.push(e.extraDetails),u.push("\n")),u.push("\n\n")})),c=(c*=1.13).toFixed(2),"Cash"===e?u.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e+"\n\n","Total Including (13% Tax): $"+c+"\n\n","Change Due: $"+ae+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0","\x10\x14\x01\0\x05"):u.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e+"\n\n","Total Including (13% Tax): $"+c+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:u,comSelected:ue.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")})),je({id:Math.random().toString(36).substr(2,9)+"-l",date:l,transNum:t,total:c,method:e,cart:ce})}B([])};return Object(O.jsxs)(j.default,{style:ne({height:o,width:i}).container,children:[Object(O.jsxs)(j.default,{style:ne({height:o,width:i}).cartHeader,children:[Object(O.jsx)(m.default,{style:{fontSize:20,width:"50%"},children:"Bill Total"}),Object(O.jsx)(f.default,{style:ne({height:o,width:i}).iconContainer,children:Object(O.jsx)(Y.default,{name:"person-add",size:26,color:"white"})}),Object(O.jsx)(f.default,{style:ne({height:o,width:i}).iconContainer,onPress:function(){return d(!0)},disabled:ce.length>0,children:Object(O.jsx)(ee.default,{name:"telephone",size:32,color:"white"})}),Object(O.jsx)(f.default,{style:ne({height:o,width:i}).iconContainer,onPress:function(){return t.navigate("CompletePaymentPhoneOrder")},disabled:ce.length>0||D,children:Object(O.jsx)(Y.default,{name:"checkmark",size:32,color:"white"})})]}),Object(O.jsx)(b.default,{contentContainerStyle:ne({height:o,width:i}).contentContainer,children:Object(O.jsx)(j.default,{children:ce.map((function(e,t){return Object(O.jsxs)(j.default,{style:{backgroundColor:"white",shadowColor:"rgba(0,0,0,1)",shadowOffset:{width:3,height:3},elevation:30,shadowOpacity:.07,shadowRadius:10,marginBottom:20,padding:15},children:[Object(O.jsxs)(j.default,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[Object(O.jsx)(j.default,{style:{width:"33%"},children:Object(O.jsx)(j.default,{style:{backgroundColor:"#E6E6E6",width:50,height:50,justifyContent:"center",alignItems:"center"},children:Object(O.jsx)(m.default,{style:ne({height:o,width:i}).headerTxt,children:t+1})})}),Object(O.jsx)(j.default,{style:{width:"33%",alignItems:"center"},children:Object(O.jsx)(m.default,{style:ne({height:o,width:i}).headerTxt,children:e.name})}),Object(O.jsx)(j.default,{style:{width:"33%",alignItems:"flex-end"},children:Object(O.jsx)(m.default,{style:{color:"red",fontSize:15,fontWeight:"600"},onPress:function(){var e=structuredClone(ce);e.splice(t,1),B(e)},children:"X"})})]}),Object(O.jsxs)(m.default,{style:ne({height:o,width:i}).innerTxt,children:["Price: $",e.price]}),e.description&&Object(O.jsxs)(m.default,{style:ne({height:o,width:i}).innerTxt,children:["Description: ",e.description]}),e.options&&e.options.map((function(e){return Object(O.jsx)(m.default,{style:ne({height:o,width:i}).innerTxt,children:e})})),e.extraDetails&&Object(O.jsxs)(m.default,{style:ne({height:o,width:i}).innerTxt,children:["Extra Info: ",e.extraDetails]})]})}))})}),Object(O.jsxs)(j.default,{style:ne({height:o,width:i}).totalContainer,children:[Object(O.jsxs)(m.default,{style:ne({height:o,width:i}).totalTxt,children:["Sub: $",pe.toFixed(2)]}),Object(O.jsxs)(m.default,{style:ne({height:o,width:i}).totalTxt,children:["Total: $",(1.13*pe).toFixed(2)]}),Object(O.jsx)((function(){return null===D?Object(O.jsxs)(j.default,{style:{flexDirection:"row",width:"100%",alignSelf:"center",justifyContent:"space-between",alignItems:"center"},children:[Object(O.jsx)(f.default,{style:ne({height:o,width:i}).cashButton,onPress:function(){return x(!0)},disabled:ce.length<1||D,children:Object(O.jsx)(m.default,{style:ne({height:o,width:i}).btnTxt,children:"Cash"})}),Object(O.jsx)(f.default,{style:ne({height:o,width:i}).cardButton,onPress:function(){return ge("Card")},disabled:ce.length<1||D,children:Object(O.jsx)(m.default,{style:ne({height:o,width:i}).btnTxt,children:"Card"})})]}):D&&ce.length>0?Object(O.jsx)(f.default,{style:ne({height:o,width:i}).bigButton,onPress:function(){ge(te?"deliveryOrder":"pickupOrder"),I(null),R(null),A(null),q(null)},children:Object(O.jsx)(m.default,{style:ne({height:o,width:i}).btnTxt,children:"Complete"})}):Object(O.jsx)(f.default,{style:ne({height:o,width:i}).bigButton,onPress:function(){return I(null)},children:Object(O.jsx)(m.default,{style:ne({height:o,width:i}).btnTxt,children:"Cancel"})})}),{})]}),Object(O.jsx)(P.default,{visible:u,children:Object(O.jsx)(V,{setDeliveryModal:d,setOngoingDelivery:I,setName:R,setPhone:A,setAddress:q,name:N,phone:M,address:H,deliveryChecked:te,setDeliveryChecked:re})}),Object(O.jsx)(P.default,{visible:g,children:Object(O.jsx)($,{setCashModal:x,GetTrans:function(){return ge("Cash")},total:(1.13*pe).toFixed(2),setChangeDue:se})}),Object(O.jsx)(P.default,{visible:C,children:Object(O.jsx)(J,{setChangeModal:X})})]})},ne=function(e){return p.default.create({container:{backgroundColor:"lightgrey",height:e.height,width:.3*e.width,padding:20},contentContainer:{backgroundColor:"lightgrey",height:.88*e.height,justifyContent:"space-between",width:"100%",paddingTop:20},totalContainer:{height:.12*e.height,paddingTop:10},cartHeader:{height:.06*e.height,justifyContent:"space-between",width:"100%",flexDirection:"row",alignItems:"center"},iconContainer:{backgroundColor:"rgba(125,126,132,1)",borderRadius:30,width:40,height:40,alignItems:"center",justifyContent:"center"},cashButton:{backgroundColor:"rgba(51,81,243,1)",borderRadius:30,borderTopRightRadius:0,borderBottomRightRadius:0,width:"49.5%",height:55,alignItems:"center",justifyContent:"center"},cardButton:{backgroundColor:"rgba(51,81,243,1)",borderRadius:30,borderTopRightRadius:30,borderBottomRightRadius:30,borderTopLeftRadius:0,borderBottomLeftRadius:0,width:"49.5%",height:55,alignItems:"center",justifyContent:"center"},btnTxt:{fontSize:20,color:"white"},totalTxt:{fontSize:14,marginBottom:5},bigButton:{backgroundColor:"rgba(51,81,243,1)",borderRadius:30,width:"98%",height:55,alignItems:"center",justifyContent:"center"},innerTxt:{fontSize:13,marginBottom:10},headerTxt:{fontSize:15,fontWeight:"600"}})},re=n(236),oe=n.n(re),ie=function(e){var t=e.navigation,n=v(),r=n.height,o=n.width,i=L.use();return Object(O.jsx)(j.default,{style:{flex:1,height:r,width:o},children:Object(O.jsxs)(j.default,{style:{flexDirection:"row",height:"100%"},children:[Object(O.jsxs)(j.default,{style:{width:"70%",height:"100%"},children:[Object(O.jsx)((function(){return Object(O.jsxs)(j.default,{style:{width:"100%",height:80,flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"rgba(31,35,48,1)",paddingLeft:25,paddingRight:25},children:[Object(O.jsx)(h.default,{source:oe.a,style:{width:200,height:160,resizeMode:"contain"}}),Object(O.jsx)(f.default,{onPress:function(){return t.navigate("SettingsHome")},children:Object(O.jsx)(Y.default,{name:"settings",size:32,color:"white"})})]})}),{}),Object(O.jsx)(X,{catalog:i,navigation:t})]}),Object(O.jsx)(te,{navigation:t})]})})},ae=(p.default.create({container:{backgroundColor:"white",flex:1}}),function(e){var t=e.navigation,n=L.use();return Object(O.jsxs)(b.default,{style:{padding:25},children:[Object(O.jsx)(m.default,{style:{fontSize:17,fontWeight:"600"},children:"Current Products"}),n.categories.length>0?n.products.map((function(e,r){return Object(O.jsxs)(j.default,{style:{flexDirection:"row",justifyContent:"space-between",padding:15,margin:10,backgroundColor:"lightgrey"},children:[Object(O.jsxs)(m.default,{style:{fontSize:17},children:["Product: ",e.name]}),Object(O.jsxs)(j.default,{style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"20%"},children:[Object(O.jsx)(x.Button,{title:"Duplicate",onPress:function(){var t=structuredClone(e);t.name=t.name+" Copy",G(i()(n.categories),[].concat(i()(n.products),[t]))},style:{margin:10}}),Object(O.jsx)(x.Button,{title:"Edit",onPress:function(){return t.navigate("AddProduct",{existingProduct:e,existingProductIndex:r})},style:{margin:10}}),Object(O.jsx)(f.default,{onPress:function(){return function(e){var t=structuredClone(n);t.products.splice(e,1),G(t.categories,t.products)}(r)},style:{justifyContent:"center",alignItems:"center",borderRadius:3,backgroundColor:"red",padding:10,margin:10},children:Object(O.jsx)(m.default,{style:{color:"white",fontWeight:"600",fontSize:18},children:"X"})})]})]})})):Object(O.jsx)(m.default,{style:{marginTop:50,marginBottom:50},children:"You must add a category before you can add a product..."}),n.products.length<1&&n.categories.length>0&&Object(O.jsx)(m.default,{style:{marginTop:50,marginBottom:50},children:"You have no products..."}),Object(O.jsx)(x.Button,{title:"Add New Product",onPress:function(){return t.navigate("AddProduct")},style:{margin:10},disabled:n.categories.length<1})]})}),se=(p.default.create({}),n(9)),ce=n.n(se),le=n(136),ue=n(172);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var he=function(e){var t=e.label,n=e.options,o=e.setValue,i=e.value,a=e.style,s=Object(r.useState)(!1),c=l()(s,2),u=c[0],d=c[1];return Object(O.jsxs)(j.default,{style:[pe.container,a],children:[Object(O.jsx)(x.ListItem,{title:i||t,trailing:function(e){return Object(O.jsx)(ue.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){ce()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:u?"chevron-up":"chevron-down"},e))},onPress:function(){return d((function(e){return!e}))}}),u&&Object(O.jsx)(O.Fragment,{children:n.map((function(e){return Object(O.jsx)(x.ListItem,{title:e,onPress:function(){o(e),d(!1)}})}))})]})},pe=p.default.create({container:{backgroundColor:"white"}});function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){ce()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge=function(e){var t=e.item,n=e.index,o=e.setnewProduct,i=e.newProduct,a=e.newProductOptions,s=e.indexOn,c=e.setindexOn;if(s===n){var u=Object(r.useState)([]),d=l()(u,2),h=d[0],p=d[1],g=Object(r.useState)(t),b=l()(g,2),y=b[0],w=b[1],C=Object(r.useState)(structuredClone(t.optionsList)),v=l()(C,2),X=v[0],S=v[1],P=i.options.map((function(e){if(e.label!==y.label&&null!==e.label)return e.label}));return Object(r.useEffect)((function(){if(null!==y.selectedCaseKey)if(i.options.length>1){var e=i.options.filter((function(e){return e.label==y.selectedCaseKey})),t=e.length>0&&e[0].optionsList.map((function(e){return e.label}));p(t)}else a.current[n].selectedCaseKey=null,a.current[n].selectedCaseValue=null}),[y]),Object(O.jsx)(j.default,{children:Object(O.jsxs)(j.default,{style:{padding:25,margin:15,backgroundColor:"lightgrey"},children:[Object(O.jsxs)(f.default,{onPress:function(){return c(s!==n?n:null)},style:{padding:25,margin:15,backgroundColor:"lightgrey",flexDirection:"row",justifyContent:"space-between",height:100},children:[Object(O.jsx)(m.default,{children:t.label}),Object(O.jsx)(f.default,{onPress:function(){a.current.push(je(je({},t),{},{label:t.label+" Copy"})),o((function(e){return je(je({},e),{},{options:a.current})})),c(a.current.length-1)},children:Object(O.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"Copy"})}),Object(O.jsx)(f.default,{onPress:function(){a.current.splice(n,1),o((function(e){return je(je({},e),{},{options:a.current})})),c(s-1)},children:Object(O.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"X"})}),Object(O.jsx)(f.default,{onPress:function(){!function(e,t){var n=a.current.splice(e,1)[0];a.current.splice(t,0,n)}(n,n+1),o((function(e){return je(je({},e),{},{options:a.current})})),c(null)},children:Object(O.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"\\/"})}),Object(O.jsx)(f.default,{onPress:function(){!function(e,t){var n=a.current.splice(e,1)[0];a.current.splice(t,0,n)}(n,n-1),o((function(e){return je(je({},e),{},{options:a.current})})),c(null)},children:Object(O.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"/\\"})})]}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Select List Label",onChangeText:function(e){w((function(t){return je(je({},t),{},{label:e})})),a.current[n].label=e},value:y.label,style:{marginBottom:25}}),Object(O.jsx)(he,{label:"Option Type",options:["Standard","Dropdown"],setValue:function(e){y.optionType?a.current[n].optionType=e:(a.current[n]=je(je({},y),{},{optionType:e}),console.log(a.current[n].optionType)),o((function(e){return je(je({},e),{},{options:a.current})}))},value:y.optionType,style:{marginBottom:25}}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Number Of Selectable; If There Is",onChangeText:function(e){w((function(t){return je(je({},t),{},{numOfSelectable:e})})),a.current[n].numOfSelectable=e},value:y.numOfSelectable,style:{marginBottom:25}}),X.map((function(e,t){var r=structuredClone(e);return Object(O.jsxs)(j.default,{style:{flexDirection:"row",marginBottom:25,alignItems:"center"},children:[Object(O.jsx)(x.TextInput,{placeholder:"Enter Option Label",onChangeText:function(e){var r=structuredClone(X);r[t].label=e,a.current[n].optionsList=r,S(r)},value:r.label}),Object(O.jsx)(x.TextInput,{placeholder:"Enter price increase",onChangeText:function(e){var r=structuredClone(X);r[t].priceIncrease=e,a.current[n].optionsList=r,S(r)},value:r.priceIncrease,style:{marginLeft:20,marginRight:20}}),Object(O.jsx)(f.default,{onPress:function(){var e=structuredClone(X);e.splice(t,1),a.current[n].optionsList=e,S(e)},children:Object(O.jsx)(m.default,{style:{fontWeight:"700",color:"red"},children:"X"})})]})})),Object(O.jsx)(x.Button,{title:"Add Option Choice",onPress:function(){var e=structuredClone(X);e.push({label:null,priceIncrease:null}),a.current[n].optionsList=e,S(e)},style:{marginBottom:25}}),P.length>1&&Object(O.jsxs)(j.default,{style:{flexDirection:"row",justifyContent:"space-between",marginBottom:25},children:[Object(O.jsx)(he,{label:"Show if...",options:P,setValue:function(e){w((function(t){return je(je({},t),{},{selectedCaseKey:e})})),a.current[n].selectedCaseKey=e},value:y.selectedCaseKey,style:{marginBottom:25}}),Object(O.jsx)(m.default,{children:'"="'}),Object(O.jsx)(he,{label:"Show if...",options:h,setValue:function(e){w((function(t){return je(je({},t),{},{selectedCaseValue:e})})),a.current[n].selectedCaseValue=e},value:y.selectedCaseValue,style:{marginBottom:25}})]})]})})}return Object(O.jsxs)(f.default,{onPress:function(){return c(s!==n?n:null)},style:{padding:25,margin:15,backgroundColor:"lightgrey",flexDirection:"row",justifyContent:"space-between",height:100},children:[Object(O.jsx)(m.default,{children:t.label}),Object(O.jsx)(f.default,{onPress:function(){a.current.push(je(je({},t),{},{label:t.label+" Copy"})),o((function(e){return je(je({},e),{},{options:a.current})})),c(a.current.length-1)},children:Object(O.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"Copy"})}),Object(O.jsx)(f.default,{onPress:function(){a.current.splice(n,1),o((function(e){return je(je({},e),{},{options:a.current})})),c(s-1)},children:Object(O.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"X"})}),Object(O.jsx)(f.default,{onPress:function(){!function(e,t){var n=a.current.splice(e,1)[0];a.current.splice(t,0,n)}(n,n+1),o((function(e){return je(je({},e),{},{options:a.current})})),c(null)},children:Object(O.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"\\/"})}),Object(O.jsx)(f.default,{onPress:function(){!function(e,t){var n=a.current.splice(e,1)[0];a.current.splice(t,0,n)}(n,n-1),o((function(e){return je(je({},e),{},{options:a.current})})),c(null)},children:Object(O.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"/\\"})})]})};function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){ce()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe=function(e){var t=e.route,n=e.navigation,o=t.params?t.params:{existingProduct:null,existingProductIndex:null},a=o.existingProduct,s=o.existingProductIndex,c=L.use(),u=Object(r.useState)(a||{name:null,price:null,catagory:null,options:[],description:null}),d=l()(u,2),h=d[0],p=d[1],g=Object(r.useRef)(a?a.options:[]),y=Object(r.useState)(0),w=l()(y,2),C=w[0],v=w[1];function X(e){if(e)G(i()(c.categories),[].concat(i()(c.products),[e])),n.goBack();else if(a){var t=structuredClone(c.products),r=me(me({},h),{},{options:g.current});t[s]=r,G(i()(c.categories),t),n.goBack()}else G(i()(c.categories),[].concat(i()(c.products),[h])),n.goBack()}return Object(O.jsx)(b.default,{style:{width:"100%",height:"100%",flex:1},contentContainerStyle:{width:"93%",alignSelf:"center",marginTop:25},children:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(j.default,{style:{flexDirection:"row",padding:20,justifyContent:"space-between",alignItems:"center"},children:[Object(O.jsx)(f.default,{onPress:function(){return n.goBack()},children:Object(O.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"X"})}),Object(O.jsx)(f.default,{onPress:function(){var e=structuredClone(h);e.name=e.name+" Copy",X(e)},children:Object(O.jsx)(m.default,{style:{marginBottom:25,fontWeight:"700",color:"red"},children:"Copy"})}),Object(O.jsx)(m.default,{style:{marginBottom:25},children:"AddProduct"})]}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Product Name",onChangeText:function(e){p((function(t){return me(me({},t),{},{name:e})}))},value:h.name,style:{marginBottom:25}}),Object(O.jsx)(x.TextInput,{placeholder:"Enter any other items that come with this",onChangeText:function(e){p((function(t){return me(me({},t),{},{description:e})}))},style:{marginBottom:25},value:h.description}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Product Price",onChangeText:function(e){p((function(t){return me(me({},t),{},{price:e})}))},style:{marginBottom:25},value:h.price}),Object(O.jsx)(he,{label:"Choose catagory",options:c.categories,setValue:function(e){p((function(t){return me(me({},t),{},{catagory:e})}))},value:h.catagory,style:{marginBottom:25}}),Object(O.jsx)((function(){return Object(O.jsxs)(j.default,{children:[Object(O.jsx)(le.default,{getItemLayout:function(e,t){var n;return{length:t===C?400*(null==(n=e.optionsList)?void 0:n.length):100,offset:400*t,index:t}},data:h.options,keyExtractor:function(e){var t;return null==(t=e.id)?void 0:t.toString()},renderItem:function(e){var t=e.item,n=e.index;return Object(O.jsx)(ge,{item:t,index:n,newProduct:h,setnewProduct:p,newProductOptions:g,indexOn:C,setindexOn:v})}}),Object(O.jsx)(x.Button,{title:"Add Product Option",onPress:function(){g.current.push({label:null,optionsList:[],selectedCaseKey:null,selectedCaseValue:null,numOfSelectable:null,id:Math.random().toString(36).substr(2,9),optionType:null}),p((function(e){return me(me({},e),{},{options:g.current})})),v(g.current.length-1)},style:{marginBottom:25}})]})}),{}),Object(O.jsx)(x.Button,{title:"Add/Save Product",onPress:function(){X()},style:{marginBottom:25,marginTop:25,backgroundColor:"lightgreen"}})]})})},Oe=(p.default.create({}),function(){var e=R.use(),t=Object(r.useState)(e.apiUrl),n=l()(t,2),o=n[0],i=n[1],a=Object(r.useState)(e.ck),s=l()(a,2),c=s[0],u=s[1],d=Object(r.useState)(e.cs),h=l()(d,2),p=h[0],f=h[1],j=Object(r.useState)(e.useWoocommerce),g=l()(j,2),y=g[0],w=g[1];return Object(O.jsxs)(b.default,{style:{padding:25},children:[Object(O.jsx)(m.default,{style:{fontSize:17,fontWeight:"600"},children:"Current categories"}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Woocommerce 'API Url'",onChangeText:function(e){return i(e)},style:{margin:10},value:o}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Woocommerce 'CK'",onChangeText:function(e){return u(e)},style:{margin:10},value:c}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Woocommerce 'CS'",onChangeText:function(e){return f(e)},style:{margin:10},value:p}),Object(O.jsx)(x.Switch,{value:y,onValueChange:function(e){return w(e)}}),Object(O.jsx)(x.Button,{title:"Save",onPress:function(){null!==o&&null!==c&&null!==p&&(W({apiUrl:o,ck:c,cs:p,useWoocommerce:y}),function(e){var t;Q.collection("users").doc(null==(t=q.currentUser)?void 0:t.uid).update({wooCredentials:e})}({apiUrl:o,ck:c,cs:p,useWoocommerce:y}))},style:{margin:10}})]})}),ye=function(){var e=F.use(),t=Object(r.useState)(e.name),n=l()(t,2),o=n[0],i=n[1],a=Object(r.useState)(e.phoneNumber),s=l()(a,2),c=s[0],u=s[1],d=Object(r.useState)(e.address),h=l()(d,2),p=h[0],f=h[1],j=Object(r.useState)(e.website),g=l()(j,2),y=g[0],w=g[1],C=Object(r.useState)(e.deliveryPrice),v=l()(C,2),X=v[0],S=v[1],P=Object(r.useState)(e.comSelected),T=l()(P,2),D=T[0],I=T[1];return Object(O.jsxs)(b.default,{style:{padding:25},children:[Object(O.jsx)(m.default,{style:{fontSize:17,fontWeight:"600"},children:"Current categories"}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Store Name",onChangeText:function(e){return i(e)},style:{margin:10},value:o}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Store Website Url",onChangeText:function(e){return w(e)},style:{margin:10},value:y}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Store Phone Number",onChangeText:function(e){return u(e)},style:{margin:10},value:c}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Store Address",onChangeText:function(e){return f(e)},style:{margin:10},value:p}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Delivery Price",onChangeText:function(e){return S(e)},style:{margin:10},value:X}),Object(O.jsx)(he,{options:["COM1","COM2","COM3","COM4","COM5","COM6","What Cum?"],label:"Pick Printer COM",value:D,setValue:I}),Object(O.jsx)(x.Button,{title:"Save",onPress:function(){null!==o&&null!==c&&null!==p&&(z({name:o,phoneNumber:c,address:p,website:y,deliveryPrice:X,comSelected:D}),function(e){var t;Q.collection("users").doc(null==(t=q.currentUser)?void 0:t.uid).update({storeDetails:e})}({name:o,phoneNumber:c,address:p,website:y,deliveryPrice:X,comSelected:D}))},style:{margin:10}})]})},we=function(e){var t=e.isModalVisible;return Object(O.jsx)(P.default,{visible:t,transparent:!0,children:Object(O.jsxs)(j.default,{style:{alignItems:"center",justifyContent:"center",flex:1,backgroundColor:"rgba(52, 52, 52, 0.8)"},children:[Object(O.jsx)("style",{children:".loader {\n  border: 16px solid #f3f3f3;\n  border-radius: 50%;\n  border-top: 16px solid #3498db;\n  width: 120px;\n  height: 120px;\n  -webkit-animation: spin 2s linear infinite; /* Safari */\n  animation: spin 2s linear infinite;\n}\n\n/* Safari */\n@-webkit-keyframes spin {\n  0% { -webkit-transform: rotate(0deg); }\n  100% { -webkit-transform: rotate(360deg); }\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}"}),Object(O.jsx)("div",{className:"loader"})]})})},Ce=(p.default.create({}),function(){var e=L.use(),t=Object(r.useState)(),n=l()(t,2),o=n[0],a=n[1],s=Object(r.useState)(!1),c=l()(s,2),u=c[0],d=c[1];return Object(O.jsxs)(b.default,{style:{padding:25},children:[Object(O.jsx)(m.default,{style:{fontSize:17,fontWeight:"600"},children:"Current categories"}),e.categories.map((function(t,n){return Object(O.jsxs)(j.default,{style:{flexDirection:"row",justifyContent:"space-between",padding:15,margin:10,backgroundColor:"lightgrey"},children:[Object(O.jsx)(m.default,{style:{fontSize:17},children:t}),Object(O.jsx)(f.default,{onPress:function(){return function(t){var n=structuredClone(e);n.categories.splice(t,1),G(n.categories,n.products),d(!0)}(n)},style:{justifyContent:"center",alignItems:"center"},children:Object(O.jsx)(m.default,{style:{color:"red",fontWeight:"600"},children:"Remove X"})})]})})),Object(O.jsx)(x.TextInput,{placeholder:"Enter New Category",onChangeText:function(e){return a(e)},style:{margin:10}}),Object(O.jsx)(x.Button,{title:"Add New Category",onPress:function(){G([].concat(i()(e.categories),[o]),e.products),d(!0)},style:{margin:10}}),Object(O.jsx)(we,{isModalVisible:u})]})}),ve=(p.default.create({}),function(){var e=_.use(),t=Object(r.useState)([]),n=l()(t,2),o=n[0],i=n[1],a=new Date,s=Object(r.useState)({todaysReceiptValue:0,todaysReceipts:0}),c=l()(s,2),u=c[0],d=c[1],h=F.use();Object(r.useEffect)((function(){if((null==e?void 0:e.length)>0){e.sort((function(e,t){if(e.date&&t.date)return e.date.seconds-t.date.seconds;if(e.date&&t.date_created){var n=new Date(t.date_created).getTime()/1e3;return e.date.seconds-n}return e.date_created&&t.date?new Date(e.date_created).getTime()/1e3-t.date.seconds:new Date(e.date_created).getTime()/1e3-new Date(t.date_created).getTime()/1e3})).reverse(),i(e);var t=e.reduce((function(e,t){return(t.date?new Date(1e3*t.date.seconds):new Date(t.date_created)).toLocaleDateString()===a.toLocaleDateString()?e+parseFloat(t.total):e}),0),n=e.reduce((function(e,t){return(t.date?new Date(1e3*t.date.seconds):new Date(t.date_created)).toLocaleDateString()===a.toLocaleDateString()?e+1:e}),0);d({todaysReceiptValue:t.toFixed(2),todaysReceipts:n})}}),[e]);return Object(O.jsxs)(j.default,{style:Xe.container,children:[Object(O.jsx)(x.Text,{style:{textAlign:"center",margin:25},children:"List Of Transactions"}),Object(O.jsxs)(j.default,{style:{flexDirection:"row",width:"100%",alignItems:"center",justifyContent:"center"},children:[Object(O.jsxs)(x.Text,{style:{textAlign:"center",margin:25},children:["Todays Total Price: ",u.todaysReceiptValue]}),Object(O.jsx)(x.Button,{style:{height:40,alignItems:"center",justifyContent:"center"},title:"Print Todays Receipts",onPress:function(){var e=["\x1b@","\x1ba1",h.name,"\n",h.address+"\n",h.website+"\n",h.phoneNumber+"\n",a.toLocaleDateString()+" "+a.toLocaleTimeString()+"\n","\n","\n","\n","\n","\x1ba0","\n\n","Number Of Receipts: "+u.todaysReceipts+"\n\n","Sub-Total: $"+(u.todaysReceiptValue/1.13).toFixed(2)+"\n\n","Tax: $"+(u.todaysReceiptValue/1.13*.13).toFixed(2)+"\n\n","Total Including (13% Tax): $"+u.todaysReceiptValue+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"];fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:e,comSelected:h.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")}))}}),Object(O.jsxs)(x.Text,{style:{textAlign:"center",margin:25},children:["Todays Total Receipts: ",u.todaysReceipts]})]}),Object(O.jsx)(j.default,{style:Xe.contentContainer,children:o?null==o?void 0:o.map((function(e,t){var n,r,o=e.date?new Date(1e3*e.date.seconds):e.date_created?new Date(e.date_created):null;return Object(O.jsxs)(j.default,{style:{backgroundColor:"grey",padding:30,margin:10},children:[Object(O.jsx)(x.Text,{children:o.toLocaleString()}),null==(n=e.cart)?void 0:n.map((function(e,t){var n;return Object(O.jsxs)(j.default,{style:{marginBottom:20},children:[Object(O.jsxs)(x.Text,{children:["Name: ",e.name]}),Object(O.jsxs)(x.Text,{children:["Quantity: ",e.quantity]}),Object(O.jsxs)(x.Text,{children:["Price: ",e.price]}),e.options&&(null==(n=e.options)?void 0:n.map((function(e){return Object(O.jsx)(x.Text,{children:e})})))]},t)})),null==(r=e.line_items)?void 0:r.map((function(e,t){var n;return Object(O.jsxs)(j.default,{style:{marginBottom:20},children:[Object(O.jsxs)(x.Text,{children:["Name: ",e.name]}),Object(O.jsxs)(x.Text,{children:["Quantity: ",e.quantity]}),Object(O.jsxs)(x.Text,{children:["Price: ",e.price]}),null==(n=e.meta_data)?void 0:n.map((function(t,n){if(n!==e.meta_data.length-1)return Object(O.jsx)(x.Text,{children:t.key+" : "+t.value})}))]},t)})),Object(O.jsx)(x.Button,{title:"Print",onPress:function(){if(e.date){var t,n=0,r=["\x1b@","\x1ba1",h.name,"\n",h.address+"\n",h.website+"\n",h.phoneNumber+"\n",o.toLocaleDateString()+" "+o.toLocaleTimeString()+"\n","\n","Transaction # "+e.transNum+"\n","\n","\n","\n","\x1ba0"];null==(t=e.cart)||t.map((function(e){var t;(n+=parseFloat(e.price),r.push("Name: "+e.name),r.push("\n"),r.push("Price: $"+e.price),e.options)&&(r.push("\n"),null==(t=e.options)||t.map((function(e){r.push(e),r.push("\n")})));r.push("\n\n")})),n=(n*=1.13).toFixed(2),r.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Total Including (13% Tax): $"+n+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n","\x1dV0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:r,comSelected:h.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")}))}else{var i,a=[];a.push("\x1b@","\x1ba1",h.name,"\n",h.address+"\n",h.website+"\n",h.phoneNumber+"\n",e.date_created+"\n","\n","Online Order\n","Transaction # "+e.number+"\n","\n","\n","\n","\x1ba0"),null==(i=e.line_items)||i.map((function(e){var t;(a.push("\n"),a.push("Name: "+e.name),a.push("\n"),a.push("Quantity: "+e.quantity),a.push("\n"),a.push("Price: $"+e.price),a.push("\n"),e.meta_data)?null==(t=e.meta_data)||t.map((function(t,n){0===n?(a.push(t.key+" : "+t.value),e.meta_data[n+1].key!==t.key&&a.push("\n")):n!==e.meta_data.length-1&&(e.meta_data[n-1].key===t.key?a.push(" , "+t.value):a.push(t.key+" : "+t.value),e.meta_data[n+1].key!==t.key&&a.push("\n"))})):a.push("\n\n")})),a.push("\n"),a.push("\n"),a.push("Customer Details:"),a.push("\n"),a.push("Address: "+e.shipping.address_1),a.push("\n"),a.push("City: "+e.shipping.city),a.push("\n"),a.push("Zip/Postal Code: "+e.shipping.postcode),a.push("\n"),a.push("Province/State: "+e.shipping.state),a.push("\n"),a.push("Name: "+e.shipping.first_name+" "+e.shipping.last_name),a.push("\n"),e.shipping_lines.map((function(e){return a.push("Shipping Method: "+e.method_title)})),a.push("\n"),a.push("\n"),a.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e.payment_method_title+"\n\n","Total Including (13% Tax): $"+(parseFloat(e.total)+parseFloat(e.total_tax)).toFixed(2)+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n"),a.push("\x1dV\0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:a,comSelected:h.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")}))}}})]},t)})):Object(O.jsx)(x.Text,{children:"No receipts yet"})})]})}),Xe=p.default.create({container:{backgroundColor:"white",flex:1,height:"100%"},contentContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",paddingLeft:50,paddingRight:50,paddingBottom:50,height:"100%",width:"100%",alignItems:"center"}});function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Pe=function(e){var t=e.label,n=e.options,o=e.setValue,i=e.value,a=e.style,s=Object(r.useState)(!1),c=l()(s,2),u=c[0],d=c[1];return Object(O.jsxs)(j.default,{style:[Te.container,a],children:[Object(O.jsx)(x.ListItem,{title:i?i.label+" : $"+(null!==i.priceIncrease?i.priceIncrease:0):t,trailing:function(e){return Object(O.jsx)(ue.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){ce()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:u?"chevron-up":"chevron-down"},e))},onPress:function(){return d((function(e){return!e}))}}),u&&Object(O.jsx)(O.Fragment,{children:n.map((function(e,t){return Object(O.jsx)(x.ListItem,{title:e.label+" : $"+(null!==e.priceIncrease?e.priceIncrease:0),onPress:function(){o({option:{label:e.label,priceIncrease:null!==e.priceIncrease?e.priceIncrease:0},listIndex:t}),d(!1)}})}))})]})},Te=p.default.create({container:{backgroundColor:"white"}}),De=function(e){var t=e.navigation,n=e.route.params.product,o=Object(r.useState)(n),a=l()(o,2),s=a[0],c=a[1],u=Object(r.useState)(n.price),d=l()(u,2),h=d[0],p=d[1],g=Object(r.useState)(null),y=l()(g,2),w=y[0],C=y[1],v=function(e){var t=e.e,n=e.index,o=Object(r.useState)(),i=l()(o,2),a=i[0],u=i[1],d=t.optionsList.filter((function(e){return e.selected}));d.length>0&&!a&&u(d[0]);var h,g,b=!1,x=s.options.filter((function(e){return e.label==t.selectedCaseKey}));if(x.length>0&&(h=x[0].optionsList.filter((function(e){return e.label==t.selectedCaseValue}))).length>0&&(b=!0===h[0].selected),null===t.selectedCaseKey||b)return"dropdown"===(null==(g=t.optionType)?void 0:g.toLowerCase())?Object(O.jsxs)(j.default,{style:{marginBottom:25,width:"100%"},children:[Object(O.jsxs)(m.default,{style:{fontWeight:"700",fontSize:18},children:["Label: ",t.label]}),Object(O.jsx)(Pe,{label:t.label,options:t.optionsList,setValue:function(e){var t=e.option,r=e.listIndex,o=structuredClone(s);o.options[n].optionsList.forEach((function(e,t){e.selected&&(o.options[n].optionsList[t].selected=!1,p((function(e){return(parseFloat(e)-parseFloat(null!==o.options[n].optionsList[t].priceIncrease?o.options[n].optionsList[t].priceIncrease:0)).toFixed(2)})))})),o.options[n].optionsList[r].selected=!0,p((function(e){return(parseFloat(e)+parseFloat(null!==o.options[n].optionsList[r].priceIncrease?o.options[n].optionsList[r].priceIncrease:0)).toFixed(2)})),console.log(t),u(t),c(o)},value:a,style:{marginBottom:25}})]},n):Object(O.jsxs)(j.default,{style:{marginBottom:25,flexWrap:"wrap",width:"100%"},children:[Object(O.jsxs)(m.default,{style:{fontWeight:"700",fontSize:18},children:["Label: ",t.label]}),Object(O.jsx)(j.default,{style:{flexWrap:"wrap",flexDirection:"row"},children:t.optionsList.map((function(e,r){return Object(O.jsxs)(f.default,{style:[1==s.options[n].optionsList[r].selected&&{backgroundColor:"green"},{flexDirection:"row",justifyContent:"space-between",padding:10,margin:5,borderColor:"black",borderWidth:2}],onPress:function(){var e=structuredClone(s);0==!e.options[n].optionsList[r].selected?(e.options[n].optionsList[r].selected=!1,p((function(t){return(parseFloat(t)-parseFloat(null!==e.options[n].optionsList[r].priceIncrease?e.options[n].optionsList[r].priceIncrease:0)).toFixed(2)}))):(e.options[n].optionsList.filter((function(e){return!0===e.selected})).length<parseInt(t.numOfSelectable)||!t.numOfSelectable)&&(e.options[n].optionsList[r].selected=!0,p((function(t){return(parseFloat(t)+parseFloat(null!==e.options[n].optionsList[r].priceIncrease?e.options[n].optionsList[r].priceIncrease:0)).toFixed(2)}))),c(e)},children:[Object(O.jsxs)(m.default,{style:Ie.h2Black,children:["Name: ",e.label]}),Object(O.jsx)(j.default,{style:{width:20}}),Object(O.jsxs)(m.default,{style:Ie.h2Black,children:["Price: $",null!==e.priceIncrease?e.priceIncrease:0]})]},r)}))})]},n);if(!1===b){var y=structuredClone(s),w=0;y.options[n].optionsList.forEach((function(e,t){!0===e.selected&&(w+=parseFloat(null!==y.options[n].optionsList[t].priceIncrease?priceIncrease:0),y.options[n].optionsList[t].selected=!1)})),w>0&&(p((function(e){return(parseFloat(e)-w).toFixed(2)})),c(y))}};return Object(O.jsxs)(b.default,{style:Ie.modalContainer,children:[Object(O.jsxs)(m.default,{style:Ie.h2Black,children:["Name: ",n.name]}),n.description&&Object(O.jsxs)(m.default,{style:Ie.h2Black,children:["Name: ",n.description]}),Object(O.jsxs)(m.default,{style:[{marginBottom:25},Ie.h2Black],children:["Price: ",h]}),s.options.map((function(e,t){return Object(O.jsx)(v,{e:e,index:t},t)})),Object(O.jsx)(x.TextInput,{placeholder:"Write any extra info here..",multiline:!0,onChangeText:function(e){return C(e)},value:w,style:{marginTop:15,marginBottom:15},inputStyle:{padding:10}}),Object(O.jsx)(x.Button,{title:"Add To Cart",onPress:function(){var e,r=[];s.options.forEach((function(e){var t=e.label+": ",n=e.optionsList.filter((function(e){return!0===e.selected})).length;n>0&&(t=e.label+": ",e.optionsList.map((function(r,o){!0===r.selected&&(o<e.optionsList.length-1&&n>1?t+=r.label+" , ":t+=r.label)})),r.push(t))})),e={name:s.name,price:h,description:n.description,options:r,extraDetails:w},k.set((function(t){return[].concat(i()(t),[e])})),t.goBack(),c(n),p(s.price),C(null)},style:Ie.btn}),Object(O.jsx)(x.Button,{title:"Close",onPress:function(){return t.goBack()},style:Ie.btn})]})},Ie=p.default.create({sizeRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:10},halfRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"50%"},toppingsContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",marginBottom:25,marginTop:25},touchable:{margin:25,width:300},modalContainer:{padding:50},btn:{marginBottom:25},dropDown:{marginBottom:25},h2White:{fontSize:17,color:"white"},h2Black:{fontSize:20,color:"black"}}),ke=function(e){var t=e.navigation;return Object(O.jsxs)(j.default,{children:[Object(O.jsx)(m.default,{children:"Settings Home"}),Object(O.jsx)(x.Button,{title:"Edit Categories",onPress:function(){return t.navigate("EditCategories")},style:{marginBottom:15}}),Object(O.jsx)(x.Button,{title:"Edit Products",onPress:function(){return t.navigate("EditProductList")},style:{marginBottom:15}}),Object(O.jsx)(x.Button,{title:"Edit Woocommerce Settings",onPress:function(){return t.navigate("EditWoocommerce")},style:{marginBottom:15}}),Object(O.jsx)(x.Button,{title:"Edit Store Details",onPress:function(){return t.navigate("StoreDetails")},style:{marginBottom:15}}),Object(O.jsx)(x.Button,{title:"View Transactions",onPress:function(){return t.navigate("Transactions")},style:{marginBottom:15}})]})},Be=(p.default.create({}),function(){var e=_.use(),t=Object(r.useState)(!1),n=l()(t,2),o=n[0],i=n[1],a=Object(r.useState)({element:null,index:null}),s=l()(a,2),c=s[0],u=s[1];return Object(O.jsxs)(j.default,{style:Le.container,children:[Object(O.jsx)(x.Text,{style:{textAlign:"center",margin:25},children:"Current Open Orders"}),Object(O.jsx)(j.default,{style:Le.contentContainer,children:e?null==e?void 0:e.map((function(t,n){var r,o;if("-l"===(null==(r=t.id)?void 0:r.substr((null==(o=t.id)?void 0:o.length)-2,2))&&!1===t.completed&&!0!==t.cancelled){var a,s,c,l,d,h=t.date?new Date(1e3*t.date.seconds):t.date_created?new Date(t.date_created):null;return Object(O.jsxs)(j.default,{style:{backgroundColor:"grey",padding:30,margin:10},children:[Object(O.jsx)(x.Text,{children:h.toLocaleString()}),null==(a=t.cart)?void 0:a.map((function(e,t){var n;return Object(O.jsxs)(j.default,{style:{marginBottom:20},children:[Object(O.jsxs)(x.Text,{children:["Name: ",e.name]}),Object(O.jsxs)(x.Text,{children:["Quantity: ",e.quantity]}),Object(O.jsxs)(x.Text,{children:["Price: ",e.price]}),e.options&&(null==(n=e.options)?void 0:n.map((function(e){return Object(O.jsx)(x.Text,{children:e})})))]},t)})),null==(s=t.line_items)?void 0:s.map((function(e,t){var n;return Object(O.jsxs)(j.default,{style:{marginBottom:20},children:[Object(O.jsxs)(x.Text,{children:["Name: ",e.name]}),Object(O.jsxs)(x.Text,{children:["Quantity: ",e.quantity]}),Object(O.jsxs)(x.Text,{children:["Price: ",e.price]}),null==(n=e.meta_data)?void 0:n.map((function(t,n){if(n!==e.meta_data.length-1)return Object(O.jsx)(x.Text,{children:t.key+" : "+t.value})}))]},t)})),Object(O.jsx)(x.Text,{children:null==(c=t.customer)?void 0:c.name}),Object(O.jsx)(x.Text,{children:null==(l=t.customer)?void 0:l.phone}),Object(O.jsx)(x.Text,{children:null==(d=t.customer)?void 0:d.address}),Object(O.jsxs)(x.Text,{children:["Method:"," ","pickupOrder"===t.method?"Pick Up":"Delivery"]}),Object(O.jsx)(x.Button,{title:"Complete Order",onPress:function(){if("pickupOrder"===t.method)i(!0),u({element:t,index:n});else{var r=structuredClone(e);r[n].completed=!0,Z(r)}},style:{marginBottom:10}}),Object(O.jsx)(x.Button,{title:"Cancel Order",onPress:function(){var t=structuredClone(e);t[n].cancelled=!0,Z(t)}})]},n)}})):Object(O.jsx)(x.Text,{children:"No Orders Yet"})}),Object(O.jsx)(P.default,{visible:o,children:Object(O.jsx)(J,{setChangeModal:i,setcurrentOrder:u,order:c.element,completeOrder:function(){var t=structuredClone(e);t[c.index].completed=!0,Z(t),i(!1)}})})]})}),Le=p.default.create({container:{backgroundColor:"white",flex:1,height:"100%"},contentContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",paddingLeft:50,paddingRight:50,paddingBottom:50,height:"100%",width:"100%",alignItems:"center"}}),Ee=Object(d.default)();function _e(){return Object(O.jsxs)(Ee.Navigator,{children:[Object(O.jsx)(Ee.Screen,{name:"Home",component:ie,options:{headerShown:!1}}),Object(O.jsx)(Ee.Screen,{name:"SettingsHome",component:ke}),Object(O.jsx)(Ee.Screen,{name:"EditCategories",component:Ce}),Object(O.jsx)(Ee.Screen,{name:"EditProductList",component:ae}),Object(O.jsx)(Ee.Screen,{name:"AddProduct",component:xe,options:{headerShown:!1}}),Object(O.jsx)(Ee.Screen,{name:"EditWoocommerce",component:Oe}),Object(O.jsx)(Ee.Screen,{name:"StoreDetails",component:ye}),Object(O.jsx)(Ee.Screen,{name:"Transactions",component:ve}),Object(O.jsx)(Ee.Screen,{name:"ProductListing",component:De,options:{headerShown:!1}}),Object(O.jsx)(Ee.Screen,{name:"CompletePaymentPhoneOrder",component:Be})]})}var Ne=function(){return Object(O.jsx)(_e,{})},Re=n(456),We=n.n(Re),Fe=n(457),ze=n.n(Fe),Me=function(e){var t=e.containerStyle,n=e.titleStyle,r=e.title,o=e.onPress;return Object(O.jsx)(f.default,{style:[{backgroundColor:"rgba(51,81,243,1)",borderRadius:30,width:160,height:50,justifyContent:"center",alignItems:"center"},t&&t],onPress:o,children:Object(O.jsx)(m.default,{style:[{fontSize:18,color:"white",fontWeight:"600"},n&&n],children:r})})},Ve=function(e){var t=e.navigation,n=Object(r.useState)(),o=l()(n,2),i=o[0],a=o[1],s=Object(r.useState)(),c=l()(s,2),u=c[0],d=c[1],p=Object(r.useState)(!1),f=l()(p,2),g=f[0],b=f[1];return Object(O.jsxs)(j.default,{style:Ae.container,children:[Object(O.jsx)(j.default,{style:Ae.leftColorAccent}),Object(O.jsxs)(j.default,{style:Ae.rightHalfContainer,children:[Object(O.jsxs)(j.default,{style:Ae.loginContainer,children:[Object(O.jsx)(h.default,{source:ze.a,style:{width:250,height:160,resizeMode:"contain"}}),Object(O.jsx)(x.Text,{style:{marginBottom:35,color:"rgba(155,155,155,1)",fontSize:20},children:"Online E-Transaction Point-of-Sale Software"}),Object(O.jsx)(x.Text,{style:{color:"rgba(0,0,0,1)",fontSize:20,marginBottom:10,fontWeight:"600",marginLeft:"3%"},children:"Login"}),Object(O.jsxs)(j.default,{style:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(241,241,241,1)",borderRadius:30,height:60,marginBottom:25},children:[Object(O.jsx)(j.default,{style:{width:60,alignItems:"center",justifyContent:"center",backgroundColor:"rgba(218,216,216,1)",borderRadius:30,height:60},children:Object(O.jsx)(Y.default,{name:"person-circle-outline",size:32,color:"rgba(71,106,229,1)"})}),Object(O.jsx)(x.TextInput,{placeholder:"Enter email",style:{width:"80%"},inputStyle:{backgroundColor:"rgba(241,241,241,1)"},value:i,onChangeText:function(e){return a(e)},autoCorrect:!1,textContentType:"emailAddress"})]}),Object(O.jsxs)(j.default,{style:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(241,241,241,1)",borderRadius:30,height:60,marginBottom:25},children:[Object(O.jsx)(j.default,{style:{width:60,alignItems:"center",justifyContent:"center",backgroundColor:"rgba(218,216,216,1)",borderRadius:30,height:60},children:Object(O.jsx)(Y.default,{name:"finger-print",size:32,color:"rgba(71,106,229,1)"})}),Object(O.jsx)(x.TextInput,{placeholder:"Enter Password",style:{width:"75%"},inputStyle:{backgroundColor:"rgba(241,241,241,1)"},value:u,onChangeText:function(e){return d(e)},secureTextEntry:!g}),Object(O.jsx)(j.default,{style:{width:60,alignItems:"center",justifyContent:"center",height:60},children:g?Object(O.jsx)(Y.default,{name:"eye-off",size:32,color:"rgba(74,74,74,1)",onPress:function(){return b((function(e){return!e}))}}):Object(O.jsx)(Y.default,{name:"eye",size:32,color:"rgba(74,74,74,1)",onPress:function(){return b((function(e){return!e}))}})})]}),Object(O.jsx)(Me,{title:"Login",onPress:function(){i&&u&&function(e,t){q.signInWithEmailAndPassword(e,t)}(i,u)}}),Object(O.jsxs)(x.Text,{style:{color:"rgba(0,0,0,1)",fontSize:15,marginBottom:10,fontWeight:"400",marginLeft:"3%",marginTop:25},children:["Or"," ",Object(O.jsx)(x.Text,{style:{color:"blue"},onPress:function(){return t.navigate("Register")},children:"Register"})]})]}),Object(O.jsx)(h.default,{source:We.a,style:Ae.img})]})]})},Ae=p.default.create({container:{flex:1,height:"100%",width:"100%",backgroundColor:"white",flexWrap:"wrap",flexDirection:"row"},leftColorAccent:{backgroundColor:"rgba(31,35,48,1)",borderTopRightRadius:20,borderBottomRightRadius:20,width:"8%",height:"100%"},rightHalfContainer:{width:"92%",height:"100%",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",paddingLeft:70},loginContainer:{padding:20,shadowColor:"rgba(0,0,0,1)",shadowOffset:{height:0,width:3},elevation:150,shadowOpacity:.22,shadowRadius:50,borderRadius:30,backgroundColor:"rgba(255,255,255,1)",width:518,height:676},img:{height:768,width:541,resizeMode:"contain"}}),$e=n(833);function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){ce()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ke=function(e){var t=e.navigation,o=Object(r.useState)(),i=l()(o,2),a=i[0],s=i[1],c=Object(r.useState)(),u=l()(c,2),d=u[0],p=u[1],f=Object(r.useState)(!1),g=l()(f,2),b=g[0],m=g[1];return Object(O.jsx)(j.default,{style:He.container,children:Object(O.jsxs)($e.SafeAreaView,{style:He.safeareaContainer,children:[Object(O.jsx)(h.default,{source:n(591),style:He.logo}),Object(O.jsxs)(j.default,{style:He.innerContainer,children:[Object(O.jsx)(x.TextInput,{label:"Email",variant:"outlined",style:{width:"100%",marginBottom:10},value:a,onChangeText:function(e){return s(e)},autoCorrect:!1,textContentType:"emailAddress"}),Object(O.jsx)(x.TextInput,{label:"Password",variant:"outlined",trailing:function(e){return Object(O.jsx)(x.IconButton,Je({onPress:function(){return m((function(e){return!e}))},icon:function(e){return Object(O.jsx)(ue.default,Je({name:"eye"},e))}},e))},value:d,onChangeText:function(e){return p(e)},secureTextEntry:!b,style:{width:"100%"}})]}),Object(O.jsxs)(j.default,{style:He.innerContainer,children:[Object(O.jsx)(x.Button,{title:"Register",uppercase:!1,contentContainerStyle:{width:"100%",height:60,backgroundColor:"black",alignItems:"center",justifyContent:"center"},style:{marginBottom:10},onPress:function(){a&&d&&function(e,t){q.createUserWithEmailAndPassword(e,t).then((function(e){e.user&&Q.collection("users").doc(e.user.uid).set({paid:!0,products:[],categories:[],wooCredentials:{ck:null,cs:null,useWoocommerce:!1},transList:[],storeDetails:{name:null,address:null,phoneNumber:null,website:null,comSelected:null,deliveryPrice:null}})})).catch((function(e){return console.log(e)}))}(a,d)}}),Object(O.jsxs)(j.default,{style:{flexDirection:"row"},children:[Object(O.jsx)(x.Text,{variant:"subtitle1",style:{marginBottom:10},children:"Or"}),Object(O.jsx)(x.Text,{variant:"subtitle1",style:{marginBottom:10,marginLeft:5,color:"blue"},onPress:function(){return t.goBack()},children:"Go Back"})]})]})]})})},He=p.default.create({container:{flex:1,height:"100%",width:"100%",backgroundColor:"white",justifyContent:"center",alignItems:"center"},safeareaContainer:{flex:1,height:"60%",width:"80%",justifyContent:"space-evenly",alignItems:"center"},logo:{width:250,resizeMode:"contain"},innerContainer:{width:"100%",justifyContent:"center",alignItems:"center"}}),qe=function(e){var t=e.navigation;e.route,e.options,e.back;return Object(O.jsxs)(j.default,{style:{width:"100%",height:90,flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"rgba(31,35,48,1)",paddingLeft:40,paddingRight:40},children:[Object(O.jsx)(h.default,{source:oe.a,style:{width:250,height:160,resizeMode:"contain"}}),Object(O.jsx)(f.default,{style:{backgroundColor:"rgba(51,81,243,1)",borderRadius:30,width:160,height:50,justifyContent:"center",alignItems:"center"},onPress:function(){t.navigate("Login")},children:Object(O.jsx)(m.default,{style:{fontSize:18,color:"white",fontWeight:"600"},children:"Login"})})]})},Qe=function(){return Object(O.jsx)(j.default,{style:Ge.main,children:Object(O.jsx)(m.default,{children:"WebHome"})})},Ge=p.default.create({main:{flex:1,backgroundColor:"white"}});function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ye=Object(d.default)();function et(){return Object(O.jsxs)(Ye.Navigator,{screenOptions:{header:function(e){return Object(O.jsx)(qe,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){ce()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))},headerMode:"screen"},children:[Object(O.jsx)(Ye.Screen,{name:"WebHome",component:Qe}),Object(O.jsx)(Ye.Screen,{name:"Login",component:Ve,options:{headerShown:!1}}),Object(O.jsx)(Ye.Screen,{name:"Register",component:Ke,options:{headerShown:!1}})]})}var tt=function(){var e=D.use(),t=R.use(),o=_.use(),a=F.use(),c=Object(r.useState)(!0),d=l()(c,2),h=d[0],p=d[1];return Object(r.useEffect)((function(){q.onAuthStateChanged((function(e){e?(I(e),Q.collection("users").doc(e.uid).get().then((function(e){E({products:e.data().products,categories:e.data().categories}),e.data().transList&&N(e.data().transList),e.data().wooCredentials&&W(e.data().wooCredentials),e.data().storeDetails&&z(e.data().storeDetails)})),setTimeout((function(){p(!1)}),1)):(I(null),E({products:null,categories:null}),setTimeout((function(){p(!1)}),1))}))}),[]),Object(r.useEffect)((function(){if(e){var t=Q.collection("users").doc(e.uid).onSnapshot((function(e){p(!0),E({products:e.data().products,categories:e.data().categories}),e.data().transList&&N(e.data().transList),e.data().wooCredentials&&W(e.data().wooCredentials),e.data().storeDetails&&z(e.data().storeDetails),setTimeout((function(){p(!1)}),1)}));return function(){return t()}}}),[e]),Object(r.useEffect)((function(){if(!0===t.useWoocommerce){var e=setInterval((function(){var e=new(n(592))({url:t.apiUrl,consumerKey:t.ck,consumerSecret:t.cs,wpAPI:!0,version:"wc/v1"}),r=1,c=[],l=function(){var t=s()((function*(){var t=yield e.getAsync("orders?page="+r+"&per_page=100"),n=JSON.parse(t.body);c=[].concat(i()(c),i()(n)),100===n.length?(r++,l()):console.log(c)}));return function(){return t.apply(this,arguments)}}();l().then((function(){var e=c,t=[];if(o.concat(e).reduce((function(e,n){return e.includes(n.id)||(e.push(n.id),t.push(n)),e}),[]),console.log("new array: ",t),t.length>o.length){console.log("new item");var n=structuredClone(t).splice(o.length,t.length-o.length);if(console.log("NEW ITEMS ",n),Z(t),n.length>1)n.forEach((function(e){var t,n=[];n.push("\x1b@","\x1ba1",a.name,"\n",a.address+"\n",a.website+"\n",a.phoneNumber+"\n",e.date_created+"\n","\n","Online Order\n","Transaction # "+e.number+"\n","\n","\n","\n","\x1ba0"),null==(t=e.line_items)||t.map((function(e){var t;(n.push("\n"),n.push("Name: "+e.name),n.push("\n"),n.push("Quantity: "+e.quantity),n.push("\n"),n.push("Price: $"+e.price),n.push("\n"),e.meta_data)?null==(t=e.meta_data)||t.map((function(t,r){0===r?(n.push(t.key+" : "+t.value),e.meta_data[r+1].key!==t.key&&n.push("\n")):r!==e.meta_data.length-1&&(e.meta_data[r-1].key===t.key?n.push(" , "+t.value):n.push(t.key+" : "+t.value),e.meta_data[r+1].key!==t.key&&n.push("\n"))})):n.push("\n\n")})),n.push("\n"),n.push("\n"),n.push("Customer Details:"),n.push("\n"),n.push("Address: "+e.shipping.address_1),n.push("\n"),n.push("City: "+e.shipping.city),n.push("\n"),n.push("Zip/Postal Code: "+e.shipping.postcode),n.push("\n"),n.push("Province/State: "+e.shipping.state),n.push("\n"),n.push("Name: "+e.shipping.first_name+" "+e.shipping.last_name),n.push("\n"),e.shipping_lines.map((function(e){return n.push("Shipping Method: "+e.method_title)})),n.push("\n"),n.push("\n"),n.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+e.payment_method_title+"\n\n","Total Including (13% Tax): $"+(parseFloat(e.total)+parseFloat(e.total_tax)).toFixed(2)+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n"),n.push("\x1dV\0"),s()((function*(){return yield fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:n,comSelected:a.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.log("Error with printer")}))}))}));else{var r,i=n[0],l=[];l.push("\x1b@","\x1ba1",a.name,"\n",a.address+"\n",a.website+"\n",a.phoneNumber+"\n",i.date_created+"\n","\n","Online Order\n","Transaction # "+i.number+"\n","\n","\n","\n","\x1ba0"),null==(r=i.line_items)||r.map((function(e){var t;(l.push("\n"),l.push("Name: "+e.name),l.push("\n"),l.push("Quantity: "+e.quantity),l.push("\n"),l.push("Price: $"+e.price),l.push("\n"),e.meta_data)?null==(t=e.meta_data)||t.map((function(t,n){0===n?(l.push(t.key+" : "+t.value),e.meta_data[n+1].key!==t.key&&l.push("\n")):n!==e.meta_data.length-1&&(e.meta_data[n-1].key===t.key?l.push(" , "+t.value):l.push(t.key+" : "+t.value),e.meta_data[n+1].key!==t.key&&l.push("\n"))})):l.push("\n\n")})),l.push("\n"),l.push("\n"),l.push("Customer Details:"),l.push("\n"),l.push("Address: "+i.shipping.address_1),l.push("\n"),l.push("City: "+i.shipping.city),l.push("\n"),l.push("Zip/Postal Code: "+i.shipping.postcode),l.push("\n"),l.push("Province/State: "+i.shipping.state),l.push("\n"),l.push("Name: "+i.shipping.first_name+" "+i.shipping.last_name),l.push("\n"),i.shipping_lines.map((function(e){return l.push("Shipping Method: "+e.method_title)})),l.push("\n"),l.push("\n"),l.push("\n","XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n","\n\n","Payment Method: "+i.payment_method_title+"\n\n","Total Including (13% Tax): $"+(parseFloat(i.total)+parseFloat(i.total_tax)).toFixed(2)+"\n\n","------------------------------------------\n","\n","\n","\n","\n","\n","\n"),l.push("\x1dV\0"),fetch("http://localhost:8080/print",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({printData:l,comSelected:a.comSelected})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return alert("Error with printer")}))}}}))}),5e3);return function(){return clearInterval(e)}}}),[t,o]),Object(O.jsx)(u.default,{children:h?Object(O.jsx)(we,{isModalVisible:!0}):Object(O.jsx)(O.Fragment,{children:e?Object(O.jsx)(Ne,{}):Object(O.jsx)(et,{})})})};t.default=function(){return Object(O.jsx)(tt,{})}},477:function(e,t,n){e.exports=n(816)},591:function(e,t,n){e.exports=n.p+"static/media/pathblazer-logo.17137072.png"},608:function(e,t){},610:function(e,t){},619:function(e,t){},621:function(e,t){},646:function(e,t){},648:function(e,t){},649:function(e,t){},654:function(e,t){},656:function(e,t){},675:function(e,t){},687:function(e,t){},690:function(e,t){},695:function(e,t){},697:function(e,t){},720:function(e,t){}},[[477,1,2]]]);
//# sourceMappingURL=app.fb330623.chunk.js.map