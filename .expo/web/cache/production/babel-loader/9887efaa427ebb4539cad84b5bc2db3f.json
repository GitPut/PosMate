{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import useWindowDimensions from\"react-native-web/dist/exports/useWindowDimensions\";import View from\"react-native-web/dist/exports/View\";import TextInput from\"react-native-web/dist/exports/TextInput\";import React,{useEffect,useRef,useState}from\"react\";import{storeDetailState,woocommerceState}from\"../../state/state\";var tz=require(\"moment-timezone\");import{ReactGrid}from\"@silevis/reactgrid\";import MaterialCommunityIcons from\"@expo/vector-icons/MaterialCommunityIcons\";import\"@silevis/reactgrid/styles.css\";import ReceiptPrint from\"../../components/ReceiptPrint\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var getDate=function getDate(receipt){if(receipt.date_created){var dateString=receipt.date_created;var newDate=new Date(dateString+\"Z\");var targetTimezone=Intl.DateTimeFormat().resolvedOptions().timeZone;var result=tz(newDate).tz(targetTimezone,true).format(\"YYYY-MM-DD HH:mm a\");return result;}else if(receipt.date){var _newDate=new Date(receipt.date.seconds*1000);var _targetTimezone=Intl.DateTimeFormat().resolvedOptions().timeZone;var _result=tz(_newDate).tz(_targetTimezone,true).format(\"YYYY-MM-DD HH:mm a\");return _result;}};var ViewTransactions=function ViewTransactions(_ref){var transList=_ref.transList,todaysDetails=_ref.todaysDetails;var today=new Date();var storeDetails=storeDetailState.use();var wooCredentials=woocommerceState.use();var _useWindowDimensions=useWindowDimensions(),width=_useWindowDimensions.width,height=_useWindowDimensions.height;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setsearch=_useState2[1];var getColumns=function getColumns(){return[{columnId:\"name\",width:150},{columnId:\"phone\",width:150},{columnId:\"address\",width:300},{columnId:\"orderFrom\",width:150},{columnId:\"method\",width:150},{columnId:\"cart\",width:150},{columnId:\"total\",width:150},{columnId:\"date\",width:300}];};var headerRow={rowId:\"header\",cells:[{type:\"header\",text:\"Name\",nonEditable:true},{type:\"header\",text:\"Phone #\",nonEditable:true},{type:\"header\",text:\"Address\",nonEditable:true},{type:\"header\",text:\"Order From\",nonEditable:true},{type:\"header\",text:\"Method\",nonEditable:true},{type:\"header\",text:\"ID\",nonEditable:true},{type:\"header\",text:\"Total\",nonEditable:true},{type:\"header\",text:\"Date\",nonEditable:true}]};var getRows=function getRows(){return[headerRow].concat(_toConsumableArray(transList.filter(function(fReceipt){var _fReceipt$customer$na,_fReceipt$customer$ph,_fReceipt$customer$ad,_fReceipt$customer$ad2,_fReceipt$cart_hash,_fReceipt$method,_fReceipt$transNum,_getDate,_fReceipt$shipping,_fReceipt$shipping$fi,_fReceipt$shipping2,_fReceipt$shipping2$l,_fReceipt$billing,_fReceipt$billing$pho,_fReceipt$shipping3,_fReceipt$shipping3$a,_fReceipt$shipping4,_fReceipt$shipping4$c,_fReceipt$shipping5,_fReceipt$shipping5$p,_fReceipt$shipping6,_fReceipt$shipping6$s;return!((search==null?void 0:search.length)>0&&!((_fReceipt$customer$na=fReceipt.customer.name)!=null&&_fReceipt$customer$na.includes(search))&&!((_fReceipt$customer$ph=fReceipt.customer.phone)!=null&&_fReceipt$customer$ph.includes(search))&&!((_fReceipt$customer$ad=fReceipt.customer.address)!=null&&(_fReceipt$customer$ad2=_fReceipt$customer$ad.label)!=null&&_fReceipt$customer$ad2.includes(search))&&!((_fReceipt$cart_hash=fReceipt.cart_hash)!=null&&_fReceipt$cart_hash.includes(search))&&!((_fReceipt$method=fReceipt.method)!=null&&_fReceipt$method.includes(search))&&!((_fReceipt$transNum=fReceipt.transNum)!=null&&_fReceipt$transNum.includes(search))&&!((_getDate=getDate(fReceipt))!=null&&_getDate.includes(search))&&!((_fReceipt$shipping=fReceipt.shipping)!=null&&(_fReceipt$shipping$fi=_fReceipt$shipping.first_name)!=null&&_fReceipt$shipping$fi.includes(search))&&!((_fReceipt$shipping2=fReceipt.shipping)!=null&&(_fReceipt$shipping2$l=_fReceipt$shipping2.last_name)!=null&&_fReceipt$shipping2$l.includes(search))&&!((_fReceipt$billing=fReceipt.billing)!=null&&(_fReceipt$billing$pho=_fReceipt$billing.phone)!=null&&_fReceipt$billing$pho.includes(search))&&!((_fReceipt$shipping3=fReceipt.shipping)!=null&&(_fReceipt$shipping3$a=_fReceipt$shipping3.address_1)!=null&&_fReceipt$shipping3$a.includes(search))&&!((_fReceipt$shipping4=fReceipt.shipping)!=null&&(_fReceipt$shipping4$c=_fReceipt$shipping4.city)!=null&&_fReceipt$shipping4$c.includes(search))&&!((_fReceipt$shipping5=fReceipt.shipping)!=null&&(_fReceipt$shipping5$p=_fReceipt$shipping5.postcode)!=null&&_fReceipt$shipping5$p.includes(search))&&!((_fReceipt$shipping6=fReceipt.shipping)!=null&&(_fReceipt$shipping6$s=_fReceipt$shipping6.state)!=null&&_fReceipt$shipping6$s.includes(search)));}).map(function(receipt,idx){if(receipt.cart_hash){return{rowId:idx,cells:[{type:\"text\",text:receipt.shipping.first_name+\" \"+receipt.shipping.last_name,nonEditable:true,style:{flex:1}},{type:\"text\",text:receipt.billing.phone,nonEditable:true,style:{flex:1}},{type:\"text\",text:receipt.shipping.address_1+receipt.shipping.city+receipt.shipping.postcode+receipt.shipping.state,nonEditable:true,style:{flex:1}},{type:\"text\",text:\"Online\",nonEditable:true,style:{flex:1}},{type:\"text\",text:receipt.shipping_lines[0].line.method_title,nonEditable:true,style:{flex:1}},{type:\"text\",text:receipt.transNum?receipt.transNum:\"\",nonEditable:true,style:{flex:1}},{type:\"text\",text:receipt.total,nonEditable:true,style:{flex:1}},{type:\"text\",text:getDate(receipt),nonEditable:true,style:{flex:1}}]};}else{var _receipt$customer,_receipt$customer$add,_receipt$customer2,_receipt$customer2$ad,_receipt$customer3,_receipt$customer4;return{rowId:idx,cells:[{type:\"text\",text:receipt.customer.name,nonEditable:true,style:{flex:1}},{type:\"text\",text:receipt.customer.phone?receipt.customer.phone:\"\",nonEditable:true,style:{flex:1}},{type:\"text\",text:(_receipt$customer=receipt.customer)!=null&&(_receipt$customer$add=_receipt$customer.address)!=null&&_receipt$customer$add.label?(_receipt$customer2=receipt.customer)==null?void 0:(_receipt$customer2$ad=_receipt$customer2.address)==null?void 0:_receipt$customer2$ad.label:(_receipt$customer3=receipt.customer)!=null&&_receipt$customer3.address?(_receipt$customer4=receipt.customer)==null?void 0:_receipt$customer4.address:\"\",nonEditable:true,style:{flex:1}},{type:\"text\",text:receipt.cart_hash?\"Online\":\"POS\",nonEditable:true,style:{flex:1}},{type:\"text\",text:receipt.method===\"deliveryOrder\"?\"Delivery\":\"Pickup\",nonEditable:true,style:{flex:1}},{type:\"text\",text:receipt.transNum?receipt.transNum:\"\",nonEditable:true,style:{flex:1}},{type:\"text\",text:receipt.total?\"$\"+receipt.total:\"\",nonEditable:true,style:{flex:1}},{type:\"text\",text:getDate(receipt),nonEditable:true,style:{flex:1}}]};}})));};var _useState3=useState(getRows()),_useState4=_slicedToArray(_useState3,2),rows=_useState4[0],setrows=_useState4[1];useEffect(function(){setrows(getRows());},[search,transList]);var columns=getColumns();var testRef=useRef(null);return _jsxs(View,{style:styles.container,children:[_jsxs(View,{style:{flexDirection:\"row\",width:\"100%\",alignItems:\"center\",justifyContent:\"space-between\"},children:[_jsx(TextInput,{placeholder:\"Enter term to search by (name, phone, address, method, id, date)\",onChangeText:function onChangeText(val){return setsearch(val);},value:search,style:{width:\"80%\",height:60,padding:10}}),_jsx(TouchableOpacity,{style:{backgroundColor:\"lightgrey\",width:\"20%\",height:60,justifyContent:\"center\",alignItems:\"center\"},onPress:function onPress(){if(testRef.current.state.selectedIds.length>0){var data=[];testRef.current.state.selectedIds.forEach(function(idx){var element=transList[idx];var formatedData=ReceiptPrint(element,storeDetails);data=data.concat(formatedData);});var qz=require(\"qz-tray\");qz.websocket.connect().then(function(){var config=qz.configs.create(storeDetails.comSelected);return qz.print(config,data);}).then(qz.websocket.disconnect).catch(function(err){console.error(err);});}else if(testRef.current.state.selectedRanges[0].rows[0]){var _data=[];var element=transList[testRef.current.state.selectedRanges[0].rows[0].rowId];var formatedData=ReceiptPrint(element,storeDetails);_data=_data.concat(formatedData);var _qz=require(\"qz-tray\");_qz.websocket.connect().then(function(){var config=_qz.configs.create(storeDetails.comSelected);return _qz.print(config,_data);}).then(_qz.websocket.disconnect).catch(function(err){console.error(err);});}else{alert(\"Higlight one or multiple receipt then click to print them\");}},children:_jsx(MaterialCommunityIcons,{name:\"printer\",size:32,color:\"white\"})})]}),_jsx(ScrollView,{contentContainerStyle:styles.contentContainer,children:_jsx(ScrollView,{contentContainerStyle:styles.contentContainer,horizontal:true,children:_jsx(ReactGrid,{ref:testRef,rows:rows,columns:columns,enableRowSelection:true})})})]});};export default ViewTransactions;var styles=StyleSheet.create({container:{backgroundColor:\"white\",flex:1,height:\"100%\",width:\"100%\"},contentContainer:{flex:1,height:\"100%\",width:\"100%\"}});","map":{"version":3,"names":["React","useEffect","useRef","useState","storeDetailState","woocommerceState","tz","require","ReactGrid","MaterialCommunityIcons","ReceiptPrint","getDate","receipt","date_created","dateString","newDate","Date","targetTimezone","Intl","DateTimeFormat","resolvedOptions","timeZone","result","format","date","seconds","ViewTransactions","transList","todaysDetails","today","storeDetails","use","wooCredentials","useWindowDimensions","width","height","search","setsearch","getColumns","columnId","headerRow","rowId","cells","type","text","nonEditable","getRows","filter","fReceipt","length","customer","name","includes","phone","address","label","cart_hash","method","transNum","shipping","first_name","last_name","billing","address_1","city","postcode","state","map","idx","style","flex","shipping_lines","line","method_title","total","rows","setrows","columns","testRef","styles","container","flexDirection","alignItems","justifyContent","val","padding","backgroundColor","current","selectedIds","data","forEach","element","formatedData","concat","qz","websocket","connect","then","config","configs","create","comSelected","print","disconnect","catch","err","console","error","selectedRanges","alert","contentContainer","StyleSheet"],"sources":["/Users/peterputros/Desktop/PosMate/screens/authed/ViewTransactions.tsx"],"sourcesContent":["import {\n  FlatList,\n  ScrollView,\n  StyleSheet,\n  TouchableOpacity,\n  useWindowDimensions,\n  View,\n  TextInput,\n} from \"react-native\";\nimport React, { useEffect, useLayoutEffect, useRef, useState } from \"react\";\nimport {\n  storeDetailState,\n  transListState,\n  woocommerceState,\n} from \"state/state\";\nimport { auth, db } from \"state/firebaseConfig\";\nconst tz = require(\"moment-timezone\");\nimport {\n  ReactGrid,\n  CellChange,\n  Row,\n  Column,\n  Id,\n  MenuOption,\n  SelectionMode,\n} from \"@silevis/reactgrid\";\nimport MaterialCommunityIcons from \"@expo/vector-icons/MaterialCommunityIcons\";\n\nimport \"@silevis/reactgrid/styles.css\";\nimport ReceiptPrint from \"components/ReceiptPrint\";\n\nconst getDate = (receipt) => {\n  if (receipt.date_created) {\n    const dateString = receipt.date_created;\n\n    const newDate = new Date(dateString + \"Z\");\n\n    const targetTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n    const result = tz(newDate)\n      .tz(targetTimezone, true)\n      .format(\"YYYY-MM-DD HH:mm a\");\n\n    return result;\n  } else if (receipt.date) {\n    const newDate = new Date(receipt.date.seconds * 1000);\n    const targetTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n    const result = tz(newDate)\n      .tz(targetTimezone, true)\n      .format(\"YYYY-MM-DD HH:mm a\");\n\n    return result;\n  }\n};\n\nconst ViewTransactions = ({ transList, todaysDetails }) => {\n  const today = new Date();\n  const storeDetails = storeDetailState.use();\n  const wooCredentials = woocommerceState.use();\n  // const [transList, settransList] = useState([]);\n  // const [todaysDetails, setTodaysDetails] = useState({\n  //   todaysReceiptValue: 0,\n  //   todaysReceipts: 0,\n  // });\n  const { width, height } = useWindowDimensions();\n  const [search, setsearch] = useState(null);\n\n  const getColumns = (): Column[] => [\n    { columnId: \"name\", width: 150 },\n    { columnId: \"phone\", width: 150 },\n    { columnId: \"address\", width: 300 },\n    { columnId: \"orderFrom\", width: 150 },\n    { columnId: \"method\", width: 150 },\n    { columnId: \"cart\", width: 150 },\n    { columnId: \"total\", width: 150 },\n    { columnId: \"date\", width: 300 },\n  ];\n\n  const headerRow: Row = {\n    rowId: \"header\",\n    cells: [\n      { type: \"header\", text: \"Name\", nonEditable: true },\n      { type: \"header\", text: \"Phone #\", nonEditable: true },\n      { type: \"header\", text: \"Address\", nonEditable: true },\n      { type: \"header\", text: \"Order From\", nonEditable: true },\n      { type: \"header\", text: \"Method\", nonEditable: true },\n      { type: \"header\", text: \"ID\", nonEditable: true },\n      { type: \"header\", text: \"Total\", nonEditable: true },\n      { type: \"header\", text: \"Date\", nonEditable: true },\n    ],\n  };\n\n  const getRows = () => [\n    headerRow,\n    ...transList\n      .filter(\n        (fReceipt) =>\n          !(\n            search?.length > 0 &&\n            !fReceipt.customer.name?.includes(search) &&\n            !fReceipt.customer.phone?.includes(search) &&\n            !fReceipt.customer.address?.label?.includes(search) &&\n            !fReceipt.cart_hash?.includes(search) &&\n            !fReceipt.method?.includes(search) &&\n            !fReceipt.transNum?.includes(search) &&\n            !getDate(fReceipt)?.includes(search) &&\n            !fReceipt.shipping?.first_name?.includes(search) &&\n            !fReceipt.shipping?.last_name?.includes(search) &&\n            !fReceipt.billing?.phone?.includes(search) &&\n            !fReceipt.shipping?.address_1?.includes(search) &&\n            !fReceipt.shipping?.city?.includes(search) &&\n            !fReceipt.shipping?.postcode?.includes(search) &&\n            !fReceipt.shipping?.state?.includes(search)\n          )\n      )\n      .map((receipt, idx) => {\n        if (receipt.cart_hash) {\n          return {\n            rowId: idx,\n            cells: [\n              {\n                type: \"text\",\n                text:\n                  receipt.shipping.first_name +\n                  \" \" +\n                  receipt.shipping.last_name,\n                nonEditable: true,\n                style: { flex: 1 },\n              },\n              {\n                type: \"text\",\n                text: receipt.billing.phone,\n                nonEditable: true,\n                style: { flex: 1 },\n              },\n              {\n                type: \"text\",\n                text:\n                  receipt.shipping.address_1 +\n                  receipt.shipping.city +\n                  receipt.shipping.postcode +\n                  receipt.shipping.state,\n                nonEditable: true,\n                style: { flex: 1 },\n              },\n              {\n                type: \"text\",\n                text: \"Online\",\n                nonEditable: true,\n                style: { flex: 1 },\n              },\n              {\n                type: \"text\",\n                text: receipt.shipping_lines[0].line.method_title,\n                nonEditable: true,\n                style: { flex: 1 },\n              },\n              {\n                type: \"text\",\n                text: receipt.transNum ? receipt.transNum : \"\",\n                nonEditable: true,\n                style: { flex: 1 },\n              },\n              {\n                type: \"text\",\n                text: receipt.total,\n                nonEditable: true,\n                style: { flex: 1 },\n              },\n              {\n                type: \"text\",\n                text: getDate(receipt),\n                nonEditable: true,\n                style: { flex: 1 },\n              },\n            ],\n          };\n        } else {\n          return {\n            rowId: idx,\n            cells: [\n              {\n                type: \"text\",\n                text: receipt.customer.name,\n                nonEditable: true,\n                style: { flex: 1 },\n              },\n              {\n                type: \"text\",\n                text: receipt.customer.phone ? receipt.customer.phone : \"\",\n                nonEditable: true,\n                style: { flex: 1 },\n              },\n              {\n                type: \"text\",\n                text: receipt.customer?.address?.label\n                  ? receipt.customer?.address?.label\n                  : receipt.customer?.address\n                  ? receipt.customer?.address\n                  : \"\",\n                nonEditable: true,\n                style: { flex: 1 },\n              },\n              {\n                type: \"text\",\n                text: receipt.cart_hash ? \"Online\" : \"POS\",\n                nonEditable: true,\n                style: { flex: 1 },\n              },\n              {\n                type: \"text\",\n                text:\n                  receipt.method === \"deliveryOrder\" ? \"Delivery\" : \"Pickup\",\n                nonEditable: true,\n                style: { flex: 1 },\n              },\n              {\n                type: \"text\",\n                text: receipt.transNum ? receipt.transNum : \"\",\n                nonEditable: true,\n                style: { flex: 1 },\n              },\n              {\n                type: \"text\",\n                text: receipt.total ? \"$\" + receipt.total : \"\",\n                nonEditable: true,\n                style: { flex: 1 },\n              },\n              {\n                type: \"text\",\n                text: getDate(receipt),\n                nonEditable: true,\n                style: { flex: 1 },\n              },\n            ],\n          };\n        }\n      }),\n  ];\n\n  ///\n\n  const [rows, setrows] = useState(getRows());\n\n  useEffect(() => {\n    setrows(getRows());\n  }, [search, transList]);\n\n  const columns = getColumns();\n\n  const testRef = useRef(null);\n\n  ///\n\n  // useEffect(() => {\n  //   try {\n  //     db.collection(\"users\")\n  //       .doc(auth.currentUser?.uid)\n  //       .collection(\"transList\")\n  //       .get()\n  //       .then((querySnapshot) => {\n  //         querySnapshot.forEach((doc) => {\n  //           // doc.data() is never undefined for query doc snapshots\n  //           // console.log(doc.id, \" => \", doc.data());\n  //           settransList((prevState) => [...prevState, doc.data()]);\n  //           console.log(doc.data());\n  //         });\n  //       });\n  //   } catch {\n  //     console.log(\"Error occured retrieving tranasctions\");\n  //   }\n\n  //   if (wooCredentials.useWoocommerce === true) {\n  //     try {\n  //       const WooCommerceAPI = require(\"woocommerce-api\");\n\n  //       const WooCommerce = new WooCommerceAPI({\n  //         url: wooCredentials.apiUrl,\n  //         consumerKey: wooCredentials.ck,\n  //         consumerSecret: wooCredentials.cs,\n  //         wpAPI: true,\n  //         version: \"wc/v1\",\n  //       });\n\n  //       let page = 1;\n  //       let orders = [];\n\n  //       const getOrders = async () => {\n  //         const response = await WooCommerce.getAsync(\n  //           `orders?page=${page}&per_page=100`\n  //         );\n  //         const data = JSON.parse(response.body);\n  //         orders = [...orders, ...data];\n  //         if (data.length === 100) {\n  //           page++;\n  //           getOrders();\n  //         } else {\n  //           // console.log(orders);\n  //         }\n  //       };\n\n  //       getOrders()\n  //         .then(() => settransList((prevState) => [...prevState, ...orders]))\n  //         .catch((e) => console.log(\"error has occured\"));\n  //     } catch {\n  //       console.log(\"Something occured with woo\");\n  //     }\n  //   }\n  // }, []);\n\n  // useEffect(() => {\n  //   try {\n  //     if (transList.length > 0) {\n  //       settransList((prev) =>\n  //         prev\n  //           .sort(function (a, b) {\n  //             if (a.date && b.date) {\n  //               return a.date.seconds - b.date.seconds;\n  //             } else if (a.date && b.date_created) {\n  //               const targetTimezone =\n  //                 Intl.DateTimeFormat().resolvedOptions().timeZone;\n  //               const newDateA = new Date(a.date.seconds * 1000);\n  //               const newDateB = new Date(b.date_created + \"Z\");\n  //               const resultA = tz(newDateA).tz(targetTimezone, true);\n  //               const resultB = tz(newDateB).tz(targetTimezone, true);\n\n  //               return resultA.valueOf() - resultB.valueOf();\n  //             } else if (a.date_created && b.date) {\n  //               const targetTimezone =\n  //                 Intl.DateTimeFormat().resolvedOptions().timeZone;\n  //               const newDateA = new Date(a.date_created + \"Z\");\n  //               const newDateB = new Date(b.date.seconds * 1000);\n  //               const resultA = tz(newDateA).tz(targetTimezone, true);\n  //               const resultB = tz(newDateB).tz(targetTimezone, true);\n\n  //               return resultA.valueOf() - resultB.valueOf();\n  //             } else {\n  //               const targetTimezone =\n  //                 Intl.DateTimeFormat().resolvedOptions().timeZone;\n  //               const newDateA = new Date(a.date_created + \"Z\");\n  //               const newDateB = new Date(b.date_created + \"Z\");\n  //               const resultA = tz(newDateA).tz(targetTimezone, true);\n  //               const resultB = tz(newDateB).tz(targetTimezone, true);\n\n  //               return resultA.valueOf() - resultB.valueOf();\n  //             }\n  //           })\n  //           .reverse()\n  //       );\n  //       // settransList(sortedTransList);\n  //       const todaysReceiptValue = transList.reduce((accumulator, current) => {\n  //         let date;\n  //         const targetTimezone =\n  //           Intl.DateTimeFormat().resolvedOptions().timeZone;\n  //         if (current.date) {\n  //           const localDatePreConv = new Date(current.date.seconds * 1000);\n  //           date = tz(localDatePreConv).tz(targetTimezone, true);\n  //         } else {\n  //           const localDatePreConv = new Date(current.date_created + \"Z\");\n  //           date = tz(localDatePreConv).tz(targetTimezone, true);\n  //         }\n  //         // Get the current date in the desired time zone\n  //         let today = tz().tz(targetTimezone);\n\n  //         if (\n  //           today.year() === date.year() &&\n  //           today.month() === date.month() &&\n  //           today.dayOfYear() === date.dayOfYear()\n  //         ) {\n  //           return (\n  //             accumulator +\n  //             parseFloat(current.date ? current.total : current.total / 1.13)\n  //           );\n  //         } else {\n  //           return accumulator;\n  //         }\n  //       }, 0);\n  //       const todaysReceipts = transList.reduce((accumulator, current) => {\n  //         let date;\n  //         const targetTimezone =\n  //           Intl.DateTimeFormat().resolvedOptions().timeZone;\n  //         if (current.date) {\n  //           const localDatePreConv = new Date(current.date.seconds * 1000);\n  //           date = tz(localDatePreConv).tz(targetTimezone, true);\n  //         } else {\n  //           const localDatePreConv = new Date(current.date_created + \"Z\");\n  //           date = tz(localDatePreConv).tz(targetTimezone, true);\n  //         }\n  //         // Get the current date in the desired time zone\n  //         let today = tz().tz(targetTimezone);\n\n  //         if (\n  //           today.year() === date.year() &&\n  //           today.month() === date.month() &&\n  //           today.dayOfYear() === date.dayOfYear()\n  //         ) {\n  //           return accumulator + 1;\n  //         } else {\n  //           return accumulator;\n  //         }\n  //       }, 0);\n  //       setTodaysDetails({\n  //         todaysReceiptValue: todaysReceiptValue.toFixed(2),\n  //         todaysReceipts: todaysReceipts,\n  //       });\n  //     }\n  //   } catch {\n  //     console.log(\"Error Occured when sorting dates\");\n  //   }\n  // }, [transList]);\n\n  // const PrintTodaysTotal = () => {\n  //   let data = [\n  //     \"\\x1B\" + \"\\x40\", // init\n  //     \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n  //     storeDetails.name,\n  //     \"\\x0A\",\n  //     storeDetails.address?.label + \"\\x0A\",\n  //     storeDetails.website + \"\\x0A\", // text and line break\n  //     storeDetails.phoneNumber + \"\\x0A\", // text and line break\n  //     today.toLocaleDateString() + \" \" + today.toLocaleTimeString() + \"\\x0A\",\n  //     \"\\x0A\",\n  //     \"\\x0A\",\n  //     \"\\x0A\",\n  //     \"\\x0A\",\n  //     \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\n  //     \"\\x0A\" + \"\\x0A\",\n  //     \"Number Of Receipts: \" + todaysDetails.todaysReceipts + \"\\x0A\" + \"\\x0A\",\n  //     \"Sub-Total: \" +\n  //       \"$\" +\n  //       (todaysDetails.todaysReceiptValue / 1.13).toFixed(2) +\n  //       \"\\x0A\" +\n  //       \"\\x0A\",\n  //     \"Tax: \" +\n  //       \"$\" +\n  //       ((todaysDetails.todaysReceiptValue / 1.13) * 0.13).toFixed(2) +\n  //       \"\\x0A\" +\n  //       \"\\x0A\",\n  //     \"Total Including (13% Tax): \" +\n  //       \"$\" +\n  //       todaysDetails.todaysReceiptValue +\n  //       \"\\x0A\" +\n  //       \"\\x0A\",\n  //     \"------------------------------------------\" + \"\\x0A\",\n  //     \"\\x0A\", // line break\n  //     \"\\x0A\", // line break\n  //     \"\\x0A\", // line break\n  //     \"\\x0A\", // line break\n  //     \"\\x0A\", // line break\n  //     \"\\x0A\", // line break\n  //     \"\\x1D\" + \"\\x56\" + \"\\x30\",\n  //   ];\n\n  //   const qz = require(\"qz-tray\");\n  //   qz.websocket\n  //     .connect()\n  //     .then(function () {\n  //       let config = qz.configs.create(storeDetails.comSelected);\n  //       return qz.print(config, data);\n  //     })\n  //     .then(qz.websocket.disconnect)\n  //     .catch(function (err) {\n  //       console.error(err);\n  //     });\n  // };\n\n  // useEffect(() => {\n  //   if(transList.length > )\n  // }, [search])\n\n  return (\n    <View style={styles.container}>\n      {/* <Text style={{ textAlign: \"center\", margin: 25 }}>\n        List Of Transactions\n      </Text>\n      <View\n        style={{\n          flexDirection: \"row\",\n          width: \"100%\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <Text style={{ textAlign: \"center\", margin: 25 }}>\n          Todays Total Price: {todaysDetails.todaysReceiptValue}\n        </Text>\n        <Button\n          style={{ height: 40, alignItems: \"center\", justifyContent: \"center\" }}\n          title=\"Print Todays Receipts\"\n          onPress={PrintTodaysTotal}\n        />\n        <Text style={{ textAlign: \"center\", margin: 25 }}>\n          Todays Total Receipts: {todaysDetails.todaysReceipts}\n        </Text>\n      </View> */}\n      <View\n        style={{\n          flexDirection: \"row\",\n          width: \"100%\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n        }}\n      >\n        <TextInput\n          placeholder=\"Enter term to search by (name, phone, address, method, id, date)\"\n          onChangeText={(val) => setsearch(val)}\n          value={search}\n          style={{ width: \"80%\", height: 60, padding: 10 }}\n        />\n        <TouchableOpacity\n          style={{\n            backgroundColor: \"lightgrey\",\n            width: \"20%\",\n            height: 60,\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n          onPress={() => {\n            if (testRef.current.state.selectedIds.length > 0) {\n              let data = [];\n              testRef.current.state.selectedIds.forEach((idx) => {\n                const element = transList[idx];\n                const formatedData = ReceiptPrint(element, storeDetails);\n                data = data.concat(formatedData);\n              });\n              const qz = require(\"qz-tray\");\n              qz.websocket\n                .connect()\n                .then(function () {\n                  let config = qz.configs.create(storeDetails.comSelected);\n                  return qz.print(config, data);\n                })\n                .then(qz.websocket.disconnect)\n                .catch(function (err) {\n                  console.error(err);\n                });\n            } else if (testRef.current.state.selectedRanges[0].rows[0]) {\n              let data = [];\n              const element =\n                transList[\n                  testRef.current.state.selectedRanges[0].rows[0].rowId\n                ];\n\n              const formatedData = ReceiptPrint(element, storeDetails);\n              data = data.concat(formatedData);\n\n              const qz = require(\"qz-tray\");\n              qz.websocket\n                .connect()\n                .then(function () {\n                  let config = qz.configs.create(storeDetails.comSelected);\n                  return qz.print(config, data);\n                })\n                .then(qz.websocket.disconnect)\n                .catch(function (err) {\n                  console.error(err);\n                });\n            } else {\n              alert(\n                \"Higlight one or multiple receipt then click to print them\"\n              );\n            }\n          }}\n        >\n          <MaterialCommunityIcons name=\"printer\" size={32} color=\"white\" />\n        </TouchableOpacity>\n      </View>\n      <ScrollView contentContainerStyle={styles.contentContainer}>\n        <ScrollView contentContainerStyle={styles.contentContainer} horizontal>\n          <ReactGrid\n            ref={testRef}\n            rows={rows}\n            columns={columns}\n            enableRowSelection={true}\n          />\n        </ScrollView>\n      </ScrollView>\n    </View>\n  );\n};\n\nexport default ViewTransactions;\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"white\",\n    flex: 1,\n    height: \"100%\",\n    width: \"100%\",\n  },\n  contentContainer: {\n    flex: 1,\n    // justifyContent: \"space-between\",\n    // paddingLeft: 50,\n    // paddingRight: 50,\n    // paddingBottom: 50,\n    // padding: 50,\n    height: \"100%\",\n    width: \"100%\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}