{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import React,{useEffect,useRef,useState}from'react';import{Upload}from\"../../EntryFile/imagePath\";import Select2 from'react-select2-wrapper';import'react-select2-wrapper/css/select2.css';import{employeesState,setEmployeesState,setUserStoreState,userState,userStoreState}from\"../../../../../state/state\";import{updateData}from\"../../../../../state/firebaseFunctions\";import FlatList from\"react-native-web/dist/exports/FlatList\";import Image from\"react-native-web/dist/exports/Image\";import Modal from\"react-native-web/dist/exports/Modal\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import View from\"react-native-web/dist/exports/View\";import OptionView from\"../../../../../components/product/OptionView\";import Button from\"react-native-web/dist/exports/Button\";import{Link,useHistory}from'react-router-dom';import{auth,db,storage}from\"../../../../../state/firebaseConfig\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AddEmployee=function AddEmployee(){var _useState=useState({name:\"\",id:Math.random().toString(36).substr(2,9)}),_useState2=_slicedToArray(_useState,2),employee=_useState2[0],setemployee=_useState2[1];var history=useHistory();var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],seterror=_useState4[1];var employees=employeesState.use();function handleDataUpdate(){if(!employee.name){seterror('Please enter a employee name');return;}db.collection(\"users\").doc(auth.currentUser.uid).collection(\"employees\").doc(employee.id.toString()).set(employee);setEmployeesState([].concat(_toConsumableArray(employees),[employee]));history.push(\"/authed/report/employeesreport\");}return _jsx(_Fragment,{children:_jsx(\"div\",{className:\"page-wrapper\",children:_jsxs(\"div\",{className:\"content\",children:[_jsx(\"div\",{className:\"page-header\",children:_jsxs(\"div\",{className:\"page-title\",children:[_jsx(\"h4\",{children:\"Employee Add\"}),_jsx(\"h6\",{children:\"Create new employee\"})]})}),_jsx(\"div\",{className:\"card\",children:_jsx(\"div\",{className:\"card-body\",children:_jsxs(\"div\",{className:\"row\",children:[_jsx(\"div\",{className:\"col-lg-3 col-sm-6 col-12\",children:_jsxs(\"div\",{className:\"form-group\",children:[_jsx(\"label\",{children:\"Employee Name\"}),_jsx(\"input\",{type:\"text\",placeholder:\"Employee Name\",onChange:function onChange(event){return setemployee(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{name:event.target.value});});}})]})}),_jsxs(\"div\",{className:\"col-lg-12\",children:[_jsx(\"button\",{className:\"btn btn-submit me-2\",onClick:handleDataUpdate,children:\"Add\"}),_jsx(Link,{style:{textDecoration:'none'},to:\"/authed/report/employeesreport\",className:\"btn btn-cancel\",children:\"Cancel\"})]})]})})}),_jsx(Modal,{visible:error,transparent:true,children:_jsx(TouchableOpacity,{onPress:function onPress(){return seterror(false);},style:{height:\"100%\",width:\"100%\",justifyContent:\"center\",alignItems:\"center\",padding:\"20%\",backgroundColor:\"rgba(0,0,0,0.5)\"},children:_jsx(\"div\",{\"data-wf-user-form-error\":\"true\",className:\" error-message \",children:_jsx(\"div\",{className:\"user-form-error-msg\",children:error})})})})]})})});};export default AddEmployee;","map":{"version":3,"names":["React","useEffect","useRef","useState","Upload","Select2","employeesState","setEmployeesState","setUserStoreState","userState","userStoreState","updateData","OptionView","Link","useHistory","auth","db","storage","AddEmployee","name","id","Math","random","toString","substr","employee","setemployee","history","error","seterror","employees","use","handleDataUpdate","collection","doc","currentUser","uid","set","push","event","prevState","target","value","textDecoration","height","width","justifyContent","alignItems","padding","backgroundColor"],"sources":["/Users/peterputros/Desktop/PosMate/pages/authed/main/MainPage/report/AddEmployee.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\nimport { Upload } from '../../EntryFile/imagePath';\nimport Select2 from 'react-select2-wrapper';\nimport 'react-select2-wrapper/css/select2.css';\nimport { employeesState, setEmployeesState, setUserStoreState, userState, userStoreState } from 'state/state';\nimport { updateData } from 'state/firebaseFunctions';\nimport { FlatList, Image, Modal, TouchableOpacity, View } from 'react-native';\nimport OptionView from 'components/product/OptionView';\nimport { Button } from 'react-native';\nimport { Link, useHistory } from 'react-router-dom';\nimport { auth, db, storage } from 'state/firebaseConfig';\n\nconst AddEmployee = () => {\n    const [employee, setemployee] = useState(\n        {\n            name: \"\",\n            id: Math.random().toString(36).substr(2, 9),\n        }\n    );\n\n    const history = useHistory();\n    const [error, seterror] = useState(false)\n    const employees = employeesState.use()\n\n    function handleDataUpdate() {\n        // if (!newProduct.name) {\n        //     seterror('Please enter a product name')\n        //     return\n        // }\n        // if (!newProduct.category) {\n        //     seterror('Please select a category')\n        //     return\n        // }\n        // if (!newProduct.price) {\n        //     seterror('Please enter a price')\n        //     return\n        // }\n\n        // if (selectedFile) {\n        //     storage\n        //         .ref(auth.currentUser.uid + '/images/' + newProduct.id)\n        //         .put(selectedFile);\n\n        //     newProduct.hasImage = true\n        // }\n\n        // db.collection(\"users\")\n        //     .doc(userS.uid)\n        //     .collection(\"products\")\n        //     .doc(newProduct.id.toString())\n        //     .set(newProduct)\n        // setUserStoreState({ categories: catalog.categories, products: [...catalog.products, newProduct] })\n        // history.push(\"/authed/product/productlist-product\");\n\n        if (!employee.name) {\n            seterror('Please enter a employee name')\n            return\n        }\n        db.collection(\"users\").doc(auth.currentUser.uid).collection(\"employees\").doc(employee.id.toString()).set(employee)\n        setEmployeesState([...employees, employee])\n        history.push(\"/authed/report/employeesreport\")\n    }\n\n    return (\n        <>\n            <div className=\"page-wrapper\">\n                <div className=\"content\">\n                    <div className=\"page-header\">\n                        <div className=\"page-title\">\n                            <h4>Employee Add</h4>\n                            <h6>Create new employee</h6>\n                        </div>\n                    </div>\n                    {/* /add */}\n                    <div className=\"card\">\n                        <div className=\"card-body\">\n                            <div className=\"row\">\n                                <div className=\"col-lg-3 col-sm-6 col-12\">\n                                    <div className=\"form-group\">\n                                        <label>Employee Name</label>\n                                        <input type=\"text\" placeholder=\"Employee Name\" onChange={(event) => setemployee((prevState) => ({\n                                            ...prevState,\n                                            name: event.target.value,\n                                        }))} />\n                                    </div>\n                                </div>\n                                <div className=\"col-lg-12\">\n                                    <button className=\"btn btn-submit me-2\" onClick={handleDataUpdate}>\n                                        Add\n                                    </button>\n                                    <Link style={{ textDecoration: 'none' }} to=\"/authed/report/employeesreport\" className=\"btn btn-cancel\">\n                                        Cancel\n                                    </Link>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <Modal visible={error} transparent={true}>\n                        <TouchableOpacity\n                            onPress={() => seterror(false)}\n                            style={{\n                                height: \"100%\",\n                                width: \"100%\",\n                                justifyContent: \"center\",\n                                alignItems: \"center\",\n                                padding: \"20%\",\n                                backgroundColor: \"rgba(0,0,0,0.5)\",\n                            }}\n                        >\n                            <div\n                                data-wf-user-form-error=\"true\"\n                                className=\" error-message \"\n                            >\n                                <div className=\"user-form-error-msg\">\n                                    {error}\n                                </div>\n                            </div>\n                        </TouchableOpacity>\n                    </Modal>\n                    {/* /add */}\n                </div>\n            </div>\n        </>\n    )\n}\nexport default AddEmployee;"],"mappings":"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"},"metadata":{},"sourceType":"module"}