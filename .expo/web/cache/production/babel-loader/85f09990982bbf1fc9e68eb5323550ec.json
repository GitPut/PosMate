{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState}from'react';import{Upload}from\"../../EntryFile/imagePath\";import{onlineStoreState,userStoreState}from\"../../../../../state/state\";import{auth,db}from\"../../../../../state/firebaseConfig\";import{Link,useHistory}from'react-router-dom';import firebase from\"firebase/app\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AddCategory=function AddCategory(){var catalog=userStoreState.use();var onlineStoreDetails=onlineStoreState.use();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setname=_useState2[1];var history=useHistory();function AddToDb(){db.collection(\"users\").doc(auth.currentUser.uid).update({categories:firebase.firestore.FieldValue.arrayUnion(name)});if(onlineStoreDetails.onlineStoreSetUp){db.collection(\"public\").doc(auth.currentUser.uid).update({categories:firebase.firestore.FieldValue.arrayUnion(name)});}history.push(\"/authed/product/categorylist-product\");}return _jsx(_Fragment,{children:_jsx(\"div\",{className:\"page-wrapper\",children:_jsxs(\"div\",{className:\"content\",children:[_jsx(\"div\",{className:\"page-header\",children:_jsxs(\"div\",{className:\"page-title\",children:[_jsx(\"h4\",{children:\"Product Add Category\"}),_jsx(\"h6\",{children:\"Create new product Category\"})]})}),_jsx(\"div\",{className:\"card\",children:_jsx(\"div\",{className:\"card-body\",children:_jsxs(\"div\",{className:\"row\",children:[_jsx(\"div\",{className:\"col-lg-6 col-sm-6 col-12\",children:_jsxs(\"div\",{className:\"form-group\",children:[_jsx(\"label\",{children:\"Category Name\"}),_jsx(\"input\",{type:\"text\",onChange:function onChange(event){return setname(event.target.value);}})]})}),_jsx(\"div\",{className:\"col-lg-6 col-sm-6 col-12\",children:_jsxs(\"div\",{className:\"form-group\",children:[_jsx(\"label\",{children:\"Category Code\"}),_jsx(\"input\",{type:\"text\",value:\"\"+catalog.categories.length})]})}),_jsxs(\"div\",{className:\"col-lg-12\",children:[_jsx(\"button\",{className:\"btn btn-submit me-2\",onClick:AddToDb,children:\"Add\"}),_jsx(Link,{style:{textDecoration:'none'},to:\"/authed/product/categorylist-product\",className:\"btn btn-cancel\",children:\"Cancel\"})]})]})})})]})})});};export default AddCategory;","map":{"version":3,"names":["React","useState","Upload","onlineStoreState","userStoreState","auth","db","Link","useHistory","firebase","AddCategory","catalog","use","onlineStoreDetails","name","setname","history","AddToDb","collection","doc","currentUser","uid","update","categories","firestore","FieldValue","arrayUnion","onlineStoreSetUp","push","event","target","value","length","textDecoration"],"sources":["/Users/peterputros/Desktop/PosMate/pages/authed/main/MainPage/Product/AddCategory.jsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { Upload } from '../../EntryFile/imagePath';\nimport { onlineStoreState, userStoreState } from 'state/state';\nimport { auth, db } from 'state/firebaseConfig';\nimport { Link, useHistory } from 'react-router-dom';\nimport firebase from \"firebase/app\";\n\nconst AddCategory = () => {\n    const catalog = userStoreState.use();\n    const onlineStoreDetails = onlineStoreState.use()\n\n    const [name, setname] = useState(\"\");\n    const history = useHistory();\n\n    function AddToDb() {\n        db.collection(\"users\")\n            .doc(auth.currentUser.uid)\n            .update({\n                categories: firebase.firestore.FieldValue.arrayUnion(name),\n            })\n        if (onlineStoreDetails.onlineStoreSetUp) {\n            db.collection(\"public\")\n                .doc(auth.currentUser.uid)\n                .update({\n                    categories: firebase.firestore.FieldValue.arrayUnion(name),\n                })\n        }\n        history.push(\"/authed/product/categorylist-product\");\n    }\n\n    return (\n        <>\n            <div className=\"page-wrapper\">\n                <div className=\"content\">\n                    <div className=\"page-header\">\n                        <div className=\"page-title\">\n                            <h4>Product Add Category</h4>\n                            <h6>Create new product Category</h6>\n                        </div>\n                    </div>\n                    {/* /add */}\n                    <div className=\"card\">\n                        <div className=\"card-body\">\n                            <div className=\"row\">\n                                <div className=\"col-lg-6 col-sm-6 col-12\">\n                                    <div className=\"form-group\">\n                                        <label>Category Name</label>\n                                        <input type=\"text\" onChange={(event) => setname(event.target.value)} />\n                                    </div>\n                                </div>\n                                <div className=\"col-lg-6 col-sm-6 col-12\">\n                                    <div className=\"form-group\">\n                                        <label>Category Code</label>\n                                        <input type=\"text\" value={`${catalog.categories.length}`} />\n                                    </div>\n                                </div>\n                                <div className=\"col-lg-12\">\n                                    <button className=\"btn btn-submit me-2\" onClick={AddToDb}>\n                                        Add\n                                    </button>\n                                    <Link style={{ textDecoration: 'none' }} to=\"/authed/product/categorylist-product\" className=\"btn btn-cancel\">\n                                        Cancel\n                                    </Link>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    {/* /add */}\n                </div>\n            </div>\n\n        </>\n    )\n}\n\nexport default AddCategory;"],"mappings":"iEAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,MAAM,iCACf,OAASC,gBAAgB,CAAEC,cAAc,kCACzC,OAASC,IAAI,CAAEC,EAAE,2CACjB,OAASC,IAAI,CAAEC,UAAU,KAAQ,kBAAkB,CACnD,MAAOC,SAAQ,KAAM,cAAc,CAAC,6IAEpC,GAAMC,YAAW,CAAG,QAAdA,YAAW,EAAS,CACtB,GAAMC,QAAO,CAAGP,cAAc,CAACQ,GAAG,EAAE,CACpC,GAAMC,mBAAkB,CAAGV,gBAAgB,CAACS,GAAG,EAAE,CAEjD,cAAwBX,QAAQ,CAAC,EAAE,CAAC,wCAA7Ba,IAAI,eAAEC,OAAO,eACpB,GAAMC,QAAO,CAAGR,UAAU,EAAE,CAE5B,QAASS,QAAO,EAAG,CACfX,EAAE,CAACY,UAAU,CAAC,OAAO,CAAC,CACjBC,GAAG,CAACd,IAAI,CAACe,WAAW,CAACC,GAAG,CAAC,CACzBC,MAAM,CAAC,CACJC,UAAU,CAAEd,QAAQ,CAACe,SAAS,CAACC,UAAU,CAACC,UAAU,CAACZ,IAAI,CAC7D,CAAC,CAAC,CACN,GAAID,kBAAkB,CAACc,gBAAgB,CAAE,CACrCrB,EAAE,CAACY,UAAU,CAAC,QAAQ,CAAC,CAClBC,GAAG,CAACd,IAAI,CAACe,WAAW,CAACC,GAAG,CAAC,CACzBC,MAAM,CAAC,CACJC,UAAU,CAAEd,QAAQ,CAACe,SAAS,CAACC,UAAU,CAACC,UAAU,CAACZ,IAAI,CAC7D,CAAC,CAAC,CACV,CACAE,OAAO,CAACY,IAAI,CAAC,sCAAsC,CAAC,CACxD,CAEA,MACI,0BACI,YAAK,SAAS,CAAC,cAAc,UACzB,aAAK,SAAS,CAAC,SAAS,WACpB,YAAK,SAAS,CAAC,aAAa,UACxB,aAAK,SAAS,CAAC,YAAY,WACvB,oBAAI,sBAAoB,EAAK,CAC7B,oBAAI,6BAA2B,EAAK,GAClC,EACJ,CAEN,YAAK,SAAS,CAAC,MAAM,UACjB,YAAK,SAAS,CAAC,WAAW,UACtB,aAAK,SAAS,CAAC,KAAK,WAChB,YAAK,SAAS,CAAC,0BAA0B,UACrC,aAAK,SAAS,CAAC,YAAY,WACvB,uBAAO,eAAa,EAAQ,CAC5B,cAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAE,kBAACC,KAAK,QAAKd,QAAO,CAACc,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,EAAG,GACrE,EACJ,CACN,YAAK,SAAS,CAAC,0BAA0B,UACrC,aAAK,SAAS,CAAC,YAAY,WACvB,uBAAO,eAAa,EAAQ,CAC5B,cAAO,IAAI,CAAC,MAAM,CAAC,KAAK,IAAKpB,OAAO,CAACY,UAAU,CAACS,MAAS,EAAG,GAC1D,EACJ,CACN,aAAK,SAAS,CAAC,WAAW,WACtB,eAAQ,SAAS,CAAC,qBAAqB,CAAC,OAAO,CAAEf,OAAQ,UAAC,KAE1D,EAAS,CACT,KAAC,IAAI,EAAC,KAAK,CAAE,CAAEgB,cAAc,CAAE,MAAO,CAAE,CAAC,EAAE,CAAC,sCAAsC,CAAC,SAAS,CAAC,gBAAgB,UAAC,QAE9G,EAAO,GACL,GACJ,EACJ,EACJ,GAEJ,EACJ,EAEP,CAEX,CAAC,CAED,cAAevB,YAAW"},"metadata":{},"sourceType":"module"}