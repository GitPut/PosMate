{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import View from\"react-native-web/dist/exports/View\";import React from\"react\";import{userStoreState}from\"../state/state\";import{Button}from\"@react-native-material/core\";import{updateData}from\"../state/firebaseFunctions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditProductList=function EditProductList(_ref){var navigation=_ref.navigation;var catalog=userStoreState.use();function handleRemoveCatagory(index){var localCatalog=structuredClone(catalog);localCatalog.products.splice(index,1);updateData(localCatalog.categories,localCatalog.products);}return _jsxs(ScrollView,{style:{padding:25},children:[_jsx(Text,{style:{fontSize:17,fontWeight:\"600\"},children:\"Current Products\"}),catalog.categories.length>0?catalog.products.map(function(e,index){return _jsxs(View,{style:{flexDirection:\"row\",justifyContent:\"space-between\",padding:15,margin:10,backgroundColor:\"lightgrey\"},children:[_jsxs(Text,{style:{fontSize:17},children:[\"Product: \",e.name]}),_jsxs(View,{style:{flexDirection:\"row\",alignItems:\"center\",justifyContent:\"space-between\",width:\"20%\"},children:[_jsx(Button,{title:\"Duplicate\",onPress:function onPress(){var copy=structuredClone(e);copy.name=copy.name+\" Copy\";updateData(_toConsumableArray(catalog.categories),[].concat(_toConsumableArray(catalog.products),[copy]));},style:{margin:10}}),_jsx(Button,{title:\"Edit\",onPress:function onPress(){return navigation.navigate(\"AddProduct\",{existingProduct:e,existingProductIndex:index});},style:{margin:10}}),_jsx(TouchableOpacity,{onPress:function onPress(){return handleRemoveCatagory(index);},style:{justifyContent:\"center\",alignItems:\"center\",borderRadius:3,backgroundColor:\"red\",padding:10,margin:10},children:_jsx(Text,{style:{color:\"white\",fontWeight:\"600\",fontSize:18},children:\"X\"})})]})]});}):_jsx(Text,{style:{marginTop:50,marginBottom:50},children:\"You must add a category before you can add a product...\"}),catalog.products.length<1&&catalog.categories.length>0&&_jsx(Text,{style:{marginTop:50,marginBottom:50},children:\"You have no products...\"}),_jsx(Button,{title:\"Add New Product\",onPress:function onPress(){return navigation.navigate(\"AddProduct\");},style:{margin:10},disabled:catalog.categories.length<1})]});};export default EditProductList;var styles=StyleSheet.create({});","map":{"version":3,"names":["React","userStoreState","Button","updateData","EditProductList","navigation","catalog","use","handleRemoveCatagory","index","localCatalog","structuredClone","products","splice","categories","padding","fontSize","fontWeight","length","map","e","flexDirection","justifyContent","margin","backgroundColor","name","alignItems","width","copy","navigate","existingProduct","existingProductIndex","borderRadius","color","marginTop","marginBottom","styles","StyleSheet","create"],"sources":["/Users/peterputros/Desktop/PosMate/components/EditProductList.tsx"],"sourcesContent":["import {\n  Modal,\n  ScrollView,\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  View,\n} from \"react-native\";\nimport React, { useEffect, useState } from \"react\";\nimport { userStoreState } from \"state/state\";\nimport { Button, TextInput } from \"@react-native-material/core\";\nimport TestAdd from \"./TestAdd\";\nimport Spinner from \"./Spinner\";\nimport { updateData } from \"state/firebaseFunctions\";\n\nconst EditProductList = ({ navigation }) => {\n  const catalog = userStoreState.use();\n\n  function handleRemoveCatagory(index) {\n    const localCatalog = structuredClone(catalog);\n    localCatalog.products.splice(index, 1);\n\n    updateData(localCatalog.categories, localCatalog.products);\n    // setisModalVisible(true);\n  }\n\n  return (\n    <ScrollView style={{ padding: 25 }}>\n      <Text style={{ fontSize: 17, fontWeight: \"600\" }}>Current Products</Text>\n      {catalog.categories.length > 0 ? (\n        catalog.products.map((e, index) => {\n          return (\n            <View\n              style={{\n                flexDirection: \"row\",\n                justifyContent: \"space-between\",\n                padding: 15,\n                margin: 10,\n                backgroundColor: \"lightgrey\",\n              }}\n            >\n              <Text style={{ fontSize: 17 }}>Product: {e.name}</Text>\n              <View\n                style={{\n                  flexDirection: \"row\",\n                  alignItems: \"center\",\n                  justifyContent: \"space-between\",\n                  width: \"20%\",\n                }}\n              >\n                <Button\n                  title=\"Duplicate\"\n                  onPress={() => {\n                    let copy = structuredClone(e);\n                    copy.name = copy.name + \" Copy\";\n                    updateData(\n                      [...catalog.categories],\n                      [...catalog.products, copy]\n                    );\n                  }}\n                  style={{ margin: 10 }}\n                />\n                <Button\n                  title=\"Edit\"\n                  // onPress={() => setProductEditModal(true)}\n                  onPress={() =>\n                    navigation.navigate(\"AddProduct\", {\n                      existingProduct: e,\n                      existingProductIndex: index,\n                    })\n                  }\n                  style={{ margin: 10 }}\n                />\n                <TouchableOpacity\n                  onPress={() => handleRemoveCatagory(index)}\n                  style={{\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                    borderRadius: 3,\n                    backgroundColor: \"red\",\n                    padding: 10,\n                    margin: 10,\n                  }}\n                >\n                  <Text\n                    style={{ color: \"white\", fontWeight: \"600\", fontSize: 18 }}\n                  >\n                    X\n                  </Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          );\n        })\n      ) : (\n        <Text style={{ marginTop: 50, marginBottom: 50 }}>\n          You must add a category before you can add a product...\n        </Text>\n      )}\n      {catalog.products.length < 1 && catalog.categories.length > 0 && (\n        <Text style={{ marginTop: 50, marginBottom: 50 }}>\n          You have no products...\n        </Text>\n      )}\n      <Button\n        title=\"Add New Product\"\n        onPress={() => navigation.navigate(\"AddProduct\")}\n        style={{ margin: 10 }}\n        disabled={catalog.categories.length < 1}\n      />\n      {/* <Spinner isModalVisible={isModalVisible} /> */}\n    </ScrollView>\n  );\n};\n\nexport default EditProductList;\n\nconst styles = StyleSheet.create({});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}