{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import Modal from\"react-native-web/dist/exports/Modal\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import View from\"react-native-web/dist/exports/View\";import React,{useState}from\"react\";import{userStoreState}from\"../state/state\";import{Button}from\"@react-native-material/core\";import AddProduct from\"./AddProduct\";import Spinner from\"./Spinner\";import{updateData}from\"../state/firebaseFunctions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditProductList=function EditProductList(){var catalog=userStoreState.use();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),productModal=_useState2[0],setProductModal=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isModalVisible=_useState4[0],setisModalVisible=_useState4[1];function handleRemoveCatagory(index){var localCatalog=structuredClone(catalog);localCatalog.products.splice(index,1);updateData(localCatalog.categories,localCatalog.products);setisModalVisible(true);}return _jsxs(ScrollView,{style:{padding:25},children:[_jsx(Text,{style:{fontSize:17,fontWeight:\"600\"},children:\"Current Products\"}),catalog.categories.length>0?catalog.products.map(function(e,index){var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),productEditModal=_useState6[0],setProductEditModal=_useState6[1];return _jsxs(View,{style:{flexDirection:\"row\",justifyContent:\"space-between\",padding:15,margin:10,backgroundColor:\"lightgrey\"},children:[_jsxs(Text,{style:{fontSize:17},children:[\"Product: \",e.name]}),_jsxs(View,{style:{flexDirection:\"row\",alignItems:\"center\",justifyContent:\"space-between\",width:\"10%\"},children:[_jsx(Button,{title:\"Edit\",onPress:function onPress(){return setProductEditModal(true);},style:{margin:10}}),_jsx(TouchableOpacity,{onPress:function onPress(){return handleRemoveCatagory(index);},style:{justifyContent:\"center\",alignItems:\"center\",borderRadius:3,backgroundColor:\"red\",padding:10,margin:10},children:_jsx(Text,{style:{color:\"white\",fontWeight:\"600\",fontSize:18},children:\"X\"})})]}),_jsx(Modal,{visible:productEditModal,children:_jsx(AddProduct,{setProductModal:setProductEditModal,setisModalVisible:setisModalVisible,existingProduct:e,existingProductIndex:index})})]});}):_jsx(Text,{style:{marginTop:50,marginBottom:50},children:\"You must add a category before you can add a product...\"}),catalog.products.length<1&&catalog.categories.length>0&&_jsx(Text,{style:{marginTop:50,marginBottom:50},children:\"You have no products...\"}),_jsx(Button,{title:\"Add New Product\",onPress:function onPress(){return setProductModal(true);},style:{margin:10},disabled:catalog.categories.length<1}),_jsx(Modal,{visible:productModal,children:_jsx(AddProduct,{setProductModal:setProductModal,setisModalVisible:setisModalVisible})}),_jsx(Spinner,{isModalVisible:isModalVisible})]});};export default EditProductList;var styles=StyleSheet.create({});","map":{"version":3,"names":["React","useState","userStoreState","Button","AddProduct","Spinner","updateData","EditProductList","catalog","use","productModal","setProductModal","isModalVisible","setisModalVisible","handleRemoveCatagory","index","localCatalog","structuredClone","products","splice","categories","padding","fontSize","fontWeight","length","map","e","productEditModal","setProductEditModal","flexDirection","justifyContent","margin","backgroundColor","name","alignItems","width","borderRadius","color","marginTop","marginBottom","styles","StyleSheet","create"],"sources":["/Users/peterputros/Desktop/PosMate-1/components/EditProductList.tsx"],"sourcesContent":["import {\n  Modal,\n  ScrollView,\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  View,\n} from \"react-native\";\nimport React, { useEffect, useState } from \"react\";\nimport { userStoreState } from \"state/state\";\nimport { Button, TextInput } from \"@react-native-material/core\";\nimport AddProduct from \"./AddProduct\";\nimport Spinner from \"./Spinner\";\nimport { updateData } from \"state/firebaseFunctions\";\n\nconst EditProductList = () => {\n  const catalog = userStoreState.use();\n  const [productModal, setProductModal] = useState(false);\n  const [isModalVisible, setisModalVisible] = useState(false);\n\n  function handleRemoveCatagory(index) {\n    const localCatalog = structuredClone(catalog);\n    localCatalog.products.splice(index, 1);\n\n    updateData(localCatalog.categories, localCatalog.products);\n    setisModalVisible(true);\n  }\n\n  return (\n    <ScrollView style={{ padding: 25 }}>\n      <Text style={{ fontSize: 17, fontWeight: \"600\" }}>Current Products</Text>\n      {catalog.categories.length > 0 ? (\n        catalog.products.map((e, index) => {\n           const [productEditModal, setProductEditModal] = useState(false);\n          return (\n            <View\n              style={{\n                flexDirection: \"row\",\n                justifyContent: \"space-between\",\n                padding: 15,\n                margin: 10,\n                backgroundColor: \"lightgrey\",\n              }}\n            >\n              <Text style={{ fontSize: 17 }}>Product: {e.name}</Text>\n              <View\n                style={{\n                  flexDirection: \"row\",\n                  alignItems: \"center\",\n                  justifyContent: \"space-between\",\n                  width: \"10%\",\n                }}\n              >\n                <Button\n                  title=\"Edit\"\n                  onPress={() => setProductEditModal(true)}\n                  style={{ margin: 10 }}\n                />\n                <TouchableOpacity\n                  onPress={() => handleRemoveCatagory(index)}\n                  style={{\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                    borderRadius: 3,\n                    backgroundColor: \"red\",\n                    padding: 10,\n                    margin: 10,\n                  }}\n                >\n                  <Text\n                    style={{ color: \"white\", fontWeight: \"600\", fontSize: 18 }}\n                  >\n                    X\n                  </Text>\n                </TouchableOpacity>\n              </View>\n              <Modal visible={productEditModal}>\n                <AddProduct\n                  setProductModal={setProductEditModal}\n                  setisModalVisible={setisModalVisible}\n                  existingProduct={e}\n                  existingProductIndex={index}\n                />\n              </Modal>\n            </View>\n          );\n        })\n      ) : (\n        <Text style={{ marginTop: 50, marginBottom: 50 }}>\n          You must add a category before you can add a product...\n        </Text>\n      )}\n      {catalog.products.length < 1 && catalog.categories.length > 0 && (\n        <Text style={{ marginTop: 50, marginBottom: 50 }}>\n          You have no products...\n        </Text>\n      )}\n      <Button\n        title=\"Add New Product\"\n        onPress={() => setProductModal(true)}\n        style={{ margin: 10 }}\n        disabled={catalog.categories.length < 1}\n      />\n      <Modal visible={productModal}>\n        <AddProduct\n          setProductModal={setProductModal}\n          setisModalVisible={setisModalVisible}\n        />\n      </Modal>\n      <Spinner isModalVisible={isModalVisible} />\n    </ScrollView>\n  );\n};\n\nexport default EditProductList;\n\nconst styles = StyleSheet.create({});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}