{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useEffect,useRef,useState}from\"react\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import Modal from\"react-native-web/dist/exports/Modal\";import{Entypo}from\"@expo/vector-icons\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function GeneralDropdown(_ref){var style=_ref.style,placeholder=_ref.placeholder,value=_ref.value,setValue=_ref.setValue,options=_ref.options,scrollY=_ref.scrollY;var dropdownRef=useRef();var _useState=useState(),_useState2=_slicedToArray(_useState,2),dropdownLayout=_useState2[0],setDropdownLayout=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),openDropdown=_useState4[0],setopenDropdown=_useState4[1];useEffect(function(){if(dropdownRef.current&&typeof window!==\"undefined\"){var element=dropdownRef.current;var boundingRect=element.getBoundingClientRect();setDropdownLayout({x:boundingRect.left,y:boundingRect.top,width:boundingRect.width,height:boundingRect.height});}},[scrollY]);return _jsxs(View,{style:{zIndex:1000},children:[_jsxs(TouchableOpacity,{style:styles.dropdown,onPress:function onPress(){return setopenDropdown(function(prev){return!prev;});},activeOpacity:1,ref:dropdownRef,children:[_jsx(Text,{style:styles.placeholder,children:value?value:placeholder}),_jsx(Entypo,{name:openDropdown?\"chevron-small-up\":\"chevron-small-down\",style:styles.downIcon})]}),_jsxs(Modal,{visible:openDropdown,transparent:true,children:[_jsx(TouchableOpacity,{style:{width:\"100%\",height:\"100%\"},onPress:function onPress(){setopenDropdown(false);}}),dropdownLayout&&_jsxs(View,{style:{position:\"absolute\",top:dropdownLayout.y,left:dropdownLayout.x,width:190},children:[_jsxs(TouchableOpacity,{style:[styles.dropdown,{borderBottomLeftRadius:0,borderBottomRightRadius:0,borderBottomColor:\"black\"}],onPress:function onPress(){return setopenDropdown(function(prev){return!prev;});},children:[_jsx(Text,{style:styles.placeholder,children:value?value:placeholder}),_jsx(Entypo,{name:openDropdown?\"chevron-small-up\":\"chevron-small-down\",style:styles.downIcon})]}),openDropdown&&_jsx(ScrollView,{style:{width:190,position:\"absolute\",backgroundColor:\"white\",bottom:options.length>3?-50*3:-50*options.length,height:options.length>3?50*3:50*options.length,borderBottomLeftRadius:5,borderBottomRightRadius:5,borderWidth:1,borderTopWidth:0,borderColor:\"#9e9e9e\"},children:options.map(function(option,listIndex){return _jsx(TouchableOpacity,{onPress:function onPress(){setValue(option);setopenDropdown(false);},style:[{width:\"100%\",height:50,backgroundColor:\"white\",padding:10,justifyContent:\"center\"},listIndex<options.length-1&&{borderBottomWidth:1,borderColor:\"#9e9e9e\"}],activeOpacity:1,children:_jsx(Text,{style:styles.placeholder,children:option})},listIndex);})})]})]})]});}var styles=StyleSheet.create({container:{flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\",borderRadius:5,borderWidth:1,borderColor:\"#9e9e9e\"},dropdown:{width:190,height:50,backgroundColor:\"rgba(255,255,255,1)\",flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\",borderRadius:5,borderWidth:1,borderColor:\"#9e9e9e\",paddingLeft:10,paddingRight:10},placeholder:{color:\"grey\",fontSize:14},downIcon:{color:\"rgba(128,128,128,1)\",fontSize:30,margin:0,marginTop:2,marginRight:2}});export default GeneralDropdown;","map":{"version":3,"names":["React","useEffect","useRef","useState","Entypo","GeneralDropdown","style","placeholder","value","setValue","options","scrollY","dropdownRef","dropdownLayout","setDropdownLayout","openDropdown","setopenDropdown","current","window","element","boundingRect","getBoundingClientRect","x","left","y","top","width","height","zIndex","styles","dropdown","prev","downIcon","position","borderBottomLeftRadius","borderBottomRightRadius","borderBottomColor","backgroundColor","bottom","length","borderWidth","borderTopWidth","borderColor","map","option","listIndex","padding","justifyContent","borderBottomWidth","StyleSheet","create","container","flexDirection","alignItems","borderRadius","paddingLeft","paddingRight","color","fontSize","margin","marginTop","marginRight"],"sources":["/Users/peterputros/Desktop/PosMate/components/GeneralDropdown.tsx"],"sourcesContent":["import React, { Component, useEffect, useRef, useState } from \"react\";\nimport {\n  StyleSheet,\n  View,\n  Text,\n  TouchableOpacity,\n  ScrollView,\n  Modal,\n} from \"react-native\";\nimport { Entypo } from \"@expo/vector-icons\";\n\nfunction GeneralDropdown({\n  style,\n  placeholder,\n  value,\n  setValue,\n  options,\n  scrollY,\n}) {\n  const dropdownRef = useRef(); // Reference to the original button\n  const [dropdownLayout, setDropdownLayout] = useState();\n  const [openDropdown, setopenDropdown] = useState(false);\n\n  useEffect(() => {\n    // Ensure this code runs in a web environment\n    if (dropdownRef.current && typeof window !== \"undefined\") {\n      const element = dropdownRef.current; // Assuming this ref points to a DOM element\n      // You might need to adjust this to get the actual DOM node in React Native Web\n\n      const boundingRect = element.getBoundingClientRect();\n\n      setDropdownLayout({\n        x: boundingRect.left,\n        y: boundingRect.top, // Adjust based on scroll position\n        width: boundingRect.width,\n        height: boundingRect.height,\n      });\n    }\n  }, [scrollY]); // Recalculate when scroll position changes\n\n  return (\n    <View style={{ zIndex: 1000 }}>\n      <TouchableOpacity\n        style={styles.dropdown}\n        onPress={() => setopenDropdown((prev) => !prev)}\n        activeOpacity={1}\n        ref={dropdownRef}\n      >\n        <Text style={styles.placeholder}>{value ? value : placeholder}</Text>\n        <Entypo\n          name={openDropdown ? \"chevron-small-up\" : \"chevron-small-down\"}\n          style={styles.downIcon}\n        />\n      </TouchableOpacity>\n      <Modal visible={openDropdown} transparent={true}>\n        <TouchableOpacity\n          style={{\n            width: \"100%\",\n            height: \"100%\",\n          }}\n          onPress={() => {\n            setopenDropdown(false);\n          }} // Hide modal when the background is pressed\n        />\n        {dropdownLayout && (\n          <View\n            style={{\n              position: \"absolute\",\n              top: dropdownLayout.y,\n              left: dropdownLayout.x,\n              width: 190,\n            }}\n          >\n            <TouchableOpacity\n              style={[\n                styles.dropdown,\n                {\n                  borderBottomLeftRadius: 0,\n                  borderBottomRightRadius: 0,\n                  borderBottomColor: \"black\",\n                },\n              ]}\n              onPress={() => setopenDropdown((prev) => !prev)}\n            >\n              <Text style={styles.placeholder}>\n                {value ? value : placeholder}\n              </Text>\n              <Entypo\n                name={openDropdown ? \"chevron-small-up\" : \"chevron-small-down\"}\n                style={styles.downIcon}\n              />\n            </TouchableOpacity>\n            {openDropdown && (\n              <ScrollView\n                style={{\n                  width: 190,\n                  position: \"absolute\",\n                  backgroundColor: \"white\",\n                  bottom: options.length > 3 ? -50 * 3 : -50 * options.length,\n                  height: options.length > 3 ? 50 * 3 : 50 * options.length,\n                  borderBottomLeftRadius: 5,\n                  borderBottomRightRadius: 5,\n                  borderWidth: 1,\n                  borderTopWidth: 0,\n                  borderColor: \"#9e9e9e\",\n                }}\n              >\n                {options.map((option, listIndex) => (\n                  <TouchableOpacity\n                    key={listIndex}\n                    onPress={() => {\n                      setValue(option);\n                      setopenDropdown(false);\n                    }}\n                    style={[\n                      {\n                        width: \"100%\",\n                        height: 50,\n                        backgroundColor: \"white\",\n                        padding: 10,\n                        justifyContent: \"center\",\n                      },\n                      listIndex < options.length - 1 && {\n                        borderBottomWidth: 1,\n                        borderColor: \"#9e9e9e\",\n                      },\n                    ]}\n                    activeOpacity={1}\n                  >\n                    <Text style={styles.placeholder}>{option}</Text>\n                  </TouchableOpacity>\n                ))}\n              </ScrollView>\n            )}\n          </View>\n        )}\n      </Modal>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    borderRadius: 5,\n    borderWidth: 1,\n    borderColor: \"#9e9e9e\",\n  },\n  dropdown: {\n    width: 190,\n    height: 50,\n    backgroundColor: \"rgba(255,255,255,1)\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    borderRadius: 5,\n    borderWidth: 1,\n    borderColor: \"#9e9e9e\",\n    paddingLeft: 10,\n    paddingRight: 10,\n  },\n  placeholder: {\n    color: \"grey\",\n    fontSize: 14,\n  },\n  downIcon: {\n    color: \"rgba(128,128,128,1)\",\n    fontSize: 30,\n    margin: 0,\n    marginTop: 2,\n    marginRight: 2,\n  },\n});\n\nexport default GeneralDropdown;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}