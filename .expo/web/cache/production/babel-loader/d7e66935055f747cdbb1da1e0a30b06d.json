{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import View from\"react-native-web/dist/exports/View\";import React,{useState}from\"react\";import{userStoreState}from\"../state/state\";import{Button,TextInput}from\"@react-native-material/core\";import Spinner from\"./Spinner\";import{updateData}from\"../state/firebaseFunctions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddCategory=function AddCategory(){var catalog=userStoreState.use();var _useState=useState(),_useState2=_slicedToArray(_useState,2),categoryName=_useState2[0],setcategoryName=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isModalVisible=_useState4[0],setisModalVisible=_useState4[1];function handleDataUpdate(){updateData([].concat(_toConsumableArray(catalog.categories),[categoryName]),catalog.products);}function handleRemoveCategory(index){var localCatalog=structuredClone(catalog);localCatalog.categories.splice(index,1);updateData(localCatalog.categories,localCatalog.products);}return _jsxs(ScrollView,{style:{padding:25},children:[_jsx(Text,{style:{fontSize:17,fontWeight:\"600\"},children:\"Current categories\"}),catalog.categories.map(function(e,index){return _jsxs(View,{style:{flexDirection:\"row\",justifyContent:\"space-between\",padding:15,margin:10,backgroundColor:\"lightgrey\"},children:[_jsx(Text,{style:{fontSize:17},children:e}),_jsx(TouchableOpacity,{onPress:function onPress(){return handleRemoveCategory(index);},style:{justifyContent:\"center\",alignItems:\"center\"},children:_jsx(Text,{style:{color:\"red\",fontWeight:\"600\"},children:\"Remove X\"})})]});}),_jsx(TextInput,{placeholder:\"Enter New Category\",onChangeText:function onChangeText(val){return setcategoryName(val);},style:{margin:10}}),_jsx(Button,{title:\"Add New Category\",onPress:handleDataUpdate,style:{margin:10}}),_jsx(Spinner,{isModalVisible:isModalVisible})]});};export default AddCategory;var styles=StyleSheet.create({});","map":{"version":3,"names":["React","useState","userStoreState","Button","TextInput","Spinner","updateData","AddCategory","catalog","use","categoryName","setcategoryName","isModalVisible","setisModalVisible","handleDataUpdate","categories","products","handleRemoveCategory","index","localCatalog","structuredClone","splice","padding","fontSize","fontWeight","map","e","flexDirection","justifyContent","margin","backgroundColor","alignItems","color","val","styles","StyleSheet","create"],"sources":["/Users/peterputros/Desktop/PosMate/components/AddCategory.tsx"],"sourcesContent":["import {\n  ScrollView,\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  View,\n} from \"react-native\";\nimport React, { useEffect, useState } from \"react\";\nimport { userStoreState } from \"state/state\";\nimport { Button, TextInput } from \"@react-native-material/core\";\nimport Spinner from \"./Spinner\";\nimport { updateData } from \"state/firebaseFunctions\";\n\nconst AddCategory = () => {\n  const catalog = userStoreState.use();\n  const [categoryName, setcategoryName] = useState();\n  const [isModalVisible, setisModalVisible] = useState(false);\n\n  function handleDataUpdate() {\n    updateData([...catalog.categories, categoryName], catalog.products);\n    // setisModalVisible(true);\n  }\n\n  function handleRemoveCategory(index) {\n    const localCatalog = structuredClone(catalog);\n    localCatalog.categories.splice(index, 1);\n\n    updateData(localCatalog.categories, localCatalog.products);\n    // setisModalVisible(true);\n  }\n\n  return (\n    <ScrollView style={{ padding: 25 }}>\n      <Text style={{ fontSize: 17, fontWeight: \"600\" }}>\n        Current categories\n      </Text>\n      {catalog.categories.map((e, index) => {\n        return (\n          <View\n            style={{\n              flexDirection: \"row\",\n              justifyContent: \"space-between\",\n              padding: 15,\n              margin: 10,\n              backgroundColor: \"lightgrey\",\n            }}\n          >\n            <Text style={{ fontSize: 17 }}>{e}</Text>\n            <TouchableOpacity\n              onPress={() => handleRemoveCategory(index)}\n              style={{\n                justifyContent: \"center\",\n                alignItems: \"center\",\n              }}\n            >\n              <Text style={{ color: \"red\", fontWeight: \"600\" }}>Remove X</Text>\n            </TouchableOpacity>\n          </View>\n        );\n      })}\n      <TextInput\n        placeholder=\"Enter New Category\"\n        onChangeText={(val) => setcategoryName(val)}\n        style={{ margin: 10 }}\n      />\n      <Button\n        title=\"Add New Category\"\n        onPress={handleDataUpdate}\n        style={{ margin: 10 }}\n      />\n      <Spinner isModalVisible={isModalVisible} />\n    </ScrollView>\n  );\n};\n\nexport default AddCategory;\n\nconst styles = StyleSheet.create({});\n"],"mappings":"mcAOA,MAAOA,MAAK,EAAeC,QAAQ,KAAQ,OAAO,CAClD,OAASC,cAAc,sBACvB,OAASC,MAAM,CAAEC,SAAS,KAAQ,6BAA6B,CAC/D,MAAOC,QAAO,iBACd,OAASC,UAAU,kCAAkC,wFAErD,GAAMC,YAAW,CAAG,QAAdA,YAAW,EAAS,CACxB,GAAMC,QAAO,CAAGN,cAAc,CAACO,GAAG,EAAE,CACpC,cAAwCR,QAAQ,EAAE,wCAA3CS,YAAY,eAAEC,eAAe,eACpC,eAA4CV,QAAQ,CAAC,KAAK,CAAC,yCAApDW,cAAc,eAAEC,iBAAiB,eAExC,QAASC,iBAAgB,EAAG,CAC1BR,UAAU,8BAAKE,OAAO,CAACO,UAAU,GAAEL,YAAY,GAAGF,OAAO,CAACQ,QAAQ,CAAC,CAErE,CAEA,QAASC,qBAAoB,CAACC,KAAK,CAAE,CACnC,GAAMC,aAAY,CAAGC,eAAe,CAACZ,OAAO,CAAC,CAC7CW,YAAY,CAACJ,UAAU,CAACM,MAAM,CAACH,KAAK,CAAE,CAAC,CAAC,CAExCZ,UAAU,CAACa,YAAY,CAACJ,UAAU,CAAEI,YAAY,CAACH,QAAQ,CAAC,CAE5D,CAEA,MACE,OAAC,UAAU,EAAC,KAAK,CAAE,CAAEM,OAAO,CAAE,EAAG,CAAE,WACjC,KAAC,IAAI,EAAC,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAE,CAAEC,UAAU,CAAE,KAAM,CAAE,gCAE1C,CACNhB,OAAO,CAACO,UAAU,CAACU,GAAG,CAAC,SAACC,CAAC,CAAER,KAAK,CAAK,CACpC,MACE,OAAC,IAAI,EACH,KAAK,CAAE,CACLS,aAAa,CAAE,KAAK,CACpBC,cAAc,CAAE,eAAe,CAC/BN,OAAO,CAAE,EAAE,CACXO,MAAM,CAAE,EAAE,CACVC,eAAe,CAAE,WACnB,CAAE,WAEF,KAAC,IAAI,EAAC,KAAK,CAAE,CAAEP,QAAQ,CAAE,EAAG,CAAE,UAAEG,CAAC,EAAQ,CACzC,KAAC,gBAAgB,EACf,OAAO,CAAE,yBAAMT,qBAAoB,CAACC,KAAK,CAAC,EAAC,CAC3C,KAAK,CAAE,CACLU,cAAc,CAAE,QAAQ,CACxBG,UAAU,CAAE,QACd,CAAE,UAEF,KAAC,IAAI,EAAC,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAK,CAAER,UAAU,CAAE,KAAM,CAAE,sBAAgB,EAChD,GACd,CAEX,CAAC,CAAC,CACF,KAAC,SAAS,EACR,WAAW,CAAC,oBAAoB,CAChC,YAAY,CAAE,sBAACS,GAAG,QAAKtB,gBAAe,CAACsB,GAAG,CAAC,EAAC,CAC5C,KAAK,CAAE,CAAEJ,MAAM,CAAE,EAAG,CAAE,EACtB,CACF,KAAC,MAAM,EACL,KAAK,CAAC,kBAAkB,CACxB,OAAO,CAAEf,gBAAiB,CAC1B,KAAK,CAAE,CAAEe,MAAM,CAAE,EAAG,CAAE,EACtB,CACF,KAAC,OAAO,EAAC,cAAc,CAAEjB,cAAe,EAAG,GAChC,CAEjB,CAAC,CAED,cAAeL,YAAW,CAE1B,GAAM2B,OAAM,CAAGC,UAAU,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC"},"metadata":{},"sourceType":"module"}