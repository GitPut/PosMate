{"ast":null,"code":"import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import FlatList from\"react-native-web/dist/exports/FlatList\";import React from\"react\";import ProductDisplayBtn from\"./ProductDisplayBtn\";import{userStoreState}from\"../state/state\";import{jsx as _jsx}from\"react/jsx-runtime\";var MenuScreenInnerBlock=function MenuScreenInnerBlock(_ref){var _catalog$products;var visible=_ref.visible,height=_ref.height,category=_ref.category;var catalog=userStoreState.use();var customSort=function customSort(a,b){var rankA=a.rank||Number.MAX_SAFE_INTEGER;var rankB=b.rank||Number.MAX_SAFE_INTEGER;return rankA-rankB;};if(((_catalog$products=catalog.products)==null?void 0:_catalog$products.length)>0){var renderItem=function renderItem(_ref2){var item=_ref2.item,index=_ref2.index;return _jsx(ProductDisplayBtn,{product:item,productIndex:index},index);};var keyExtractor=function keyExtractor(item){return item.id;};var getItemLayout=function getItemLayout(data,index){return{length:200,offset:200*index,index:index};};return _jsx(\"div\",{style:visible===false?{display:\"none\"}:{display:\"block\"},children:_jsx(FlatList,{style:{width:\"100%\",height:\"100%\"},contentContainerStyle:{flexDirection:\"row\",flexWrap:\"wrap\",justifyContent:\"space-between\",paddingLeft:50,paddingRight:50},data:catalog.products.filter(function(product){var isVisible=product.category===category;return isVisible;}).sort(customSort),renderItem:renderItem,keyExtractor:keyExtractor,getItemLayout:getItemLayout})});}else{return _jsx(View,{style:{width:\"100%\",height:height*0.8,justifyContent:\"center\",alignItems:\"center\"},children:_jsx(Text,{style:{fontFamily:\"archivo-500\",color:\"rgba(74,74,74,1)\",fontSize:20},children:\"This category has no products...\"})});}};export default MenuScreenInnerBlock;","map":{"version":3,"names":["React","ProductDisplayBtn","userStoreState","MenuScreenInnerBlock","visible","height","category","catalog","use","customSort","a","b","rankA","rank","Number","MAX_SAFE_INTEGER","rankB","products","length","renderItem","item","index","keyExtractor","id","getItemLayout","data","offset","display","width","flexDirection","flexWrap","justifyContent","paddingLeft","paddingRight","filter","product","isVisible","sort","alignItems","fontFamily","color","fontSize"],"sources":["/Users/peterputros/Desktop/PosMate/components/MenuScreenInnerBlock.tsx"],"sourcesContent":["import { View, Text, FlatList, Modal } from \"react-native\";\nimport React, { useEffect, useState } from \"react\";\nimport ProductDisplayBtn from \"components/ProductDisplayBtn\";\nimport { userStoreState } from \"state/state\";\n\nconst MenuScreenInnerBlock = ({ visible, height, category }) => {\n  const catalog = userStoreState.use();\n\n  // Custom sorting function\n  const customSort = (a, b) => {\n    // Handle cases where one or both items don't have a rank\n    const rankA = a.rank || Number.MAX_SAFE_INTEGER;\n    const rankB = b.rank || Number.MAX_SAFE_INTEGER;\n\n    // Compare based on ranks\n    return rankA - rankB;\n  };\n\n  if (catalog.products?.length > 0) {\n    // return catalog.products.map((product, index) => {\n    //   const isVisible = section\n    //     ? product.catagory === section || product.category === section\n    //     : product.catagory === catalog.categories[0] ||\n    //       product.category === catalog.categories[0];\n\n    //   return (\n    //     <>\n    //       {isVisible && (\n    //         <ProductDisplayBtn\n    //           product={product}\n    //           productIndex={index}\n    //           key={index}\n    //         />\n    //       )}\n    //     </>\n    //   );\n    // });\n\n    const renderItem = ({ item, index }) => (\n      <ProductDisplayBtn product={item} productIndex={index} key={index} />\n    ); // Defined outside the render method\n    const keyExtractor = (item) => item.id; // Defined outside the render method\n    const getItemLayout = (data, index) => ({\n      length: 200,\n      offset: 200 * index,\n      index,\n    }); // Defined outside the render method\n\n    return (\n      <div\n        style={visible === false ? { display: \"none\" } : { display: \"block\" }}\n      >\n        <FlatList\n          style={{ width: \"100%\", height: \"100%\" }}\n          contentContainerStyle={{\n            flexDirection: \"row\",\n            flexWrap: \"wrap\",\n            justifyContent: \"space-between\",\n            paddingLeft: 50,\n            paddingRight: 50,\n          }}\n          data={catalog.products\n            .filter((product) => {\n              const isVisible = product.category === category;\n              return isVisible;\n            })\n            .sort(customSort)}\n          renderItem={renderItem}\n          keyExtractor={keyExtractor}\n          getItemLayout={getItemLayout}\n        />\n      </div>\n    );\n  } else {\n    return (\n      <View\n        style={{\n          width: \"100%\",\n          height: height * 0.8,\n          justifyContent: \"center\",\n          alignItems: \"center\",\n        }}\n      >\n        <Text\n          style={{\n            fontFamily: \"archivo-500\",\n            color: \"rgba(74,74,74,1)\",\n            fontSize: 20,\n          }}\n        >\n          This category has no products...\n        </Text>\n      </View>\n    );\n  }\n};\n\nexport default MenuScreenInnerBlock;\n"],"mappings":"uKACA,MAAOA,MAAK,KAA+B,OAAO,CAClD,MAAOC,kBAAiB,2BACxB,OAASC,cAAc,sBAAsB,2CAE7C,GAAMC,qBAAoB,CAAG,QAAvBA,qBAAoB,MAAsC,0BAAhCC,QAAO,MAAPA,OAAO,CAAEC,MAAM,MAANA,MAAM,CAAEC,QAAQ,MAARA,QAAQ,CACvD,GAAMC,QAAO,CAAGL,cAAc,CAACM,GAAG,EAAE,CAGpC,GAAMC,WAAU,CAAG,QAAbA,WAAU,CAAIC,CAAC,CAAEC,CAAC,CAAK,CAE3B,GAAMC,MAAK,CAAGF,CAAC,CAACG,IAAI,EAAIC,MAAM,CAACC,gBAAgB,CAC/C,GAAMC,MAAK,CAAGL,CAAC,CAACE,IAAI,EAAIC,MAAM,CAACC,gBAAgB,CAG/C,MAAOH,MAAK,CAAGI,KAAK,CACtB,CAAC,CAED,GAAI,oBAAAT,OAAO,CAACU,QAAQ,eAAhB,kBAAkBC,MAAM,EAAG,CAAC,CAAE,CAoBhC,GAAMC,WAAU,CAAG,QAAbA,WAAU,WAAMC,KAAI,OAAJA,IAAI,CAAEC,KAAK,OAALA,KAAK,OAC/B,MAAC,iBAAiB,EAAC,OAAO,CAAED,IAAK,CAAC,YAAY,CAAEC,KAAM,EAAMA,KAAK,CAAI,EACtE,CACD,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIF,IAAI,QAAKA,KAAI,CAACG,EAAE,GACtC,GAAMC,cAAa,CAAG,QAAhBA,cAAa,CAAIC,IAAI,CAAEJ,KAAK,QAAM,CACtCH,MAAM,CAAE,GAAG,CACXQ,MAAM,CAAE,GAAG,CAAGL,KAAK,CACnBA,KAAK,CAALA,KACF,CAAC,EAAC,CAEF,MACE,aACE,KAAK,CAAEjB,OAAO,GAAK,KAAK,CAAG,CAAEuB,OAAO,CAAE,MAAO,CAAC,CAAG,CAAEA,OAAO,CAAE,OAAQ,CAAE,UAEtE,KAAC,QAAQ,EACP,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAM,CAAEvB,MAAM,CAAE,MAAO,CAAE,CACzC,qBAAqB,CAAE,CACrBwB,aAAa,CAAE,KAAK,CACpBC,QAAQ,CAAE,MAAM,CAChBC,cAAc,CAAE,eAAe,CAC/BC,WAAW,CAAE,EAAE,CACfC,YAAY,CAAE,EAChB,CAAE,CACF,IAAI,CAAE1B,OAAO,CAACU,QAAQ,CACnBiB,MAAM,CAAC,SAACC,OAAO,CAAK,CACnB,GAAMC,UAAS,CAAGD,OAAO,CAAC7B,QAAQ,GAAKA,QAAQ,CAC/C,MAAO8B,UAAS,CAClB,CAAC,CAAC,CACDC,IAAI,CAAC5B,UAAU,CAAE,CACpB,UAAU,CAAEU,UAAW,CACvB,YAAY,CAAEG,YAAa,CAC3B,aAAa,CAAEE,aAAc,EAC7B,EACE,CAEV,CAAC,IAAM,CACL,MACE,MAAC,IAAI,EACH,KAAK,CAAE,CACLI,KAAK,CAAE,MAAM,CACbvB,MAAM,CAAEA,MAAM,CAAG,GAAG,CACpB0B,cAAc,CAAE,QAAQ,CACxBO,UAAU,CAAE,QACd,CAAE,UAEF,KAAC,IAAI,EACH,KAAK,CAAE,CACLC,UAAU,CAAE,aAAa,CACzBC,KAAK,CAAE,kBAAkB,CACzBC,QAAQ,CAAE,EACZ,CAAE,UACH,kCAED,EAAO,EACF,CAEX,CACF,CAAC,CAED,cAAetC,qBAAoB"},"metadata":{},"sourceType":"module"}