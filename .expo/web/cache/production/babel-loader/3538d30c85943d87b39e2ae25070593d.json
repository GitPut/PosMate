{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import{Button}from\"@react-native-material/core\";import React,{useEffect,useState}from\"react\";import View from\"react-native-web/dist/exports/View\";import{auth}from\"../state/firebaseConfig\";import{sectionState,setsectionState,userStoreState}from\"../state/state\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CustomHeader=function CustomHeader(_ref){var _catalog$categories;var navigation=_ref.navigation,route=_ref.route,options=_ref.options,back=_ref.back;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),settings=_useState2[0],setSettings=_useState2[1];var catalog=userStoreState.use();var section=sectionState.use();useEffect(function(){var settingsOn=localStorage.getItem(\"settingsOn\");setSettings(settingsOn);},[]);if(settings==true){return _jsxs(View,{style:{width:\"100%\",height:120,flexDirection:\"row\",alignItems:\"center\",justifyContent:\"space-evenly\",backgroundColor:\"red\"},children:[_jsx(Button,{titleStyle:section===\"EditCategories\"?{color:\"white\",fontWeight:\"700\"}:{color:\"black\",fontWeight:\"700\"},style:section===\"EditCategories\"?{backgroundColor:\"blue\"}:{backgroundColor:\"white\"},onPress:function onPress(){localStorage.setItem(\"localScreen\",\"EditCategories\");localStorage.setItem(\"settingsOn\",true);navigation.navigate(\"EditCategories\");setsectionState(\"EditCategories\");},title:\"Add Category\"}),_jsx(Button,{titleStyle:section===\"EditProductList\"?{color:\"white\",fontWeight:\"700\"}:{color:\"black\",fontWeight:\"700\"},style:section===\"EditProductList\"?{backgroundColor:\"blue\"}:{backgroundColor:\"white\"},onPress:function onPress(){localStorage.setItem(\"localScreen\",\"EditProductList\");navigation.navigate(\"EditProductList\");localStorage.setItem(\"settingsOn\",true);setsectionState(\"EditProductList\");},title:\"Add Product\"}),_jsx(Button,{titleStyle:section===\"EditWoocommerce\"?{color:\"white\",fontWeight:\"700\"}:{color:\"black\",fontWeight:\"700\"},style:section===\"EditWoocommerce\"?{backgroundColor:\"blue\"}:{backgroundColor:\"white\"},onPress:function onPress(){localStorage.setItem(\"localScreen\",\"EditWoocommerce\");navigation.navigate(\"EditWoocommerce\");localStorage.setItem(\"settingsOn\",true);setsectionState(\"EditWoocommerce\");},title:\"Woocommerce\"}),_jsx(Button,{titleStyle:section===\"StoreDetails\"?{color:\"white\",fontWeight:\"700\"}:{color:\"black\",fontWeight:\"700\"},style:section===\"StoreDetails\"?{backgroundColor:\"blue\"}:{backgroundColor:\"white\"},onPress:function onPress(){localStorage.setItem(\"localScreen\",\"StoreDetails\");navigation.navigate(\"StoreDetails\");localStorage.setItem(\"settingsOn\",true);setsectionState(\"StoreDetails\");},title:\"Store Details\"}),_jsx(Button,{titleStyle:section===\"Transactions\"?{color:\"white\",fontWeight:\"700\"}:{color:\"black\",fontWeight:\"700\"},style:section===\"Transactions\"?{backgroundColor:\"blue\"}:{backgroundColor:\"white\"},onPress:function onPress(){localStorage.setItem(\"localScreen\",\"Transactions\");navigation.navigate(\"Transactions\");localStorage.setItem(\"settingsOn\",true);setsectionState(\"Transactions\");},title:\"Transaction\"}),_jsx(Button,{titleStyle:{color:\"black\",fontWeight:\"700\"},style:{backgroundColor:\"white\"},onPress:function onPress(){localStorage.removeItem(\"localScreen\");auth.signOut();},title:\"Logout\"}),_jsx(Button,{titleStyle:{color:\"black\",fontWeight:\"700\"},style:{backgroundColor:\"white\"},onPress:function onPress(){localStorage.removeItem(\"localScreen\");setsectionState();setSettings(false);localStorage.setItem(\"settingsOn\",false);},title:\"X\"})]});}return _jsxs(View,{style:{width:\"100%\",height:120,flexDirection:\"row\",alignItems:\"center\",justifyContent:\"space-evenly\",backgroundColor:\"red\"},children:[(_catalog$categories=catalog.categories)==null?void 0:_catalog$categories.map(function(category,index){if(!section&&index===0){return _jsx(Button,{titleStyle:{color:\"white\",fontWeight:\"700\"},style:{backgroundColor:\"blue\"},onPress:function onPress(){setsectionState(category);},title:category},index);}return _jsx(Button,{titleStyle:section===category?{color:\"white\",fontWeight:\"700\"}:{color:\"black\",fontWeight:\"700\"},style:section===category?{backgroundColor:\"blue\"}:{backgroundColor:\"white\"},onPress:function onPress(){setsectionState(category);localStorage.setItem(\"localScreen\",category);},title:category},index);}),_jsx(Button,{titleStyle:{color:\"black\",fontWeight:\"700\"},style:{backgroundColor:\"white\"},onPress:function onPress(){return setSettings(true);},title:\"Settings\"})]});};export default CustomHeader;","map":{"version":3,"names":["Button","React","useEffect","useState","auth","sectionState","setsectionState","userStoreState","CustomHeader","navigation","route","options","back","settings","setSettings","catalog","use","section","settingsOn","localStorage","getItem","width","height","flexDirection","alignItems","justifyContent","backgroundColor","color","fontWeight","setItem","navigate","removeItem","signOut","categories","map","category","index"],"sources":["/Users/peterputros/Desktop/PosMate-1/components/CustomHeader.tsx"],"sourcesContent":["import { Button } from \"@react-native-material/core\";\nimport React, { useEffect, useState } from \"react\";\nimport { TouchableOpacity, View, Text } from \"react-native\";\nimport { auth } from \"state/firebaseConfig\";\nimport { sectionState, setsectionState, userStoreState } from \"state/state\";\n// import { useNavigation } from \"react-navigation-hooks\";\n\nconst CustomHeader = ({ navigation, route, options, back }) => {\n  const [settings, setSettings] = useState(false);\n  const catalog = userStoreState.use();\n  const section = sectionState.use();\n\n  useEffect(() => {\n    //       const prevScreen = localStorage.getItem(\"localScreen\");\n    const settingsOn = localStorage.getItem(\"settingsOn\");\n    setSettings(settingsOn);\n    //     if (\n    //       section === \"EditCategories\" ||\n    //       section === \"EditProductList\" ||\n    //       section === \"EditWoocommerce\" ||\n    //       section === \"StoreDetails\" ||\n    //       section === \"Transactions\"\n    //     ) {\n    //       navigation.navigate(section);\n    //       //setSettings(true);\n    //       setsectionState(prevScreen);\n    //     } else {\n    //       //setSettings(false);\n    //       setsectionState(prevScreen);\n    //       navigation.navigate(\"Home\");\n    //     }\n    //   }, [settings, section]);\n  }, []);\n\n  if (settings == true) {\n    //edit settings menu\n    return (\n      <View\n        style={{\n          width: \"100%\",\n          height: 120,\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          justifyContent: \"space-evenly\",\n          backgroundColor: \"red\",\n        }}\n      >\n        <Button\n          titleStyle={\n            section === \"EditCategories\"\n              ? { color: \"white\", fontWeight: \"700\" }\n              : { color: \"black\", fontWeight: \"700\" }\n          }\n          style={\n            section === \"EditCategories\"\n              ? { backgroundColor: \"blue\" }\n              : { backgroundColor: \"white\" }\n          }\n          onPress={() => {\n            localStorage.setItem(\"localScreen\", \"EditCategories\");\n            localStorage.setItem(\"settingsOn\", true);\n            navigation.navigate(\"EditCategories\");\n            setsectionState(\"EditCategories\");\n          }}\n          title=\"Add Category\"\n        />\n        <Button\n          titleStyle={\n            section === \"EditProductList\"\n              ? { color: \"white\", fontWeight: \"700\" }\n              : { color: \"black\", fontWeight: \"700\" }\n          }\n          style={\n            section === \"EditProductList\"\n              ? { backgroundColor: \"blue\" }\n              : { backgroundColor: \"white\" }\n          }\n          onPress={() => {\n            localStorage.setItem(\"localScreen\", \"EditProductList\");\n            navigation.navigate(\"EditProductList\");\n            localStorage.setItem(\"settingsOn\", true);\n            setsectionState(\"EditProductList\");\n          }}\n          title=\"Add Product\"\n        />\n        <Button\n          titleStyle={\n            section === \"EditWoocommerce\"\n              ? { color: \"white\", fontWeight: \"700\" }\n              : { color: \"black\", fontWeight: \"700\" }\n          }\n          style={\n            section === \"EditWoocommerce\"\n              ? { backgroundColor: \"blue\" }\n              : { backgroundColor: \"white\" }\n          }\n          onPress={() => {\n            localStorage.setItem(\"localScreen\", \"EditWoocommerce\");\n            navigation.navigate(\"EditWoocommerce\");\n            localStorage.setItem(\"settingsOn\", true);\n            setsectionState(\"EditWoocommerce\");\n          }}\n          title=\"Woocommerce\"\n        />\n        <Button\n          titleStyle={\n            section === \"StoreDetails\"\n              ? { color: \"white\", fontWeight: \"700\" }\n              : { color: \"black\", fontWeight: \"700\" }\n          }\n          style={\n            section === \"StoreDetails\"\n              ? { backgroundColor: \"blue\" }\n              : { backgroundColor: \"white\" }\n          }\n          onPress={() => {\n            localStorage.setItem(\"localScreen\", \"StoreDetails\");\n            navigation.navigate(\"StoreDetails\");\n            localStorage.setItem(\"settingsOn\", true);\n            setsectionState(\"StoreDetails\");\n          }}\n          title=\"Store Details\"\n        />\n        <Button\n          titleStyle={\n            section === \"Transactions\"\n              ? { color: \"white\", fontWeight: \"700\" }\n              : { color: \"black\", fontWeight: \"700\" }\n          }\n          style={\n            section === \"Transactions\"\n              ? { backgroundColor: \"blue\" }\n              : { backgroundColor: \"white\" }\n          }\n          onPress={() => {\n            localStorage.setItem(\"localScreen\", \"Transactions\");\n            navigation.navigate(\"Transactions\");\n            localStorage.setItem(\"settingsOn\", true);\n            setsectionState(\"Transactions\");\n          }}\n          title=\"Transaction\"\n        />\n        <Button\n          titleStyle={{ color: \"black\", fontWeight: \"700\" }}\n          style={{ backgroundColor: \"white\" }}\n          onPress={() => {\n            localStorage.removeItem(\"localScreen\");\n            auth.signOut();\n          }}\n          title=\"Logout\"\n        />\n        <Button\n          titleStyle={{ color: \"black\", fontWeight: \"700\" }}\n          style={{ backgroundColor: \"white\" }}\n          onPress={() => {\n            localStorage.removeItem(\"localScreen\");\n            setsectionState();\n            setSettings(false);\n            localStorage.setItem(\"settingsOn\", false);\n          }}\n          title=\"X\"\n        />\n      </View>\n    );\n  }\n  return (\n    <View\n      style={{\n        width: \"100%\",\n        height: 120,\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"space-evenly\",\n        backgroundColor: \"red\",\n      }}\n    >\n      {catalog.categories?.map((category, index) => {\n        if (!section && index === 0) {\n          return (\n            <Button\n              key={index}\n              titleStyle={{ color: \"white\", fontWeight: \"700\" }}\n              style={{ backgroundColor: \"blue\" }}\n              onPress={() => {\n                setsectionState(category);\n              }}\n              title={category}\n            />\n          );\n        }\n\n        return (\n          <Button\n            key={index}\n            titleStyle={\n              section === category\n                ? { color: \"white\", fontWeight: \"700\" }\n                : { color: \"black\", fontWeight: \"700\" }\n            }\n            style={\n              section === category\n                ? { backgroundColor: \"blue\" }\n                : { backgroundColor: \"white\" }\n            }\n            onPress={() => {\n              setsectionState(category);\n              localStorage.setItem(\"localScreen\", category);\n            }}\n            title={category}\n          />\n        );\n      })}\n      <Button\n        titleStyle={{ color: \"black\", fontWeight: \"700\" }}\n        style={{ backgroundColor: \"white\" }}\n        onPress={() => setSettings(true)}\n        title=\"Settings\"\n      />\n    </View>\n  );\n};\n\nexport default CustomHeader;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}