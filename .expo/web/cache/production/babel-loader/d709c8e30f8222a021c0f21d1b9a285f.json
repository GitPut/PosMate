{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import FlatList from\"react-native-web/dist/exports/FlatList\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import React,{useState}from\"react\";import{Button,Text}from\"@react-native-material/core\";import{storeDetailState,woocommerceState}from\"../../state/state\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var tz=require(\"moment-timezone\");var ViewTransactions=function ViewTransactions(){var today=new Date();var storeDetails=storeDetailState.use();var wooCredentials=woocommerceState.use();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),transList=_useState2[0],settransList=_useState2[1];var _useState3=useState({todaysReceiptValue:0,todaysReceipts:0}),_useState4=_slicedToArray(_useState3,2),todaysDetails=_useState4[0],setTodaysDetails=_useState4[1];var PrintTodaysTotal=function PrintTodaysTotal(){var data=[\"\\x1B\"+\"\\x40\",\"\\x1B\"+\"\\x61\"+\"\\x31\",storeDetails.name,\"\\x0A\",storeDetails.address+\"\\x0A\",storeDetails.website+\"\\x0A\",storeDetails.phoneNumber+\"\\x0A\",today.toLocaleDateString()+\" \"+today.toLocaleTimeString()+\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x1B\"+\"\\x61\"+\"\\x30\",\"\\x0A\"+\"\\x0A\",\"Number Of Receipts: \"+todaysDetails.todaysReceipts+\"\\x0A\"+\"\\x0A\",\"Sub-Total: \"+\"$\"+(todaysDetails.todaysReceiptValue/1.13).toFixed(2)+\"\\x0A\"+\"\\x0A\",\"Tax: \"+\"$\"+(todaysDetails.todaysReceiptValue/1.13*0.13).toFixed(2)+\"\\x0A\"+\"\\x0A\",\"Total Including (13% Tax): \"+\"$\"+todaysDetails.todaysReceiptValue+\"\\x0A\"+\"\\x0A\",\"------------------------------------------\"+\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x1D\"+\"\\x56\"+\"\\x30\"];var qz=require(\"qz-tray\");qz.websocket.connect().then(function(){var config=qz.configs.create(storeDetails.comSelected);return qz.print(config,data);}).then(qz.websocket.disconnect).catch(function(err){console.error(err);});};var CleanupOps=function CleanupOps(metaList){var opsArray=[];metaList.forEach(function(op){var arrContaingMe=opsArray.filter(function(filterOp){return filterOp.key===op.key;});if(arrContaingMe.length>0){opsArray.forEach(function(opsArrItem,index){if(opsArrItem.key===op.key){opsArray[index].vals.push(op.value);}});}else{opsArray.push({key:op.key,vals:[op.value]});}});return opsArray;};return _jsxs(View,{style:styles.container,children:[_jsx(Text,{style:{textAlign:\"center\",margin:25},children:\"List Of Transactions\"}),_jsxs(View,{style:{flexDirection:\"row\",width:\"100%\",alignItems:\"center\",justifyContent:\"center\"},children:[_jsxs(Text,{style:{textAlign:\"center\",margin:25},children:[\"Todays Total Price: \",todaysDetails.todaysReceiptValue]}),_jsx(Button,{style:{height:40,alignItems:\"center\",justifyContent:\"center\"},title:\"Print Todays Receipts\",onPress:PrintTodaysTotal}),_jsxs(Text,{style:{textAlign:\"center\",margin:25},children:[\"Todays Total Receipts: \",todaysDetails.todaysReceipts]})]}),_jsx(View,{style:styles.contentContainer,children:transList?_jsx(FlatList,{maxToRenderPerBatch:6,data:transList,renderItem:function renderItem(_ref){var _element$cart,_element$line_items,_element$customer_not;var item=_ref.item,index=_ref.index;var element=item;var date;if(element.date_created){var dateString=element.date_created;var newDate=new Date(dateString+\"Z\");var targetTimezone=Intl.DateTimeFormat().resolvedOptions().timeZone;var result=tz(newDate).tz(targetTimezone,true).format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");date=result;}else if(element.date){var _newDate=new Date(element.date.seconds*1000);var _targetTimezone=Intl.DateTimeFormat().resolvedOptions().timeZone;var _result=tz(_newDate).tz(_targetTimezone,true).format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");date=_result;}return _jsxs(View,{style:{backgroundColor:\"white\",borderWidth:1,padding:30,margin:10},children:[_jsx(Text,{children:element.cart_hash?\"Online Order\":\"POS Order\"}),element.customer&&_jsxs(_Fragment,{children:[_jsx(Text,{children:element.customer.address?\"Delivery Order To: \"+element.customer.address:\"Pickup Order\"}),_jsxs(Text,{children:[\"Name: \",element.customer.name]}),_jsxs(Text,{children:[\"Phone Number: \",element.customer.phone]})]}),_jsx(Text,{style:{marginBottom:10},children:date}),(_element$cart=element.cart)==null?void 0:_element$cart.map(function(cartItem,index){var _cartItem$options;return _jsxs(View,{style:{marginBottom:20},children:[_jsxs(Text,{children:[\"Name: \",cartItem.name]}),_jsxs(Text,{children:[\"Quantity: \",cartItem.quantity]}),_jsxs(Text,{children:[\"Price: \",cartItem.price]}),cartItem.options&&((_cartItem$options=cartItem.options)==null?void 0:_cartItem$options.map(function(option){return _jsx(Text,{children:option});}))]},index);}),(_element$line_items=element.line_items)==null?void 0:_element$line_items.map(function(cartItem,index){return _jsxs(View,{style:{marginBottom:20},children:[_jsxs(Text,{children:[\"Name: \",cartItem.name]}),_jsxs(Text,{children:[\"Quantity: \",cartItem.quantity]}),_jsxs(Text,{children:[\"Price: \",cartItem.price]}),cartItem.meta&&CleanupOps(cartItem.meta).map(function(returnedItem){return _jsxs(View,{style:{flexDirection:\"row\"},children:[_jsxs(Text,{children:[returnedItem.key,\" : \"]}),returnedItem.vals.map(function(val,index){return _jsxs(Text,{children:[val,index>=0&&index<returnedItem.vals.length-1&&\", \"]});})]});})]},index);}),element.billing&&_jsxs(_Fragment,{children:[_jsx(Text,{children:\"Customer Details:\"}),_jsxs(Text,{children:[\"Address: \",element.shipping.address_1]}),_jsxs(Text,{children:[\"City: \",element.shipping.city]}),_jsxs(Text,{children:[\"Postal Code: \",element.shipping.postcode]}),_jsxs(Text,{children:[\"Province/State: \",element.shipping.state]}),_jsxs(Text,{children:[\"Name: \",element.shipping.first_name,\" \",element.shipping.last_name]}),element.shipping_lines.map(function(line){return _jsxs(Text,{children:[\"Shipping Method: \",line.method_title]});}),_jsxs(Text,{children:[\"Phone Number: \",element.billing.phone]}),((_element$customer_not=element.customer_note)==null?void 0:_element$customer_not.length)>0&&_jsxs(Text,{children:[\"Customer Note: \",element.customer_note]})]}),_jsx(Button,{title:\"Print\",style:{marginTop:10},onPress:function onPress(){if(element.date){var _element$cart2;var total=0;var data=[\"\\x1B\"+\"\\x40\",\"\\x1B\"+\"\\x61\"+\"\\x31\",storeDetails.name,\"\\x0A\",storeDetails.address+\"\\x0A\",storeDetails.website+\"\\x0A\",storeDetails.phoneNumber+\"\\x0A\",date+\"\\x0A\",\"\\x0A\",\"Transaction ID \"+element.transNum+\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x1B\"+\"\\x61\"+\"\\x30\"];(_element$cart2=element.cart)==null?void 0:_element$cart2.map(function(cartItem){total+=parseFloat(cartItem.price);data.push(\"Name: \"+cartItem.name);data.push(\"\\x0A\");data.push(\"Price: $\"+cartItem.price);if(cartItem.options){var _cartItem$options2;data.push(\"\\x0A\");(_cartItem$options2=cartItem.options)==null?void 0:_cartItem$options2.map(function(option){data.push(option);data.push(\"\\x0A\");});}data.push(\"\\x0A\"+\"\\x0A\");});total=total*1.13;total=total.toFixed(2);if(element.billing){data.push(\"Phone Number: \"+element.billing.phone);data.push(\"\\x0A\");}if(element.customer_note){data.push(\"Customer Note: \"+element.customer_note);data.push(\"\\x0A\");}data.push(\"\\x0A\",\"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\"+\"\\x0A\",\"\\x0A\"+\"\\x0A\",\"Total Including (13% Tax): \"+\"$\"+total+\"\\x0A\"+\"\\x0A\",\"------------------------------------------\"+\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x1D\"+\"\\x56\"+\"\\x30\");var qz=require(\"qz-tray\");qz.websocket.connect().then(function(){var config=qz.configs.create(storeDetails.comSelected);return qz.print(config,data);}).then(qz.websocket.disconnect).catch(function(err){console.error(err);});}else{var _element$line_items2;var printData=[];printData.push(\"\\x1B\"+\"\\x40\",\"\\x1B\"+\"\\x61\"+\"\\x31\",storeDetails.name,\"\\x0A\",storeDetails.address+\"\\x0A\",storeDetails.website+\"\\x0A\",storeDetails.phoneNumber+\"\\x0A\",date+\"\\x0A\",\"\\x0A\",\"Online Order\"+\"\\x0A\",\"Transaction ID \"+element.number+\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x1B\"+\"\\x61\"+\"\\x30\");(_element$line_items2=element.line_items)==null?void 0:_element$line_items2.map(function(cartItem){printData.push(\"\\x0A\");printData.push(\"Name: \"+cartItem.name);printData.push(\"\\x0A\");printData.push(\"Quantity: \"+cartItem.quantity);printData.push(\"\\x0A\");printData.push(\"Price: $\"+cartItem.price);printData.push(\"\\x0A\");if(cartItem.meta){CleanupOps(cartItem.meta).map(function(returnedItem){printData.push(returnedItem.key+\" : \");returnedItem.vals.map(function(val,index){printData.push(\"\"+val);if(index>=0&&index<returnedItem.vals.length-1){printData.push(\", \");}});printData.push(\"\\x0A\");});}else{printData.push(\"\\x0A\"+\"\\x0A\");}});printData.push(\"\\x0A\");printData.push(\"\\x0A\");printData.push(\"Customer Details:\");printData.push(\"\\x0A\");printData.push(\"Address: \"+element.shipping.address_1);printData.push(\"\\x0A\");printData.push(\"City: \"+element.shipping.city);printData.push(\"\\x0A\");printData.push(\"Zip/Postal Code: \"+element.shipping.postcode);printData.push(\"\\x0A\");printData.push(\"Province/State: \"+element.shipping.state);printData.push(\"\\x0A\");printData.push(\"Name: \"+element.shipping.first_name+\" \"+element.shipping.last_name);printData.push(\"\\x0A\");element.shipping_lines.map(function(line){printData.push(\"Shipping Method: \"+line.method_title);printData.push(\"\\x0A\");});if(element.billing){printData.push(\"Phone Number: \"+element.billing.phone);printData.push(\"\\x0A\");}if(element.customer_note){printData.push(\"Customer Note: \"+element.customer_note);printData.push(\"\\x0A\");}printData.push(\"\\x0A\");printData.push(\"\\x0A\");printData.push(\"\\x0A\",\"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\"+\"\\x0A\",\"\\x0A\"+\"\\x0A\",\"Payment Method: \"+element.payment_method_title+\"\\x0A\"+\"\\x0A\",\"Total Including (13% Tax): \"+\"$\"+element.total+\"\\x0A\"+\"\\x0A\",\"------------------------------------------\"+\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\");printData.push(\"\\x1D\"+\"\\x56\"+\"\\x00\");var _qz=require(\"qz-tray\");_qz.websocket.connect().then(function(){var config=_qz.configs.create(storeDetails.comSelected);return _qz.print(config,printData);}).then(_qz.websocket.disconnect).catch(function(err){console.error(err);});}}})]},index);}}):_jsx(Text,{children:\"No receipts yet\"})})]});};export default ViewTransactions;var styles=StyleSheet.create({container:{backgroundColor:\"white\",flex:1,height:\"100%\"},contentContainer:{flex:1,flexDirection:\"row\",flexWrap:\"wrap\",justifyContent:\"space-between\",paddingLeft:50,paddingRight:50,paddingBottom:50,height:\"100%\",width:\"100%\",alignItems:\"center\"}});","map":{"version":3,"names":["React","useState","Button","Text","storeDetailState","woocommerceState","tz","require","ViewTransactions","today","Date","storeDetails","use","wooCredentials","transList","settransList","todaysReceiptValue","todaysReceipts","todaysDetails","setTodaysDetails","PrintTodaysTotal","data","name","address","website","phoneNumber","toLocaleDateString","toLocaleTimeString","toFixed","qz","websocket","connect","then","config","configs","create","comSelected","print","disconnect","catch","err","console","error","CleanupOps","metaList","opsArray","forEach","op","arrContaingMe","filter","filterOp","key","length","opsArrItem","index","vals","push","value","styles","container","textAlign","margin","flexDirection","width","alignItems","justifyContent","height","contentContainer","item","element","date","date_created","dateString","newDate","targetTimezone","Intl","DateTimeFormat","resolvedOptions","timeZone","result","format","seconds","backgroundColor","borderWidth","padding","cart_hash","customer","phone","marginBottom","cart","map","cartItem","quantity","price","options","option","line_items","meta","returnedItem","val","billing","shipping","address_1","city","postcode","state","first_name","last_name","shipping_lines","line","method_title","customer_note","marginTop","total","transNum","parseFloat","printData","number","payment_method_title","StyleSheet","flex","flexWrap","paddingLeft","paddingRight","paddingBottom"],"sources":["/Users/peterputros/Desktop/PosMate/screens/authed/ViewTransactions.tsx"],"sourcesContent":["import { FlatList, ScrollView, StyleSheet, View } from \"react-native\";\nimport React, { useEffect, useLayoutEffect, useState } from \"react\";\nimport { Button, Text } from \"@react-native-material/core\";\nimport {\n  storeDetailState,\n  transListState,\n  woocommerceState,\n} from \"state/state\";\nimport { auth, db } from \"state/firebaseConfig\";\nconst tz = require(\"moment-timezone\");\n\nconst ViewTransactions = () => {\n  const today = new Date();\n  const storeDetails = storeDetailState.use();\n  const wooCredentials = woocommerceState.use();\n  const [transList, settransList] = useState([]);\n  const [todaysDetails, setTodaysDetails] = useState({\n    todaysReceiptValue: 0,\n    todaysReceipts: 0,\n  });\n\n  // useEffect(() => {\n  //   try {\n  //     db.collection(\"users\")\n  //       .doc(auth.currentUser?.uid)\n  //       .collection(\"transList\")\n  //       .get()\n  //       .then((querySnapshot) => {\n  //         querySnapshot.forEach((doc) => {\n  //           // doc.data() is never undefined for query doc snapshots\n  //           // console.log(doc.id, \" => \", doc.data());\n  //           settransList((prevState) => [...prevState, doc.data()]);\n  //           console.log(doc.data());\n  //         });\n  //       });\n  //   } catch {\n  //     console.log(\"Error occured retrieving tranasctions\");\n  //   }\n\n  //   if (wooCredentials.useWoocommerce === true) {\n  //     try {\n  //       const WooCommerceAPI = require(\"woocommerce-api\");\n\n  //       const WooCommerce = new WooCommerceAPI({\n  //         url: wooCredentials.apiUrl,\n  //         consumerKey: wooCredentials.ck,\n  //         consumerSecret: wooCredentials.cs,\n  //         wpAPI: true,\n  //         version: \"wc/v1\",\n  //       });\n\n  //       let page = 1;\n  //       let orders = [];\n\n  //       const getOrders = async () => {\n  //         const response = await WooCommerce.getAsync(\n  //           `orders?page=${page}&per_page=100`\n  //         );\n  //         const data = JSON.parse(response.body);\n  //         orders = [...orders, ...data];\n  //         if (data.length === 100) {\n  //           page++;\n  //           getOrders();\n  //         } else {\n  //           // console.log(orders);\n  //         }\n  //       };\n\n  //       getOrders()\n  //         .then(() => settransList((prevState) => [...prevState, ...orders]))\n  //         .catch((e) => console.log(\"error has occured\"));\n  //     } catch {\n  //       console.log(\"Something occured with woo\");\n  //     }\n  //   }\n  // }, []);\n\n  // useEffect(() => {\n  //   try {\n  //     if (transList.length > 0) {\n  //       settransList((prev) =>\n  //         prev\n  //           .sort(function (a, b) {\n  //             if (a.date && b.date) {\n  //               return a.date.seconds - b.date.seconds;\n  //             } else if (a.date && b.date_created) {\n  //               const targetTimezone =\n  //                 Intl.DateTimeFormat().resolvedOptions().timeZone;\n  //               const newDateA = new Date(a.date.seconds * 1000);\n  //               const newDateB = new Date(b.date_created + \"Z\");\n  //               const resultA = tz(newDateA).tz(targetTimezone, true);\n  //               const resultB = tz(newDateB).tz(targetTimezone, true);\n\n  //               return resultA.valueOf() - resultB.valueOf();\n  //             } else if (a.date_created && b.date) {\n  //               const targetTimezone =\n  //                 Intl.DateTimeFormat().resolvedOptions().timeZone;\n  //               const newDateA = new Date(a.date_created + \"Z\");\n  //               const newDateB = new Date(b.date.seconds * 1000);\n  //               const resultA = tz(newDateA).tz(targetTimezone, true);\n  //               const resultB = tz(newDateB).tz(targetTimezone, true);\n\n  //               return resultA.valueOf() - resultB.valueOf();\n  //             } else {\n  //               const targetTimezone =\n  //                 Intl.DateTimeFormat().resolvedOptions().timeZone;\n  //               const newDateA = new Date(a.date_created + \"Z\");\n  //               const newDateB = new Date(b.date_created + \"Z\");\n  //               const resultA = tz(newDateA).tz(targetTimezone, true);\n  //               const resultB = tz(newDateB).tz(targetTimezone, true);\n\n  //               return resultA.valueOf() - resultB.valueOf();\n  //             }\n  //           })\n  //           .reverse()\n  //       );\n  //       // settransList(sortedTransList);\n  //       const todaysReceiptValue = transList.reduce((accumulator, current) => {\n  //         let date;\n  //         const targetTimezone =\n  //           Intl.DateTimeFormat().resolvedOptions().timeZone;\n  //         if (current.date) {\n  //           const localDatePreConv = new Date(current.date.seconds * 1000);\n  //           date = tz(localDatePreConv).tz(targetTimezone, true);\n  //         } else {\n  //           const localDatePreConv = new Date(current.date_created + \"Z\");\n  //           date = tz(localDatePreConv).tz(targetTimezone, true);\n  //         }\n  //         // Get the current date in the desired time zone\n  //         let today = tz().tz(targetTimezone);\n\n  //         if (\n  //           today.year() === date.year() &&\n  //           today.month() === date.month() &&\n  //           today.dayOfYear() === date.dayOfYear()\n  //         ) {\n  //           return (\n  //             accumulator +\n  //             parseFloat(current.date ? current.total : current.total / 1.13)\n  //           );\n  //         } else {\n  //           return accumulator;\n  //         }\n  //       }, 0);\n  //       const todaysReceipts = transList.reduce((accumulator, current) => {\n  //         let date;\n  //         const targetTimezone =\n  //           Intl.DateTimeFormat().resolvedOptions().timeZone;\n  //         if (current.date) {\n  //           const localDatePreConv = new Date(current.date.seconds * 1000);\n  //           date = tz(localDatePreConv).tz(targetTimezone, true);\n  //         } else {\n  //           const localDatePreConv = new Date(current.date_created + \"Z\");\n  //           date = tz(localDatePreConv).tz(targetTimezone, true);\n  //         }\n  //         // Get the current date in the desired time zone\n  //         let today = tz().tz(targetTimezone);\n\n  //         if (\n  //           today.year() === date.year() &&\n  //           today.month() === date.month() &&\n  //           today.dayOfYear() === date.dayOfYear()\n  //         ) {\n  //           return accumulator + 1;\n  //         } else {\n  //           return accumulator;\n  //         }\n  //       }, 0);\n  //       setTodaysDetails({\n  //         todaysReceiptValue: todaysReceiptValue.toFixed(2),\n  //         todaysReceipts: todaysReceipts,\n  //       });\n  //     }\n  //   } catch {\n  //     console.log(\"Error Occured when sorting dates\");\n  //   }\n  // }, [transList]);\n\n  const PrintTodaysTotal = () => {\n    let data = [\n      \"\\x1B\" + \"\\x40\", // init\n      \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n      storeDetails.name,\n      \"\\x0A\",\n      storeDetails.address + \"\\x0A\",\n      storeDetails.website + \"\\x0A\", // text and line break\n      storeDetails.phoneNumber + \"\\x0A\", // text and line break\n      today.toLocaleDateString() + \" \" + today.toLocaleTimeString() + \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\n      \"\\x0A\" + \"\\x0A\",\n      \"Number Of Receipts: \" + todaysDetails.todaysReceipts + \"\\x0A\" + \"\\x0A\",\n      \"Sub-Total: \" +\n        \"$\" +\n        (todaysDetails.todaysReceiptValue / 1.13).toFixed(2) +\n        \"\\x0A\" +\n        \"\\x0A\",\n      \"Tax: \" +\n        \"$\" +\n        ((todaysDetails.todaysReceiptValue / 1.13) * 0.13).toFixed(2) +\n        \"\\x0A\" +\n        \"\\x0A\",\n      \"Total Including (13% Tax): \" +\n        \"$\" +\n        todaysDetails.todaysReceiptValue +\n        \"\\x0A\" +\n        \"\\x0A\",\n      \"------------------------------------------\" + \"\\x0A\",\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x1D\" + \"\\x56\" + \"\\x30\",\n    ];\n\n    const qz = require(\"qz-tray\");\n    qz.websocket\n      .connect()\n      .then(function () {\n        let config = qz.configs.create(storeDetails.comSelected);\n        return qz.print(config, data);\n      })\n      .then(qz.websocket.disconnect)\n      .catch(function (err) {\n        console.error(err);\n      });\n\n    // fetch(\"http://localhost:8080/print\", {\n    //   method: \"POST\",\n    //   headers: {\n    //     \"Content-Type\": \"application/json\",\n    //   },\n    //   body: JSON.stringify({\n    //     printData: data,\n    //     comSelected: storeDetails.comSelected,\n    //   }),\n    // })\n    //   .then((response) => response.json())\n    //   .then((respData) => {\n    //     console.log(respData);\n    //   })\n    //   .catch((e) => alert(\"Error with printer\"));\n  };\n\n  const CleanupOps = (metaList) => {\n    const opsArray = [];\n\n    metaList.forEach((op) => {\n      const arrContaingMe = opsArray.filter(\n        (filterOp) => filterOp.key === op.key\n      );\n\n      if (arrContaingMe.length > 0) {\n        opsArray.forEach((opsArrItem, index) => {\n          if (opsArrItem.key === op.key) {\n            opsArray[index].vals.push(op.value);\n          }\n        });\n      } else {\n        opsArray.push({ key: op.key, vals: [op.value] });\n      }\n    });\n    return opsArray;\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={{ textAlign: \"center\", margin: 25 }}>\n        List Of Transactions\n      </Text>\n      <View\n        style={{\n          flexDirection: \"row\",\n          width: \"100%\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <Text style={{ textAlign: \"center\", margin: 25 }}>\n          Todays Total Price: {todaysDetails.todaysReceiptValue}\n        </Text>\n        <Button\n          style={{ height: 40, alignItems: \"center\", justifyContent: \"center\" }}\n          title=\"Print Todays Receipts\"\n          onPress={PrintTodaysTotal}\n        />\n        <Text style={{ textAlign: \"center\", margin: 25 }}>\n          Todays Total Receipts: {todaysDetails.todaysReceipts}\n        </Text>\n      </View>\n      <View style={styles.contentContainer}>\n        {transList ? (\n          <FlatList\n            maxToRenderPerBatch={6}\n            data={transList}\n            renderItem={({ item, index }) => {\n              const element = item;\n              let date;\n\n              if (element.date_created) {\n                const dateString = element.date_created;\n\n                const newDate = new Date(dateString + \"Z\");\n\n                const targetTimezone =\n                  Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n                const result = tz(newDate)\n                  .tz(targetTimezone, true)\n                  .format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n\n                date = result;\n              } else if (element.date) {\n                const newDate = new Date(element.date.seconds * 1000);\n                const targetTimezone =\n                  Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n                const result = tz(newDate)\n                  .tz(targetTimezone, true)\n                  .format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n\n                date = result;\n              }\n\n              return (\n                <View\n                  style={{\n                    backgroundColor: \"white\",\n                    borderWidth: 1,\n                    padding: 30,\n                    margin: 10,\n                  }}\n                  key={index}\n                >\n                  <Text>\n                    {element.cart_hash ? \"Online Order\" : \"POS Order\"}\n                  </Text>\n                  {element.customer && (\n                    <>\n                      <Text>\n                        {element.customer.address\n                          ? `Delivery Order To: ${element.customer.address}`\n                          : \"Pickup Order\"}\n                      </Text>\n                      <Text>Name: {element.customer.name}</Text>\n                      <Text>Phone Number: {element.customer.phone}</Text>\n                    </>\n                  )}\n                  <Text style={{ marginBottom: 10 }}>{date}</Text>\n                  {element.cart?.map((cartItem, index) => (\n                    <View style={{ marginBottom: 20 }} key={index}>\n                      <Text>Name: {cartItem.name}</Text>\n                      <Text>Quantity: {cartItem.quantity}</Text>\n                      <Text>Price: {cartItem.price}</Text>\n                      {cartItem.options &&\n                        cartItem.options?.map((option) => (\n                          <Text>{option}</Text>\n                        ))}\n                    </View>\n                  ))}\n                  {element.line_items?.map((cartItem, index) => (\n                    <View style={{ marginBottom: 20 }} key={index}>\n                      <Text>Name: {cartItem.name}</Text>\n                      <Text>Quantity: {cartItem.quantity}</Text>\n                      <Text>Price: {cartItem.price}</Text>\n                      {cartItem.meta &&\n                        CleanupOps(cartItem.meta).map((returnedItem) => (\n                          <View style={{ flexDirection: \"row\" }}>\n                            <Text>{returnedItem.key} : </Text>\n                            {returnedItem.vals.map((val, index) => (\n                              <Text>\n                                {val}\n                                {index >= 0 &&\n                                  index < returnedItem.vals.length - 1 &&\n                                  \", \"}\n                              </Text>\n                            ))}\n                          </View>\n                        ))}\n                    </View>\n                  ))}\n                  {element.billing && (\n                    <>\n                      <Text>Customer Details:</Text>\n                      <Text>Address: {element.shipping.address_1}</Text>\n                      <Text>City: {element.shipping.city}</Text>\n                      <Text>Postal Code: {element.shipping.postcode}</Text>\n                      <Text>Province/State: {element.shipping.state}</Text>\n                      <Text>\n                        Name: {element.shipping.first_name}{\" \"}\n                        {element.shipping.last_name}\n                      </Text>\n                      {element.shipping_lines.map((line) => (\n                        <Text>Shipping Method: {line.method_title}</Text>\n                      ))}\n                      <Text>Phone Number: {element.billing.phone}</Text>\n                      {element.customer_note?.length > 0 && (\n                        <Text>Customer Note: {element.customer_note}</Text>\n                      )}\n                    </>\n                  )}\n                  <Button\n                    title=\"Print\"\n                    style={{ marginTop: 10 }}\n                    onPress={() => {\n                      if (element.date) {\n                        let total = 0;\n\n                        let data = [\n                          \"\\x1B\" + \"\\x40\", // init\n                          \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n                          storeDetails.name,\n                          \"\\x0A\",\n                          storeDetails.address + \"\\x0A\",\n                          storeDetails.website + \"\\x0A\", // text and line break\n                          storeDetails.phoneNumber + \"\\x0A\", // text and line break\n                          date + \"\\x0A\",\n                          \"\\x0A\",\n                          `Transaction ID ${element.transNum}` + \"\\x0A\",\n                          \"\\x0A\",\n                          \"\\x0A\",\n                          \"\\x0A\",\n                          \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\n                        ];\n\n                        element.cart?.map((cartItem) => {\n                          total += parseFloat(cartItem.price);\n                          data.push(`Name: ${cartItem.name}`);\n                          data.push(\"\\x0A\");\n                          data.push(`Price: $${cartItem.price}`);\n\n                          if (cartItem.options) {\n                            data.push(\"\\x0A\");\n                            cartItem.options?.map((option) => {\n                              data.push(option);\n                              data.push(\"\\x0A\");\n                            });\n                          }\n                          data.push(\"\\x0A\" + \"\\x0A\");\n                        });\n\n                        total = total * 1.13;\n                        total = total.toFixed(2);\n\n                        if (element.billing) {\n                          data.push(`Phone Number: ${element.billing.phone}`);\n                          data.push(\"\\x0A\");\n                        }\n\n                        if (element.customer_note) {\n                          data.push(`Customer Note: ${element.customer_note}`);\n                          data.push(\"\\x0A\");\n                        }\n\n                        //push ending\n                        data.push(\n                          \"\\x0A\",\n                          \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n                          \"\\x0A\" + \"\\x0A\",\n                          \"Total Including (13% Tax): \" +\n                            \"$\" +\n                            total +\n                            \"\\x0A\" +\n                            \"\\x0A\",\n                          \"------------------------------------------\" + \"\\x0A\",\n                          \"\\x0A\", // line break\n                          \"\\x0A\", // line break\n                          \"\\x0A\", // line break\n                          \"\\x0A\", // line break\n                          \"\\x0A\", // line break\n                          \"\\x0A\", // line break\n                          //\"\\x1D\" + \"\\x56\" + \"\\x00\",\n                          \"\\x1D\" + \"\\x56\" + \"\\x30\"\n                        );\n\n                        const qz = require(\"qz-tray\");\n                        qz.websocket\n                          .connect()\n                          .then(function () {\n                            let config = qz.configs.create(\n                              storeDetails.comSelected\n                            );\n                            return qz.print(config, data);\n                          })\n                          .then(qz.websocket.disconnect)\n                          .catch(function (err) {\n                            console.error(err);\n                          });\n                        // fetch(\"http://localhost:8080/print\", {\n                        //   method: \"POST\",\n                        //   headers: {\n                        //     \"Content-Type\": \"application/json\",\n                        //   },\n                        //   body: JSON.stringify({\n                        //     printData: data,\n                        //     comSelected: storeDetails.comSelected,\n                        //   }),\n                        // })\n                        //   .then((response) => response.json())\n                        //   .then((respData) => {\n                        //     console.log(respData);\n                        //   })\n                        //   .catch((e) => alert(\"Error with printer\"));\n                      } else {\n                        const printData = [];\n\n                        printData.push(\n                          \"\\x1B\" + \"\\x40\", // init\n                          \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n                          storeDetails.name,\n                          \"\\x0A\",\n                          storeDetails.address + \"\\x0A\",\n                          storeDetails.website + \"\\x0A\", // text and line break\n                          storeDetails.phoneNumber + \"\\x0A\", // text and line break\n                          date + \"\\x0A\",\n                          \"\\x0A\",\n                          \"Online Order\" + \"\\x0A\", // text and line break\n                          `Transaction ID ${element.number}` + \"\\x0A\",\n                          \"\\x0A\",\n                          \"\\x0A\",\n                          \"\\x0A\",\n                          \"\\x1B\" + \"\\x61\" + \"\\x30\" // left align\n                        );\n\n                        element.line_items?.map((cartItem) => {\n                          printData.push(\"\\x0A\");\n                          printData.push(`Name: ${cartItem.name}`);\n                          printData.push(\"\\x0A\");\n                          printData.push(`Quantity: ${cartItem.quantity}`);\n                          printData.push(\"\\x0A\");\n                          printData.push(`Price: $${cartItem.price}`);\n                          printData.push(\"\\x0A\");\n\n                          if (cartItem.meta) {\n                            CleanupOps(cartItem.meta).map((returnedItem) => {\n                              printData.push(`${returnedItem.key} : `);\n                              returnedItem.vals.map((val, index) => {\n                                printData.push(`${val}`);\n                                if (\n                                  index >= 0 &&\n                                  index < returnedItem.vals.length - 1\n                                ) {\n                                  printData.push(\", \");\n                                }\n                              });\n                              printData.push(\"\\x0A\");\n                            });\n                          } else {\n                            printData.push(\"\\x0A\" + \"\\x0A\");\n                          }\n                        });\n\n                        printData.push(\"\\x0A\");\n                        printData.push(\"\\x0A\");\n                        printData.push(`Customer Details:`);\n                        printData.push(\"\\x0A\");\n                        printData.push(\n                          `Address: ${element.shipping.address_1}`\n                        );\n                        printData.push(\"\\x0A\");\n                        printData.push(`City: ${element.shipping.city}`);\n                        printData.push(\"\\x0A\");\n                        printData.push(\n                          `Zip/Postal Code: ${element.shipping.postcode}`\n                        );\n                        printData.push(\"\\x0A\");\n                        printData.push(\n                          `Province/State: ${element.shipping.state}`\n                        );\n                        printData.push(\"\\x0A\");\n                        printData.push(\n                          `Name: ${element.shipping.first_name} ${element.shipping.last_name}`\n                        );\n                        printData.push(\"\\x0A\");\n                        element.shipping_lines.map((line) => {\n                          printData.push(\n                            `Shipping Method: ${line.method_title}`\n                          );\n                          printData.push(\"\\x0A\");\n                        });\n                        if (element.billing) {\n                          printData.push(\n                            `Phone Number: ${element.billing.phone}`\n                          );\n                          printData.push(\"\\x0A\");\n                        }\n                        if (element.customer_note) {\n                          printData.push(\n                            `Customer Note: ${element.customer_note}`\n                          );\n                          printData.push(\"\\x0A\");\n                        }\n                        printData.push(\"\\x0A\");\n                        printData.push(\"\\x0A\");\n\n                        printData.push(\n                          \"\\x0A\",\n                          \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n                          \"\\x0A\" + \"\\x0A\",\n                          \"Payment Method: \" +\n                            element.payment_method_title +\n                            \"\\x0A\" +\n                            \"\\x0A\",\n                          \"Total Including (13% Tax): \" +\n                            \"$\" +\n                            element.total +\n                            \"\\x0A\" +\n                            \"\\x0A\",\n                          \"------------------------------------------\" + \"\\x0A\",\n                          \"\\x0A\", // line break\n                          \"\\x0A\", // line break\n                          \"\\x0A\", // line break\n                          \"\\x0A\", // line break\n                          \"\\x0A\", // line break\n                          \"\\x0A\" // line break\n                        );\n\n                        printData.push(\"\\x1D\" + \"\\x56\" + \"\\x00\");\n\n                        const qz = require(\"qz-tray\");\n                        qz.websocket\n                          .connect()\n                          .then(function () {\n                            let config = qz.configs.create(\n                              storeDetails.comSelected\n                            );\n                            return qz.print(config, printData);\n                          })\n                          .then(qz.websocket.disconnect)\n                          .catch(function (err) {\n                            console.error(err);\n                          });\n\n                        // fetch(\"http://localhost:8080/print\", {\n                        //   method: \"POST\",\n                        //   headers: {\n                        //     \"Content-Type\": \"application/json\",\n                        //   },\n                        //   body: JSON.stringify({\n                        //     printData: printData,\n                        //     comSelected: storeDetails.comSelected,\n                        //   }),\n                        // })\n                        //   .then((response) => response.json())\n                        //   .then((respData) => {\n                        //     console.log(respData);\n                        //   })\n                        //   .catch((e) => alert(\"Error with printer\"));\n                      }\n                    }}\n                  />\n                </View>\n              );\n            }}\n          />\n        ) : (\n          <Text>No receipts yet</Text>\n        )}\n      </View>\n    </View>\n  );\n};\n\nexport default ViewTransactions;\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"white\",\n    flex: 1,\n    height: \"100%\",\n  },\n  contentContainer: {\n    flex: 1,\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-between\",\n    paddingLeft: 50,\n    paddingRight: 50,\n    paddingBottom: 50,\n    height: \"100%\",\n    width: \"100%\",\n    alignItems: \"center\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}