{"ast":null,"code":"import{auth,db}from\"./firebaseConfig\";export var signIn=function signIn(email,password){return auth.signInWithEmailAndPassword(email,password);};export var signUp=function signUp(email,password,name,phoneNumber){return auth.createUserWithEmailAndPassword(email,password).then(function(userAuth){if(userAuth.user){db.collection(\"users\").doc(userAuth.user.uid).set({products:[],categories:[],wooCredentials:{ck:null,cs:null,useWoocommerce:false},storeDetails:{name:null,address:null,phoneNumber:null,website:null,comSelected:null,deliveryPrice:null},ownerDetails:{name:name,address:null,phoneNumber:phoneNumber,email:email}});}}).catch(function(e){return console.log(e);});};export var updateData=function updateData(categories,products){var _auth$currentUser;db.collection(\"users\").doc((_auth$currentUser=auth.currentUser)==null?void 0:_auth$currentUser.uid).update({products:products,categories:categories}).catch(function(e){return console.log(\"ERROR HAS OCCURE FB: \",e);});};export var updateWooCredentials=function updateWooCredentials(wooCredentials){var _auth$currentUser2;db.collection(\"users\").doc((_auth$currentUser2=auth.currentUser)==null?void 0:_auth$currentUser2.uid).update({wooCredentials:wooCredentials});};export var updateTransList=function updateTransList(reciept){var _auth$currentUser3;db.collection(\"users\").doc((_auth$currentUser3=auth.currentUser)==null?void 0:_auth$currentUser3.uid).collection(\"transList\").add(reciept);};export var updateStoreDetails=function updateStoreDetails(storeDetails){var _auth$currentUser4;db.collection(\"users\").doc((_auth$currentUser4=auth.currentUser)==null?void 0:_auth$currentUser4.uid).update({storeDetails:storeDetails});};export var updateFreeTrial=function updateFreeTrial(endDate){var _auth$currentUser5;db.collection(\"users\").doc((_auth$currentUser5=auth.currentUser)==null?void 0:_auth$currentUser5.uid).update({freeTrial:endDate});};export var logout=function logout(){return auth.signOut();};export var addCustomerDetailsToDb=function addCustomerDetailsToDb(customer){var _auth$currentUser6;return db.collection(\"users\").doc((_auth$currentUser6=auth.currentUser)==null?void 0:_auth$currentUser6.uid).collection(\"customers\").add(customer);};","map":{"version":3,"names":["auth","db","signIn","email","password","signInWithEmailAndPassword","signUp","name","phoneNumber","createUserWithEmailAndPassword","then","userAuth","user","collection","doc","uid","set","products","categories","wooCredentials","ck","cs","useWoocommerce","storeDetails","address","website","comSelected","deliveryPrice","ownerDetails","catch","e","console","log","updateData","currentUser","update","updateWooCredentials","updateTransList","reciept","add","updateStoreDetails","updateFreeTrial","endDate","freeTrial","logout","signOut","addCustomerDetailsToDb","customer"],"sources":["/Users/peterputros/Desktop/PosMate/state/firebaseFunctions.ts"],"sourcesContent":["import { auth, db } from \"./firebaseConfig\";\n\nexport const signIn = (email, password) =>\n  auth.signInWithEmailAndPassword(email, password);\n\nexport const signUp = (email, password, name, phoneNumber) =>\n  auth\n    .createUserWithEmailAndPassword(email, password)\n    .then((userAuth) => {\n      if (userAuth.user) {\n        db.collection(\"users\")\n          .doc(userAuth.user.uid)\n          .set({\n            products: [],\n            categories: [],\n            wooCredentials: { ck: null, cs: null, useWoocommerce: false },\n            storeDetails: {\n              name: null,\n              address: null,\n              phoneNumber: null,\n              website: null,\n              comSelected: null,\n              deliveryPrice: null,\n            },\n            ownerDetails: {\n              name: name,\n              address: null,\n              phoneNumber: phoneNumber,\n              email: email,\n            },\n            //company name\n            //adddress\n            //etc\n          });\n      }\n    })\n    .catch((e) => console.log(e));\n\nexport const updateData = (categories, products) => {\n  db.collection(\"users\")\n    .doc(auth.currentUser?.uid)\n    .update({\n      products: products,\n      categories: categories,\n    })\n    .catch((e) => console.log(\"ERROR HAS OCCURE FB: \", e));\n};\n\nexport const updateWooCredentials = (wooCredentials) => {\n  db.collection(\"users\").doc(auth.currentUser?.uid).update({\n    wooCredentials: wooCredentials,\n  });\n};\n\nexport const updateTransList = (reciept) => {\n  db.collection(\"users\")\n    .doc(auth.currentUser?.uid)\n    .collection(\"transList\")\n    .add(reciept);\n};\n\nexport const updateStoreDetails = (storeDetails) => {\n  db.collection(\"users\").doc(auth.currentUser?.uid).update({\n    storeDetails: storeDetails,\n  });\n};\n\nexport const updateFreeTrial = (endDate) => {\n  db.collection(\"users\").doc(auth.currentUser?.uid).update({\n    freeTrial: endDate,\n  });\n};\n\nexport const logout = () => auth.signOut();\n\nexport const addCustomerDetailsToDb = (customer) =>\n  db\n    .collection(\"users\")\n    .doc(auth.currentUser?.uid)\n    .collection(\"customers\")\n    .add(customer);\n"],"mappings":"AAAA,OAASA,IAAI,CAAEC,EAAE,wBAEjB,MAAO,IAAMC,OAAM,CAAG,QAATA,OAAM,CAAIC,KAAK,CAAEC,QAAQ,QACpCJ,KAAI,CAACK,0BAA0B,CAACF,KAAK,CAAEC,QAAQ,CAAC,GAElD,MAAO,IAAME,OAAM,CAAG,QAATA,OAAM,CAAIH,KAAK,CAAEC,QAAQ,CAAEG,IAAI,CAAEC,WAAW,QACvDR,KAAI,CACDS,8BAA8B,CAACN,KAAK,CAAEC,QAAQ,CAAC,CAC/CM,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,GAAIA,QAAQ,CAACC,IAAI,CAAE,CACjBX,EAAE,CAACY,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,CAACH,QAAQ,CAACC,IAAI,CAACG,GAAG,CAAC,CACtBC,GAAG,CAAC,CACHC,QAAQ,CAAE,EAAE,CACZC,UAAU,CAAE,EAAE,CACdC,cAAc,CAAE,CAAEC,EAAE,CAAE,IAAI,CAAEC,EAAE,CAAE,IAAI,CAAEC,cAAc,CAAE,KAAM,CAAC,CAC7DC,YAAY,CAAE,CACZhB,IAAI,CAAE,IAAI,CACViB,OAAO,CAAE,IAAI,CACbhB,WAAW,CAAE,IAAI,CACjBiB,OAAO,CAAE,IAAI,CACbC,WAAW,CAAE,IAAI,CACjBC,aAAa,CAAE,IACjB,CAAC,CACDC,YAAY,CAAE,CACZrB,IAAI,CAAEA,IAAI,CACViB,OAAO,CAAE,IAAI,CACbhB,WAAW,CAAEA,WAAW,CACxBL,KAAK,CAAEA,KACT,CAIF,CAAC,CAAC,CACN,CACF,CAAC,CAAC,CACD0B,KAAK,CAAC,SAACC,CAAC,QAAKC,QAAO,CAACC,GAAG,CAACF,CAAC,CAAC,GAAC,GAEjC,MAAO,IAAMG,WAAU,CAAG,QAAbA,WAAU,CAAIf,UAAU,CAAED,QAAQ,CAAK,uBAClDhB,EAAE,CAACY,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,oBAACd,IAAI,CAACkC,WAAW,eAAhB,kBAAkBnB,GAAG,CAAC,CAC1BoB,MAAM,CAAC,CACNlB,QAAQ,CAAEA,QAAQ,CAClBC,UAAU,CAAEA,UACd,CAAC,CAAC,CACDW,KAAK,CAAC,SAACC,CAAC,QAAKC,QAAO,CAACC,GAAG,CAAC,uBAAuB,CAAEF,CAAC,CAAC,GAAC,CAC1D,CAAC,CAED,MAAO,IAAMM,qBAAoB,CAAG,QAAvBA,qBAAoB,CAAIjB,cAAc,CAAK,wBACtDlB,EAAE,CAACY,UAAU,CAAC,OAAO,CAAC,CAACC,GAAG,qBAACd,IAAI,CAACkC,WAAW,eAAhB,mBAAkBnB,GAAG,CAAC,CAACoB,MAAM,CAAC,CACvDhB,cAAc,CAAEA,cAClB,CAAC,CAAC,CACJ,CAAC,CAED,MAAO,IAAMkB,gBAAe,CAAG,QAAlBA,gBAAe,CAAIC,OAAO,CAAK,wBAC1CrC,EAAE,CAACY,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,qBAACd,IAAI,CAACkC,WAAW,eAAhB,mBAAkBnB,GAAG,CAAC,CAC1BF,UAAU,CAAC,WAAW,CAAC,CACvB0B,GAAG,CAACD,OAAO,CAAC,CACjB,CAAC,CAED,MAAO,IAAME,mBAAkB,CAAG,QAArBA,mBAAkB,CAAIjB,YAAY,CAAK,wBAClDtB,EAAE,CAACY,UAAU,CAAC,OAAO,CAAC,CAACC,GAAG,qBAACd,IAAI,CAACkC,WAAW,eAAhB,mBAAkBnB,GAAG,CAAC,CAACoB,MAAM,CAAC,CACvDZ,YAAY,CAAEA,YAChB,CAAC,CAAC,CACJ,CAAC,CAED,MAAO,IAAMkB,gBAAe,CAAG,QAAlBA,gBAAe,CAAIC,OAAO,CAAK,wBAC1CzC,EAAE,CAACY,UAAU,CAAC,OAAO,CAAC,CAACC,GAAG,qBAACd,IAAI,CAACkC,WAAW,eAAhB,mBAAkBnB,GAAG,CAAC,CAACoB,MAAM,CAAC,CACvDQ,SAAS,CAAED,OACb,CAAC,CAAC,CACJ,CAAC,CAED,MAAO,IAAME,OAAM,CAAG,QAATA,OAAM,SAAS5C,KAAI,CAAC6C,OAAO,EAAE,GAE1C,MAAO,IAAMC,uBAAsB,CAAG,QAAzBA,uBAAsB,CAAIC,QAAQ,+BAC7C9C,GAAE,CACCY,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,qBAACd,IAAI,CAACkC,WAAW,eAAhB,mBAAkBnB,GAAG,CAAC,CAC1BF,UAAU,CAAC,WAAW,CAAC,CACvB0B,GAAG,CAACQ,QAAQ,CAAC"},"metadata":{},"sourceType":"module"}