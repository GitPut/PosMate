{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import{entity}from\"simpler-state\";export var userState=entity(null);export var setUserState=function setUserState(val){userState.set(val);};export var cartState=entity([]);export var setCartState=function setCartState(val){cartState.set(val);};export var addCartState=function addCartState(val,currentState){var doesExist=currentState.findIndex(function(item){return item.name===val.name&&JSON.stringify(item.options)===JSON.stringify(val.options);});console.log(\"Does exist? \",doesExist,\" Cart: \",currentState,\" Val: \",val);if(doesExist!==-1){var newState=currentState.map(function(item){var copyItem=_objectSpread({},item);delete copyItem.quantity;if(JSON.stringify(copyItem)===JSON.stringify(val)){return _objectSpread(_objectSpread({},item),{},{quantity:item.quantity?item.quantity+1:2});}else{return item;}});cartState.set(newState);}else{cartState.set(function(prevState){return[].concat(_toConsumableArray(prevState),[val]);});}};export var userStoreState=entity({products:[],categories:[]});export var setUserStoreState=function setUserStoreState(val){console.log(\"Setting user store state: \",val);userStoreState.set(val);};export var transListState=entity([]);export var setTransListState=function setTransListState(val){transListState.set(val);};export var woocommerceState=entity({apiUrl:\"\",ck:\"\",cs:\"\",useWoocommerce:false});export var setWoocommerceState=function setWoocommerceState(val){woocommerceState.set(val);};export var storeDetailState=entity({name:\"\",address:\"\",phoneNumber:\"\",website:\"\",comSelected:\"\",deliveryPrice:\"\",settingsPassword:\"\",taxRate:\"\"});export var setStoreDetailState=function setStoreDetailState(val){storeDetailState.set(val);};export var trialDetailsState=entity({endDate:null,hasEnded:null});export var setTrialDetailsState=function setTrialDetailsState(val){trialDetailsState.set(val);};export var tutorialDetailsState=entity({complete:null,step:null});export var setTutorialDetailsState=function setTutorialDetailsState(val){tutorialDetailsState.set(val);};export var isSignedInSettingsState=entity(false);export var setIsSignedInSettingsState=function setIsSignedInSettingsState(val){isSignedInSettingsState.set(val);};export var selectedProductState=entity({});export var setSelectedProductState=function setSelectedProductState(val){selectedProductState.set(val);};","map":{"version":3,"names":["entity","userState","setUserState","val","set","cartState","setCartState","addCartState","currentState","doesExist","findIndex","item","name","JSON","stringify","options","console","log","newState","map","copyItem","quantity","prevState","userStoreState","products","categories","setUserStoreState","transListState","setTransListState","woocommerceState","apiUrl","ck","cs","useWoocommerce","setWoocommerceState","storeDetailState","address","phoneNumber","website","comSelected","deliveryPrice","settingsPassword","taxRate","setStoreDetailState","trialDetailsState","endDate","hasEnded","setTrialDetailsState","tutorialDetailsState","complete","step","setTutorialDetailsState","isSignedInSettingsState","setIsSignedInSettingsState","selectedProductState","setSelectedProductState"],"sources":["/Users/peterputros/Desktop/PosMate/state/state.ts"],"sourcesContent":["import { entity } from \"simpler-state\";\n\nexport const userState = entity(null);\n\nexport const setUserState = (val) => {\n  userState.set(val);\n};\n\nexport const cartState = entity([]);\n\nexport const setCartState = (val) => {\n  cartState.set(val);\n};\n\nexport const addCartState = (val, currentState) => {\n  const doesExist = currentState.findIndex(\n    (item) =>\n      item.name === val.name &&\n      JSON.stringify(item.options) === JSON.stringify(val.options)\n  );\n  console.log(\n    \"Does exist? \",\n    doesExist,\n    \" Cart: \",\n    currentState,\n    \" Val: \",\n    val\n  );\n\n  if (doesExist !== -1) {\n    const newState = currentState.map((item) => {\n      const copyItem = { ...item };\n      delete copyItem.quantity;\n\n      if (JSON.stringify(copyItem) === JSON.stringify(val)) {\n        return { ...item, quantity: item.quantity ? item.quantity + 1 : 2 };\n      } else {\n        return item;\n      }\n    });\n    cartState.set(newState);\n  } else {\n    cartState.set((prevState) => [...prevState, val]);\n  }\n};\n\nexport const userStoreState = entity({ products: [], categories: [] });\n\nexport const setUserStoreState = (val) => {\n  console.log(\"Setting user store state: \", val);\n  userStoreState.set(val);\n};\n\nexport const transListState = entity([]);\n\nexport const setTransListState = (val) => {\n  transListState.set(val);\n};\n\nexport const woocommerceState = entity({\n  apiUrl: \"\",\n  ck: \"\",\n  cs: \"\",\n  useWoocommerce: false,\n});\n\nexport const setWoocommerceState = (val) => {\n  woocommerceState.set(val);\n};\n\nexport const storeDetailState = entity({\n  name: \"\",\n  address: \"\",\n  phoneNumber: \"\",\n  website: \"\",\n  comSelected: \"\",\n  deliveryPrice: \"\",\n  settingsPassword: \"\",\n  taxRate: \"\",\n});\n\nexport const setStoreDetailState = (val) => {\n  storeDetailState.set(val);\n};\n\nexport const trialDetailsState = entity({\n  endDate: null,\n  hasEnded: null,\n});\n\nexport const setTrialDetailsState = (val) => {\n  trialDetailsState.set(val);\n};\n\nexport const tutorialDetailsState = entity({\n  complete: null,\n  step: null,\n});\n\nexport const setTutorialDetailsState = (val) => {\n  tutorialDetailsState.set(val);\n};\n\nexport const isSignedInSettingsState = entity(false);\n\nexport const setIsSignedInSettingsState = (val) => {\n  isSignedInSettingsState.set(val);\n};\n\nexport const selectedProductState = entity({});\n\nexport const setSelectedProductState = (val) => {\n  selectedProductState.set(val);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}