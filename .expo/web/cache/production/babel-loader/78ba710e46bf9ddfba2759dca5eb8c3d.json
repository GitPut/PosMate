{"ast":null,"code":"import{auth,db}from\"./firebaseConfig\";export var signIn=function signIn(email,password){return auth.signInWithEmailAndPassword(email,password);};export var signUp=function signUp(email,password){return auth.createUserWithEmailAndPassword(email,password).then(function(userAuth){if(userAuth.user){db.collection(\"users\").doc(userAuth.user.uid).set({paid:true,products:[],categories:[],wooCredentials:{ck:null,cs:null,useWoocommerce:false},transList:[],storeDetails:{name:null,address:null,phoneNumber:null,website:null,comSelected:null,deliveryPrice:null}});}}).catch(function(e){return console.log(e);});};export var updateData=function updateData(categories,products){return new Promise(function(resolve,reject){var _auth$currentUser;db.collection(\"users\").doc((_auth$currentUser=auth.currentUser)==null?void 0:_auth$currentUser.uid).update({products:products,categories:categories}).then(function(){return resolve(\"Promise resolved!\");}).catch(function(){return reject(\"Promise rejected!\");});});};export var updateWooCredentials=function updateWooCredentials(wooCredentials){var _auth$currentUser2;db.collection(\"users\").doc((_auth$currentUser2=auth.currentUser)==null?void 0:_auth$currentUser2.uid).update({wooCredentials:wooCredentials});};export var updateTransList=function updateTransList(reciept){var _auth$currentUser3;db.collection(\"users\").doc((_auth$currentUser3=auth.currentUser)==null?void 0:_auth$currentUser3.uid).collection(\"transList\").add(reciept);};export var updateStoreDetails=function updateStoreDetails(storeDetails){var _auth$currentUser4;db.collection(\"users\").doc((_auth$currentUser4=auth.currentUser)==null?void 0:_auth$currentUser4.uid).update({storeDetails:storeDetails});};export var logout=function logout(){return auth.signOut();};","map":{"version":3,"names":["auth","db","signIn","email","password","signInWithEmailAndPassword","signUp","createUserWithEmailAndPassword","then","userAuth","user","collection","doc","uid","set","paid","products","categories","wooCredentials","ck","cs","useWoocommerce","transList","storeDetails","name","address","phoneNumber","website","comSelected","deliveryPrice","catch","e","console","log","updateData","Promise","resolve","reject","currentUser","update","updateWooCredentials","updateTransList","reciept","add","updateStoreDetails","logout","signOut"],"sources":["/Users/peterputros/Desktop/PosMate/state/firebaseFunctions.ts"],"sourcesContent":["import { auth, db } from \"./firebaseConfig\";\n\nexport const signIn = (email, password) =>\n  auth.signInWithEmailAndPassword(email, password);\n\nexport const signUp = (email, password) =>\n  auth\n    .createUserWithEmailAndPassword(email, password)\n    .then((userAuth) => {\n      if (userAuth.user) {\n        db.collection(\"users\")\n          .doc(userAuth.user.uid)\n          .set({\n            paid: true,\n            products: [],\n            categories: [],\n            wooCredentials: { ck: null, cs: null, useWoocommerce: false },\n            transList: [],\n            storeDetails: {\n              name: null,\n              address: null,\n              phoneNumber: null,\n              website: null,\n              comSelected: null,\n              deliveryPrice: null,\n            },\n            //company name\n            //adddress\n            //etc\n          });\n      }\n    })\n    .catch((e) => console.log(e));\n\nexport const updateData = (categories, products) => {\n  return new Promise((resolve, reject) => {\n    db.collection(\"users\")\n      .doc(auth.currentUser?.uid)\n      .update({\n        products: products,\n        categories: categories,\n      })\n      .then(() => resolve(\"Promise resolved!\"))\n      .catch(() => reject(\"Promise rejected!\"));\n  });\n};\n\nexport const updateWooCredentials = (wooCredentials) => {\n  db.collection(\"users\").doc(auth.currentUser?.uid).update({\n    wooCredentials: wooCredentials,\n  });\n};\n\nexport const updateTransList = (reciept) => {\n  db.collection(\"users\")\n    .doc(auth.currentUser?.uid)\n    .collection(\"transList\")\n    .add(reciept);\n};\n\nexport const updateStoreDetails = (storeDetails) => {\n  db.collection(\"users\").doc(auth.currentUser?.uid).update({\n    storeDetails: storeDetails,\n  });\n};\n\nexport const logout = () => auth.signOut()\n"],"mappings":"AAAA,OAASA,IAAI,CAAEC,EAAE,wBAEjB,MAAO,IAAMC,OAAM,CAAG,QAATA,OAAM,CAAIC,KAAK,CAAEC,QAAQ,QACpCJ,KAAI,CAACK,0BAA0B,CAACF,KAAK,CAAEC,QAAQ,CAAC,GAElD,MAAO,IAAME,OAAM,CAAG,QAATA,OAAM,CAAIH,KAAK,CAAEC,QAAQ,QACpCJ,KAAI,CACDO,8BAA8B,CAACJ,KAAK,CAAEC,QAAQ,CAAC,CAC/CI,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,GAAIA,QAAQ,CAACC,IAAI,CAAE,CACjBT,EAAE,CAACU,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,CAACH,QAAQ,CAACC,IAAI,CAACG,GAAG,CAAC,CACtBC,GAAG,CAAC,CACHC,IAAI,CAAE,IAAI,CACVC,QAAQ,CAAE,EAAE,CACZC,UAAU,CAAE,EAAE,CACdC,cAAc,CAAE,CAAEC,EAAE,CAAE,IAAI,CAAEC,EAAE,CAAE,IAAI,CAAEC,cAAc,CAAE,KAAM,CAAC,CAC7DC,SAAS,CAAE,EAAE,CACbC,YAAY,CAAE,CACZC,IAAI,CAAE,IAAI,CACVC,OAAO,CAAE,IAAI,CACbC,WAAW,CAAE,IAAI,CACjBC,OAAO,CAAE,IAAI,CACbC,WAAW,CAAE,IAAI,CACjBC,aAAa,CAAE,IACjB,CAIF,CAAC,CAAC,CACN,CACF,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,CAAC,QAAKC,QAAO,CAACC,GAAG,CAACF,CAAC,CAAC,GAAC,GAEjC,MAAO,IAAMG,WAAU,CAAG,QAAbA,WAAU,CAAIjB,UAAU,CAAED,QAAQ,CAAK,CAClD,MAAO,IAAImB,QAAO,CAAC,SAACC,OAAO,CAAEC,MAAM,CAAK,uBACtCpC,EAAE,CAACU,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,oBAACZ,IAAI,CAACsC,WAAW,eAAhB,kBAAkBzB,GAAG,CAAC,CAC1B0B,MAAM,CAAC,CACNvB,QAAQ,CAAEA,QAAQ,CAClBC,UAAU,CAAEA,UACd,CAAC,CAAC,CACDT,IAAI,CAAC,iBAAM4B,QAAO,CAAC,mBAAmB,CAAC,GAAC,CACxCN,KAAK,CAAC,iBAAMO,OAAM,CAAC,mBAAmB,CAAC,GAAC,CAC7C,CAAC,CAAC,CACJ,CAAC,CAED,MAAO,IAAMG,qBAAoB,CAAG,QAAvBA,qBAAoB,CAAItB,cAAc,CAAK,wBACtDjB,EAAE,CAACU,UAAU,CAAC,OAAO,CAAC,CAACC,GAAG,qBAACZ,IAAI,CAACsC,WAAW,eAAhB,mBAAkBzB,GAAG,CAAC,CAAC0B,MAAM,CAAC,CACvDrB,cAAc,CAAEA,cAClB,CAAC,CAAC,CACJ,CAAC,CAED,MAAO,IAAMuB,gBAAe,CAAG,QAAlBA,gBAAe,CAAIC,OAAO,CAAK,wBAC1CzC,EAAE,CAACU,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,qBAACZ,IAAI,CAACsC,WAAW,eAAhB,mBAAkBzB,GAAG,CAAC,CAC1BF,UAAU,CAAC,WAAW,CAAC,CACvBgC,GAAG,CAACD,OAAO,CAAC,CACjB,CAAC,CAED,MAAO,IAAME,mBAAkB,CAAG,QAArBA,mBAAkB,CAAIrB,YAAY,CAAK,wBAClDtB,EAAE,CAACU,UAAU,CAAC,OAAO,CAAC,CAACC,GAAG,qBAACZ,IAAI,CAACsC,WAAW,eAAhB,mBAAkBzB,GAAG,CAAC,CAAC0B,MAAM,CAAC,CACvDhB,YAAY,CAAEA,YAChB,CAAC,CAAC,CACJ,CAAC,CAED,MAAO,IAAMsB,OAAM,CAAG,QAATA,OAAM,SAAS7C,KAAI,CAAC8C,OAAO,EAAE"},"metadata":{},"sourceType":"module"}