{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{Component,useEffect,useRef,useState}from\"react\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import Modal from\"react-native-web/dist/exports/Modal\";import Icon from\"@expo/vector-icons/Entypo\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function DropdownSelectableOption(_ref){var style=_ref.style,setopenDropdown=_ref.setopenDropdown,openDropdown=_ref.openDropdown,id=_ref.id,label=_ref.label,isRequired=_ref.isRequired,value=_ref.value,setValue=_ref.setValue,options=_ref.options;var dropdownRef=useRef();var _useState=useState(),_useState2=_slicedToArray(_useState,2),dropdownLayout=_useState2[0],setDropdownLayout=_useState2[1];useEffect(function(){dropdownRef.current.measureInWindow(function(x,y,width,height){setDropdownLayout({x:x,y:y,width:width,height:height});});},[]);return _jsxs(View,{style:[styles.container,style,openDropdown===id&&{zIndex:1000}],children:[_jsxs(Text,{style:styles.lbl,children:[label,\" \",isRequired?\"*\":\"\"]}),_jsx(View,{ref:dropdownRef,style:{width:\"70%\"},children:_jsxs(TouchableOpacity,{style:styles.dropdown,onPress:function onPress(){console.log(\"openDropdown\",openDropdown,id);if(openDropdown===id){setopenDropdown(null);}else{setopenDropdown(id);}},activeOpacity:1,children:[_jsx(Text,{style:styles.placeholder,children:value?value.label+\" (+$\"+(value.priceIncrease!==null?value.priceIncrease:0)+\")\":label}),_jsx(Icon,{name:openDropdown===id?\"chevron-small-up\":\"chevron-small-down\",style:styles.downIcon})]})}),_jsxs(Modal,{visible:openDropdown===id,transparent:true,children:[_jsx(TouchableOpacity,{style:{width:\"100%\",height:\"100%\"},onPress:function onPress(){setopenDropdown(null);}}),dropdownLayout&&_jsxs(View,{style:{position:\"absolute\",top:dropdownLayout.y,left:dropdownLayout.x,width:dropdownLayout.width},children:[_jsxs(TouchableOpacity,{style:styles.dropdown,onPress:function onPress(){console.log(\"openDropdown\",openDropdown,id);if(openDropdown===id){setopenDropdown(null);}else{setopenDropdown(id);}},children:[_jsx(Text,{style:styles.placeholder,children:value?value.label+\" (+$\"+(value.priceIncrease!==null?value.priceIncrease:0)+\")\":label}),_jsx(Icon,{name:openDropdown===id?\"chevron-small-up\":\"chevron-small-down\",style:styles.downIcon})]}),openDropdown===id&&_jsx(ScrollView,{style:{width:\"100%\",position:\"absolute\",backgroundColor:\"white\",bottom:options.length>3?-44*3:-44*options.length,height:options.length>3?44*3:44*options.length,borderRadius:10,borderWidth:1},children:options.map(function(option,listIndex){return _jsx(TouchableOpacity,{id:option.id,onPress:function onPress(){setValue({option:{label:option.label,priceIncrease:option.priceIncrease!==null?option.priceIncrease:0},listIndex:listIndex});setopenDropdown(null);},style:{width:\"100%\",height:44,backgroundColor:\"white\",padding:10,borderBottomWidth:1},activeOpacity:1,children:_jsx(Text,{children:option.label+\"  (+$\"+(option.priceIncrease!==null?option.priceIncrease:0)+\")\"})},listIndex);})})]})]})]});}var styles=StyleSheet.create({container:{flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\"},lbl:{fontWeight:\"700\",color:\"#3e3f41\",width:\"25%\"},dropdown:{width:\"100%\",height:44,backgroundColor:\"rgba(255,255,255,1)\",borderRadius:10,borderWidth:2,borderColor:\"#6987d3\",flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"flex-start\"},placeholder:{fontWeight:\"500\",color:\"#7f838c\",fontSize:12,margin:10},downIcon:{color:\"rgba(128,128,128,1)\",fontSize:30,margin:0,marginTop:2,marginRight:2}});export default DropdownSelectableOption;","map":{"version":3,"names":["React","Component","useEffect","useRef","useState","Icon","DropdownSelectableOption","style","setopenDropdown","openDropdown","id","label","isRequired","value","setValue","options","dropdownRef","dropdownLayout","setDropdownLayout","current","measureInWindow","x","y","width","height","styles","container","zIndex","lbl","dropdown","console","log","placeholder","priceIncrease","downIcon","position","top","left","backgroundColor","bottom","length","borderRadius","borderWidth","map","option","listIndex","padding","borderBottomWidth","StyleSheet","create","flexDirection","justifyContent","alignItems","fontWeight","color","borderColor","fontSize","margin","marginTop","marginRight"],"sources":["/Users/peterputros/Desktop/PosMate/components/MainPosPage/components/ProductBuilderModal/DropdownSelectableOption.js"],"sourcesContent":["import React, { Component, useEffect, useRef, useState } from \"react\";\nimport {\n  StyleSheet,\n  View,\n  Text,\n  TouchableOpacity,\n  ScrollView,\n  Modal,\n} from \"react-native\";\nimport Icon from \"react-native-vector-icons/Entypo\";\n\nfunction DropdownSelectableOption({\n  style,\n  setopenDropdown,\n  openDropdown,\n  id,\n  label,\n  isRequired,\n  value,\n  setValue,\n  options,\n}) {\n  const dropdownRef = useRef(); // Reference to the original button\n  const [dropdownLayout, setDropdownLayout] = useState();\n\n  useEffect(() => {\n    dropdownRef.current.measureInWindow((x, y, width, height) => {\n      setDropdownLayout({ x, y, width, height });\n    });\n  }, []);\n\n  return (\n    <View\n      style={[styles.container, style, openDropdown === id && { zIndex: 1000 }]}\n    >\n      <Text style={styles.lbl}>\n        {label} {isRequired ? \"*\" : \"\"}\n      </Text>\n      <View ref={dropdownRef} style={{ width: \"70%\" }}>\n        <TouchableOpacity\n          style={styles.dropdown}\n          onPress={() => {\n            console.log(\"openDropdown\", openDropdown, id);\n            if (openDropdown === id) {\n              setopenDropdown(null);\n            } else {\n              setopenDropdown(id);\n            }\n          }}\n          activeOpacity={1}\n        >\n          <Text style={styles.placeholder}>\n            {value\n              ? `${value.label} (+$${\n                  value.priceIncrease !== null ? value.priceIncrease : 0\n                })`\n              : label}\n          </Text>\n          <Icon\n            name={\n              openDropdown === id ? \"chevron-small-up\" : \"chevron-small-down\"\n            }\n            style={styles.downIcon}\n          ></Icon>\n        </TouchableOpacity>\n      </View>\n      <Modal visible={openDropdown === id} transparent={true}>\n        <TouchableOpacity\n          style={{\n            width: \"100%\", \n            height: \"100%\",\n          }}\n          onPress={() => {\n            setopenDropdown(null);\n          }} // Hide modal when the background is pressed\n        />\n        {dropdownLayout && (\n          <View\n            style={{\n              position: \"absolute\",\n              top: dropdownLayout.y,\n              left: dropdownLayout.x,\n              width: dropdownLayout.width,\n            }}\n          >\n            <TouchableOpacity\n              style={styles.dropdown}\n              onPress={() => {\n                console.log(\"openDropdown\", openDropdown, id);\n                if (openDropdown === id) {\n                  setopenDropdown(null);\n                } else {\n                  setopenDropdown(id);\n                }\n              }}\n            >\n              <Text style={styles.placeholder}>\n                {value\n                  ? `${value.label} (+$${\n                      value.priceIncrease !== null ? value.priceIncrease : 0\n                    })`\n                  : label}\n              </Text>\n              <Icon\n                name={\n                  openDropdown === id\n                    ? \"chevron-small-up\"\n                    : \"chevron-small-down\"\n                }\n                style={styles.downIcon}\n              ></Icon>\n            </TouchableOpacity>\n            {openDropdown === id && (\n              <ScrollView\n                style={{\n                  width: \"100%\",\n                  position: \"absolute\",\n                  backgroundColor: \"white\",\n                  bottom: options.length > 3 ? -44 * 3 : -44 * options.length,\n                  height: options.length > 3 ? 44 * 3 : 44 * options.length,\n                  borderRadius: 10,\n                  borderWidth: 1,\n                }}\n              >\n                {options.map((option, listIndex) => (\n                  <TouchableOpacity\n                    key={listIndex}\n                    id={option.id}\n                    onPress={() => {\n                      setValue({\n                        option: {\n                          label: option.label,\n                          priceIncrease:\n                            option.priceIncrease !== null\n                              ? option.priceIncrease\n                              : 0,\n                        },\n                        listIndex: listIndex,\n                      });\n                      setopenDropdown(null);\n                    }}\n                    style={{\n                      width: \"100%\",\n                      height: 44,\n                      backgroundColor: \"white\",\n                      padding: 10,\n                      borderBottomWidth: 1,\n                    }}\n                    activeOpacity={1}\n                  >\n                    <Text>{`${option.label}  (+$${\n                      option.priceIncrease !== null ? option.priceIncrease : 0\n                    })`}</Text>\n                  </TouchableOpacity>\n                ))}\n              </ScrollView>\n            )}\n          </View>\n        )}\n      </Modal>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  lbl: {\n    fontWeight: \"700\",\n    color: \"#3e3f41\",\n    width: \"25%\",\n  },\n  dropdown: {\n    width: \"100%\",\n    height: 44,\n    backgroundColor: \"rgba(255,255,255,1)\",\n    borderRadius: 10,\n    borderWidth: 2,\n    borderColor: \"#6987d3\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"flex-start\",\n  },\n  placeholder: {\n    fontWeight: \"500\",\n    color: \"#7f838c\",\n    fontSize: 12,\n    margin: 10,\n  },\n  downIcon: {\n    color: \"rgba(128,128,128,1)\",\n    fontSize: 30,\n    margin: 0,\n    marginTop: 2,\n    marginRight: 2,\n  },\n});\n\nexport default DropdownSelectableOption;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}