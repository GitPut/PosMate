{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import useWindowDimensions from\"react-native-web/dist/exports/useWindowDimensions\";import View from\"react-native-web/dist/exports/View\";import React,{useEffect,useRef,useState}from\"react\";import{Button,TextInput}from\"@react-native-material/core\";import{storeDetailState,woocommerceState}from\"../../state/state\";import{auth,db}from\"../../state/firebaseConfig\";var tz=require(\"moment-timezone\");import{ReactGrid}from\"@silevis/reactgrid\";import\"@silevis/reactgrid/styles.css\";import ReceiptPrint from\"../../components/ReceiptPrint\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var getDate=function getDate(seconds){var newDate=new Date(seconds*1000);var targetTimezone=Intl.DateTimeFormat().resolvedOptions().timeZone;var result=tz(newDate).tz(targetTimezone,true).format(\"YYYY-MM-DD, h:mm:ss a z\");return result;};var ViewTransactions=function ViewTransactions(){var today=new Date();var storeDetails=storeDetailState.use();var wooCredentials=woocommerceState.use();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),transList=_useState2[0],settransList=_useState2[1];var _useState3=useState({todaysReceiptValue:0,todaysReceipts:0}),_useState4=_slicedToArray(_useState3,2),todaysDetails=_useState4[0],setTodaysDetails=_useState4[1];var _useWindowDimensions=useWindowDimensions(),width=_useWindowDimensions.width,height=_useWindowDimensions.height;var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),search=_useState6[0],setsearch=_useState6[1];var getColumns=function getColumns(){return[{columnId:\"name\",width:width*0.8*0.125},{columnId:\"phone\",width:width*0.8*0.125},{columnId:\"address\",width:width*0.8*0.22},{columnId:\"orderFrom\",width:width*0.8*0.08},{columnId:\"method\",width:width*0.8*0.09},{columnId:\"cart\",width:width*0.8*0.125},{columnId:\"total\",width:width*0.8*0.125},{columnId:\"date\",width:width*0.8*0.18}];};var headerRow={rowId:\"header\",cells:[{type:\"header\",text:\"Name\"},{type:\"header\",text:\"Phone #\"},{type:\"header\",text:\"Address\"},{type:\"header\",text:\"Order From\"},{type:\"header\",text:\"Method\"},{type:\"header\",text:\"ID\"},{type:\"header\",text:\"Total\"},{type:\"header\",text:\"Date\"}]};var getRows=function getRows(){return[headerRow].concat(_toConsumableArray(transList.map(function(receipt,idx){var _receipt$customer$nam,_receipt$customer$pho,_receipt$customer$add,_receipt$cart_hash,_receipt$method,_receipt$transNum;if((search==null?void 0:search.length)>0&&!((_receipt$customer$nam=receipt.customer.name)!=null&&_receipt$customer$nam.includes(search))&&!((_receipt$customer$pho=receipt.customer.phone)!=null&&_receipt$customer$pho.includes(search))&&!((_receipt$customer$add=receipt.customer.address)!=null&&_receipt$customer$add.includes(search))&&!((_receipt$cart_hash=receipt.cart_hash)!=null&&_receipt$cart_hash.includes(search))&&!((_receipt$method=receipt.method)!=null&&_receipt$method.includes(search))&&!((_receipt$transNum=receipt.transNum)!=null&&_receipt$transNum.includes(search))&&!getDate(receipt.date.seconds).includes(search)){return{height:0,rowId:idx,cells:[]};}return{rowId:idx,cells:[{type:\"text\",text:receipt.customer.name},{type:\"text\",text:receipt.customer.phone?receipt.customer.phone:\"\"},{type:\"text\",text:receipt.customer.address?receipt.customer.address:\"\"},{type:\"text\",text:receipt.cart_hash?\"Online\":\"POS\"},{type:\"text\",text:receipt.method===\"deliveryOrder\"?\"Delivery\":\"Pickup\"},{type:\"text\",text:receipt.transNum?receipt.transNum:\"\"},{type:\"text\",text:receipt.total?\"$\"+receipt.total:\"\"},{type:\"text\",text:receipt.date?getDate(receipt.date.seconds):\"\"}]};})));};var rows=getRows();var columns=getColumns();var testRef=useRef(null);useEffect(function(){try{var _auth$currentUser;db.collection(\"users\").doc((_auth$currentUser=auth.currentUser)==null?void 0:_auth$currentUser.uid).collection(\"transList\").get().then(function(querySnapshot){querySnapshot.forEach(function(doc){settransList(function(prevState){return[].concat(_toConsumableArray(prevState),[doc.data(),doc.data(),doc.data(),doc.data()]);});console.log(doc.data());});});}catch(_unused){console.log(\"Error occured retrieving tranasctions\");}if(wooCredentials.useWoocommerce===true){try{var WooCommerceAPI=require(\"woocommerce-api\");var WooCommerce=new WooCommerceAPI({url:wooCredentials.apiUrl,consumerKey:wooCredentials.ck,consumerSecret:wooCredentials.cs,wpAPI:true,version:\"wc/v1\"});var page=1;var orders=[];var getOrders=function(){var _ref=_asyncToGenerator(function*(){var response=yield WooCommerce.getAsync(\"orders?page=\"+page+\"&per_page=100\");var data=JSON.parse(response.body);orders=[].concat(_toConsumableArray(orders),_toConsumableArray(data));if(data.length===100){page++;getOrders();}else{}});return function getOrders(){return _ref.apply(this,arguments);};}();getOrders().then(function(){return settransList(function(prevState){return[].concat(_toConsumableArray(prevState),_toConsumableArray(orders));});}).catch(function(e){return console.log(\"error has occured\");});}catch(_unused2){console.log(\"Something occured with woo\");}}},[]);useEffect(function(){try{if(transList.length>0){settransList(function(prev){return prev.sort(function(a,b){if(a.date&&b.date){return a.date.seconds-b.date.seconds;}else if(a.date&&b.date_created){var targetTimezone=Intl.DateTimeFormat().resolvedOptions().timeZone;var newDateA=new Date(a.date.seconds*1000);var newDateB=new Date(b.date_created+\"Z\");var resultA=tz(newDateA).tz(targetTimezone,true);var resultB=tz(newDateB).tz(targetTimezone,true);return resultA.valueOf()-resultB.valueOf();}else if(a.date_created&&b.date){var _targetTimezone=Intl.DateTimeFormat().resolvedOptions().timeZone;var _newDateA=new Date(a.date_created+\"Z\");var _newDateB=new Date(b.date.seconds*1000);var _resultA=tz(_newDateA).tz(_targetTimezone,true);var _resultB=tz(_newDateB).tz(_targetTimezone,true);return _resultA.valueOf()-_resultB.valueOf();}else{var _targetTimezone2=Intl.DateTimeFormat().resolvedOptions().timeZone;var _newDateA2=new Date(a.date_created+\"Z\");var _newDateB2=new Date(b.date_created+\"Z\");var _resultA2=tz(_newDateA2).tz(_targetTimezone2,true);var _resultB2=tz(_newDateB2).tz(_targetTimezone2,true);return _resultA2.valueOf()-_resultB2.valueOf();}}).reverse();});var todaysReceiptValue=transList.reduce(function(accumulator,current){var date;var targetTimezone=Intl.DateTimeFormat().resolvedOptions().timeZone;if(current.date){var localDatePreConv=new Date(current.date.seconds*1000);date=tz(localDatePreConv).tz(targetTimezone,true);}else{var _localDatePreConv=new Date(current.date_created+\"Z\");date=tz(_localDatePreConv).tz(targetTimezone,true);}var today=tz().tz(targetTimezone);if(today.year()===date.year()&&today.month()===date.month()&&today.dayOfYear()===date.dayOfYear()){return accumulator+parseFloat(current.date?current.total:current.total/1.13);}else{return accumulator;}},0);var todaysReceipts=transList.reduce(function(accumulator,current){var date;var targetTimezone=Intl.DateTimeFormat().resolvedOptions().timeZone;if(current.date){var localDatePreConv=new Date(current.date.seconds*1000);date=tz(localDatePreConv).tz(targetTimezone,true);}else{var _localDatePreConv2=new Date(current.date_created+\"Z\");date=tz(_localDatePreConv2).tz(targetTimezone,true);}var today=tz().tz(targetTimezone);if(today.year()===date.year()&&today.month()===date.month()&&today.dayOfYear()===date.dayOfYear()){return accumulator+1;}else{return accumulator;}},0);setTodaysDetails({todaysReceiptValue:todaysReceiptValue.toFixed(2),todaysReceipts:todaysReceipts});}}catch(_unused3){console.log(\"Error Occured when sorting dates\");}},[transList]);var PrintTodaysTotal=function PrintTodaysTotal(){var data=[\"\\x1B\"+\"\\x40\",\"\\x1B\"+\"\\x61\"+\"\\x31\",storeDetails.name,\"\\x0A\",storeDetails.address+\"\\x0A\",storeDetails.website+\"\\x0A\",storeDetails.phoneNumber+\"\\x0A\",today.toLocaleDateString()+\" \"+today.toLocaleTimeString()+\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x1B\"+\"\\x61\"+\"\\x30\",\"\\x0A\"+\"\\x0A\",\"Number Of Receipts: \"+todaysDetails.todaysReceipts+\"\\x0A\"+\"\\x0A\",\"Sub-Total: \"+\"$\"+(todaysDetails.todaysReceiptValue/1.13).toFixed(2)+\"\\x0A\"+\"\\x0A\",\"Tax: \"+\"$\"+(todaysDetails.todaysReceiptValue/1.13*0.13).toFixed(2)+\"\\x0A\"+\"\\x0A\",\"Total Including (13% Tax): \"+\"$\"+todaysDetails.todaysReceiptValue+\"\\x0A\"+\"\\x0A\",\"------------------------------------------\"+\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x1D\"+\"\\x56\"+\"\\x30\"];var qz=require(\"qz-tray\");qz.websocket.connect().then(function(){var config=qz.configs.create(storeDetails.comSelected);return qz.print(config,data);}).then(qz.websocket.disconnect).catch(function(err){console.error(err);});};return _jsx(View,{style:styles.container,children:_jsxs(View,{style:styles.contentContainer,children:[_jsxs(View,{style:{flexDirection:\"row\",width:\"100%\",alignItems:\"center\",justifyContent:\"space-between\",marginBottom:15},children:[_jsx(TextInput,{placeholder:\"Enter term to search by (name, phone, address, method, id, date)\",onChangeText:function onChangeText(val){return setsearch(val);},value:search,style:{minWidth:\"40%\"}}),_jsx(Button,{style:{margin:0},title:\"Print Selected Receipts\",onPress:function onPress(){if(testRef.current.state.selectedIds.length>0){var data=[];testRef.current.state.selectedIds.forEach(function(idx){var element=transList[idx];var formatedData=ReceiptPrint(element,storeDetails);data=data.concat(formatedData);});var qz=require(\"qz-tray\");qz.websocket.connect().then(function(){var config=qz.configs.create(storeDetails.comSelected);return qz.print(config,data);}).then(qz.websocket.disconnect).catch(function(err){console.error(err);});}else if(testRef.current.state.selectedRanges[0].rows[0]){var _data=[];var element=transList[testRef.current.state.selectedRanges[0].rows[0].rowId];var formatedData=ReceiptPrint(element,storeDetails);_data=_data.concat(formatedData);var _qz=require(\"qz-tray\");_qz.websocket.connect().then(function(){var config=_qz.configs.create(storeDetails.comSelected);return _qz.print(config,_data);}).then(_qz.websocket.disconnect).catch(function(err){console.error(err);});}}})]}),_jsx(ReactGrid,{ref:testRef,rows:rows,columns:columns,enableRowSelection:true})]})});};export default ViewTransactions;var styles=StyleSheet.create({container:{backgroundColor:\"white\",flex:1,height:\"100%\"},contentContainer:{flex:1,flexDirection:\"row\",flexWrap:\"wrap\",justifyContent:\"space-between\",padding:50,height:\"100%\",width:\"100%\",alignItems:\"center\"}});","map":{"version":3,"names":["React","useEffect","useRef","useState","Button","TextInput","storeDetailState","woocommerceState","auth","db","tz","require","ReactGrid","ReceiptPrint","getDate","seconds","newDate","Date","targetTimezone","Intl","DateTimeFormat","resolvedOptions","timeZone","result","format","ViewTransactions","today","storeDetails","use","wooCredentials","transList","settransList","todaysReceiptValue","todaysReceipts","todaysDetails","setTodaysDetails","useWindowDimensions","width","height","search","setsearch","getColumns","columnId","headerRow","rowId","cells","type","text","getRows","map","receipt","idx","length","customer","name","includes","phone","address","cart_hash","method","transNum","date","total","rows","columns","testRef","collection","doc","currentUser","uid","get","then","querySnapshot","forEach","prevState","data","console","log","useWoocommerce","WooCommerceAPI","WooCommerce","url","apiUrl","consumerKey","ck","consumerSecret","cs","wpAPI","version","page","orders","getOrders","response","getAsync","JSON","parse","body","catch","e","prev","sort","a","b","date_created","newDateA","newDateB","resultA","resultB","valueOf","reverse","reduce","accumulator","current","localDatePreConv","year","month","dayOfYear","parseFloat","toFixed","PrintTodaysTotal","website","phoneNumber","toLocaleDateString","toLocaleTimeString","qz","websocket","connect","config","configs","create","comSelected","print","disconnect","err","error","styles","container","contentContainer","flexDirection","alignItems","justifyContent","marginBottom","val","minWidth","margin","state","selectedIds","element","formatedData","concat","selectedRanges","StyleSheet","backgroundColor","flex","flexWrap","padding"],"sources":["/Users/peterputros/Desktop/PosMate/screens/authed/ViewTransactions.tsx"],"sourcesContent":["import {\n  FlatList,\n  ScrollView,\n  StyleSheet,\n  useWindowDimensions,\n  View,\n} from \"react-native\";\nimport React, { useEffect, useLayoutEffect, useRef, useState } from \"react\";\nimport { Button, Text, TextInput } from \"@react-native-material/core\";\nimport {\n  storeDetailState,\n  transListState,\n  woocommerceState,\n} from \"state/state\";\nimport { auth, db } from \"state/firebaseConfig\";\nconst tz = require(\"moment-timezone\");\nimport {\n  ReactGrid,\n  CellChange,\n  Row,\n  Column,\n  Id,\n  MenuOption,\n  SelectionMode,\n} from \"@silevis/reactgrid\";\n\nimport \"@silevis/reactgrid/styles.css\";\nimport ReceiptPrint from \"components/ReceiptPrint\";\n\nconst getDate = (seconds) => {\n  const newDate = new Date(seconds * 1000);\n  const targetTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n  const result = tz(newDate)\n    .tz(targetTimezone, true)\n    .format(\"YYYY-MM-DD, h:mm:ss a z\");\n\n  return result;\n};\n\nconst ViewTransactions = () => {\n  const today = new Date();\n  const storeDetails = storeDetailState.use();\n  const wooCredentials = woocommerceState.use();\n  const [transList, settransList] = useState([]);\n  const [todaysDetails, setTodaysDetails] = useState({\n    todaysReceiptValue: 0,\n    todaysReceipts: 0,\n  });\n  const { width, height } = useWindowDimensions();\n  const [search, setsearch] = useState(null);\n\n  const getColumns = (): Column[] => [\n    { columnId: \"name\", width: width * 0.8 * 0.125 },\n    { columnId: \"phone\", width: width * 0.8 * 0.125 },\n    { columnId: \"address\", width: width * 0.8 * 0.22 },\n    { columnId: \"orderFrom\", width: width * 0.8 * 0.08 },\n    { columnId: \"method\", width: width * 0.8 * 0.09 },\n    { columnId: \"cart\", width: width * 0.8 * 0.125 },\n    { columnId: \"total\", width: width * 0.8 * 0.125 },\n    { columnId: \"date\", width: width * 0.8 * 0.18 },\n  ];\n\n  const headerRow: Row = {\n    rowId: \"header\",\n    cells: [\n      { type: \"header\", text: \"Name\" },\n      { type: \"header\", text: \"Phone #\" },\n      { type: \"header\", text: \"Address\" },\n      { type: \"header\", text: \"Order From\" },\n      { type: \"header\", text: \"Method\" },\n      { type: \"header\", text: \"ID\" },\n      { type: \"header\", text: \"Total\" },\n      { type: \"header\", text: \"Date\" },\n    ],\n  };\n\n  const getRows = () => [\n    headerRow,\n    ...transList.map<Row>((receipt, idx) => {\n      if (\n        search?.length > 0 &&\n        !receipt.customer.name?.includes(search) &&\n        !receipt.customer.phone?.includes(search) &&\n        !receipt.customer.address?.includes(search) &&\n        !receipt.cart_hash?.includes(search) &&\n        !receipt.method?.includes(search) &&\n        !receipt.transNum?.includes(search) &&\n        !getDate(receipt.date.seconds).includes(search)\n      ) {\n        return { height: 0, rowId: idx, cells: [] };\n      }\n      return {\n        rowId: idx,\n        cells: [\n          { type: \"text\", text: receipt.customer.name },\n          {\n            type: \"text\",\n            text: receipt.customer.phone ? receipt.customer.phone : \"\",\n          },\n          {\n            type: \"text\",\n            text: receipt.customer.address ? receipt.customer.address : \"\",\n          },\n          {\n            type: \"text\",\n            text: receipt.cart_hash ? \"Online\" : \"POS\",\n          },\n          {\n            type: \"text\",\n            text: receipt.method === \"deliveryOrder\" ? \"Delivery\" : \"Pickup\",\n          },\n          {\n            type: \"text\",\n            text: receipt.transNum ? receipt.transNum : \"\",\n          },\n          {\n            type: \"text\",\n            text: receipt.total ? \"$\" + receipt.total : \"\",\n          },\n          {\n            type: \"text\",\n            text: receipt.date ? getDate(receipt.date.seconds) : \"\",\n          },\n        ],\n      };\n    }),\n  ];\n\n  ///\n\n  const rows = getRows();\n  const columns = getColumns();\n\n  const testRef = useRef(null);\n\n  ///\n\n  useEffect(() => {\n    try {\n      db.collection(\"users\")\n        .doc(auth.currentUser?.uid)\n        .collection(\"transList\")\n        .get()\n        .then((querySnapshot) => {\n          querySnapshot.forEach((doc) => {\n            // doc.data() is never undefined for query doc snapshots\n            // console.log(doc.id, \" => \", doc.data());\n            settransList((prevState) => [\n              ...prevState,\n              doc.data(),\n              doc.data(),\n              doc.data(),\n              doc.data(),\n            ]);\n            console.log(doc.data());\n          });\n        });\n    } catch {\n      console.log(\"Error occured retrieving tranasctions\");\n    }\n\n    if (wooCredentials.useWoocommerce === true) {\n      try {\n        const WooCommerceAPI = require(\"woocommerce-api\");\n\n        const WooCommerce = new WooCommerceAPI({\n          url: wooCredentials.apiUrl,\n          consumerKey: wooCredentials.ck,\n          consumerSecret: wooCredentials.cs,\n          wpAPI: true,\n          version: \"wc/v1\",\n        });\n\n        let page = 1;\n        let orders = [];\n\n        const getOrders = async () => {\n          const response = await WooCommerce.getAsync(\n            `orders?page=${page}&per_page=100`\n          );\n          const data = JSON.parse(response.body);\n          orders = [...orders, ...data];\n          if (data.length === 100) {\n            page++;\n            getOrders();\n          } else {\n            // console.log(orders);\n          }\n        };\n\n        getOrders()\n          .then(() => settransList((prevState) => [...prevState, ...orders]))\n          .catch((e) => console.log(\"error has occured\"));\n      } catch {\n        console.log(\"Something occured with woo\");\n      }\n    }\n  }, []);\n\n  useEffect(() => {\n    try {\n      if (transList.length > 0) {\n        settransList((prev) =>\n          prev\n            .sort(function (a, b) {\n              if (a.date && b.date) {\n                return a.date.seconds - b.date.seconds;\n              } else if (a.date && b.date_created) {\n                const targetTimezone =\n                  Intl.DateTimeFormat().resolvedOptions().timeZone;\n                const newDateA = new Date(a.date.seconds * 1000);\n                const newDateB = new Date(b.date_created + \"Z\");\n                const resultA = tz(newDateA).tz(targetTimezone, true);\n                const resultB = tz(newDateB).tz(targetTimezone, true);\n\n                return resultA.valueOf() - resultB.valueOf();\n              } else if (a.date_created && b.date) {\n                const targetTimezone =\n                  Intl.DateTimeFormat().resolvedOptions().timeZone;\n                const newDateA = new Date(a.date_created + \"Z\");\n                const newDateB = new Date(b.date.seconds * 1000);\n                const resultA = tz(newDateA).tz(targetTimezone, true);\n                const resultB = tz(newDateB).tz(targetTimezone, true);\n\n                return resultA.valueOf() - resultB.valueOf();\n              } else {\n                const targetTimezone =\n                  Intl.DateTimeFormat().resolvedOptions().timeZone;\n                const newDateA = new Date(a.date_created + \"Z\");\n                const newDateB = new Date(b.date_created + \"Z\");\n                const resultA = tz(newDateA).tz(targetTimezone, true);\n                const resultB = tz(newDateB).tz(targetTimezone, true);\n\n                return resultA.valueOf() - resultB.valueOf();\n              }\n            })\n            .reverse()\n        );\n        // settransList(sortedTransList);\n        const todaysReceiptValue = transList.reduce((accumulator, current) => {\n          let date;\n          const targetTimezone =\n            Intl.DateTimeFormat().resolvedOptions().timeZone;\n          if (current.date) {\n            const localDatePreConv = new Date(current.date.seconds * 1000);\n            date = tz(localDatePreConv).tz(targetTimezone, true);\n          } else {\n            const localDatePreConv = new Date(current.date_created + \"Z\");\n            date = tz(localDatePreConv).tz(targetTimezone, true);\n          }\n          // Get the current date in the desired time zone\n          let today = tz().tz(targetTimezone);\n\n          if (\n            today.year() === date.year() &&\n            today.month() === date.month() &&\n            today.dayOfYear() === date.dayOfYear()\n          ) {\n            return (\n              accumulator +\n              parseFloat(current.date ? current.total : current.total / 1.13)\n            );\n          } else {\n            return accumulator;\n          }\n        }, 0);\n        const todaysReceipts = transList.reduce((accumulator, current) => {\n          let date;\n          const targetTimezone =\n            Intl.DateTimeFormat().resolvedOptions().timeZone;\n          if (current.date) {\n            const localDatePreConv = new Date(current.date.seconds * 1000);\n            date = tz(localDatePreConv).tz(targetTimezone, true);\n          } else {\n            const localDatePreConv = new Date(current.date_created + \"Z\");\n            date = tz(localDatePreConv).tz(targetTimezone, true);\n          }\n          // Get the current date in the desired time zone\n          let today = tz().tz(targetTimezone);\n\n          if (\n            today.year() === date.year() &&\n            today.month() === date.month() &&\n            today.dayOfYear() === date.dayOfYear()\n          ) {\n            return accumulator + 1;\n          } else {\n            return accumulator;\n          }\n        }, 0);\n        setTodaysDetails({\n          todaysReceiptValue: todaysReceiptValue.toFixed(2),\n          todaysReceipts: todaysReceipts,\n        });\n      }\n    } catch {\n      console.log(\"Error Occured when sorting dates\");\n    }\n  }, [transList]);\n\n  const PrintTodaysTotal = () => {\n    let data = [\n      \"\\x1B\" + \"\\x40\", // init\n      \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n      storeDetails.name,\n      \"\\x0A\",\n      storeDetails.address + \"\\x0A\",\n      storeDetails.website + \"\\x0A\", // text and line break\n      storeDetails.phoneNumber + \"\\x0A\", // text and line break\n      today.toLocaleDateString() + \" \" + today.toLocaleTimeString() + \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\n      \"\\x0A\" + \"\\x0A\",\n      \"Number Of Receipts: \" + todaysDetails.todaysReceipts + \"\\x0A\" + \"\\x0A\",\n      \"Sub-Total: \" +\n        \"$\" +\n        (todaysDetails.todaysReceiptValue / 1.13).toFixed(2) +\n        \"\\x0A\" +\n        \"\\x0A\",\n      \"Tax: \" +\n        \"$\" +\n        ((todaysDetails.todaysReceiptValue / 1.13) * 0.13).toFixed(2) +\n        \"\\x0A\" +\n        \"\\x0A\",\n      \"Total Including (13% Tax): \" +\n        \"$\" +\n        todaysDetails.todaysReceiptValue +\n        \"\\x0A\" +\n        \"\\x0A\",\n      \"------------------------------------------\" + \"\\x0A\",\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x1D\" + \"\\x56\" + \"\\x30\",\n    ];\n\n    const qz = require(\"qz-tray\");\n    qz.websocket\n      .connect()\n      .then(function () {\n        let config = qz.configs.create(storeDetails.comSelected);\n        return qz.print(config, data);\n      })\n      .then(qz.websocket.disconnect)\n      .catch(function (err) {\n        console.error(err);\n      });\n  };\n\n  // useEffect(() => {\n  //   if(transList.length > )\n  // }, [search])\n\n  return (\n    <View style={styles.container}>\n      {/* <Text style={{ textAlign: \"center\", margin: 25 }}>\n        List Of Transactions\n      </Text>\n      <View\n        style={{\n          flexDirection: \"row\",\n          width: \"100%\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <Text style={{ textAlign: \"center\", margin: 25 }}>\n          Todays Total Price: {todaysDetails.todaysReceiptValue}\n        </Text>\n        <Button\n          style={{ height: 40, alignItems: \"center\", justifyContent: \"center\" }}\n          title=\"Print Todays Receipts\"\n          onPress={PrintTodaysTotal}\n        />\n        <Text style={{ textAlign: \"center\", margin: 25 }}>\n          Todays Total Receipts: {todaysDetails.todaysReceipts}\n        </Text>\n      </View> */}\n      <View style={styles.contentContainer}>\n        <View\n          style={{\n            flexDirection: \"row\",\n            width: \"100%\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n            marginBottom: 15,\n          }}\n        >\n          <TextInput\n            placeholder=\"Enter term to search by (name, phone, address, method, id, date)\"\n            onChangeText={(val) => setsearch(val)}\n            value={search}\n            style={{ minWidth: \"40%\" }}\n          />\n          <Button\n            style={{ margin: 0 }}\n            title=\"Print Selected Receipts\"\n            // onPress={() => console.log(testRef.current.state.selectedIds)}\n            // onPress={() => console.log(testRef.current)}\n            onPress={() => {\n              if (testRef.current.state.selectedIds.length > 0) {\n                let data = [];\n                testRef.current.state.selectedIds.forEach((idx) => {\n                  const element = transList[idx];\n                  const formatedData = ReceiptPrint(element, storeDetails);\n                  data = data.concat(formatedData);\n                });\n                const qz = require(\"qz-tray\");\n                qz.websocket\n                  .connect()\n                  .then(function () {\n                    let config = qz.configs.create(storeDetails.comSelected);\n                    return qz.print(config, data);\n                  })\n                  .then(qz.websocket.disconnect)\n                  .catch(function (err) {\n                    console.error(err);\n                  });\n              } else if (testRef.current.state.selectedRanges[0].rows[0]) {\n                let data = [];\n                const element =\n                  transList[\n                    testRef.current.state.selectedRanges[0].rows[0].rowId\n                  ];\n\n                const formatedData = ReceiptPrint(element, storeDetails);\n                data = data.concat(formatedData);\n\n                const qz = require(\"qz-tray\");\n                qz.websocket\n                  .connect()\n                  .then(function () {\n                    let config = qz.configs.create(storeDetails.comSelected);\n                    return qz.print(config, data);\n                  })\n                  .then(qz.websocket.disconnect)\n                  .catch(function (err) {\n                    console.error(err);\n                  });\n              }\n            }}\n          />\n        </View>\n        <ReactGrid\n          ref={testRef}\n          rows={rows}\n          columns={columns}\n          enableRowSelection={true}\n        />\n      </View>\n    </View>\n  );\n};\n\nexport default ViewTransactions;\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"white\",\n    flex: 1,\n    height: \"100%\",\n  },\n  contentContainer: {\n    flex: 1,\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-between\",\n    // paddingLeft: 50,\n    // paddingRight: 50,\n    // paddingBottom: 50,\n    padding: 50,\n    height: \"100%\",\n    width: \"100%\",\n    alignItems: \"center\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}