{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import Modal from\"react-native-web/dist/exports/Modal\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Image from\"react-native-web/dist/exports/Image\";import React,{useEffect,useState}from\"react\";import{cartState,setCartState,storeDetailState,setIsSignedInSettingsState,customersList,setCustomersList,myDeviceDetailsState}from\"../../state/state\";import DeliveryScreen from\"../modals/DeliveryScreen\";import CashScreen from\"../modals/CashScreen\";import ChangeScreen from\"../modals/ChangeScreen\";import MaterialCommunityIcons from\"@expo/vector-icons/MaterialCommunityIcons\";import Feather from\"@expo/vector-icons/Feather\";import SaveCustomer from\"../modals/SaveCustomer\";import{auth,db}from\"../../state/firebaseConfig\";import{Entypo,Ionicons}from\"@expo/vector-icons\";import{useHistory}from\"react-router-dom\";import CompletePaymentPhoneOrder from\"../modals/CompletePaymentPhoneOrder\";import SettingsPasswordModal from\"../modals/SettingsPasswordModal\";import CartItemEditable from\"./CartItemEditable\";import useWindowDimensions from\"../functional/useWindowDimensions\";import ClockinModal from\"../modals/ClockinModal\";import ReceiptPrint from\"../functional/ReceiptPrint\";import DiscountModal from\"../modals/DiscountModal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CartButton=function CartButton(props){return _jsx(_Fragment,{children:props.notification?_jsxs(View,{children:[_jsx(TouchableOpacity,{style:props.style,onPress:props.onPress,disabled:props.disabled,children:_jsx(props.icon,{})}),_jsx(View,{style:{height:20,width:20,borderRadius:5,backgroundColor:\"green\",position:\"absolute\",top:0,right:0,justifyContent:\"center\",alignItems:\"center\"},children:_jsx(Text,{children:props.notification})})]}):_jsx(TouchableOpacity,{style:props.style,onPress:props.onPress,disabled:props.disabled,children:_jsx(props.icon,{})})});};var CartScreen=function CartScreen(_ref){var navigation=_ref.navigation;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),deliveryModal=_useState2[0],setDeliveryModal=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),cashModal=_useState4[0],setCashModal=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),changeModal=_useState6[0],setChangeModal=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),ongoingDelivery=_useState8[0],setOngoingDelivery=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),name=_useState10[0],setName=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),phone=_useState12[0],setPhone=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),address=_useState14[0],setAddress=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),deliveryChecked=_useState16[0],setDeliveryChecked=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),changeDue=_useState18[0],setChangeDue=_useState18[1];var cart=cartState.use();var storeDetails=storeDetailState.use();var _useState19=useState(0),_useState20=_slicedToArray(_useState19,2),cartSub=_useState20[0],setCartSub=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),saveCustomerModal=_useState22[0],setSaveCustomerModal=_useState22[1];var _useState23=useState(null),_useState24=_slicedToArray(_useState23,2),savedCustomerDetails=_useState24[0],setsavedCustomerDetails=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),ongoingOrderListModal=_useState26[0],setongoingOrderListModal=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),settingsPasswordModalVis=_useState28[0],setsettingsPasswordModalVis=_useState28[1];var history=useHistory();var height=useWindowDimensions().height;var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),updatingOrder=_useState30[0],setupdatingOrder=_useState30[1];var _useState31=useState([]),_useState32=_slicedToArray(_useState31,2),ongoingListState=_useState32[0],setongoingListState=_useState32[1];var customers=customersList.use();var myDeviceDetails=myDeviceDetailsState.use();var _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),clockinModal=_useState34[0],setclockinModal=_useState34[1];var _useState35=useState(false),_useState36=_slicedToArray(_useState35,2),discountModal=_useState36[0],setdiscountModal=_useState36[1];function parseDate(input){if(Object.prototype.toString.call(input)===\"[object Date]\"){if(!isNaN(input.getTime())){return input;}}if(typeof input===\"string\"){var dateObject=new Date(input);if(!isNaN(dateObject.getTime())){return dateObject;}}}useEffect(function(){var _auth$currentUser;var unsub=db.collection(\"users\").doc((_auth$currentUser=auth.currentUser)==null?void 0:_auth$currentUser.uid).collection(\"pendingOrders\").onSnapshot(function(snapshot){var list=[];snapshot.forEach(function(doc){list.push(_objectSpread(_objectSpread({},doc.data()),{},{id:doc.id}));if(doc.data().online&&!doc.data().printed&&myDeviceDetails.printOnlineOrders){var _auth$currentUser2;console.log(\"Printing\");var data=ReceiptPrint(doc.data(),storeDetails);var qz=require(\"qz-tray\");qz.websocket.connect().then(function(){var config=qz.configs.create(myDeviceDetails.printToPrinter);return qz.print(config,data.data);}).then(qz.websocket.disconnect).catch(function(err){alert(\"An error occured while trying to print. Try refreshing the page and trying again.\");});db.collection(\"users\").doc((_auth$currentUser2=auth.currentUser)==null?void 0:_auth$currentUser2.uid).collection(\"pendingOrders\").doc(doc.id).update({printed:true});}});var sortedArray=list.sort(function(a,b){var dateA=a.online?parseDate(a.date):a.date.toDate();var dateB=b.online?parseDate(b.date):b.date.toDate();return dateB-dateA;});setongoingListState(sortedArray);});return function(){return unsub();};},[]);useEffect(function(){if(cart.length>0){var newVal=0;for(var i=0;i<cart.length;i++){try{if(cart[i].quantity>1){newVal+=parseFloat(cart[i].price)*cart[i].quantity;}else{newVal+=parseFloat(cart[i].price);}}catch(error){console.log(error);}}if(deliveryChecked){setCartSub(newVal+parseFloat(storeDetails.deliveryPrice));}else{setCartSub(newVal);}if(cart.length>1){if(!cart[cart.length-1].name.includes(\"Cart Discount\")){for(var _i=0;_i<cart.length;_i++){if(cart[_i].name.includes(\"Cart Discount\")){console.log(\"In first if\");var discountItem=cart[_i];var newCart=structuredClone(cart);newCart.splice(_i,1);if(discountItem.percent){newCart.push(_objectSpread(_objectSpread({},discountItem),{},{price:(newVal+-discountItem.price)*discountItem.percent*-1}));}else{newCart.push(discountItem);}setCartState(newCart);}}}else if(cart[cart.length-1].percent){console.log(\"In second if\");var _discountItem=cart[cart.length-1];if((newVal+-_discountItem.price)*_discountItem.percent*-1!==_discountItem.price){var _newCart=structuredClone(cart);_newCart.pop();_newCart.push(_objectSpread(_objectSpread({},_discountItem),{},{price:(newVal+-_discountItem.price)*_discountItem.percent*-1}));setCartState(_newCart);}}}}else{setCartSub(0);}},[cart,deliveryChecked]);var Print=function Print(method,dontAddToOngoing){if(!myDeviceDetails.id){return alert(\"Please set up a device in Settings -> Devices\");}if(savedCustomerDetails){var _savedCustomerDetails;if(((_savedCustomerDetails=savedCustomerDetails.orders)==null?void 0:_savedCustomerDetails.length)>0){var _auth$currentUser3;db.collection(\"users\").doc((_auth$currentUser3=auth.currentUser)==null?void 0:_auth$currentUser3.uid).collection(\"customers\").doc(savedCustomerDetails.id).update({orders:[].concat(_toConsumableArray(savedCustomerDetails.orders),[{cart:cart}])});var indexOfCustomer=customers.findIndex(function(customer){return customer.id===savedCustomerDetails.id;});var newCustomers=structuredClone(customers);newCustomers[indexOfCustomer].orders.push({cart:cart});setCustomersList(newCustomers);}else{var _auth$currentUser4;db.collection(\"users\").doc((_auth$currentUser4=auth.currentUser)==null?void 0:_auth$currentUser4.uid).collection(\"customers\").doc(savedCustomerDetails.id).update({orders:[{cart:cart}]});var _indexOfCustomer=customers.findIndex(function(customer){return customer.id===savedCustomerDetails.id;});var _newCustomers=structuredClone(customers);_newCustomers[_indexOfCustomer].orders=[{cart:cart}];setCustomersList(_newCustomers);}}var transNum=Math.random().toString(36).substr(2,9);if(method===\"deliveryOrder\"){var today=new Date();var element={date:today,transNum:transNum,method:\"deliveryOrder\",cart:cart,customer:{name:name,phone:phone,address:address}};var data=ReceiptPrint(element,storeDetails);if(!dontAddToOngoing){var _auth$currentUser5;console.log(\"Adding to pending orders\");db.collection(\"users\").doc((_auth$currentUser5=auth.currentUser)==null?void 0:_auth$currentUser5.uid).collection(\"pendingOrders\").add({date:today,transNum:transNum,method:\"deliveryOrder\",cart:cart,total:data.total,customer:{name:name,phone:phone,address:address?address:null}});}if(myDeviceDetails.sendPrintToUserID&&myDeviceDetails.useDifferentDeviceToPrint){var _auth$currentUser6;console.log(\"Sending print to different user\");db.collection(\"users\").doc((_auth$currentUser6=auth.currentUser)==null?void 0:_auth$currentUser6.uid).collection(\"devices\").doc(myDeviceDetails.sendPrintToUserID.value).collection(\"printRequests\").add({printData:data.data});}else{var qz=require(\"qz-tray\");qz.websocket.connect().then(function(){var config=qz.configs.create(myDeviceDetails.printToPrinter);return qz.print(config,data.data);}).then(qz.websocket.disconnect).catch(function(err){alert(\"An error occured while trying to print. Try refreshing the page and trying again.\");});}setCartState([]);setDeliveryModal(false);}else if(method===\"pickupOrder\"){var _today=new Date();var _element={date:_today,transNum:transNum,method:\"pickupOrder\",cart:cart,customer:{name:name,phone:phone}};var _data=ReceiptPrint(_element,storeDetails);if(!dontAddToOngoing){var _auth$currentUser7;console.log(\"Adding to pending orders\");db.collection(\"users\").doc((_auth$currentUser7=auth.currentUser)==null?void 0:_auth$currentUser7.uid).collection(\"pendingOrders\").add({date:_today,transNum:transNum,method:\"pickupOrder\",cart:cart,total:_data.total,customer:{name:name,phone:phone,address:address?address:\"null\"}});}if(myDeviceDetails.sendPrintToUserID&&myDeviceDetails.useDifferentDeviceToPrint){var _auth$currentUser8;console.log(\"Sending print to different user\");db.collection(\"users\").doc((_auth$currentUser8=auth.currentUser)==null?void 0:_auth$currentUser8.uid).collection(\"devices\").doc(myDeviceDetails.sendPrintToUserID.value).collection(\"printRequests\").add({printData:_data.data});}else{var _qz=require(\"qz-tray\");_qz.websocket.connect().then(function(){var config=_qz.configs.create(myDeviceDetails.printToPrinter);return _qz.print(config,_data.data);}).then(_qz.websocket.disconnect).catch(function(err){alert(\"An error occured while trying to print. Try refreshing the page and trying again.\");});}setCartState([]);setDeliveryModal(false);setName(null);setPhone(null);setAddress(null);setDeliveryChecked(false);}else{var _auth$currentUser9;var _today2=new Date();var _element2={date:_today2,transNum:transNum,method:\"inStoreOrder\",cart:cart,customer:{name:name,phone:phone,address:address},changeDue:changeDue,paymentMethod:method};var _data2=ReceiptPrint(_element2,storeDetails);db.collection(\"users\").doc((_auth$currentUser9=auth.currentUser)==null?void 0:_auth$currentUser9.uid).collection(\"pendingOrders\").add({date:_today2,transNum:transNum,total:_data2.total,method:\"inStoreOrder\",paymentMethod:method,cart:cart});if(myDeviceDetails.sendPrintToUserID&&myDeviceDetails.useDifferentDeviceToPrint){var _auth$currentUser10;console.log(\"Sending print to different user\");db.collection(\"users\").doc((_auth$currentUser10=auth.currentUser)==null?void 0:_auth$currentUser10.uid).collection(\"devices\").doc(myDeviceDetails.sendPrintToUserID.value).collection(\"printRequests\").add({printData:_data2.data});}else{var _qz2=require(\"qz-tray\");_qz2.websocket.connect().then(function(){var config=_qz2.configs.create(myDeviceDetails.printToPrinter);return _qz2.print(config,_data2.data);}).then(_qz2.websocket.disconnect).catch(function(err){alert(\"An error occured while trying to print. Try refreshing the page and trying again.\");});}}setCartState([]);setName(null);setPhone(null);setAddress(null);setDeliveryChecked(false);setChangeDue(null);};var DeliveryBtn=function DeliveryBtn(){if(updatingOrder){return _jsx(TouchableOpacity,{style:[styles.bigButton,cartSub===0&&{opacity:0.5}],disabled:cart.length<1,onPress:function onPress(){var _auth$currentUser11;db.collection(\"users\").doc((_auth$currentUser11=auth.currentUser)==null?void 0:_auth$currentUser11.uid).collection(\"pendingOrders\").doc(updatingOrder.id).delete();Print(deliveryChecked?\"deliveryOrder\":\"pickupOrder\",false);setOngoingDelivery(null);setName(null);setPhone(null);setAddress(null);setDeliveryChecked(false);setupdatingOrder(false);},children:_jsx(Text,{style:styles.btnTxt,children:\"Update Order\"})});}if(ongoingDelivery===null){return _jsxs(View,{style:{flexDirection:\"row\",width:\"100%\",alignSelf:\"center\",justifyContent:\"space-between\",alignItems:\"center\",marginBottom:10},children:[_jsx(TouchableOpacity,{style:[styles.cashButton,cartSub===0&&{opacity:0.5}],onPress:function onPress(){return setCashModal(true);},disabled:cart.length<1||ongoingDelivery,children:_jsx(Text,{style:styles.btnTxt,children:\"Cash\"})}),_jsx(TouchableOpacity,{style:[styles.cardButton,cartSub===0&&{opacity:0.5}],onPress:function onPress(){Print(\"Card\");},disabled:cart.length<1||ongoingDelivery,children:_jsx(Text,{style:styles.btnTxt,children:\"Card\"})})]});}if(ongoingDelivery&&cart.length>0){return _jsx(TouchableOpacity,{style:styles.bigButton,onPress:function onPress(){Print(deliveryChecked?\"deliveryOrder\":\"pickupOrder\",false);setOngoingDelivery(null);setName(null);setPhone(null);setAddress(null);},children:_jsx(Text,{style:styles.btnTxt,children:\"Complete\"})});}else{return _jsx(TouchableOpacity,{style:styles.bigButton,onPress:function onPress(){setOngoingDelivery(null);setDeliveryChecked(false);setName(null);setPhone(null);setAddress(null);setChangeDue(null);},children:_jsx(Text,{style:styles.btnTxt,children:\"Cancel\"})});}};return _jsxs(View,{style:styles.container,children:[_jsxs(View,{style:styles.cartHeader,children:[_jsx(Text,{style:{fontFamily:\"archivo-600\",color:\"rgba(255,255,255,1)\",fontSize:25},children:\"Order\"}),_jsxs(View,{style:{flexDirection:\"row\",alignItems:\"center\",justifyContent:\"space-between\"},children:[_jsx(CartButton,{style:[styles.iconContainer,(cart.length<1||updatingOrder)&&{opacity:0.5}],onPress:function onPress(){return setdiscountModal(true);},disabled:cart.length<1,icon:function icon(){return _jsx(Image,{style:{width:26,height:26},source:require(\"../../assets/tag.png\")});}}),_jsx(CartButton,{style:[styles.iconContainer,(cart.length>0||updatingOrder||ongoingDelivery)&&{opacity:0.5}],onPress:function onPress(){return setclockinModal(true);},disabled:cart.length>0||updatingOrder||ongoingDelivery,icon:function icon(){return _jsx(MaterialCommunityIcons,{name:\"clock\",size:26,color:\"white\"});}}),_jsx(CartButton,{style:[styles.iconContainer,(cart.length>0||updatingOrder||ongoingDelivery)&&{opacity:0.5}],disabled:cart.length>0||updatingOrder||ongoingDelivery,onPress:function onPress(){return setongoingOrderListModal(true);},icon:function icon(){return _jsx(Ionicons,{name:\"chevron-down\",size:28,color:\"white\"});},notification:ongoingListState.length}),_jsx(CartButton,{style:[styles.iconContainer,cart.length>0&&!ongoingDelivery&&{opacity:0.5}],onPress:function onPress(){return setDeliveryModal(true);},disabled:cart.length>0&&!ongoingDelivery,icon:function icon(){return _jsx(Feather,{name:\"phone-call\",size:28,color:\"white\"});}}),updatingOrder?_jsx(CartButton,{style:[styles.iconContainer],onPress:function onPress(){setCartState([]);setName(null);setPhone(null);setAddress(null);setDeliveryChecked(false);setOngoingDelivery(null);setongoingOrderListModal(false);setupdatingOrder(false);},icon:function icon(){return _jsx(Entypo,{name:\"cross\",size:28,color:\"white\"});}}):_jsx(CartButton,{disabled:ongoingDelivery,style:[styles.iconContainer,cart.length>0&&{opacity:0.5}],onPress:function onPress(){if(storeDetails.settingsPassword){setsettingsPasswordModalVis(true);}else{setIsSignedInSettingsState(true);history.push(\"/authed/dashboard\");localStorage.setItem(\"isAuthedBackend\",true);}},icon:function icon(){return _jsx(Entypo,{name:\"cog\",size:28,color:\"white\"});}})]})]}),_jsx(ScrollView,{contentContainerStyle:styles.contentContainer,style:{marginBottom:10},children:_jsx(View,{children:cart.length>0?cart.map(function(cartItem,index){return _jsx(CartItemEditable,{cartItem:cartItem,index:index,removeAction:function removeAction(){console.log(\"Removing\");var local=structuredClone(cart);local.splice(index,1);setCartState(local);},decreaseAction:function decreaseAction(){var local=structuredClone(cart);local[index].quantity--;setCartState(local);},increaseAction:function increaseAction(){var local=structuredClone(cart);if(local[index].quantity){local[index].quantity++;}else{local[index].quantity=2;}setCartState(local);}},index);}):_jsxs(View,{style:{height:height*0.7,width:\"100%\",justifyContent:\"center\",alignItems:\"center\"},children:[_jsx(Text,{style:styles.empty,children:\"Empty...\"}),_jsx(Text,{style:styles.fillTheCart,children:\"Fill the Cart!\"})]})})}),_jsxs(View,{style:{justifyContent:\"space-around\",alignItems:\"center\",width:\"90%\",alignSelf:\"center\"},children:[deliveryChecked&&parseFloat(storeDetails.deliveryPrice)&&_jsxs(View,{style:{alignSelf:\"stretch\",flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\",marginBottom:2,paddingTop:5},children:[_jsx(Text,{style:{fontFamily:\"archivo-600\",color:\"rgba(74,74,74,1)\",fontSize:16,alignSelf:\"flex-start\"},children:\"Delivery\"}),_jsxs(Text,{style:[{fontFamily:\"archivo-600\",color:\"rgba(255,255,255,1)\",fontSize:20,alignSelf:\"flex-start\"},cartSub===0&&{opacity:0.5}],children:[\"$\",parseFloat(storeDetails.deliveryPrice).toFixed(2)]})]}),_jsxs(View,{style:{alignSelf:\"stretch\",flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\",marginBottom:2},children:[_jsx(Text,{style:{fontFamily:\"archivo-600\",color:\"rgba(74,74,74,1)\",fontSize:16,alignSelf:\"flex-start\"},children:\"Sub Total\"}),_jsxs(Text,{style:[{fontFamily:\"archivo-600\",color:\"rgba(255,255,255,1)\",fontSize:20,alignSelf:\"flex-start\"},cartSub===0&&{opacity:0.5}],children:[\"$\",cartSub.toFixed(2)]})]}),_jsxs(View,{style:{alignSelf:\"stretch\",flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\",marginBottom:2},children:[_jsx(Text,{style:{fontFamily:\"archivo-600\",color:\"rgba(74,74,74,1)\",fontSize:16,alignSelf:\"flex-start\"},children:\"Tax\"}),_jsxs(Text,{style:[{fontFamily:\"archivo-600\",color:\"rgba(255,255,255,1)\",fontSize:20,alignSelf:\"flex-start\"},cartSub===0&&{opacity:0.5}],children:[\"$\",(cartSub*(storeDetails.taxRate?storeDetails.taxRate/100:0.13)).toFixed(2)]})]}),_jsxs(View,{style:{alignSelf:\"stretch\",flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\",marginBottom:10},children:[_jsx(Text,{style:{fontFamily:\"archivo-600\",color:\"rgba(74,74,74,1)\",fontSize:16,alignSelf:\"flex-start\"},children:\"Total\"}),_jsxs(Text,{style:[{fontFamily:\"archivo-600\",color:\"rgba(255,255,255,1)\",fontSize:20,alignSelf:\"flex-start\"},cartSub===0&&{opacity:0.5}],children:[\"$\",(cartSub*1.13).toFixed(2)]})]}),_jsx(DeliveryBtn,{})]}),_jsx(Modal,{visible:clockinModal,transparent:true,children:_jsx(ClockinModal,{setclockinModal:setclockinModal})}),_jsx(Modal,{visible:saveCustomerModal,transparent:true,children:_jsx(SaveCustomer,{setSaveCustomerModal:setSaveCustomerModal,setOngoingDelivery:setOngoingDelivery,setNameForDelivery:setName,setPhoneForDelivery:setPhone,setAddressForDelivery:setAddress,setDeliveryChecked:setDeliveryChecked,setsavedCustomerDetails:setsavedCustomerDetails})}),_jsx(Modal,{visible:deliveryModal,transparent:true,children:_jsx(DeliveryScreen,{setsavedCustomerDetails:setsavedCustomerDetails,setDeliveryModal:setDeliveryModal,setOngoingDelivery:setOngoingDelivery,setName:setName,setPhone:setPhone,setAddress:setAddress,name:name,phone:phone,address:address,deliveryChecked:deliveryChecked,setDeliveryChecked:setDeliveryChecked,ongoingDelivery:ongoingDelivery,setsaveCustomerModal:setSaveCustomerModal})}),_jsx(Modal,{visible:cashModal,transparent:true,children:_jsx(CashScreen,{setCashModal:setCashModal,GetTrans:function GetTrans(){return Print(\"Cash\");},total:(cartSub*1.13).toFixed(2),setChangeDue:setChangeDue})}),_jsx(Modal,{visible:changeModal,children:_jsx(ChangeScreen,{setChangeModal:setChangeModal})}),_jsx(Modal,{visible:ongoingOrderListModal,transparent:true,children:_jsx(CompletePaymentPhoneOrder,{setongoingOrderListModal:setongoingOrderListModal,updateOrderHandler:function updateOrderHandler(order){setCartState(order.cart);setName(order.customer.name);setPhone(order.customer.phone);setAddress(order.customer.address);setDeliveryChecked(order.method===\"deliveryOrder\");setOngoingDelivery(true);setongoingOrderListModal(false);setupdatingOrder(order);},ongoingListState:ongoingListState,setongoingListState:setongoingListState})}),_jsx(Modal,{visible:settingsPasswordModalVis,transparent:true,children:_jsx(SettingsPasswordModal,{setsettingsPasswordModalVis:setsettingsPasswordModalVis,navigation:navigation})}),_jsx(Modal,{visible:discountModal,transparent:true,children:_jsx(DiscountModal,{setdiscountModal:setdiscountModal,cartSub:cartSub,cart:cart,deliveryChecked:deliveryChecked,storeDetails:storeDetails})})]});};export default CartScreen;var styles=StyleSheet.create({container:{height:\"100%\",width:\"30%\",padding:20,backgroundColor:\"rgba(31,35,48,1)\",borderTopRightRadius:0,borderBottomRightRadius:0,borderTopLeftRadius:2,borderBottomLeftRadius:2,shadowColor:\"rgba(0,0,0,1)\",shadowOffset:{width:-3,height:3},elevation:30,shadowOpacity:0.92,shadowRadius:5},contentContainer:{height:\"100%\",justifyContent:\"space-between\",width:\"100%\"},totalContainer:{height:\"14%\",paddingTop:10},cartHeader:{height:\"6%\",justifyContent:\"space-between\",width:\"100%\",flexDirection:\"row\",alignItems:\"center\",marginBottom:20},iconContainer:{alignItems:\"center\",justifyContent:\"center\",backgroundColor:\"rgba(41,44,56,1)\",borderRadius:15,width:50,height:50,margin:10},cashButton:{backgroundColor:\"rgba(51,81,243,1)\",borderRadius:30,borderTopRightRadius:0,borderBottomRightRadius:0,width:\"49.5%\",height:55,alignItems:\"center\",justifyContent:\"center\"},cardButton:{backgroundColor:\"rgba(51,81,243,1)\",borderRadius:30,borderTopRightRadius:30,borderBottomRightRadius:30,borderTopLeftRadius:0,borderBottomLeftRadius:0,width:\"49.5%\",height:55,alignItems:\"center\",justifyContent:\"center\"},btnTxt:{fontSize:20,color:\"white\"},totalTxt:{fontSize:16,marginBottom:5,color:\"rgba(255,255,255,1)\",fontWeight:\"600\"},totalTxtPrice:{fontSize:16,marginBottom:5,color:\"rgba(255,255,255,1)\",fontWeight:\"600\"},bigButton:{backgroundColor:\"rgba(51,81,243,1)\",borderRadius:30,width:\"98%\",height:55,alignItems:\"center\",justifyContent:\"center\"},innerTxt:{fontSize:13,marginBottom:10},headerTxt:{fontSize:15,fontWeight:\"600\"},empty:{fontFamily:\"archivo-600\",color:\"rgba(255,255,255,1)\",fontSize:20,opacity:0.44,marginTop:20},fillTheCart:{fontFamily:\"archivo-500\",color:\"rgba(74,74,74,1)\",fontSize:20}});","map":{"version":3,"names":["React","useEffect","useState","cartState","setCartState","storeDetailState","setIsSignedInSettingsState","customersList","setCustomersList","myDeviceDetailsState","DeliveryScreen","CashScreen","ChangeScreen","MaterialCommunityIcons","Feather","SaveCustomer","auth","db","Entypo","Ionicons","useHistory","CompletePaymentPhoneOrder","SettingsPasswordModal","CartItemEditable","useWindowDimensions","ClockinModal","ReceiptPrint","DiscountModal","CartButton","props","notification","style","onPress","disabled","height","width","borderRadius","backgroundColor","position","top","right","justifyContent","alignItems","CartScreen","navigation","deliveryModal","setDeliveryModal","cashModal","setCashModal","changeModal","setChangeModal","ongoingDelivery","setOngoingDelivery","name","setName","phone","setPhone","address","setAddress","deliveryChecked","setDeliveryChecked","changeDue","setChangeDue","cart","use","storeDetails","cartSub","setCartSub","saveCustomerModal","setSaveCustomerModal","savedCustomerDetails","setsavedCustomerDetails","ongoingOrderListModal","setongoingOrderListModal","settingsPasswordModalVis","setsettingsPasswordModalVis","history","updatingOrder","setupdatingOrder","ongoingListState","setongoingListState","customers","myDeviceDetails","clockinModal","setclockinModal","discountModal","setdiscountModal","parseDate","input","Object","prototype","toString","call","isNaN","getTime","dateObject","Date","unsub","collection","doc","currentUser","uid","onSnapshot","snapshot","list","forEach","push","data","id","online","printed","printOnlineOrders","console","log","qz","require","websocket","connect","then","config","configs","create","printToPrinter","print","disconnect","catch","err","alert","update","sortedArray","sort","a","b","dateA","date","toDate","dateB","length","newVal","i","quantity","parseFloat","price","error","deliveryPrice","includes","discountItem","newCart","structuredClone","splice","percent","pop","Print","method","dontAddToOngoing","orders","indexOfCustomer","findIndex","customer","newCustomers","transNum","Math","random","substr","today","element","add","total","sendPrintToUserID","useDifferentDeviceToPrint","value","printData","paymentMethod","DeliveryBtn","styles","bigButton","opacity","delete","btnTxt","flexDirection","alignSelf","marginBottom","cashButton","cardButton","container","cartHeader","fontFamily","color","fontSize","iconContainer","settingsPassword","localStorage","setItem","contentContainer","map","cartItem","index","local","empty","fillTheCart","paddingTop","toFixed","taxRate","order","StyleSheet","padding","borderTopRightRadius","borderBottomRightRadius","borderTopLeftRadius","borderBottomLeftRadius","shadowColor","shadowOffset","elevation","shadowOpacity","shadowRadius","totalContainer","margin","totalTxt","fontWeight","totalTxtPrice","innerTxt","headerTxt","marginTop"],"sources":["/Users/peterputros/Desktop/PosMate/components/cart/CartScreen.tsx"],"sourcesContent":["import {\n  Modal,\n  ScrollView,\n  StyleSheet,\n  Text,\n  View,\n  TouchableOpacity,\n  Button,\n  Image,\n} from \"react-native\";\nimport React, { useEffect, useState } from \"react\";\nimport {\n  cartState,\n  setCartState,\n  storeDetailState,\n  setIsSignedInSettingsState,\n  customersList,\n  setCustomersList,\n  myDeviceDetailsState,\n} from \"state/state\";\nimport DeliveryScreen from \"components/modals/DeliveryScreen\";\nimport CashScreen from \"components/modals/CashScreen\";\nimport ChangeScreen from \"components/modals/ChangeScreen\";\nimport MaterialCommunityIcons from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport Feather from \"@expo/vector-icons/Feather\";\nimport SaveCustomer from \"../modals/SaveCustomer\";\nimport { auth, db } from \"state/firebaseConfig\";\nimport { MaterialIcons, Entypo, Ionicons } from \"@expo/vector-icons\";\nimport { useHistory } from \"react-router-dom\";\nimport CompletePaymentPhoneOrder from \"components/modals/CompletePaymentPhoneOrder\";\nimport SettingsPasswordModal from \"components/modals/SettingsPasswordModal\";\nimport CartItemEditable from \"components/cart/CartItemEditable\";\nimport useWindowDimensions from \"components/functional/useWindowDimensions\";\nimport ClockinModal from \"../modals/ClockinModal\";\nimport ReceiptPrint from \"components/functional/ReceiptPrint\";\nimport DiscountModal from \"components/modals/DiscountModal\";\n\nconst CartButton = (props) => {\n  return (\n    <>\n      {props.notification ? (\n        <View>\n          <TouchableOpacity\n            style={props.style}\n            onPress={props.onPress}\n            disabled={props.disabled}\n          >\n            <props.icon />\n          </TouchableOpacity>\n          <View\n            style={{\n              height: 20,\n              width: 20,\n              borderRadius: 5,\n              backgroundColor: \"green\",\n              position: \"absolute\",\n              top: 0,\n              right: 0,\n              justifyContent: \"center\",\n              alignItems: \"center\",\n            }}\n          >\n            <Text>{props.notification}</Text>\n          </View>\n        </View>\n      ) : (\n        <TouchableOpacity\n          style={props.style}\n          onPress={props.onPress}\n          disabled={props.disabled}\n        >\n          <props.icon />\n        </TouchableOpacity>\n      )}\n    </>\n  );\n};\n\nconst CartScreen = ({ navigation }) => {\n  const [deliveryModal, setDeliveryModal] = useState(false);\n  const [cashModal, setCashModal] = useState(false);\n  const [changeModal, setChangeModal] = useState(false);\n  const [ongoingDelivery, setOngoingDelivery] = useState(null);\n  const [name, setName] = useState(null);\n  const [phone, setPhone] = useState(null);\n  const [address, setAddress] = useState(null);\n  const [deliveryChecked, setDeliveryChecked] = useState(false);\n  const [changeDue, setChangeDue] = useState(null);\n  const cart = cartState.use();\n  const storeDetails = storeDetailState.use();\n  const [cartSub, setCartSub] = useState(0);\n  const [saveCustomerModal, setSaveCustomerModal] = useState(false);\n  const [savedCustomerDetails, setsavedCustomerDetails] = useState(null);\n  const [ongoingOrderListModal, setongoingOrderListModal] = useState(false);\n  const [settingsPasswordModalVis, setsettingsPasswordModalVis] =\n    useState(false);\n  const history = useHistory();\n  const height = useWindowDimensions().height;\n  const [updatingOrder, setupdatingOrder] = useState(false);\n  const [ongoingListState, setongoingListState] = useState([]);\n  const customers = customersList.use();\n  const myDeviceDetails = myDeviceDetailsState.use();\n  const [clockinModal, setclockinModal] = useState(false);\n  const [discountModal, setdiscountModal] = useState(false);\n\n  function parseDate(input) {\n    // Check if the input is a Date object\n    if (Object.prototype.toString.call(input) === \"[object Date]\") {\n      if (!isNaN(input.getTime())) {\n        // It's a valid Date object, return it\n        return input;\n      }\n    }\n\n    // Check if the input is a string\n    if (typeof input === \"string\") {\n      const dateObject = new Date(input);\n\n      // Check if the dateObject is a valid Date\n      if (!isNaN(dateObject.getTime())) {\n        // It's a valid Date object, return it\n        return dateObject;\n      }\n    }\n  }\n\n  useEffect(() => {\n    const unsub = db\n      .collection(\"users\")\n      .doc(auth.currentUser?.uid)\n      .collection(\"pendingOrders\")\n      .onSnapshot((snapshot) => {\n        const list = [];\n        snapshot.forEach((doc) => {\n          list.push({ ...doc.data(), id: doc.id });\n          if (\n            doc.data().online &&\n            !doc.data().printed &&\n            myDeviceDetails.printOnlineOrders\n          ) {\n            console.log(\"Printing\");\n            const data = ReceiptPrint(doc.data(), storeDetails);\n            const qz = require(\"qz-tray\");\n            qz.websocket\n              .connect()\n              .then(function () {\n                const config = qz.configs.create(\n                  myDeviceDetails.printToPrinter\n                );\n                return qz.print(config, data.data);\n              })\n              .then(qz.websocket.disconnect)\n              .catch(function (err) {\n                // console.error(err);\n                alert(\n                  \"An error occured while trying to print. Try refreshing the page and trying again.\"\n                );\n              });\n            db.collection(\"users\")\n              .doc(auth.currentUser?.uid)\n              .collection(\"pendingOrders\")\n              .doc(doc.id)\n              .update({\n                printed: true,\n              });\n          }\n        });\n\n        const sortedArray = list.sort((a, b) => {\n          const dateA = a.online ? parseDate(a.date) : a.date.toDate();\n          const dateB = b.online ? parseDate(b.date) : b.date.toDate();\n\n          // Compare dates\n          return dateB - dateA;\n        });\n\n        setongoingListState(sortedArray);\n      });\n\n    return () => unsub();\n  }, []);\n\n  useEffect(() => {\n    // console.log(\"cart\", cart);\n    if (cart.length > 0) {\n      let newVal = 0;\n      for (let i = 0; i < cart.length; i++) {\n        try {\n          if (cart[i].quantity > 1) {\n            newVal += parseFloat(cart[i].price) * cart[i].quantity;\n            // console.log(\"Cart item quantity \", cart[i].quantity);\n          } else {\n            newVal += parseFloat(cart[i].price);\n          }\n        } catch (error) {\n          console.log(error);\n        }\n      }\n      if (deliveryChecked) {\n        setCartSub(newVal + parseFloat(storeDetails.deliveryPrice));\n      } else {\n        setCartSub(newVal);\n      }\n      //check if there is a discount in the cart then move it the end of the cart\n      if (cart.length > 1) {\n        if (!cart[cart.length - 1].name.includes(\"Cart Discount\")) {\n          for (let i = 0; i < cart.length; i++) {\n            if (cart[i].name.includes(\"Cart Discount\")) {\n              console.log(\"In first if\");\n              const discountItem = cart[i];\n              const newCart = structuredClone(cart);\n              newCart.splice(i, 1);\n\n              if (discountItem.percent) {\n                newCart.push({\n                  ...discountItem,\n                  price:\n                    (newVal + -discountItem.price) * discountItem.percent * -1,\n                });\n              } else {\n                newCart.push(discountItem);\n              }\n              setCartState(newCart);\n            }\n          }\n        } else if (cart[cart.length - 1].percent) {\n          console.log(\"In second if\");\n          const discountItem = cart[cart.length - 1];\n          if (\n            (newVal + -discountItem.price) * discountItem.percent * -1 !==\n            discountItem.price\n          ) {\n            const newCart = structuredClone(cart);\n            newCart.pop();\n            newCart.push({\n              ...discountItem,\n              price: (newVal + -discountItem.price) * discountItem.percent * -1,\n            });\n            setCartState(newCart);\n          }\n        }\n      }\n    } else {\n      setCartSub(0);\n    }\n  }, [cart, deliveryChecked]);\n\n  // const AddToList = async (payload) => {\n  //   updateTransList(payload);\n  // };\n\n  const Print = (method, dontAddToOngoing) => {\n    if (!myDeviceDetails.id) {\n      return alert(\"Please set up a device in Settings -> Devices\");\n    }\n\n    if (savedCustomerDetails) {\n      if (savedCustomerDetails.orders?.length > 0) {\n        db.collection(\"users\")\n          .doc(auth.currentUser?.uid)\n          .collection(\"customers\")\n          .doc(savedCustomerDetails.id)\n          .update({\n            orders: [...savedCustomerDetails.orders, { cart }],\n          });\n        const indexOfCustomer = customers.findIndex(\n          (customer) => customer.id === savedCustomerDetails.id\n        );\n        const newCustomers = structuredClone(customers);\n        newCustomers[indexOfCustomer].orders.push({ cart });\n        setCustomersList(newCustomers);\n      } else {\n        db.collection(\"users\")\n          .doc(auth.currentUser?.uid)\n          .collection(\"customers\")\n          .doc(savedCustomerDetails.id)\n          .update({\n            orders: [{ cart }],\n          });\n        const indexOfCustomer = customers.findIndex(\n          (customer) => customer.id === savedCustomerDetails.id\n        );\n        const newCustomers = structuredClone(customers);\n        newCustomers[indexOfCustomer].orders = [{ cart }];\n        setCustomersList(newCustomers);\n      }\n    }\n\n    const transNum = Math.random().toString(36).substr(2, 9);\n\n    if (method === \"deliveryOrder\") {\n      const today = new Date();\n\n      const element = {\n        date: today,\n        transNum: transNum,\n        method: \"deliveryOrder\",\n        cart: cart,\n        customer: {\n          name: name,\n          phone: phone,\n          address: address,\n        },\n      };\n\n      const data = ReceiptPrint(element, storeDetails);\n\n      if (!dontAddToOngoing) {\n        console.log(\"Adding to pending orders\");\n        db.collection(\"users\")\n          .doc(auth.currentUser?.uid)\n          .collection(\"pendingOrders\")\n          .add({\n            date: today,\n            transNum: transNum,\n            method: \"deliveryOrder\",\n            cart: cart,\n            total: data.total,\n            customer: {\n              name: name,\n              phone: phone,\n              address: address ? address : null,\n            },\n          });\n      }\n\n      if (\n        myDeviceDetails.sendPrintToUserID &&\n        myDeviceDetails.useDifferentDeviceToPrint\n      ) {\n        console.log(\"Sending print to different user\");\n        db.collection(\"users\")\n          .doc(auth.currentUser?.uid)\n          .collection(\"devices\")\n          .doc(myDeviceDetails.sendPrintToUserID.value)\n          .collection(\"printRequests\")\n          .add({\n            printData: data.data,\n          });\n      } else {\n        const qz = require(\"qz-tray\");\n        qz.websocket\n          .connect()\n          .then(function () {\n            const config = qz.configs.create(myDeviceDetails.printToPrinter);\n            return qz.print(config, data.data);\n          })\n          .then(qz.websocket.disconnect)\n          .catch(function (err) {\n            // console.error(err);\n            alert(\n              \"An error occured while trying to print. Try refreshing the page and trying again.\"\n            );\n          });\n      }\n\n      setCartState([]);\n      setDeliveryModal(false);\n    } else if (method === \"pickupOrder\") {\n      const today = new Date();\n\n      const element = {\n        date: today,\n        transNum: transNum,\n        method: \"pickupOrder\",\n        cart: cart,\n        customer: {\n          name: name,\n          phone: phone,\n          // address: address,\n        },\n      };\n\n      const data = ReceiptPrint(element, storeDetails);\n\n      if (!dontAddToOngoing) {\n        console.log(\"Adding to pending orders\");\n        db.collection(\"users\")\n          .doc(auth.currentUser?.uid)\n          .collection(\"pendingOrders\")\n          .add({\n            date: today,\n            transNum: transNum,\n            method: \"pickupOrder\",\n            cart: cart,\n            total: data.total,\n            customer: {\n              name: name,\n              phone: phone,\n              address: address ? address : \"null\",\n            },\n          });\n      }\n\n      if (\n        myDeviceDetails.sendPrintToUserID &&\n        myDeviceDetails.useDifferentDeviceToPrint\n      ) {\n        console.log(\"Sending print to different user\");\n        db.collection(\"users\")\n          .doc(auth.currentUser?.uid)\n          .collection(\"devices\")\n          .doc(myDeviceDetails.sendPrintToUserID.value)\n          .collection(\"printRequests\")\n          .add({\n            printData: data.data,\n          });\n      } else {\n        const qz = require(\"qz-tray\");\n        qz.websocket\n          .connect()\n          .then(function () {\n            const config = qz.configs.create(myDeviceDetails.printToPrinter);\n            return qz.print(config, data.data);\n          })\n          .then(qz.websocket.disconnect)\n          .catch(function (err) {\n            // console.error(err);\n            alert(\n              \"An error occured while trying to print. Try refreshing the page and trying again.\"\n            );\n          });\n      }\n\n      setCartState([]);\n      setDeliveryModal(false);\n      setName(null);\n      setPhone(null);\n      setAddress(null);\n      setDeliveryChecked(false);\n    } else {\n      const today = new Date();\n      const element = {\n        date: today,\n        transNum: transNum,\n        method: \"inStoreOrder\",\n        cart: cart,\n        customer: {\n          name: name,\n          phone: phone,\n          address: address,\n        },\n        changeDue: changeDue,\n        paymentMethod: method,\n      };\n\n      const data = ReceiptPrint(element, storeDetails);\n\n      db.collection(\"users\")\n        .doc(auth.currentUser?.uid)\n        .collection(\"pendingOrders\")\n        .add({\n          date: today,\n          transNum: transNum,\n          total: data.total,\n          method: \"inStoreOrder\",\n          paymentMethod: method,\n          cart: cart,\n        });\n      if (\n        myDeviceDetails.sendPrintToUserID &&\n        myDeviceDetails.useDifferentDeviceToPrint\n      ) {\n        console.log(\"Sending print to different user\");\n        db.collection(\"users\")\n          .doc(auth.currentUser?.uid)\n          .collection(\"devices\")\n          .doc(myDeviceDetails.sendPrintToUserID.value)\n          .collection(\"printRequests\")\n          .add({\n            printData: data.data,\n          });\n      } else {\n        const qz = require(\"qz-tray\");\n        qz.websocket\n          .connect()\n          .then(function () {\n            const config = qz.configs.create(myDeviceDetails.printToPrinter);\n            return qz.print(config, data.data);\n          })\n          .then(qz.websocket.disconnect)\n          .catch(function (err) {\n            // console.error(err);\n            alert(\n              \"An error occured while trying to print. Try refreshing the page and trying again.\"\n            );\n          });\n      }\n    }\n\n    setCartState([]);\n    setName(null);\n    setPhone(null);\n    setAddress(null);\n    setDeliveryChecked(false);\n    setChangeDue(null);\n  };\n\n  const DeliveryBtn = () => {\n    if (updatingOrder) {\n      return (\n        <TouchableOpacity\n          style={[styles.bigButton, cartSub === 0 && { opacity: 0.5 }]}\n          disabled={cart.length < 1}\n          onPress={() => {\n            // const oldList = structuredClone(\n            //   JSON.parse(localStorage.getItem(\"ongoingList\"))\n            // );\n            // oldList[updatingOrder.index].cart = cart;\n            // setongoingListState(oldList);\n            db.collection(\"users\")\n              .doc(auth.currentUser?.uid)\n              .collection(\"pendingOrders\")\n              .doc(updatingOrder.id)\n              .delete();\n\n            Print(deliveryChecked ? \"deliveryOrder\" : \"pickupOrder\", false);\n            setOngoingDelivery(null);\n            setName(null);\n            setPhone(null);\n            setAddress(null);\n            setDeliveryChecked(false);\n            setupdatingOrder(false);\n          }}\n        >\n          <Text style={styles.btnTxt}>Update Order</Text>\n        </TouchableOpacity>\n      );\n    }\n\n    if (ongoingDelivery === null) {\n      return (\n        <View\n          style={{\n            flexDirection: \"row\",\n            width: \"100%\",\n            alignSelf: \"center\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            marginBottom: 10,\n          }}\n        >\n          <TouchableOpacity\n            style={[styles.cashButton, cartSub === 0 && { opacity: 0.5 }]}\n            onPress={() => setCashModal(true)}\n            disabled={cart.length < 1 || ongoingDelivery}\n          >\n            <Text style={styles.btnTxt}>Cash</Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={[styles.cardButton, cartSub === 0 && { opacity: 0.5 }]}\n            onPress={() => {\n              Print(\"Card\");\n            }}\n            disabled={cart.length < 1 || ongoingDelivery}\n          >\n            <Text style={styles.btnTxt}>Card</Text>\n          </TouchableOpacity>\n        </View>\n      );\n    }\n    if (ongoingDelivery && cart.length > 0) {\n      return (\n        <TouchableOpacity\n          style={styles.bigButton}\n          onPress={() => {\n            Print(deliveryChecked ? \"deliveryOrder\" : \"pickupOrder\", false);\n            setOngoingDelivery(null);\n            setName(null);\n            setPhone(null);\n            setAddress(null);\n          }}\n        >\n          <Text style={styles.btnTxt}>Complete</Text>\n        </TouchableOpacity>\n      );\n    } else {\n      return (\n        <TouchableOpacity\n          style={styles.bigButton}\n          onPress={() => {\n            setOngoingDelivery(null);\n            setDeliveryChecked(false);\n            setName(null);\n            setPhone(null);\n            setAddress(null);\n            setChangeDue(null);\n          }}\n        >\n          <Text style={styles.btnTxt}>Cancel</Text>\n        </TouchableOpacity>\n      );\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.cartHeader}>\n        <Text\n          style={{\n            fontFamily: \"archivo-600\",\n            color: \"rgba(255,255,255,1)\",\n            fontSize: 25,\n          }}\n        >\n          Order\n        </Text>\n        <View\n          style={{\n            flexDirection: \"row\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n          }}\n        >\n          <CartButton\n            style={[\n              styles.iconContainer,\n              (cart.length < 1 || updatingOrder) && { opacity: 0.5 },\n            ]}\n            onPress={() => setdiscountModal(true)}\n            disabled={cart.length < 1}\n            icon={() => (\n              <Image\n                style={{ width: 26, height: 26 }}\n                source={require(\"assets/tag.png\")}\n              />\n            )}\n          />\n          <CartButton\n            style={[\n              styles.iconContainer,\n              (cart.length > 0 || updatingOrder || ongoingDelivery) && { opacity: 0.5 },\n            ]}\n            onPress={() => setclockinModal(true)}\n            disabled={cart.length > 0 || updatingOrder || ongoingDelivery}\n            icon={() => (\n              <MaterialCommunityIcons name=\"clock\" size={26} color=\"white\" />\n            )}\n          />\n          <CartButton\n            style={[\n              styles.iconContainer,\n              (cart.length > 0 || updatingOrder || ongoingDelivery) && { opacity: 0.5 },\n            ]}\n            disabled={cart.length > 0 || updatingOrder || ongoingDelivery}\n            onPress={() => setongoingOrderListModal(true)}\n            icon={() => (\n              <Ionicons name=\"chevron-down\" size={28} color=\"white\" />\n            )}\n            notification={ongoingListState.length}\n          />\n          <CartButton\n            style={[\n              styles.iconContainer,\n              cart.length > 0 && !ongoingDelivery && { opacity: 0.5 },\n            ]}\n            onPress={() => setDeliveryModal(true)}\n            disabled={cart.length > 0 && !ongoingDelivery}\n            icon={() => <Feather name=\"phone-call\" size={28} color=\"white\" />}\n          />\n          {updatingOrder ? (\n            <CartButton\n              style={[styles.iconContainer]}\n              onPress={() => {\n                setCartState([]);\n                setName(null);\n                setPhone(null);\n                setAddress(null);\n                setDeliveryChecked(false);\n                setOngoingDelivery(null);\n                setongoingOrderListModal(false);\n                setupdatingOrder(false);\n              }}\n              icon={() => <Entypo name=\"cross\" size={28} color=\"white\" />}\n            />\n          ) : (\n            <CartButton\n              disabled={ongoingDelivery}\n              style={[\n                styles.iconContainer,\n                cart.length > 0 && { opacity: 0.5 },\n              ]}\n              onPress={() => {\n                if (storeDetails.settingsPassword) {\n                  setsettingsPasswordModalVis(true);\n                } else {\n                  setIsSignedInSettingsState(true);\n                  history.push(\"/authed/dashboard\");\n                  localStorage.setItem(\"isAuthedBackend\", true);\n                }\n              }}\n              icon={() => <Entypo name=\"cog\" size={28} color=\"white\" />}\n            />\n          )}\n        </View>\n      </View>\n      <ScrollView\n        contentContainerStyle={styles.contentContainer}\n        style={{ marginBottom: 10 }}\n      >\n        <View>\n          {cart.length > 0 ? (\n            cart.map((cartItem, index) => (\n              <CartItemEditable\n                key={index}\n                cartItem={cartItem}\n                index={index}\n                removeAction={() => {\n                  console.log(\"Removing\");\n                  const local = structuredClone(cart);\n                  local.splice(index, 1);\n                  setCartState(local);\n                }}\n                decreaseAction={() => {\n                  const local = structuredClone(cart);\n                  local[index].quantity--;\n                  setCartState(local);\n                }}\n                increaseAction={() => {\n                  const local = structuredClone(cart);\n                  if (local[index].quantity) {\n                    local[index].quantity++;\n                  } else {\n                    local[index].quantity = 2;\n                  }\n                  setCartState(local);\n                }}\n              />\n            ))\n          ) : (\n            <View\n              style={{\n                height: height * 0.7,\n                width: \"100%\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n              }}\n            >\n              <Text style={styles.empty}>Empty...</Text>\n              <Text style={styles.fillTheCart}>Fill the Cart!</Text>\n            </View>\n          )}\n        </View>\n      </ScrollView>\n      <View\n        style={{\n          justifyContent: \"space-around\",\n          alignItems: \"center\",\n          width: \"90%\",\n          alignSelf: \"center\",\n        }}\n      >\n        {deliveryChecked && parseFloat(storeDetails.deliveryPrice) && (\n          <View\n            style={{\n              alignSelf: \"stretch\",\n              flexDirection: \"row\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n              marginBottom: 2,\n              paddingTop: 5,\n            }}\n          >\n            <Text\n              style={{\n                fontFamily: \"archivo-600\",\n                color: \"rgba(74,74,74,1)\",\n                fontSize: 16,\n                alignSelf: \"flex-start\",\n              }}\n            >\n              Delivery\n            </Text>\n            <Text\n              style={[\n                {\n                  fontFamily: \"archivo-600\",\n                  color: \"rgba(255,255,255,1)\",\n                  fontSize: 20,\n                  alignSelf: \"flex-start\",\n                },\n                cartSub === 0 && { opacity: 0.5 },\n              ]}\n            >\n              ${parseFloat(storeDetails.deliveryPrice).toFixed(2)}\n            </Text>\n          </View>\n        )}\n        <View\n          style={{\n            alignSelf: \"stretch\",\n            flexDirection: \"row\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            marginBottom: 2,\n          }}\n        >\n          <Text\n            style={{\n              fontFamily: \"archivo-600\",\n              color: \"rgba(74,74,74,1)\",\n              fontSize: 16,\n              alignSelf: \"flex-start\",\n            }}\n          >\n            Sub Total\n          </Text>\n          <Text\n            style={[\n              {\n                fontFamily: \"archivo-600\",\n                color: \"rgba(255,255,255,1)\",\n                fontSize: 20,\n                alignSelf: \"flex-start\",\n              },\n              cartSub === 0 && { opacity: 0.5 },\n            ]}\n          >\n            ${cartSub.toFixed(2)}\n          </Text>\n        </View>\n        <View\n          style={{\n            alignSelf: \"stretch\",\n            flexDirection: \"row\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            marginBottom: 2,\n          }}\n        >\n          <Text\n            style={{\n              fontFamily: \"archivo-600\",\n              color: \"rgba(74,74,74,1)\",\n              fontSize: 16,\n              alignSelf: \"flex-start\",\n            }}\n          >\n            Tax\n          </Text>\n          <Text\n            style={[\n              {\n                fontFamily: \"archivo-600\",\n                color: \"rgba(255,255,255,1)\",\n                fontSize: 20,\n                alignSelf: \"flex-start\",\n              },\n              cartSub === 0 && { opacity: 0.5 },\n            ]}\n          >\n            $\n            {(\n              cartSub *\n              (storeDetails.taxRate ? storeDetails.taxRate / 100 : 0.13)\n            ).toFixed(2)}\n          </Text>\n        </View>\n        <View\n          style={{\n            alignSelf: \"stretch\",\n            flexDirection: \"row\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            marginBottom: 10,\n          }}\n        >\n          <Text\n            style={{\n              fontFamily: \"archivo-600\",\n              color: \"rgba(74,74,74,1)\",\n              fontSize: 16,\n              alignSelf: \"flex-start\",\n            }}\n          >\n            Total\n          </Text>\n          <Text\n            style={[\n              {\n                fontFamily: \"archivo-600\",\n                color: \"rgba(255,255,255,1)\",\n                fontSize: 20,\n                alignSelf: \"flex-start\",\n              },\n              cartSub === 0 && { opacity: 0.5 },\n            ]}\n          >\n            ${(cartSub * 1.13).toFixed(2)}\n          </Text>\n        </View>\n        <DeliveryBtn />\n      </View>\n      <Modal visible={clockinModal} transparent={true}>\n        <ClockinModal setclockinModal={setclockinModal} />\n      </Modal>\n      <Modal visible={saveCustomerModal} transparent={true}>\n        <SaveCustomer\n          setSaveCustomerModal={setSaveCustomerModal}\n          setOngoingDelivery={setOngoingDelivery}\n          setNameForDelivery={setName}\n          setPhoneForDelivery={setPhone}\n          setAddressForDelivery={setAddress}\n          setDeliveryChecked={setDeliveryChecked}\n          setsavedCustomerDetails={setsavedCustomerDetails}\n        />\n      </Modal>\n      <Modal visible={deliveryModal} transparent={true}>\n        <DeliveryScreen\n          setsavedCustomerDetails={setsavedCustomerDetails}\n          setDeliveryModal={setDeliveryModal}\n          setOngoingDelivery={setOngoingDelivery}\n          setName={setName}\n          setPhone={setPhone}\n          setAddress={setAddress}\n          name={name}\n          phone={phone}\n          address={address}\n          deliveryChecked={deliveryChecked}\n          setDeliveryChecked={setDeliveryChecked}\n          ongoingDelivery={ongoingDelivery}\n          setsaveCustomerModal={setSaveCustomerModal}\n        />\n      </Modal>\n      <Modal visible={cashModal} transparent>\n        <CashScreen\n          setCashModal={setCashModal}\n          GetTrans={() => Print(\"Cash\")}\n          total={(cartSub * 1.13).toFixed(2)}\n          setChangeDue={setChangeDue}\n        />\n      </Modal>\n      <Modal visible={changeModal}>\n        <ChangeScreen setChangeModal={setChangeModal} />\n      </Modal>\n      <Modal visible={ongoingOrderListModal} transparent={true}>\n        <CompletePaymentPhoneOrder\n          setongoingOrderListModal={setongoingOrderListModal}\n          updateOrderHandler={(order) => {\n            setCartState(order.cart);\n            setName(order.customer.name);\n            setPhone(order.customer.phone);\n            setAddress(order.customer.address);\n            setDeliveryChecked(order.method === \"deliveryOrder\");\n            setOngoingDelivery(true);\n            setongoingOrderListModal(false);\n            setupdatingOrder(order);\n          }}\n          ongoingListState={ongoingListState}\n          setongoingListState={setongoingListState}\n        />\n      </Modal>\n      <Modal visible={settingsPasswordModalVis} transparent={true}>\n        <SettingsPasswordModal\n          setsettingsPasswordModalVis={setsettingsPasswordModalVis}\n          navigation={navigation}\n        />\n      </Modal>\n      <Modal visible={discountModal} transparent={true}>\n        <DiscountModal\n          setdiscountModal={setdiscountModal}\n          cartSub={cartSub}\n          cart={cart}\n          deliveryChecked={deliveryChecked}\n          storeDetails={storeDetails}\n        />\n      </Modal>\n    </View>\n  );\n};\n\nexport default CartScreen;\n\nconst styles = StyleSheet.create({\n  container: {\n    height: \"100%\",\n    width: \"30%\",\n    padding: 20,\n    backgroundColor: \"rgba(31,35,48,1)\",\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    borderTopLeftRadius: 2,\n    borderBottomLeftRadius: 2,\n    shadowColor: \"rgba(0,0,0,1)\",\n    shadowOffset: {\n      width: -3,\n      height: 3,\n    },\n    elevation: 30,\n    shadowOpacity: 0.92,\n    shadowRadius: 5,\n  },\n  contentContainer: {\n    height: \"100%\",\n    justifyContent: \"space-between\",\n    width: \"100%\",\n  },\n  totalContainer: {\n    height: \"14%\",\n    paddingTop: 10,\n  },\n  cartHeader: {\n    height: \"6%\",\n    justifyContent: \"space-between\",\n    width: \"100%\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginBottom: 20,\n  },\n  iconContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"rgba(41,44,56,1)\",\n    borderRadius: 15,\n    width: 50,\n    height: 50,\n    margin: 10,\n  },\n  cashButton: {\n    backgroundColor: \"rgba(51,81,243,1)\",\n    borderRadius: 30,\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    width: \"49.5%\",\n    height: 55,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  cardButton: {\n    backgroundColor: \"rgba(51,81,243,1)\",\n    borderRadius: 30,\n    borderTopRightRadius: 30,\n    borderBottomRightRadius: 30,\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    width: \"49.5%\",\n    height: 55,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  btnTxt: {\n    fontSize: 20,\n    color: \"white\",\n  },\n  totalTxt: {\n    fontSize: 16,\n    marginBottom: 5,\n    color: \"rgba(255,255,255,1)\",\n    fontWeight: \"600\",\n  },\n  totalTxtPrice: {\n    fontSize: 16,\n    marginBottom: 5,\n    color: \"rgba(255,255,255,1)\",\n    fontWeight: \"600\",\n  },\n  bigButton: {\n    backgroundColor: \"rgba(51,81,243,1)\",\n    borderRadius: 30,\n    width: \"98%\",\n    height: 55,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  innerTxt: {\n    fontSize: 13,\n    marginBottom: 10,\n  },\n  headerTxt: {\n    fontSize: 15,\n    fontWeight: \"600\",\n  },\n  empty: {\n    fontFamily: \"archivo-600\",\n    color: \"rgba(255,255,255,1)\",\n    fontSize: 20,\n    opacity: 0.44,\n    marginTop: 20,\n  },\n  fillTheCart: {\n    fontFamily: \"archivo-500\",\n    color: \"rgba(74,74,74,1)\",\n    fontSize: 20,\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}