{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";function _defineProperty(obj,key,value){key=_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _toPropertyKey(arg){var key=_toPrimitive(arg,\"string\");return typeof key===\"symbol\"?key:String(key);}function _toPrimitive(input,hint){if(typeof input!==\"object\"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||\"default\");if(typeof res!==\"object\")return res;throw new TypeError(\"@@toPrimitive must return a primitive value.\");}return(hint===\"string\"?String:Number)(input);}import{withTiming}from\"../../animation\";var supportedProps=['width','height','originX','originY','transform'];var _worklet_15213110450447_init_data={code:\"function anonymous(values){const{animationFactory,supportedProps,withTiming,animationDuration}=this._closure;let animations={};const initialValues={};if(animationFactory){animations=animationFactory(values);for(const key in animations){if(!supportedProps.includes(key)){throw Error(\\\"The prop '\\\"+key+\\\"' is not supported yet.\\\");}}}else{for(const propName of supportedProps){if(propName==='transform'){const matrix=values.targetTransformMatrix;animations.transformMatrix=withTiming(matrix,{duration:animationDuration});}else{const keyToTargetValue='target'+propName.charAt(0).toUpperCase()+propName.slice(1);animations[propName]=withTiming(values[keyToTargetValue],{duration:animationDuration});}}}for(const propName in animations){if(propName==='transform'){initialValues.transformMatrix=values.currentTransformMatrix;}else{const keyToCurrentValue='current'+propName.charAt(0).toUpperCase()+propName.slice(1);initialValues[propName]=values[keyToCurrentValue];}}return{initialValues:initialValues,animations:animations};}\",location:\"/Users/peterputros/Desktop/PosMate/node_modules/react-native-reanimated/lib/module/reanimated2/layoutReanimation/sharedTransitions/index.js\"};export var SharedTransition=function(){function SharedTransition(){_classCallCheck(this,SharedTransition);_defineProperty(this,\"animationFactory\",null);_defineProperty(this,\"defaultDuration\",500);}_createClass(SharedTransition,[{key:\"custom\",value:function custom(animationFactory){this.animationFactory=animationFactory;return this;}},{key:\"build\",value:function build(){var animationFactory=this.animationFactory;var animationDuration=this.defaultDuration;return function(){var _f=function _f(values){var animations={};var initialValues={};if(animationFactory){animations=animationFactory(values);for(var key in animations){if(!supportedProps.includes(key)){throw Error(`The prop '${key}' is not supported yet.`);}}}else{for(var propName of supportedProps){if(propName==='transform'){var matrix=values.targetTransformMatrix;animations.transformMatrix=withTiming(matrix,{duration:animationDuration});}else{var keyToTargetValue='target'+propName.charAt(0).toUpperCase()+propName.slice(1);animations[propName]=withTiming(values[keyToTargetValue],{duration:animationDuration});}}}for(var _propName in animations){if(_propName==='transform'){initialValues.transformMatrix=values.currentTransformMatrix;}else{var keyToCurrentValue='current'+_propName.charAt(0).toUpperCase()+_propName.slice(1);initialValues[_propName]=values[keyToCurrentValue];}}return{initialValues:initialValues,animations:animations};};_f._closure={animationFactory:animationFactory,supportedProps:supportedProps,withTiming:withTiming,animationDuration:animationDuration};_f.__initData=_worklet_15213110450447_init_data;_f.__workletHash=15213110450447;return _f;}();}}],[{key:\"createInstance\",value:function createInstance(){return new SharedTransition();}},{key:\"custom\",value:function custom(animationFactory){return this.createInstance().custom(animationFactory);}},{key:\"build\",value:function build(){return this.createInstance().build();}}]);return SharedTransition;}();export var DefaultSharedTransition=SharedTransition;","map":{"version":3,"mappings":"4wBAAA,OAASA,UAAU,uBAQnB,GAAMC,eAAc,CAAG,CAAC,OAAO,CAAE,QAAQ,CAAE,SAAS,CAAE,SAAS,CAAE,WAAW,CAAC,ssCAI7E,UAAaC,iBAAgB,YAAoCC,2GACf,IAAI,yCAClC,GAAG,sDAUrBC,gBAAOC,gBAAsC,CAAoB,CAC/D,IAAI,CAACA,gBAAgB,CAAGA,gBAAgB,CACxC,MAAO,KAAI,CACb,sBAMAC,gBAAiC,CAC/B,GAAMD,iBAAgB,CAAG,IAAI,CAACA,gBAAgB,CAC9C,GAAME,kBAAiB,CAAG,IAAI,CAACC,eAAe,CAC9C,qCAAQC,MAA8B,CAAK,CAEzC,GAAIC,WAEH,CAAG,CAAC,CAAC,CACN,GAAMC,cAEL,CAAG,CAAC,CAAC,CAEN,GAAIN,gBAAgB,CAAE,CACpBK,UAAU,CAAGL,gBAAgB,CAACI,MAAM,CAAC,CACrC,IAAK,GAAMG,IAAG,GAAIF,WAAU,CAAE,CAC5B,GAAI,CAACT,cAAc,CAACY,QAAQ,CAACD,GAAG,CAAC,CAAE,CACjC,KAAME,MAAK,CAAE,aAAYF,GAAI,yBAAwB,CAAC,CACxD,CACF,CACF,CAAC,IAAM,CACL,IAAK,GAAMG,SAAQ,GAAId,eAAc,CAAE,CACrC,GAAIc,QAAQ,GAAK,WAAW,CAAE,CAC5B,GAAMC,OAAM,CAAGP,MAAM,CAACQ,qBAAqB,CAC3CP,UAAU,CAACQ,eAAe,CAAGlB,UAAU,CAACgB,MAAM,CAAE,CAE9CG,QAAQ,CAAEZ,iBACZ,CAAC,CAAC,CACJ,CAAC,IAAM,CACL,GAAMa,iBAAgB,CACpB,QAAQ,CAAGL,QAAQ,CAACM,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE,CAAGP,QAAQ,CAACQ,KAAK,CAAC,CAAC,CAAC,CACjEb,UAAU,CAACK,QAAQ,CAAC,CAAGf,UAAU,CAACS,MAAM,CAACW,gBAAgB,CAAC,CAAE,CAE1DD,QAAQ,CAAEZ,iBACZ,CAAC,CAAC,CACJ,CACF,CACF,CAEA,IAAK,GAAMQ,UAAQ,GAAIL,WAAU,CAAE,CACjC,GAAIK,SAAQ,GAAK,WAAW,CAAE,CAC5BJ,aAAa,CAACO,eAAe,CAAGT,MAAM,CAACe,sBAAsB,CAC/D,CAAC,IAAM,CACL,GAAMC,kBAAiB,CACrB,SAAS,CAAGV,SAAQ,CAACM,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE,CAAGP,SAAQ,CAACQ,KAAK,CAAC,CAAC,CAAC,CAClEZ,aAAa,CAACI,SAAQ,CAAC,CAAGN,MAAM,CAACgB,iBAAiB,CAAC,CACrD,CACF,CAEA,MAAO,CAAEd,aAAa,CAAbA,aAAa,CAAED,qBAAW,CAAC,CACtC,CAAC,+BA1ECT,gBAA2B,gBASlBC,cAAkB,YAYSF,6BAExCO,iHAoDA,iCAnEA,yBAA0C,CACxC,MAAO,IAAIL,iBAAgB,EAAE,CAC/B,uBAEA,gBAAcG,gBAAsC,CAAoB,CACtE,MAAO,KAAI,CAACqB,cAAc,EAAE,CAACtB,MAAM,CAACC,gBAAgB,CAAC,CACvD,sBAOA,gBAAwC,CACtC,MAAO,KAAI,CAACqB,cAAc,EAAE,CAACpB,KAAK,EAAE,CACtC,iCAuDF,MAAO,IAAMqB,wBAAuB,CAAGzB,gBAAgB","names":["withTiming","supportedProps","SharedTransition","constructor","custom","animationFactory","build","animationDuration","defaultDuration","values","animations","initialValues","key","includes","Error","propName","matrix","targetTransformMatrix","transformMatrix","duration","keyToTargetValue","charAt","toUpperCase","slice","currentTransformMatrix","keyToCurrentValue","createInstance","DefaultSharedTransition"],"sources":["/Users/peterputros/Desktop/PosMate/node_modules/react-native-reanimated/lib/module/reanimated2/layoutReanimation/sharedTransitions/index.ts"],"sourcesContent":["import { withTiming } from '../../animation';\nimport {\n  ILayoutAnimationBuilder,\n  LayoutAnimationFunction,\n  LayoutAnimationsValues,\n} from '../animationBuilder/commonTypes';\nimport { StyleProps } from '../../commonTypes';\n\nconst supportedProps = ['width', 'height', 'originX', 'originY', 'transform'];\n\ntype AnimationFactoryType = (values: LayoutAnimationsValues) => StyleProps;\n\nexport class SharedTransition implements ILayoutAnimationBuilder {\n  animationFactory: AnimationFactoryType | null = null;\n  defaultDuration = 500;\n\n  static createInstance(): SharedTransition {\n    return new SharedTransition();\n  }\n\n  static custom(animationFactory: AnimationFactoryType): SharedTransition {\n    return this.createInstance().custom(animationFactory);\n  }\n\n  custom(animationFactory: AnimationFactoryType): SharedTransition {\n    this.animationFactory = animationFactory;\n    return this;\n  }\n\n  static build(): LayoutAnimationFunction {\n    return this.createInstance().build();\n  }\n\n  build(): LayoutAnimationFunction {\n    const animationFactory = this.animationFactory;\n    const animationDuration = this.defaultDuration;\n    return (values: LayoutAnimationsValues) => {\n      'worklet';\n      let animations: {\n        [key: string]: any;\n      } = {};\n      const initialValues: {\n        [key: string]: any;\n      } = {};\n\n      if (animationFactory) {\n        animations = animationFactory(values);\n        for (const key in animations) {\n          if (!supportedProps.includes(key)) {\n            throw Error(`The prop '${key}' is not supported yet.`);\n          }\n        }\n      } else {\n        for (const propName of supportedProps) {\n          if (propName === 'transform') {\n            const matrix = values.targetTransformMatrix;\n            animations.transformMatrix = withTiming(matrix, {\n              // native screen transition takes around 500ms\n              duration: animationDuration,\n            });\n          } else {\n            const keyToTargetValue =\n              'target' + propName.charAt(0).toUpperCase() + propName.slice(1);\n            animations[propName] = withTiming(values[keyToTargetValue], {\n              // native screen transition takes around 500ms\n              duration: animationDuration,\n            });\n          }\n        }\n      }\n\n      for (const propName in animations) {\n        if (propName === 'transform') {\n          initialValues.transformMatrix = values.currentTransformMatrix;\n        } else {\n          const keyToCurrentValue =\n            'current' + propName.charAt(0).toUpperCase() + propName.slice(1);\n          initialValues[propName] = values[keyToCurrentValue];\n        }\n      }\n\n      return { initialValues, animations };\n    };\n  }\n}\n\nexport const DefaultSharedTransition = SharedTransition;\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}