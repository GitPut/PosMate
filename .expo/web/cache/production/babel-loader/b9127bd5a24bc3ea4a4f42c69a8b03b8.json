{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState}from\"react\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import TextInput from\"react-native-web/dist/exports/TextInput\";import{MaterialIcons}from\"@expo/vector-icons\";import{auth,db}from\"../../../../state/firebaseConfig\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EmployeeClockInItem(_ref){var employee=_ref.employee,employees=_ref.employees,setEmployeesState=_ref.setEmployeesState,isClockedIn=_ref.isClockedIn,style=_ref.style;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),enteredPin=_useState2[0],setenteredPin=_useState2[1];return _jsxs(View,{style:[styles.container,style],children:[_jsxs(View,{style:styles.leftSideGroup,children:[_jsx(MaterialIcons,{name:\"person\",style:styles.personIcon}),_jsx(Text,{style:styles.employeeName,children:employee.name})]}),_jsx(View,{style:styles.rightSideGroup,children:_jsxs(View,{style:styles.textInputRow,children:[_jsx(TextInput,{style:styles.textInput,placeholder:\"PIN\",onChangeText:function onChangeText(val){return setenteredPin(val);},value:enteredPin}),_jsx(TouchableOpacity,{style:[styles.button,isClockedIn&&{backgroundColor:\"#FF0000\"}],onPress:function onPress(){if(enteredPin!==employee.pin&&employee.pin)return alert(\"Wrong PIN\");var date=new Date();if(isClockedIn){var endTime=date.getHours()+\":\"+(date.getMinutes()<10?\"0\"+date.getMinutes():date.getMinutes());db.collection(\"users\").doc(auth.currentUser.uid).collection(\"employees\").doc(employee.id).collection(\"hours\").add({date:employee.clockedIn.date,startTime:employee.clockedIn.startTime,endTime:endTime}).then(function(){db.collection(\"users\").doc(auth.currentUser.uid).collection(\"employees\").doc(employee.id).update({clockedIn:false});var prev=_toConsumableArray(employees);prev[employees.indexOf(employee)].clockedIn=false;setEmployeesState(prev);});setenteredPin(null);}else{var startTime=date.getHours()+\":\"+(date.getMinutes()<10?\"0\"+date.getMinutes():date.getMinutes());db.collection(\"users\").doc(auth.currentUser.uid).collection(\"employees\").doc(employee.id).update({clockedIn:{startTime:startTime,date:date}});var prev=_toConsumableArray(employees);prev[employees.indexOf(employee)].clockedIn={startTime:startTime,date:date};setEmployeesState(prev);setenteredPin(null);}},children:_jsx(Text,{style:styles.clockInLabel,children:isClockedIn?\"Clock Out\":\"Clock In\"})})]})})]});}var styles=StyleSheet.create({container:{backgroundColor:\"#edf1fe\",borderRadius:10,flexDirection:\"row\",shadowColor:\"rgba(0,0,0,1)\",shadowOffset:{width:3,height:3},elevation:9,shadowOpacity:0.2,shadowRadius:3,alignItems:\"center\",justifyContent:\"space-between\"},leftSideGroup:{width:114,height:55,flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\",margin:15},personIcon:{color:\"#1c294e\",fontSize:55},employeeName:{fontWeight:\"700\",color:\"#121212\",fontSize:20},rightSideGroup:{width:183,height:49,margin:15,flexDirection:\"row\"},textInput:{width:85,height:35,backgroundColor:\"rgba(255,255,255,1)\",borderRadius:10,borderWidth:1,borderColor:\"#b4b5b8\",marginTop:7,justifyContent:\"center\",alignItems:\"center\",textAlign:\"center\"},button:{width:92,height:49,backgroundColor:\"#03c551\",borderRadius:10,justifyContent:\"center\",alignItems:\"center\",marginLeft:7},clockInLabel:{fontWeight:\"700\",color:\"rgba(255,255,255,1)\",fontSize:16},textInputRow:{height:49,flexDirection:\"row\",flex:1,marginRight:-1}});export default EmployeeClockInItem;","map":{"version":3,"names":["React","useState","MaterialIcons","auth","db","EmployeeClockInItem","employee","employees","setEmployeesState","isClockedIn","style","enteredPin","setenteredPin","styles","container","leftSideGroup","personIcon","employeeName","name","rightSideGroup","textInputRow","textInput","val","button","backgroundColor","pin","alert","date","Date","endTime","getHours","getMinutes","collection","doc","currentUser","uid","id","add","clockedIn","startTime","then","update","prev","indexOf","clockInLabel","StyleSheet","create","borderRadius","flexDirection","shadowColor","shadowOffset","width","height","elevation","shadowOpacity","shadowRadius","alignItems","justifyContent","margin","color","fontSize","fontWeight","borderWidth","borderColor","marginTop","textAlign","marginLeft","flex","marginRight"],"sources":["/Users/peterputros/Desktop/PosMate/components/modals/ClockInModal/components/EmployeeClockInItem.tsx"],"sourcesContent":["import React, { Component, useState } from \"react\";\nimport {\n  StyleSheet,\n  View,\n  Text,\n  TouchableOpacity,\n  TextInput,\n} from \"react-native\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport { auth, db } from \"state/firebaseConfig\";\n\nfunction EmployeeClockInItem({\n  employee,\n  employees,\n  setEmployeesState,\n  isClockedIn,\n  style,\n}) {\n  const [enteredPin, setenteredPin] = useState(\"\");\n\n  return (\n    <View style={[styles.container, style]}>\n      <View style={styles.leftSideGroup}>\n        <MaterialIcons name=\"person\" style={styles.personIcon} />\n        <Text style={styles.employeeName}>{employee.name}</Text>\n      </View>\n      <View style={styles.rightSideGroup}>\n        <View style={styles.textInputRow}>\n          <TextInput\n            style={styles.textInput}\n            placeholder=\"PIN\"\n            onChangeText={(val) => setenteredPin(val)}\n            value={enteredPin}\n          />\n          <TouchableOpacity\n            style={[\n              styles.button,\n              isClockedIn && { backgroundColor: \"#FF0000\" },\n            ]}\n            onPress={() => {\n              if (enteredPin !== employee.pin && employee.pin)\n                return alert(\"Wrong PIN\");\n              const date = new Date();\n              if (isClockedIn) {\n                const endTime = `${date.getHours()}:${\n                  date.getMinutes() < 10\n                    ? \"0\" + date.getMinutes()\n                    : date.getMinutes()\n                }`;\n                db.collection(\"users\")\n                  .doc(auth.currentUser.uid)\n                  .collection(\"employees\")\n                  .doc(employee.id)\n                  .collection(\"hours\")\n                  .add({\n                    date: employee.clockedIn.date,\n                    startTime: employee.clockedIn.startTime,\n                    endTime: endTime,\n                  })\n                  .then(() => {\n                    db.collection(\"users\")\n                      .doc(auth.currentUser.uid)\n                      .collection(\"employees\")\n                      .doc(employee.id)\n                      .update({\n                        clockedIn: false,\n                      });\n\n                    const prev = [...employees];\n                    prev[employees.indexOf(employee)].clockedIn = false;\n                    setEmployeesState(prev);\n                  });\n                setenteredPin(null);\n              } else {\n                const startTime = `${date.getHours()}:${\n                  date.getMinutes() < 10\n                    ? \"0\" + date.getMinutes()\n                    : date.getMinutes()\n                }`;\n                db.collection(\"users\")\n                  .doc(auth.currentUser.uid)\n                  .collection(\"employees\")\n                  .doc(employee.id)\n                  .update({\n                    clockedIn: {\n                      startTime: startTime,\n                      date: date,\n                    },\n                  });\n\n                const prev = [...employees];\n                prev[employees.indexOf(employee)].clockedIn = {\n                  startTime: startTime,\n                  date: date,\n                };\n                setEmployeesState(prev);\n                setenteredPin(null);\n              }\n            }}\n          >\n            <Text style={styles.clockInLabel}>\n              {isClockedIn ? \"Clock Out\" : \"Clock In\"}\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"#edf1fe\",\n    borderRadius: 10,\n    flexDirection: \"row\",\n    shadowColor: \"rgba(0,0,0,1)\",\n    shadowOffset: {\n      width: 3,\n      height: 3,\n    },\n    elevation: 9,\n    shadowOpacity: 0.2,\n    shadowRadius: 3,\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  },\n  leftSideGroup: {\n    width: 114,\n    height: 55,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    margin: 15,\n  },\n  personIcon: {\n    color: \"#1c294e\",\n    fontSize: 55,\n  },\n  employeeName: {\n    fontWeight: \"700\",\n    color: \"#121212\",\n    fontSize: 20,\n  },\n  rightSideGroup: {\n    width: 183,\n    height: 49,\n    margin: 15,\n    flexDirection: \"row\",\n  },\n  textInput: {\n    width: 85,\n    height: 35,\n    backgroundColor: \"rgba(255,255,255,1)\",\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: \"#b4b5b8\",\n    marginTop: 7,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    textAlign: \"center\",\n  },\n  button: {\n    width: 92,\n    height: 49,\n    backgroundColor: \"#03c551\",\n    borderRadius: 10,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginLeft: 7,\n  },\n  clockInLabel: {\n    fontWeight: \"700\",\n    color: \"rgba(255,255,255,1)\",\n    fontSize: 16,\n  },\n  textInputRow: {\n    height: 49,\n    flexDirection: \"row\",\n    flex: 1,\n    marginRight: -1,\n  },\n});\n\nexport default EmployeeClockInItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}