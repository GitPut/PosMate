{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import React,{useEffect,useState}from\"react\";import{Button,Text}from\"@react-native-material/core\";import{storeDetailState,transListState}from\"../../state/state\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var tz=require(\"moment-timezone\");var ViewTransactions=function ViewTransactions(){var local=transListState.use();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),transList=_useState2[0],settransList=_useState2[1];var today=new Date();var _useState3=useState({todaysReceiptValue:0,todaysReceipts:0}),_useState4=_slicedToArray(_useState3,2),todaysDetails=_useState4[0],setTodaysDetails=_useState4[1];var storeDetails=storeDetailState.use();useEffect(function(){if((local==null?void 0:local.length)>0){local.sort(function(a,b){if(a.date&&b.date){return a.date.seconds-b.date.seconds;}else if(a.date&&b.date_created){var targetTimezone=Intl.DateTimeFormat().resolvedOptions().timeZone;var newDateA=new Date(a.date.seconds*1000);var newDateB=new Date(b.date_created+\"Z\");var resultA=tz(newDateA).tz(targetTimezone,true);var resultB=tz(newDateB).tz(targetTimezone,true);return resultA.valueOf()-resultB.valueOf();}else if(a.date_created&&b.date){var _targetTimezone=Intl.DateTimeFormat().resolvedOptions().timeZone;var _newDateA=new Date(a.date_created+\"Z\");var _newDateB=new Date(b.date.seconds*1000);var _resultA=tz(_newDateA).tz(_targetTimezone,true);var _resultB=tz(_newDateB).tz(_targetTimezone,true);return _resultA.valueOf()-_resultB.valueOf();}else{var _targetTimezone2=Intl.DateTimeFormat().resolvedOptions().timeZone;var _newDateA2=new Date(a.date_created+\"Z\");var _newDateB2=new Date(b.date_created+\"Z\");var _resultA2=tz(_newDateA2).tz(_targetTimezone2,true);var _resultB2=tz(_newDateB2).tz(_targetTimezone2,true);return _resultA2.valueOf()-_resultB2.valueOf();}}).reverse();settransList(local);var todaysReceiptValue=local.reduce(function(accumulator,current){var date;var targetTimezone=Intl.DateTimeFormat().resolvedOptions().timeZone;if(current.date){var localDatePreConv=new Date(current.date.seconds*1000);date=tz(localDatePreConv).tz(targetTimezone,true);}else{var _localDatePreConv=new Date(current.date_created+\"Z\");date=tz(_localDatePreConv).tz(targetTimezone,true);}var today=tz().tz(targetTimezone);if(today.year()===date.year()&&today.month()===date.month()&&today.dayOfYear()===date.dayOfYear()){return accumulator+parseFloat(current.date?current.total:current.total/1.13);}else{return accumulator;}},0);var todaysReceipts=local.reduce(function(accumulator,current){var date;var targetTimezone=Intl.DateTimeFormat().resolvedOptions().timeZone;if(current.date){var localDatePreConv=new Date(current.date.seconds*1000);date=tz(localDatePreConv).tz(targetTimezone,true);}else{var _localDatePreConv2=new Date(current.date_created+\"Z\");date=tz(_localDatePreConv2).tz(targetTimezone,true);}var today=tz().tz(targetTimezone);if(today.year()===date.year()&&today.month()===date.month()&&today.dayOfYear()===date.dayOfYear()){return accumulator+1;}else{return accumulator;}},0);setTodaysDetails({todaysReceiptValue:todaysReceiptValue.toFixed(2),todaysReceipts:todaysReceipts});}},[local]);var PrintTodaysTotal=function PrintTodaysTotal(){var data=[\"\\x1B\"+\"\\x40\",\"\\x1B\"+\"\\x61\"+\"\\x31\",storeDetails.name,\"\\x0A\",storeDetails.address+\"\\x0A\",storeDetails.website+\"\\x0A\",storeDetails.phoneNumber+\"\\x0A\",today.toLocaleDateString()+\" \"+today.toLocaleTimeString()+\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x1B\"+\"\\x61\"+\"\\x30\",\"\\x0A\"+\"\\x0A\",\"Number Of Receipts: \"+todaysDetails.todaysReceipts+\"\\x0A\"+\"\\x0A\",\"Sub-Total: \"+\"$\"+(todaysDetails.todaysReceiptValue/1.13).toFixed(2)+\"\\x0A\"+\"\\x0A\",\"Tax: \"+\"$\"+(todaysDetails.todaysReceiptValue/1.13*0.13).toFixed(2)+\"\\x0A\"+\"\\x0A\",\"Total Including (13% Tax): \"+\"$\"+todaysDetails.todaysReceiptValue+\"\\x0A\"+\"\\x0A\",\"------------------------------------------\"+\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x1D\"+\"\\x56\"+\"\\x30\"];var qz=require(\"qz-tray\");qz.websocket.connect().then(function(){var config=qz.configs.create(storeDetails.comSelected);return qz.print(config,data);}).then(qz.websocket.disconnect).catch(function(err){console.error(err);});};var CleanupOps=function CleanupOps(metaList){var opsArray=[];metaList.forEach(function(op){var arrContaingMe=opsArray.filter(function(filterOp){return filterOp.key===op.key;});if(arrContaingMe.length>0){opsArray.forEach(function(opsArrItem,index){if(opsArrItem.key===op.key){opsArray[index].vals.push(op.value);}});}else{opsArray.push({key:op.key,vals:[op.value]});}});return opsArray;};return _jsxs(View,{style:styles.container,children:[_jsx(Text,{style:{textAlign:\"center\",margin:25},children:\"List Of Transactions\"}),_jsxs(View,{style:{flexDirection:\"row\",width:\"100%\",alignItems:\"center\",justifyContent:\"center\"},children:[_jsxs(Text,{style:{textAlign:\"center\",margin:25},children:[\"Todays Total Price: \",todaysDetails.todaysReceiptValue]}),_jsx(Button,{style:{height:40,alignItems:\"center\",justifyContent:\"center\"},title:\"Print Todays Receipts\",onPress:PrintTodaysTotal}),_jsxs(Text,{style:{textAlign:\"center\",margin:25},children:[\"Todays Total Receipts: \",todaysDetails.todaysReceipts]})]}),_jsx(View,{style:styles.contentContainer,children:transList?transList==null?void 0:transList.map(function(element,index){var _element$cart,_element$line_items,_element$customer_not;var date;if(element.date_created){var dateString=element.date_created;var newDate=new Date(dateString+\"Z\");var targetTimezone=Intl.DateTimeFormat().resolvedOptions().timeZone;var result=tz(newDate).tz(targetTimezone,true).format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");date=result;}else if(element.date){var _newDate=new Date(element.date.seconds*1000);var _targetTimezone3=Intl.DateTimeFormat().resolvedOptions().timeZone;var _result=tz(_newDate).tz(_targetTimezone3,true).format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");date=_result;}return _jsxs(View,{style:{backgroundColor:\"grey\",padding:30,margin:10},children:[element.cart_hash&&_jsx(Text,{children:\"Online Order\"}),_jsx(Text,{children:date}),(_element$cart=element.cart)==null?void 0:_element$cart.map(function(cartItem,index){var _cartItem$options;return _jsxs(View,{style:{marginBottom:20},children:[_jsxs(Text,{children:[\"Name: \",cartItem.name]}),_jsxs(Text,{children:[\"Quantity: \",cartItem.quantity]}),_jsxs(Text,{children:[\"Price: \",cartItem.price]}),cartItem.options&&((_cartItem$options=cartItem.options)==null?void 0:_cartItem$options.map(function(option){return _jsx(Text,{children:option});}))]},index);}),(_element$line_items=element.line_items)==null?void 0:_element$line_items.map(function(cartItem,index){return _jsxs(View,{style:{marginBottom:20},children:[_jsxs(Text,{children:[\"Name: \",cartItem.name]}),_jsxs(Text,{children:[\"Quantity: \",cartItem.quantity]}),_jsxs(Text,{children:[\"Price: \",cartItem.price]}),cartItem.meta&&CleanupOps(cartItem.meta).map(function(returnedItem){return _jsxs(View,{style:{flexDirection:\"row\"},children:[_jsxs(Text,{children:[returnedItem.key,\" : \"]}),returnedItem.vals.map(function(val,index){return _jsxs(Text,{children:[val,index>=0&&index<returnedItem.vals.length-1&&\", \"]});})]});})]},index);}),element.billing&&_jsxs(Text,{children:[\"Phone Number: \",element.billing.phone]}),((_element$customer_not=element.customer_note)==null?void 0:_element$customer_not.length)>0&&_jsxs(Text,{children:[\"Customer Note: \",element.customer_note]}),_jsx(Button,{title:\"Print\",onPress:function onPress(){if(element.date){var _element$cart2;var total=0;var data=[\"\\x1B\"+\"\\x40\",\"\\x1B\"+\"\\x61\"+\"\\x31\",storeDetails.name,\"\\x0A\",storeDetails.address+\"\\x0A\",storeDetails.website+\"\\x0A\",storeDetails.phoneNumber+\"\\x0A\",date.toLocaleDateString()+\" \"+date.toLocaleTimeString()+\"\\x0A\",\"\\x0A\",\"Transaction # \"+element.transNum+\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x1B\"+\"\\x61\"+\"\\x30\"];(_element$cart2=element.cart)==null?void 0:_element$cart2.map(function(cartItem){total+=parseFloat(cartItem.price);data.push(\"Name: \"+cartItem.name);data.push(\"\\x0A\");data.push(\"Price: $\"+cartItem.price);if(cartItem.options){var _cartItem$options2;data.push(\"\\x0A\");(_cartItem$options2=cartItem.options)==null?void 0:_cartItem$options2.map(function(option){data.push(option);data.push(\"\\x0A\");});}data.push(\"\\x0A\"+\"\\x0A\");});total=total*1.13;total=total.toFixed(2);if(element.billing){data.push(\"Phone Number: \"+element.billing.phone);data.push(\"\\x0A\");}if(element.customer_note){data.push(\"Customer Note: \"+element.customer_note);data.push(\"\\x0A\");}data.push(\"\\x0A\",\"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\"+\"\\x0A\",\"\\x0A\"+\"\\x0A\",\"Total Including (13% Tax): \"+\"$\"+total+\"\\x0A\"+\"\\x0A\",\"------------------------------------------\"+\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x1D\"+\"\\x56\"+\"\\x30\");var qz=require(\"qz-tray\");qz.websocket.connect().then(function(){var config=qz.configs.create(storeDetails.comSelected);return qz.print(config,data);}).then(qz.websocket.disconnect).catch(function(err){console.error(err);});}else{var _element$line_items2;var printData=[];printData.push(\"\\x1B\"+\"\\x40\",\"\\x1B\"+\"\\x61\"+\"\\x31\",storeDetails.name,\"\\x0A\",storeDetails.address+\"\\x0A\",storeDetails.website+\"\\x0A\",storeDetails.phoneNumber+\"\\x0A\",date+\"\\x0A\",\"\\x0A\",\"Online Order\"+\"\\x0A\",\"Transaction # \"+element.number+\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x1B\"+\"\\x61\"+\"\\x30\");(_element$line_items2=element.line_items)==null?void 0:_element$line_items2.map(function(cartItem){printData.push(\"\\x0A\");printData.push(\"Name: \"+cartItem.name);printData.push(\"\\x0A\");printData.push(\"Quantity: \"+cartItem.quantity);printData.push(\"\\x0A\");printData.push(\"Price: $\"+cartItem.price);printData.push(\"\\x0A\");if(cartItem.meta){var _cartItem$meta;(_cartItem$meta=cartItem.meta)==null?void 0:_cartItem$meta.map(function(meta,index){if(index===0){printData.push(meta.key+\" : \"+meta.value);if(cartItem.meta[index+1].key!==meta.key){printData.push(\"\\x0A\");}}else{if(index!==cartItem.meta.length-1){if(cartItem.meta[index-1].key===meta.key){printData.push(\" , \"+meta.value);}else{printData.push(meta.key+\" : \"+meta.value);}if(cartItem.meta[index+1].key!==meta.key){printData.push(\"\\x0A\");}}}});}else{printData.push(\"\\x0A\"+\"\\x0A\");}});printData.push(\"\\x0A\");printData.push(\"\\x0A\");printData.push(\"Customer Details:\");printData.push(\"\\x0A\");printData.push(\"Address: \"+element.shipping.address_1);printData.push(\"\\x0A\");printData.push(\"City: \"+element.shipping.city);printData.push(\"\\x0A\");printData.push(\"Zip/Postal Code: \"+element.shipping.postcode);printData.push(\"\\x0A\");printData.push(\"Province/State: \"+element.shipping.state);printData.push(\"\\x0A\");printData.push(\"Name: \"+element.shipping.first_name+\" \"+element.shipping.last_name);printData.push(\"\\x0A\");element.shipping_lines.map(function(line){return printData.push(\"Shipping Method: \"+line.method_title);});if(element.billing){printData.push(\"Phone Number: \"+element.billing.phone);printData.push(\"\\x0A\");}if(element.customer_note){printData.push(\"Customer Note: \"+element.customer_note);printData.push(\"\\x0A\");}printData.push(\"\\x0A\");printData.push(\"\\x0A\");printData.push(\"\\x0A\",\"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\"+\"\\x0A\",\"\\x0A\"+\"\\x0A\",\"Payment Method: \"+element.payment_method_title+\"\\x0A\"+\"\\x0A\",\"Total Including (13% Tax): \"+\"$\"+element.total+\"\\x0A\"+\"\\x0A\",\"------------------------------------------\"+\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\",\"\\x0A\");printData.push(\"\\x1D\"+\"\\x56\"+\"\\x00\");var _qz=require(\"qz-tray\");_qz.websocket.connect().then(function(){var config=_qz.configs.create(storeDetails.comSelected);return _qz.print(config,printData);}).then(_qz.websocket.disconnect).catch(function(err){console.error(err);});}}})]},index);}):_jsx(Text,{children:\"No receipts yet\"})})]});};export default ViewTransactions;var styles=StyleSheet.create({container:{backgroundColor:\"white\",flex:1,height:\"100%\"},contentContainer:{flex:1,flexDirection:\"row\",flexWrap:\"wrap\",justifyContent:\"space-between\",paddingLeft:50,paddingRight:50,paddingBottom:50,height:\"100%\",width:\"100%\",alignItems:\"center\"}});","map":{"version":3,"names":["React","useEffect","useState","Button","Text","storeDetailState","transListState","tz","require","ViewTransactions","local","use","transList","settransList","today","Date","todaysReceiptValue","todaysReceipts","todaysDetails","setTodaysDetails","storeDetails","length","sort","a","b","date","seconds","date_created","targetTimezone","Intl","DateTimeFormat","resolvedOptions","timeZone","newDateA","newDateB","resultA","resultB","valueOf","reverse","reduce","accumulator","current","localDatePreConv","year","month","dayOfYear","parseFloat","total","toFixed","PrintTodaysTotal","data","name","address","website","phoneNumber","toLocaleDateString","toLocaleTimeString","qz","websocket","connect","then","config","configs","create","comSelected","print","disconnect","catch","err","console","error","CleanupOps","metaList","opsArray","forEach","op","arrContaingMe","filter","filterOp","key","opsArrItem","index","vals","push","value","styles","container","textAlign","margin","flexDirection","width","alignItems","justifyContent","height","contentContainer","map","element","dateString","newDate","result","format","backgroundColor","padding","cart_hash","cart","cartItem","marginBottom","quantity","price","options","option","line_items","meta","returnedItem","val","billing","phone","customer_note","transNum","printData","number","shipping","address_1","city","postcode","state","first_name","last_name","shipping_lines","line","method_title","payment_method_title","StyleSheet","flex","flexWrap","paddingLeft","paddingRight","paddingBottom"],"sources":["/Users/peterputros/Desktop/PosMate/screens/authed/ViewTransactions.tsx"],"sourcesContent":["import { ScrollView, StyleSheet, View } from \"react-native\";\nimport React, { useEffect, useLayoutEffect, useState } from \"react\";\nimport { Button, Text } from \"@react-native-material/core\";\nimport { storeDetailState, transListState } from \"state/state\";\nconst tz = require(\"moment-timezone\");\n\nconst ViewTransactions = () => {\n  const local = transListState.use();\n  const [transList, settransList] = useState([]);\n  const today = new Date();\n  const [todaysDetails, setTodaysDetails] = useState({\n    todaysReceiptValue: 0,\n    todaysReceipts: 0,\n  });\n  const storeDetails = storeDetailState.use();\n\n  useEffect(() => {\n    if (local?.length > 0) {\n      local\n        .sort(function (a, b) {\n          if (a.date && b.date) {\n            return a.date.seconds - b.date.seconds;\n          } else if (a.date && b.date_created) {\n            const targetTimezone =\n              Intl.DateTimeFormat().resolvedOptions().timeZone;\n            const newDateA = new Date(a.date.seconds * 1000);\n            const newDateB = new Date(b.date_created + \"Z\");\n            const resultA = tz(newDateA).tz(targetTimezone, true);\n            const resultB = tz(newDateB).tz(targetTimezone, true);\n\n            return resultA.valueOf() - resultB.valueOf();\n          } else if (a.date_created && b.date) {\n            const targetTimezone =\n              Intl.DateTimeFormat().resolvedOptions().timeZone;\n            const newDateA = new Date(a.date_created + \"Z\");\n            const newDateB = new Date(b.date.seconds * 1000);\n            const resultA = tz(newDateA).tz(targetTimezone, true);\n            const resultB = tz(newDateB).tz(targetTimezone, true);\n\n            return resultA.valueOf() - resultB.valueOf();\n          } else {\n            const targetTimezone =\n              Intl.DateTimeFormat().resolvedOptions().timeZone;\n            const newDateA = new Date(a.date_created + \"Z\");\n            const newDateB = new Date(b.date_created + \"Z\");\n            const resultA = tz(newDateA).tz(targetTimezone, true);\n            const resultB = tz(newDateB).tz(targetTimezone, true);\n\n            return resultA.valueOf() - resultB.valueOf();\n          }\n        })\n        .reverse();\n      settransList(local);\n      const todaysReceiptValue = local.reduce((accumulator, current) => {\n        let date;\n        const targetTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n        if (current.date) {\n          const localDatePreConv = new Date(current.date.seconds * 1000);\n          date = tz(localDatePreConv).tz(targetTimezone, true);\n        } else {\n          const localDatePreConv = new Date(current.date_created + \"Z\");\n          date = tz(localDatePreConv).tz(targetTimezone, true);\n        }\n        // Get the current date in the desired time zone\n        let today = tz().tz(targetTimezone);\n\n        if (\n          today.year() === date.year() &&\n          today.month() === date.month() &&\n          today.dayOfYear() === date.dayOfYear()\n        ) {\n          return (\n            accumulator +\n            parseFloat(current.date ? current.total : current.total / 1.13)\n          );\n        } else {\n          return accumulator;\n        }\n      }, 0);\n      const todaysReceipts = local.reduce((accumulator, current) => {\n        let date;\n        const targetTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n        if (current.date) {\n          const localDatePreConv = new Date(current.date.seconds * 1000);\n          date = tz(localDatePreConv).tz(targetTimezone, true);\n        } else {\n          const localDatePreConv = new Date(current.date_created + \"Z\");\n          date = tz(localDatePreConv).tz(targetTimezone, true);\n        }\n        // Get the current date in the desired time zone\n        let today = tz().tz(targetTimezone);\n\n        if (\n          today.year() === date.year() &&\n          today.month() === date.month() &&\n          today.dayOfYear() === date.dayOfYear()\n        ) {\n          return accumulator + 1;\n        } else {\n          return accumulator;\n        }\n      }, 0);\n      setTodaysDetails({\n        todaysReceiptValue: todaysReceiptValue.toFixed(2),\n        todaysReceipts: todaysReceipts,\n      });\n    }\n  }, [local]);\n\n  const PrintTodaysTotal = () => {\n    let data = [\n      \"\\x1B\" + \"\\x40\", // init\n      \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n      storeDetails.name,\n      \"\\x0A\",\n      storeDetails.address + \"\\x0A\",\n      storeDetails.website + \"\\x0A\", // text and line break\n      storeDetails.phoneNumber + \"\\x0A\", // text and line break\n      today.toLocaleDateString() + \" \" + today.toLocaleTimeString() + \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\n      \"\\x0A\" + \"\\x0A\",\n      \"Number Of Receipts: \" + todaysDetails.todaysReceipts + \"\\x0A\" + \"\\x0A\",\n      \"Sub-Total: \" +\n        \"$\" +\n        (todaysDetails.todaysReceiptValue / 1.13).toFixed(2) +\n        \"\\x0A\" +\n        \"\\x0A\",\n      \"Tax: \" +\n        \"$\" +\n        ((todaysDetails.todaysReceiptValue / 1.13) * 0.13).toFixed(2) +\n        \"\\x0A\" +\n        \"\\x0A\",\n      \"Total Including (13% Tax): \" +\n        \"$\" +\n        todaysDetails.todaysReceiptValue +\n        \"\\x0A\" +\n        \"\\x0A\",\n      \"------------------------------------------\" + \"\\x0A\",\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x1D\" + \"\\x56\" + \"\\x30\",\n    ];\n\n    const qz = require(\"qz-tray\");\n    qz.websocket\n      .connect()\n      .then(function () {\n        let config = qz.configs.create(storeDetails.comSelected);\n        return qz.print(config, data);\n      })\n      .then(qz.websocket.disconnect)\n      .catch(function (err) {\n        console.error(err);\n      });\n\n    // fetch(\"http://localhost:8080/print\", {\n    //   method: \"POST\",\n    //   headers: {\n    //     \"Content-Type\": \"application/json\",\n    //   },\n    //   body: JSON.stringify({\n    //     printData: data,\n    //     comSelected: storeDetails.comSelected,\n    //   }),\n    // })\n    //   .then((response) => response.json())\n    //   .then((respData) => {\n    //     console.log(respData);\n    //   })\n    //   .catch((e) => alert(\"Error with printer\"));\n  };\n\n  const CleanupOps = (metaList) => {\n    const opsArray = [];\n\n    metaList.forEach((op) => {\n      const arrContaingMe = opsArray.filter(\n        (filterOp) => filterOp.key === op.key\n      );\n\n      if (arrContaingMe.length > 0) {\n        opsArray.forEach((opsArrItem, index) => {\n          if (opsArrItem.key === op.key) {\n            opsArray[index].vals.push(op.value);\n          }\n        });\n      } else {\n        opsArray.push({ key: op.key, vals: [op.value] });\n      }\n    });\n    return opsArray;\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={{ textAlign: \"center\", margin: 25 }}>\n        List Of Transactions\n      </Text>\n      <View\n        style={{\n          flexDirection: \"row\",\n          width: \"100%\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <Text style={{ textAlign: \"center\", margin: 25 }}>\n          Todays Total Price: {todaysDetails.todaysReceiptValue}\n        </Text>\n        <Button\n          style={{ height: 40, alignItems: \"center\", justifyContent: \"center\" }}\n          title=\"Print Todays Receipts\"\n          onPress={PrintTodaysTotal}\n        />\n        <Text style={{ textAlign: \"center\", margin: 25 }}>\n          Todays Total Receipts: {todaysDetails.todaysReceipts}\n        </Text>\n      </View>\n      <View style={styles.contentContainer}>\n        {transList ? (\n          transList?.map((element, index) => {\n            let date;\n\n            if (element.date_created) {\n              const dateString = element.date_created;\n\n              const newDate = new Date(dateString + \"Z\");\n\n              const targetTimezone =\n                Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n              const result = tz(newDate)\n                .tz(targetTimezone, true)\n                .format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n\n              date = result;\n            } else if (element.date) {\n              const newDate = new Date(element.date.seconds * 1000);\n              const targetTimezone =\n                Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n              const result = tz(newDate)\n                .tz(targetTimezone, true)\n                .format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n\n              date = result;\n            }\n\n            return (\n              <View\n                style={{ backgroundColor: \"grey\", padding: 30, margin: 10 }}\n                key={index}\n              >\n                {element.cart_hash && <Text>Online Order</Text>}\n                <Text>{date}</Text>\n                {element.cart?.map((cartItem, index) => (\n                  <View style={{ marginBottom: 20 }} key={index}>\n                    <Text>Name: {cartItem.name}</Text>\n                    <Text>Quantity: {cartItem.quantity}</Text>\n                    <Text>Price: {cartItem.price}</Text>\n                    {cartItem.options &&\n                      cartItem.options?.map((option) => <Text>{option}</Text>)}\n                  </View>\n                ))}\n                {element.line_items?.map((cartItem, index) => (\n                  <View style={{ marginBottom: 20 }} key={index}>\n                    <Text>Name: {cartItem.name}</Text>\n                    <Text>Quantity: {cartItem.quantity}</Text>\n                    <Text>Price: {cartItem.price}</Text>\n                    {cartItem.meta &&\n                      CleanupOps(cartItem.meta).map((returnedItem) => (\n                        <View style={{ flexDirection: \"row\" }}>\n                          <Text>{returnedItem.key} : </Text>\n                          {returnedItem.vals.map((val, index) => (\n                            <Text>\n                              {val}\n                              {index >= 0 &&\n                                index < returnedItem.vals.length - 1 &&\n                                \", \"}\n                            </Text>\n                          ))}\n                        </View>\n                      ))}\n                  </View>\n                ))}\n                {element.billing && (\n                  <Text>Phone Number: {element.billing.phone}</Text>\n                )}\n                {element.customer_note?.length > 0 && (\n                  <Text>Customer Note: {element.customer_note}</Text>\n                )}\n                <Button\n                  title=\"Print\"\n                  onPress={() => {\n                    if (element.date) {\n                      let total = 0;\n\n                      let data = [\n                        \"\\x1B\" + \"\\x40\", // init\n                        \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n                        storeDetails.name,\n                        \"\\x0A\",\n                        storeDetails.address + \"\\x0A\",\n                        storeDetails.website + \"\\x0A\", // text and line break\n                        storeDetails.phoneNumber + \"\\x0A\", // text and line break\n                        date.toLocaleDateString() +\n                          \" \" +\n                          date.toLocaleTimeString() +\n                          \"\\x0A\",\n                        \"\\x0A\",\n                        `Transaction # ${element.transNum}` + \"\\x0A\",\n                        \"\\x0A\",\n                        \"\\x0A\",\n                        \"\\x0A\",\n                        \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\n                      ];\n\n                      element.cart?.map((cartItem) => {\n                        total += parseFloat(cartItem.price);\n                        data.push(`Name: ${cartItem.name}`);\n                        data.push(\"\\x0A\");\n                        data.push(`Price: $${cartItem.price}`);\n\n                        if (cartItem.options) {\n                          data.push(\"\\x0A\");\n                          cartItem.options?.map((option) => {\n                            data.push(option);\n                            data.push(\"\\x0A\");\n                          });\n                        }\n                        data.push(\"\\x0A\" + \"\\x0A\");\n                      });\n\n                      total = total * 1.13;\n                      total = total.toFixed(2);\n\n                      if (element.billing) {\n                        data.push(`Phone Number: ${element.billing.phone}`);\n                        data.push(\"\\x0A\");\n                      }\n\n                      if (element.customer_note) {\n                        data.push(`Customer Note: ${element.customer_note}`);\n                        data.push(\"\\x0A\");\n                      }\n\n                      //push ending\n                      data.push(\n                        \"\\x0A\",\n                        \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n                        \"\\x0A\" + \"\\x0A\",\n                        \"Total Including (13% Tax): \" +\n                          \"$\" +\n                          total +\n                          \"\\x0A\" +\n                          \"\\x0A\",\n                        \"------------------------------------------\" + \"\\x0A\",\n                        \"\\x0A\", // line break\n                        \"\\x0A\", // line break\n                        \"\\x0A\", // line break\n                        \"\\x0A\", // line break\n                        \"\\x0A\", // line break\n                        \"\\x0A\", // line break\n                        //\"\\x1D\" + \"\\x56\" + \"\\x00\",\n                        \"\\x1D\" + \"\\x56\" + \"\\x30\"\n                      );\n\n                      const qz = require(\"qz-tray\");\n                      qz.websocket\n                        .connect()\n                        .then(function () {\n                          let config = qz.configs.create(\n                            storeDetails.comSelected\n                          );\n                          return qz.print(config, data);\n                        })\n                        .then(qz.websocket.disconnect)\n                        .catch(function (err) {\n                          console.error(err);\n                        });\n                      // fetch(\"http://localhost:8080/print\", {\n                      //   method: \"POST\",\n                      //   headers: {\n                      //     \"Content-Type\": \"application/json\",\n                      //   },\n                      //   body: JSON.stringify({\n                      //     printData: data,\n                      //     comSelected: storeDetails.comSelected,\n                      //   }),\n                      // })\n                      //   .then((response) => response.json())\n                      //   .then((respData) => {\n                      //     console.log(respData);\n                      //   })\n                      //   .catch((e) => alert(\"Error with printer\"));\n                    } else {\n                      const printData = [];\n\n                      printData.push(\n                        \"\\x1B\" + \"\\x40\", // init\n                        \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n                        storeDetails.name,\n                        \"\\x0A\",\n                        storeDetails.address + \"\\x0A\",\n                        storeDetails.website + \"\\x0A\", // text and line break\n                        storeDetails.phoneNumber + \"\\x0A\", // text and line break\n                        date + \"\\x0A\",\n                        \"\\x0A\",\n                        \"Online Order\" + \"\\x0A\", // text and line break\n                        `Transaction # ${element.number}` + \"\\x0A\",\n                        \"\\x0A\",\n                        \"\\x0A\",\n                        \"\\x0A\",\n                        \"\\x1B\" + \"\\x61\" + \"\\x30\" // left align\n                      );\n\n                      element.line_items?.map((cartItem) => {\n                        printData.push(\"\\x0A\");\n                        printData.push(`Name: ${cartItem.name}`);\n                        printData.push(\"\\x0A\");\n                        printData.push(`Quantity: ${cartItem.quantity}`);\n                        printData.push(\"\\x0A\");\n                        printData.push(`Price: $${cartItem.price}`);\n                        printData.push(\"\\x0A\");\n\n                        if (cartItem.meta) {\n                          cartItem.meta?.map((meta, index) => {\n                            if (index === 0) {\n                              printData.push(`${meta.key} : ${meta.value}`);\n                              if (cartItem.meta[index + 1].key !== meta.key) {\n                                printData.push(\"\\x0A\");\n                              }\n                            } else {\n                              if (index !== cartItem.meta.length - 1) {\n                                if (cartItem.meta[index - 1].key === meta.key) {\n                                  printData.push(` , ${meta.value}`);\n                                } else {\n                                  printData.push(`${meta.key} : ${meta.value}`);\n                                }\n\n                                if (cartItem.meta[index + 1].key !== meta.key) {\n                                  printData.push(\"\\x0A\");\n                                }\n                              }\n                            }\n                          });\n                        } else {\n                          printData.push(\"\\x0A\" + \"\\x0A\");\n                        }\n                      });\n\n                      printData.push(\"\\x0A\");\n                      printData.push(\"\\x0A\");\n                      printData.push(`Customer Details:`);\n                      printData.push(\"\\x0A\");\n                      printData.push(`Address: ${element.shipping.address_1}`);\n                      printData.push(\"\\x0A\");\n                      printData.push(`City: ${element.shipping.city}`);\n                      printData.push(\"\\x0A\");\n                      printData.push(\n                        `Zip/Postal Code: ${element.shipping.postcode}`\n                      );\n                      printData.push(\"\\x0A\");\n                      printData.push(\n                        `Province/State: ${element.shipping.state}`\n                      );\n                      printData.push(\"\\x0A\");\n                      printData.push(\n                        `Name: ${element.shipping.first_name} ${element.shipping.last_name}`\n                      );\n                      printData.push(\"\\x0A\");\n                      element.shipping_lines.map((line) =>\n                        printData.push(`Shipping Method: ${line.method_title}`)\n                      );\n                      if (element.billing) {\n                        printData.push(\n                          `Phone Number: ${element.billing.phone}`\n                        );\n                        printData.push(\"\\x0A\");\n                      }\n                      if (element.customer_note) {\n                        printData.push(\n                          `Customer Note: ${element.customer_note}`\n                        );\n                        printData.push(\"\\x0A\");\n                      }\n                      printData.push(\"\\x0A\");\n                      printData.push(\"\\x0A\");\n\n                      printData.push(\n                        \"\\x0A\",\n                        \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n                        \"\\x0A\" + \"\\x0A\",\n                        \"Payment Method: \" +\n                          element.payment_method_title +\n                          \"\\x0A\" +\n                          \"\\x0A\",\n                        \"Total Including (13% Tax): \" +\n                          \"$\" +\n                          element.total +\n                          \"\\x0A\" +\n                          \"\\x0A\",\n                        \"------------------------------------------\" + \"\\x0A\",\n                        \"\\x0A\", // line break\n                        \"\\x0A\", // line break\n                        \"\\x0A\", // line break\n                        \"\\x0A\", // line break\n                        \"\\x0A\", // line break\n                        \"\\x0A\" // line break\n                      );\n\n                      printData.push(\"\\x1D\" + \"\\x56\" + \"\\x00\");\n\n                      const qz = require(\"qz-tray\");\n                      qz.websocket\n                        .connect()\n                        .then(function () {\n                          let config = qz.configs.create(\n                            storeDetails.comSelected\n                          );\n                          return qz.print(config, printData);\n                        })\n                        .then(qz.websocket.disconnect)\n                        .catch(function (err) {\n                          console.error(err);\n                        });\n\n                      // fetch(\"http://localhost:8080/print\", {\n                      //   method: \"POST\",\n                      //   headers: {\n                      //     \"Content-Type\": \"application/json\",\n                      //   },\n                      //   body: JSON.stringify({\n                      //     printData: printData,\n                      //     comSelected: storeDetails.comSelected,\n                      //   }),\n                      // })\n                      //   .then((response) => response.json())\n                      //   .then((respData) => {\n                      //     console.log(respData);\n                      //   })\n                      //   .catch((e) => alert(\"Error with printer\"));\n                    }\n                  }}\n                />\n              </View>\n            );\n          })\n        ) : (\n          <Text>No receipts yet</Text>\n        )}\n      </View>\n    </View>\n  );\n};\n\nexport default ViewTransactions;\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"white\",\n    flex: 1,\n    height: \"100%\",\n  },\n  contentContainer: {\n    flex: 1,\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-between\",\n    paddingLeft: 50,\n    paddingRight: 50,\n    paddingBottom: 50,\n    height: \"100%\",\n    width: \"100%\",\n    alignItems: \"center\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}