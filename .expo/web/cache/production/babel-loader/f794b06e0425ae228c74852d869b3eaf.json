{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useEffect,useState}from\"react\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import TouchableWithoutFeedback from\"react-native-web/dist/exports/TouchableWithoutFeedback\";import useWindowDimensions from\"react-native-web/dist/exports/useWindowDimensions\";import InputWithLbl from\"../components/InputWithLbl\";import{auth,db}from\"../../../../../../state/firebaseConfig\";import{employeesState,setEmployeesState}from\"../../../../../../state/state\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddEmployeeModal(_ref){var setaddEmployeeModal=_ref.setaddEmployeeModal,addEmployeeModal=_ref.addEmployeeModal;var _useWindowDimensions=useWindowDimensions(),height=_useWindowDimensions.height,width=_useWindowDimensions.width;var employees=employeesState.use();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setname=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),role=_useState4[0],setrole=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),pin=_useState6[0],setpin=_useState6[1];useEffect(function(){if(!addEmployeeModal){setname(\"\");setrole(\"\");setpin(\"\");}},[addEmployeeModal]);var AddEmployee=function AddEmployee(){var employee={name:name,role:role,pin:pin,id:Math.random().toString(36).substr(2,9)};if(!employee.name){alert(\"Please enter a employee name\");return;}db.collection(\"users\").doc(auth.currentUser.uid).collection(\"employees\").doc(employee.id.toString()).set(employee);setEmployeesState([].concat(_toConsumableArray(employees),[employee]));setaddEmployeeModal(false);};return _jsx(TouchableOpacity,{onPress:function onPress(){return setaddEmployeeModal(false);},style:{justifyContent:\"center\",alignItems:\"center\",height:height,width:width},activeOpacity:1,children:_jsx(TouchableWithoutFeedback,{children:_jsx(\"div\",{style:{cursor:\"default\"},children:_jsx(View,{style:styles.container,children:_jsxs(View,{style:styles.innerContainer,children:[_jsx(Text,{style:styles.addEmployeeHeaderLbl,children:\"Add Employee\"}),_jsxs(View,{style:styles.inputsGroup,children:[_jsx(InputWithLbl,{lbl:\"Name\",placeholder:\"Enter name\",style:styles.nameInput,value:name,setValue:setname}),_jsx(InputWithLbl,{lbl:\"Role\",placeholder:\"Enter role\",style:styles.roleInput,value:role,setValue:setrole}),_jsx(InputWithLbl,{lbl:\"Pin\",placeholder:\"Enter pin\",style:styles.pinInput,value:pin,setValue:setpin})]}),_jsxs(View,{style:styles.bottomBtnsRow,children:[_jsx(TouchableOpacity,{style:styles.cancelBtn,activeOpacity:0.6,onPress:function onPress(){return setaddEmployeeModal(false);},children:_jsx(Text,{style:styles.cancelBtnTxt,children:\"Cancel\"})}),_jsx(TouchableOpacity,{style:styles.saveBtn,activeOpacity:0.6,onPress:AddEmployee,children:_jsx(Text,{style:styles.saveBtnTxt,children:\"Save\"})})]})]})})})})});}var styles=StyleSheet.create({container:{borderRadius:10,alignItems:\"center\",justifyContent:\"center\",width:609,height:399,backgroundColor:\"white\"},innerContainer:{width:352,height:358,alignItems:\"center\",justifyContent:\"space-between\"},addEmployeeHeaderLbl:{fontWeight:\"700\",color:\"#121212\",fontSize:17},inputsGroup:{width:279,height:258,justifyContent:\"space-between\",alignItems:\"center\"},nameInput:{height:77,width:278},roleInput:{height:77,width:278},pinInput:{height:77,width:278},bottomBtnsRow:{width:352,height:47,flexDirection:\"row\",alignItems:\"center\",justifyContent:\"space-between\"},cancelBtn:{width:170,height:47,borderRadius:20,backgroundColor:\"#eef2ff\",alignItems:\"center\",justifyContent:\"center\"},cancelBtnTxt:{fontWeight:\"700\",color:\"rgba(0,0,0,1)\",fontSize:16},saveBtn:{width:170,height:47,borderRadius:20,backgroundColor:\"#1c294e\",alignItems:\"center\",justifyContent:\"center\"},saveBtnTxt:{fontWeight:\"700\",color:\"rgba(255,255,255,1)\",fontSize:16}});export default AddEmployeeModal;","map":{"version":3,"names":["React","useEffect","useState","InputWithLbl","auth","db","employeesState","setEmployeesState","AddEmployeeModal","setaddEmployeeModal","addEmployeeModal","useWindowDimensions","height","width","employees","use","name","setname","role","setrole","pin","setpin","AddEmployee","employee","id","Math","random","toString","substr","alert","collection","doc","currentUser","uid","set","justifyContent","alignItems","cursor","styles","container","innerContainer","addEmployeeHeaderLbl","inputsGroup","nameInput","roleInput","pinInput","bottomBtnsRow","cancelBtn","cancelBtnTxt","saveBtn","saveBtnTxt","StyleSheet","create","borderRadius","backgroundColor","fontWeight","color","fontSize","flexDirection"],"sources":["/Users/peterputros/Desktop/PosMate/pages/authed/backendPos/NewMainPage/report/modals/AddEmployeeModal.tsx"],"sourcesContent":["import React, { Component, useEffect, useState } from \"react\";\nimport {\n  StyleSheet,\n  View,\n  Text,\n  TouchableOpacity,\n  TouchableWithoutFeedback,\n  useWindowDimensions,\n} from \"react-native\";\nimport InputWithLbl from \"../components/InputWithLbl\";\nimport { auth, db } from \"state/firebaseConfig\";\nimport { employeesState, setEmployeesState } from \"state/state\";\n\nfunction AddEmployeeModal({ setaddEmployeeModal, addEmployeeModal }) {\n  const { height, width } = useWindowDimensions();\n  const employees = employeesState.use();\n  const [name, setname] = useState(\"\");\n  const [role, setrole] = useState(\"\");\n  const [pin, setpin] = useState(\"\");\n\n  useEffect(() => {\n    if (!addEmployeeModal) {\n      setname(\"\");\n      setrole(\"\");\n      setpin(\"\");\n    }\n  }, [addEmployeeModal]);\n\n  const AddEmployee = () => {\n    const employee = {\n      name: name,\n      role: role,\n      pin: pin,\n      id: Math.random().toString(36).substr(2, 9),\n    };\n\n    if (!employee.name) {\n      alert(\"Please enter a employee name\");\n      return;\n    }\n    db.collection(\"users\")\n      .doc(auth.currentUser.uid)\n      .collection(\"employees\")\n      .doc(employee.id.toString())\n      .set(employee);\n    setEmployeesState([...employees, employee]);\n    setaddEmployeeModal(false);\n  };\n\n  return (\n    <TouchableOpacity\n      onPress={() => setaddEmployeeModal(false)}\n      style={{\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: height,\n        width: width,\n      }}\n      activeOpacity={1}\n    >\n      <TouchableWithoutFeedback>\n        <div style={{ cursor: \"default\" }}>\n          <View style={styles.container}>\n            <View style={styles.innerContainer}>\n              <Text style={styles.addEmployeeHeaderLbl}>Add Employee</Text>\n              <View style={styles.inputsGroup}>\n                <InputWithLbl\n                  lbl=\"Name\"\n                  placeholder=\"Enter name\"\n                  style={styles.nameInput}\n                  value={name}\n                  setValue={setname}\n                />\n                <InputWithLbl\n                  lbl=\"Role\"\n                  placeholder=\"Enter role\"\n                  style={styles.roleInput}\n                  value={role}\n                  setValue={setrole}\n                />\n                <InputWithLbl\n                  lbl=\"Pin\"\n                  placeholder=\"Enter pin\"\n                  style={styles.pinInput}\n                  value={pin}\n                  setValue={setpin}\n                />\n              </View>\n              <View style={styles.bottomBtnsRow}>\n                <TouchableOpacity\n                  style={styles.cancelBtn}\n                  activeOpacity={0.6}\n                  onPress={() => setaddEmployeeModal(false)}\n                >\n                  <Text style={styles.cancelBtnTxt}>Cancel</Text>\n                </TouchableOpacity>\n                <TouchableOpacity\n                  style={styles.saveBtn}\n                  activeOpacity={0.6}\n                  onPress={AddEmployee}\n                >\n                  <Text style={styles.saveBtnTxt}>Save</Text>\n                </TouchableOpacity>\n              </View>\n            </View>\n          </View>\n        </div>\n      </TouchableWithoutFeedback>\n    </TouchableOpacity>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    borderRadius: 10,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: 609,\n    height: 399,\n    backgroundColor: \"white\",\n  },\n  innerContainer: {\n    width: 352,\n    height: 358,\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  },\n  addEmployeeHeaderLbl: {\n    fontWeight: \"700\",\n    color: \"#121212\",\n    fontSize: 17,\n  },\n  inputsGroup: {\n    width: 279,\n    height: 258,\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  nameInput: {\n    height: 77,\n    width: 278,\n  },\n  roleInput: {\n    height: 77,\n    width: 278,\n  },\n  pinInput: {\n    height: 77,\n    width: 278,\n  },\n  bottomBtnsRow: {\n    width: 352,\n    height: 47,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  },\n  cancelBtn: {\n    width: 170,\n    height: 47,\n    borderRadius: 20,\n    backgroundColor: \"#eef2ff\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  cancelBtnTxt: {\n    fontWeight: \"700\",\n    color: \"rgba(0,0,0,1)\",\n    fontSize: 16,\n  },\n  saveBtn: {\n    width: 170,\n    height: 47,\n    borderRadius: 20,\n    backgroundColor: \"#1c294e\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  saveBtnTxt: {\n    fontWeight: \"700\",\n    color: \"rgba(255,255,255,1)\",\n    fontSize: 16,\n  },\n});\n\nexport default AddEmployeeModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}