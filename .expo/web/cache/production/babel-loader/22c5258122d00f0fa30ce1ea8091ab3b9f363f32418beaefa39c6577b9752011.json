{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useEffect,useRef,useState}from\"react\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Modal from\"react-native-web/dist/exports/Modal\";import Image from\"react-native-web/dist/exports/Image\";import{Entypo,Feather}from\"@expo/vector-icons\";import{logout}from\"../state/firebaseFunctions\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function GeneralDropdown(_ref){var styles=_ref.styles,storeDetails=_ref.storeDetails;var dropdownRef=useRef();var _useState=useState(),_useState2=_slicedToArray(_useState,2),dropdownLayout=_useState2[0],setDropdownLayout=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),openDropdown=_useState4[0],setopenDropdown=_useState4[1];useEffect(function(){if(dropdownRef.current&&typeof window!==\"undefined\"){var element=dropdownRef.current;var boundingRect=element.getBoundingClientRect();setDropdownLayout({x:boundingRect.left,y:boundingRect.top,width:boundingRect.width,height:boundingRect.height});}},[]);return _jsxs(View,{style:{zIndex:1000},children:[_jsxs(TouchableOpacity,{style:styles.userBtn,activeOpacity:0.8,onPress:function onPress(){return setopenDropdown(function(prev){return!prev;});},ref:dropdownRef,children:[_jsxs(View,{style:styles.iconWithNameGroup,children:[_jsx(Image,{source:require(\"../assets/image_bTyU..png\"),resizeMode:\"contain\",style:styles.userIcon}),_jsx(Text,{style:styles.username,children:storeDetails.name})]}),_jsx(Entypo,{name:openDropdown?\"chevron-small-up\":\"chevron-small-down\",style:styles.chevronDownIcon})]}),_jsxs(Modal,{visible:openDropdown,transparent:true,children:[_jsx(TouchableOpacity,{style:{width:\"100%\",height:\"100%\"},onPress:function onPress(){setopenDropdown(false);}}),dropdownLayout&&_jsxs(View,{style:{position:\"absolute\",top:dropdownLayout.y,left:dropdownLayout.x,width:dropdownLayout.width},children:[_jsxs(TouchableOpacity,{style:styles.userBtn,activeOpacity:0.8,onPress:function onPress(){return setopenDropdown(function(prev){return!prev;});},children:[_jsxs(View,{style:styles.iconWithNameGroup,children:[_jsx(View,{style:[styles.userIcon,{backgroundColor:\"transparent\"}]}),_jsx(Text,{style:styles.username,children:storeDetails.name})]}),_jsx(Entypo,{name:openDropdown?\"chevron-small-up\":\"chevron-small-down\",style:styles.chevronDownIcon})]}),openDropdown&&_jsxs(TouchableOpacity,{style:{backgroundColor:\"rgba(255,255,255,1)\",borderRadius:10,shadowColor:\"rgba(0,0,0,1)\",shadowOffset:{width:3,height:3},elevation:30,shadowOpacity:0.2,shadowRadius:10,flexDirection:\"row\",alignItems:\"center\",justifyContent:\"space-between\",width:dropdownLayout.width,height:43,position:\"absolute\",bottom:-50,left:0,padding:10},onPress:logout,children:[_jsx(Text,{style:styles.logoutFromAccount,children:\"Logout\"}),_jsx(Feather,{name:\"log-out\",style:styles.logoutIcon})]})]})]})]});}export default GeneralDropdown;","map":{"version":3,"names":["React","useEffect","useRef","useState","Entypo","Feather","logout","GeneralDropdown","styles","storeDetails","dropdownRef","dropdownLayout","setDropdownLayout","openDropdown","setopenDropdown","current","window","element","boundingRect","getBoundingClientRect","x","left","y","top","width","height","zIndex","userBtn","prev","iconWithNameGroup","require","userIcon","username","name","chevronDownIcon","position","backgroundColor","borderRadius","shadowColor","shadowOffset","elevation","shadowOpacity","shadowRadius","flexDirection","alignItems","justifyContent","bottom","padding","logoutFromAccount","logoutIcon"],"sources":["/Users/peterputros/Desktop/PosMate/components/HeaderLogoutDropdown.tsx"],"sourcesContent":["import React, { Component, useEffect, useRef, useState } from \"react\";\nimport {\n  StyleSheet,\n  View,\n  Text,\n  TouchableOpacity,\n  ScrollView,\n  Modal,\n  Image,\n} from \"react-native\";\nimport { Entypo, Feather } from \"@expo/vector-icons\";\nimport { logout } from \"state/firebaseFunctions\";\n\nfunction GeneralDropdown({ styles, storeDetails }) {\n  const dropdownRef = useRef(); // Reference to the original button\n  const [dropdownLayout, setDropdownLayout] = useState();\n  const [openDropdown, setopenDropdown] = useState(false);\n\n  useEffect(() => {\n    // Ensure this code runs in a web environment\n    if (dropdownRef.current && typeof window !== \"undefined\") {\n      const element = dropdownRef.current; // Assuming this ref points to a DOM element\n      // You might need to adjust this to get the actual DOM node in React Native Web\n\n      const boundingRect = element.getBoundingClientRect();\n\n      setDropdownLayout({\n        x: boundingRect.left,\n        y: boundingRect.top, // Adjust based on scroll position\n        width: boundingRect.width,\n        height: boundingRect.height,\n      });\n    }\n  }, []); // Recalculate when scroll position changes\n\n  return (\n    <View style={{ zIndex: 1000 }}>\n      <TouchableOpacity\n        style={styles.userBtn}\n        activeOpacity={0.8}\n        onPress={() => setopenDropdown((prev) => !prev)}\n        ref={dropdownRef}\n      >\n        <View style={styles.iconWithNameGroup}>\n          <Image\n            source={require(\"assets/image_bTyU..png\")}\n            resizeMode=\"contain\"\n            style={styles.userIcon}\n          />\n          <Text style={styles.username}>{storeDetails.name}</Text>\n        </View>\n        <Entypo\n          name={openDropdown ? \"chevron-small-up\" : \"chevron-small-down\"}\n          style={styles.chevronDownIcon}\n        />\n      </TouchableOpacity>\n      <Modal visible={openDropdown} transparent={true}>\n        <TouchableOpacity\n          style={{\n            width: \"100%\",\n            height: \"100%\",\n          }}\n          onPress={() => {\n            setopenDropdown(false);\n          }} // Hide modal when the background is pressed\n        />\n        {dropdownLayout && (\n          <View\n            style={{\n              position: \"absolute\",\n              top: dropdownLayout.y,\n              left: dropdownLayout.x,\n              width: dropdownLayout.width,\n            }}\n          >\n            <TouchableOpacity\n              style={styles.userBtn}\n              activeOpacity={0.8}\n              onPress={() => setopenDropdown((prev) => !prev)}\n            >\n              <View style={styles.iconWithNameGroup}>\n                <View\n                  style={[styles.userIcon, { backgroundColor: \"transparent\" }]}\n                />\n                <Text style={styles.username}>{storeDetails.name}</Text>\n              </View>\n              <Entypo\n                name={openDropdown ? \"chevron-small-up\" : \"chevron-small-down\"}\n                style={styles.chevronDownIcon}\n              />\n            </TouchableOpacity>\n            {openDropdown && (\n              <TouchableOpacity\n                style={{\n                  backgroundColor: \"rgba(255,255,255,1)\",\n                  borderRadius: 10,\n                  shadowColor: \"rgba(0,0,0,1)\",\n                  shadowOffset: {\n                    width: 3,\n                    height: 3,\n                  },\n                  elevation: 30,\n                  shadowOpacity: 0.2,\n                  shadowRadius: 10,\n                  flexDirection: \"row\",\n                  alignItems: \"center\",\n                  justifyContent: \"space-between\",\n                  width: dropdownLayout.width,\n                  height: 43,\n                  position: \"absolute\",\n                  bottom: -50,\n                  left: 0,\n                  padding: 10,\n                }}\n                onPress={logout}\n              >\n                <Text style={styles.logoutFromAccount}>Logout</Text>\n                <Feather name=\"log-out\" style={styles.logoutIcon} />\n              </TouchableOpacity>\n            )}\n          </View>\n        )}\n      </Modal>\n    </View>\n  );\n}\n\nexport default GeneralDropdown;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}