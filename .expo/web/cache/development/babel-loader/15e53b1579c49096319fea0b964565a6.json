{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport useWindowDimensions from \"react-native-web/dist/exports/useWindowDimensions\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { db, storage } from \"../../state/firebaseConfig\";\nimport { useHistory } from \"react-router-dom\";\nimport ProductListing from \"../../components/product/ProductListing\";\nimport { addCartState, cartState } from \"../../state/state\";\nvar GOOGLE_API_KEY = \"AIzaSyDjx4LBIEDNRYKEt-0_TJ6jUcst4a2YON4\";\nimport OnlineOrderHome from \"./OnlineOrderPages/OnlineOrderHome\";\nimport OrderCartMain from \"./OnlineOrderPages/OrderCartMain\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar OrderPage = function OrderPage() {\n  var history = useHistory();\n  var _useParams = useParams(),\n    urlEnding = _useParams.urlEnding;\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    storeDetails = _useState2[0],\n    setstoreDetails = _useState2[1];\n  var _useState3 = useState({\n      categories: [],\n      products: []\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    catalog = _useState4[0],\n    setcatalog = _useState4[1];\n  var height = useWindowDimensions().height;\n  var width = useWindowDimensions().width;\n  var _useState5 = useState({\n      delivery: null,\n      address: null,\n      customer: {\n        name: \"\",\n        phoneNumber: \"\",\n        email: \"\",\n        address: null\n      }\n    }),\n    _useState6 = _slicedToArray(_useState5, 2),\n    orderDetails = _useState6[0],\n    setorderDetails = _useState6[1];\n  var _useState7 = useState(1),\n    _useState8 = _slicedToArray(_useState7, 2),\n    page = _useState8[0],\n    setpage = _useState8[1];\n  var fadeAnim = useRef(new Animated.Value(1)).current;\n  var customSort = function customSort(a, b) {\n    var rankA = a.rank || Number.MAX_SAFE_INTEGER;\n    var rankB = b.rank || Number.MAX_SAFE_INTEGER;\n\n    return rankA - rankB;\n  };\n  useEffect(function () {\n    db.collection(\"public\").where(\"urlEnding\", \"==\", urlEnding.toLowerCase()).get().then(function (querySnapshot) {\n      if (querySnapshot.empty) {\n        console.log(\"No existing online store\");\n        history.push(\"/404\");\n      }\n      if (!querySnapshot.docs[0].data().onlineStoreActive) {\n        console.log(\"Store is not active\");\n        history.push(\"/404\");\n      }\n      var products = [];\n      setstoreDetails(_objectSpread(_objectSpread({}, querySnapshot.docs[0].data().storeDetails), {}, {\n        docID: querySnapshot.docs[0].id,\n        stripePublicKey: querySnapshot.docs[0].data().stripePublicKey\n      }));\n      querySnapshot.docs[0].ref.collection(\"products\").get().then(function (docs) {\n        if (!docs.empty) {\n          docs.forEach(function (element) {\n            products.push(element.data());\n          });\n          if (products.length > 0) {\n            setdata([]);\n            var newData = [];\n            products.sort(customSort).map(function (product, index) {\n              setdata(function (prev) {\n                var productsWithCategory = prev.filter(function (item) {\n                  return item.category === product.category;\n                });\n                if (productsWithCategory.length > 0) {\n                  var indexOfLastItem = prev.indexOf(productsWithCategory[productsWithCategory.length - 1]);\n                  prev.splice(indexOfLastItem + 1, 0, _objectSpread(_objectSpread({}, product), {}, {\n                    index: index + 1\n                  }));\n                  return prev;\n                }\n                return [].concat(_toConsumableArray(prev), [_objectSpread(_objectSpread({}, product), {}, {\n                  index: index + 1\n                })]);\n              });\n            });\n          }\n        }\n      }).catch(function (e) {\n        return console.log(\"Error has occurred with db: \", e);\n      });\n      setcatalog({\n        categories: querySnapshot.docs[0].data().categories,\n        products: products,\n        docID: querySnapshot.docs[0].id\n      });\n      fadeOut();\n    });\n  }, []);\n  var fadeOut = function fadeOut() {\n    Animated.timing(fadeAnim, {\n      toValue: 0,\n      duration: 500,\n      useNativeDriver: false\n    }).start(function () {\n      return document.getElementById(\"loader\").style.display = \"none\";\n    });\n  };\n  var _useState9 = useState([]),\n    _useState10 = _slicedToArray(_useState9, 2),\n    data = _useState10[0],\n    setdata = _useState10[1];\n  return _jsxs(View, {\n    style: {\n      flex: 1\n    },\n    children: [(page === 1 || page === 3) && _jsx(OnlineOrderHome, {\n      storeDetails: storeDetails,\n      setorderDetails: setorderDetails,\n      orderDetails: orderDetails,\n      setpage: setpage,\n      page: page\n    }), page === 2 && _jsx(OrderCartMain, {\n      storeDetails: storeDetails,\n      setorderDetails: setorderDetails,\n      orderDetails: orderDetails,\n      setpage: setpage,\n      catalog: {\n        categories: catalog.categories,\n        products: data\n      }\n    }), page === 4 && _jsx(Page4, {}), _jsx(\"div\", {\n      id: \"loader\",\n      style: {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        height: \"100vh\",\n        width: \"100vw\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n      },\n      children: _jsx(Animated.View, {\n        style: {\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          backgroundColor: \"white\",\n          position: \"absolute\",\n          opacity: fadeAnim,\n          height: \"100%\",\n          width: \"100%\"\n        },\n        children: _jsx(Image, {\n          source: require(\"../../assets/loading.gif\"),\n          style: {\n            width: 450,\n            height: 450,\n            resizeMode: \"contain\"\n          }\n        })\n      })\n    })]\n  });\n};\nvar MenuScreenInnerBlockLocal = function MenuScreenInnerBlockLocal(_ref) {\n  var _catalog$products;\n  var category = _ref.category,\n    height = _ref.height,\n    visible = _ref.visible,\n    catalog = _ref.catalog;\n  var customSort = function customSort(a, b) {\n    var rankA = a.rank || Number.MAX_SAFE_INTEGER;\n    var rankB = b.rank || Number.MAX_SAFE_INTEGER;\n\n    return rankA - rankB;\n  };\n  if (((_catalog$products = catalog.products) == null ? void 0 : _catalog$products.length) > 0) {\n    var renderItem = function renderItem(_ref2) {\n      var item = _ref2.item,\n        index = _ref2.index;\n      return _jsx(ProductDisplayBtnLocal, {\n        product: item,\n        productIndex: index,\n        userUid: catalog.docID\n      }, index);\n    };\n    var keyExtractor = function keyExtractor(item) {\n      return item.id;\n    };\n    var getItemLayout = function getItemLayout(data, index) {\n      return {\n        length: 200,\n        offset: 200 * index,\n        index: index\n      };\n    };\n\n    return _jsx(\"div\", {\n      style: visible === false ? {\n        display: \"none\"\n      } : {\n        display: \"block\"\n      },\n      children: _jsx(FlatList, {\n        style: {\n          width: \"100%\",\n          height: \"100%\"\n        },\n        contentContainerStyle: {\n          flexDirection: \"row\",\n          flexWrap: \"wrap\",\n          justifyContent: \"space-between\",\n          paddingLeft: 50,\n          paddingRight: 50\n        },\n        data: catalog.products.filter(function (product) {\n          var isVisible = product.category === category && !product.dontDisplayOnOnlineStore;\n          return isVisible;\n        }).sort(customSort),\n        renderItem: renderItem,\n        keyExtractor: keyExtractor,\n        getItemLayout: getItemLayout\n      })\n    });\n  } else {\n    return _jsx(View, {\n      style: {\n        width: \"100%\",\n        height: height * 0.8,\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      children: _jsx(Text, {\n        style: {\n          fontFamily: \"archivo-500\",\n          color: \"rgba(74,74,74,1)\",\n          fontSize: 20\n        },\n        children: \"This category has no products...\"\n      })\n    });\n  }\n};\nvar ProductDisplayBtnLocal = function ProductDisplayBtnLocal(_ref3) {\n  var product = _ref3.product,\n    productIndex = _ref3.productIndex,\n    userUid = _ref3.userUid;\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    showProductScreen = _useState12[0],\n    setshowProductScreen = _useState12[1];\n  var xPos = useRef(new Animated.Value(-1000)).current;\n  var shadowOpacity = useRef(new Animated.Value(0)).current;\n  var _useState13 = useState(),\n    _useState14 = _slicedToArray(_useState13, 2),\n    productImage = _useState14[0],\n    setproductImage = _useState14[1];\n  var cart = cartState.use();\n  var _useWindowDimensions = useWindowDimensions(),\n    height = _useWindowDimensions.height,\n    width = _useWindowDimensions.width;\n  useEffect(function () {\n    if (product.hasImage) {\n      storage.ref(userUid + \"/images/\" + product.id).getDownloadURL().then(function (url) {\n        setproductImage(url);\n      });\n    }\n  }, []);\n  var fadeIn = function fadeIn() {\n    setshowProductScreen(true);\n    Animated.timing(xPos, {\n      toValue: 0,\n      duration: 200,\n      useNativeDriver: false\n    }).start();\n    Animated.timing(shadowOpacity, {\n      toValue: 1,\n      duration: 200,\n      useNativeDriver: false\n    }).start();\n  };\n  var fadeOut = function fadeOut() {\n    Animated.timing(shadowOpacity, {\n      toValue: 0,\n      duration: 200,\n      useNativeDriver: false\n    }).start();\n    Animated.timing(xPos, {\n      toValue: -1000,\n      duration: 200,\n      useNativeDriver: false\n    }).start(function () {\n      return setshowProductScreen(false);\n    });\n  };\n  return _jsxs(TouchableOpacity, {\n    onPress: function onPress() {\n      if (product.options.length > 0) {\n        fadeIn();\n      } else {\n        addCartState({\n          name: product.name,\n          price: product.price,\n          description: product.description,\n          options: [],\n          extraDetails: null\n        }, cart);\n      }\n    },\n    style: [styles({\n      height: height,\n      width: width\n    }).touchable],\n    children: [_jsx(\"div\", {\n      style: {\n        height: \"200px\",\n        width: \"200px\",\n        backgroundColor: \"rgba(0,0,0,0.5)\",\n        borderRadius: \"3px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        backgroundImage: \"url(\" + productImage + \")\",\n        backgroundSize: \"cover\",\n        backgroundPosition: \"center\"\n      },\n      children: _jsx(View, {\n        style: {\n          height: \"100%\",\n          width: \"100%\",\n          backgroundColor: \"rgba(0,0,0,0.5)\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          borderRadius: 3\n        },\n        children: _jsx(Text, {\n          style: {\n            fontFamily: \"archivo-500\",\n            color: \"rgba(255,255,255,1)\",\n            fontSize: 15,\n            textAlign: \"center\"\n          },\n          children: product.name\n        })\n      })\n    }), showProductScreen && _jsxs(Modal, {\n      transparent: true,\n      children: [_jsx(Animated.View, {\n        style: {\n          flex: 1,\n          justifyContent: \"flex-end\",\n          alignItems: \"flex-start\",\n          position: \"absolute\",\n          height: \"100%\",\n          width: \"100%\",\n          bottom: 0,\n          left: xPos,\n          zIndex: 0\n        },\n        children: _jsx(View, {\n          style: {\n            height: \"100%\",\n            width: \"70%\",\n            borderTopRightRadius: 3\n          },\n          children: _jsx(ProductListing, {\n            product: product\n            ,\n            goBack: function goBack() {\n              return fadeOut();\n            }\n          })\n        })\n      }), _jsx(Animated.View, {\n        style: {\n          height: \"100%\",\n          width: \"30%\",\n          padding: 20,\n          shadowColor: \"rgba(0,0,0,1)\",\n          shadowOffset: {\n            width: -3,\n            height: 3\n          },\n          elevation: 30,\n          shadowOpacity: 0.5,\n          shadowRadius: 5,\n          position: \"absolute\",\n          opacity: shadowOpacity,\n          right: 0,\n          bottom: 0\n        }\n      })]\n    })]\n  }, productIndex);\n};\nvar Page4 = function Page4() {\n  return _jsx(View, {\n    children: _jsx(Text, {\n      children: \"Thank you for your order\"\n    })\n  });\n};\nexport default OrderPage;\nvar styles = function styles(props) {\n  return StyleSheet.create({\n    container: {\n      backgroundColor: \"white\",\n      height: \"100%\",\n      width: props.width * 0.7,\n      flexDirection: \"row\"\n    },\n    wrapper: {\n      flexDirection: \"row\",\n      flexWrap: \"wrap\",\n      justifyContent: \"space-between\",\n      paddingLeft: 50,\n      paddingRight: 50\n    },\n    scrollview: {\n      width: \"100%\"\n    },\n    containerCart: {\n      height: \"100%\",\n      width: \"30%\",\n      padding: 20,\n      backgroundColor: \"rgba(31,35,48,1)\",\n      borderTopRightRadius: 0,\n      borderBottomRightRadius: 0,\n      borderTopLeftRadius: 2,\n      borderBottomLeftRadius: 2,\n      shadowColor: \"rgba(0,0,0,1)\",\n      shadowOffset: {\n        width: -3,\n        height: 3\n      },\n      elevation: 30,\n      shadowOpacity: 0.92,\n      shadowRadius: 5\n    },\n    contentContainer: {\n      height: \"100%\",\n      justifyContent: \"space-between\",\n      width: \"100%\"\n    },\n    totalContainer: {\n      height: \"14%\",\n      paddingTop: 10\n    },\n    cartHeader: {\n      height: \"6%\",\n      justifyContent: \"space-between\",\n      width: \"100%\",\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      marginBottom: 20\n    },\n    iconContainer: {\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      backgroundColor: \"rgba(41,44,56,1)\",\n      borderRadius: 15,\n      width: 50,\n      height: 50,\n      margin: 10\n    },\n    cashButton: {\n      backgroundColor: \"rgba(51,81,243,1)\",\n      borderRadius: 30,\n      borderTopRightRadius: 0,\n      borderBottomRightRadius: 0,\n      width: \"49.5%\",\n      height: 55,\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    cardButton: {\n      backgroundColor: \"rgba(51,81,243,1)\",\n      borderRadius: 30,\n      borderTopRightRadius: 30,\n      borderBottomRightRadius: 30,\n      borderTopLeftRadius: 0,\n      borderBottomLeftRadius: 0,\n      width: \"49.5%\",\n      height: 55,\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    btnTxt: {\n      fontSize: 20,\n      color: \"white\"\n    },\n    totalTxt: {\n      fontSize: 16,\n      marginBottom: 5,\n      color: \"rgba(255,255,255,1)\",\n      fontWeight: \"600\"\n    },\n    totalTxtPrice: {\n      fontSize: 16,\n      marginBottom: 5,\n      color: \"rgba(255,255,255,1)\",\n      fontWeight: \"600\"\n    },\n    bigButton: {\n      backgroundColor: \"rgba(51,81,243,1)\",\n      borderRadius: 30,\n      width: \"98%\",\n      height: 55,\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    innerTxt: {\n      fontSize: 13,\n      marginBottom: 10\n    },\n    headerTxt: {\n      fontSize: 15,\n      fontWeight: \"600\"\n    },\n    empty: {\n      fontFamily: \"archivo-600\",\n      color: \"rgba(255,255,255,1)\",\n      fontSize: 20,\n      opacity: 0.44,\n      marginTop: 20\n    },\n    fillTheCart: {\n      fontFamily: \"archivo-500\",\n      color: \"rgba(74,74,74,1)\",\n      fontSize: 20\n    },\n    touchable: {\n      margin: 15,\n      width: 200,\n      height: 200,\n      backgroundColor: \"rgba(125,126,132,1)\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      borderRadius: 3\n    },\n    textInput: {\n      backgroundColor: \"rgba(255,255,255,1)\",\n      borderRadius: 10,\n      padding: 10,\n      marginBottom: 10\n    }\n  });\n};","map":{"version":3,"names":["React","useEffect","useRef","useState","useParams","db","storage","useHistory","ProductListing","addCartState","cartState","GOOGLE_API_KEY","OnlineOrderHome","OrderCartMain","OrderPage","history","urlEnding","storeDetails","setstoreDetails","categories","products","catalog","setcatalog","height","useWindowDimensions","width","delivery","address","customer","name","phoneNumber","email","orderDetails","setorderDetails","page","setpage","fadeAnim","Animated","Value","current","customSort","a","b","rankA","rank","Number","MAX_SAFE_INTEGER","rankB","collection","where","toLowerCase","get","then","querySnapshot","empty","console","log","push","docs","data","onlineStoreActive","docID","id","stripePublicKey","ref","forEach","element","length","setdata","newData","sort","map","product","index","prev","productsWithCategory","filter","item","category","indexOfLastItem","indexOf","splice","catch","e","fadeOut","timing","toValue","duration","useNativeDriver","start","document","getElementById","style","display","flex","position","top","left","alignItems","justifyContent","backgroundColor","opacity","require","resizeMode","MenuScreenInnerBlockLocal","visible","renderItem","keyExtractor","getItemLayout","offset","flexDirection","flexWrap","paddingLeft","paddingRight","isVisible","dontDisplayOnOnlineStore","fontFamily","color","fontSize","ProductDisplayBtnLocal","productIndex","userUid","showProductScreen","setshowProductScreen","xPos","shadowOpacity","productImage","setproductImage","cart","use","hasImage","getDownloadURL","url","fadeIn","options","price","description","extraDetails","styles","touchable","borderRadius","backgroundImage","backgroundSize","backgroundPosition","textAlign","bottom","zIndex","borderTopRightRadius","padding","shadowColor","shadowOffset","elevation","shadowRadius","right","Page4","props","StyleSheet","create","container","wrapper","scrollview","containerCart","borderBottomRightRadius","borderTopLeftRadius","borderBottomLeftRadius","contentContainer","totalContainer","paddingTop","cartHeader","marginBottom","iconContainer","margin","cashButton","cardButton","btnTxt","totalTxt","fontWeight","totalTxtPrice","bigButton","innerTxt","headerTxt","marginTop","fillTheCart","textInput"],"sources":["/Users/peterputros/Desktop/PosMate/pages/non-authed/OrderPage.tsx"],"sourcesContent":["import {\n  Modal,\n  StyleSheet,\n  Text,\n  View,\n  useWindowDimensions,\n  Image,\n  ImageBackground,\n  TouchableOpacity,\n  ScrollView,\n  FlatList,\n  Animated,\n  TextInput,\n} from \"react-native\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { db, storage } from \"state/firebaseConfig\";\nimport TemplateImage from \"assets/template-background.jpg\";\nimport GooglePlacesAutocomplete from \"react-google-places-autocomplete\";\nimport { useHistory } from \"react-router-dom\";\nimport Logo from \"assets/dpos-logo.png\";\nimport CartItemEditable from \"components/cart/CartItemEditable\";\nimport ProductListing from \"components/product/ProductListing\";\nimport { addCartState, cartState, setCartState } from \"state/state\";\nconst GOOGLE_API_KEY = \"AIzaSyDjx4LBIEDNRYKEt-0_TJ6jUcst4a2YON4\";\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport OnlineOrderHome from \"./OnlineOrderPages/OnlineOrderHome\";\nimport OrderCartMain from \"./OnlineOrderPages/OrderCartMain\";\n\nconst OrderPage = () => {\n  const history = useHistory();\n  const { urlEnding } = useParams();\n  const [storeDetails, setstoreDetails] = useState({});\n  const [catalog, setcatalog] = useState({\n    categories: [],\n    products: [],\n  });\n  const height = useWindowDimensions().height;\n  const width = useWindowDimensions().width;\n  const [orderDetails, setorderDetails] = useState({\n    delivery: null,\n    address: null,\n    customer: {\n      name: \"\",\n      phoneNumber: \"\",\n      email: \"\",\n      address: null,\n    },\n  });\n  const [page, setpage] = useState(1);\n  const fadeAnim = useRef(new Animated.Value(1)).current;\n\n  const customSort = (a, b) => {\n    // Handle cases where one or both items don't have a rank\n    const rankA = a.rank || Number.MAX_SAFE_INTEGER;\n    const rankB = b.rank || Number.MAX_SAFE_INTEGER;\n\n    // Compare based on ranks\n    return rankA - rankB;\n  };\n\n  useEffect(() => {\n    db.collection(\"public\")\n      .where(\"urlEnding\", \"==\", urlEnding.toLowerCase())\n      .get()\n      .then((querySnapshot) => {\n        if (querySnapshot.empty) {\n          console.log(\"No existing online store\");\n          //send them to a 404 page\n          history.push(\"/404\");\n        }\n\n        if (!querySnapshot.docs[0].data().onlineStoreActive) {\n          console.log(\"Store is not active\");\n          //send them to a 404 page\n          history.push(\"/404\");\n        }\n\n        const products = [];\n\n        setstoreDetails({\n          ...querySnapshot.docs[0].data().storeDetails,\n          docID: querySnapshot.docs[0].id,\n          stripePublicKey: querySnapshot.docs[0].data().stripePublicKey,\n        });\n\n        querySnapshot.docs[0].ref\n          .collection(\"products\")\n          .get()\n          .then((docs) => {\n            if (!docs.empty) {\n              docs.forEach((element) => {\n                products.push(element.data());\n              });\n              // Move logging and operations that depend on 'products' being populated inside the .then() block\n              if (products.length > 0) {\n                setdata([]);\n                const newData = [];\n                products.sort(customSort).map((product, index) => {\n                  setdata((prev) => {\n                    const productsWithCategory = prev.filter(\n                      (item) => item.category === product.category\n                    );\n                    if (productsWithCategory.length > 0) {\n                      const indexOfLastItem = prev.indexOf(\n                        productsWithCategory[productsWithCategory.length - 1]\n                      );\n                      prev.splice(indexOfLastItem + 1, 0, {\n                        ...product,\n                        index: index + 1,\n                      });\n                      return prev;\n                    }\n\n                    return [\n                      ...prev,\n                      {\n                        ...product,\n                        index: index + 1,\n                      },\n                    ];\n                  });\n                });\n              }\n            }\n          })\n          .catch((e) => console.log(\"Error has occurred with db: \", e));\n\n        setcatalog({\n          categories: querySnapshot.docs[0].data().categories,\n          products: products,\n          docID: querySnapshot.docs[0].id,\n        });\n\n        fadeOut();\n      });\n  }, []);\n\n  const fadeOut = () => {\n    // Will change fadeAnim value to 0 in 3 seconds\n    Animated.timing(fadeAnim, {\n      toValue: 0,\n      duration: 500,\n      useNativeDriver: false,\n    }).start(() => (document.getElementById(\"loader\").style.display = \"none\"));\n  };\n\n  const [data, setdata] = useState([]);\n\n  return (\n    <View style={{ flex: 1 }}>\n      {(page === 1 || page === 3) && (\n          <OnlineOrderHome\n            storeDetails={storeDetails}\n            setorderDetails={setorderDetails}\n            orderDetails={orderDetails}\n            setpage={setpage}\n            page={page}\n          />\n      )}\n      {page === 2 && (\n        <OrderCartMain\n          storeDetails={storeDetails}\n          setorderDetails={setorderDetails}\n          orderDetails={orderDetails}\n          setpage={setpage}\n          catalog={{ categories: catalog.categories, products: data }}\n        />\n      )}\n      {page === 4 && <Page4 />}\n      <div\n        id=\"loader\"\n        style={{\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          height: \"100vh\", // Viewport Height\n          width: \"100vw\", // Viewport Width\n          display: \"flex\",\n          alignItems: \"center\", // This will center the content vertically\n          justifyContent: \"center\", // This will center the content horizontally\n        }}\n      >\n        <Animated.View\n          style={{\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            backgroundColor: \"white\",\n            position: \"absolute\",\n            opacity: fadeAnim,\n            height: \"100%\",\n            width: \"100%\",\n          }}\n        >\n          <Image\n            source={require(\"assets/loading.gif\")}\n            style={{ width: 450, height: 450, resizeMode: \"contain\" }}\n          />\n        </Animated.View>\n      </div>\n    </View>\n  );\n};\n\nconst MenuScreenInnerBlockLocal = ({ category, height, visible, catalog }) => {\n  // Custom sorting function\n  const customSort = (a, b) => {\n    // Handle cases where one or both items don't have a rank\n    const rankA = a.rank || Number.MAX_SAFE_INTEGER;\n    const rankB = b.rank || Number.MAX_SAFE_INTEGER;\n\n    // Compare based on ranks\n    return rankA - rankB;\n  };\n\n  if (catalog.products?.length > 0) {\n    const renderItem = ({ item, index }) => (\n      <ProductDisplayBtnLocal\n        product={item}\n        productIndex={index}\n        key={index}\n        userUid={catalog.docID}\n      />\n    ); // Defined outside the render method\n    const keyExtractor = (item) => item.id; // Defined outside the render method\n    const getItemLayout = (data, index) => ({\n      length: 200,\n      offset: 200 * index,\n      index,\n    }); // Defined outside the render method\n\n    return (\n      <div\n        style={visible === false ? { display: \"none\" } : { display: \"block\" }}\n      >\n        <FlatList\n          style={{ width: \"100%\", height: \"100%\" }}\n          contentContainerStyle={{\n            flexDirection: \"row\",\n            flexWrap: \"wrap\",\n            justifyContent: \"space-between\",\n            paddingLeft: 50,\n            paddingRight: 50,\n          }}\n          data={catalog.products\n            .filter((product) => {\n              const isVisible =\n                product.category === category &&\n                !product.dontDisplayOnOnlineStore;\n              return isVisible;\n            })\n            .sort(customSort)}\n          renderItem={renderItem}\n          keyExtractor={keyExtractor}\n          getItemLayout={getItemLayout}\n        />\n      </div>\n    );\n  } else {\n    return (\n      <View\n        style={{\n          width: \"100%\",\n          height: height * 0.8,\n          justifyContent: \"center\",\n          alignItems: \"center\",\n        }}\n      >\n        <Text\n          style={{\n            fontFamily: \"archivo-500\",\n            color: \"rgba(74,74,74,1)\",\n            fontSize: 20,\n          }}\n        >\n          This category has no products...\n        </Text>\n      </View>\n    );\n  }\n};\n\nconst ProductDisplayBtnLocal = ({ product, productIndex, userUid }) => {\n  const [showProductScreen, setshowProductScreen] = useState(false);\n  const xPos = useRef(new Animated.Value(-1000)).current;\n  const shadowOpacity = useRef(new Animated.Value(0)).current;\n  const [productImage, setproductImage] = useState();\n  const cart = cartState.use();\n  const { height, width } = useWindowDimensions();\n\n  useEffect(() => {\n    if (product.hasImage) {\n      storage\n        .ref(userUid + \"/images/\" + product.id)\n        .getDownloadURL()\n        .then((url) => {\n          setproductImage(url);\n        });\n    }\n  }, []);\n\n  const fadeIn = () => {\n    // Will change xPos value to 0 in 3 seconds\n    setshowProductScreen(true);\n    Animated.timing(xPos, {\n      toValue: 0,\n      duration: 200,\n      useNativeDriver: false,\n    }).start();\n    Animated.timing(shadowOpacity, {\n      toValue: 1,\n      duration: 200,\n      useNativeDriver: false,\n    }).start();\n  };\n\n  const fadeOut = () => {\n    // Will change xPos value to 0 in 3 seconds\n    Animated.timing(shadowOpacity, {\n      toValue: 0,\n      duration: 200,\n      useNativeDriver: false,\n    }).start();\n    Animated.timing(xPos, {\n      toValue: -1000,\n      duration: 200,\n      useNativeDriver: false,\n    }).start(() => setshowProductScreen(false));\n  };\n\n  return (\n    <TouchableOpacity\n      key={productIndex}\n      onPress={() => {\n        if (product.options.length > 0) {\n          // navigation.navigate(\"Product Listing\", { product: product });\n          // setshowProductScreen(true);\n          fadeIn();\n        } else {\n          addCartState(\n            {\n              name: product.name,\n              price: product.price,\n              description: product.description,\n              options: [],\n              extraDetails: null,\n            },\n            cart\n          );\n        }\n      }}\n      style={[styles({ height, width }).touchable]}\n    >\n      <div\n        style={{\n          height: \"200px\",\n          width: \"200px\",\n          backgroundColor: \"rgba(0,0,0,0.5)\",\n          borderRadius: \"3px\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          backgroundImage: `url(${productImage})`,\n          backgroundSize: \"cover\",\n          backgroundPosition: \"center\",\n        }}\n      >\n        <View\n          style={{\n            height: \"100%\",\n            width: \"100%\",\n            backgroundColor: \"rgba(0,0,0,0.5)\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            borderRadius: 3,\n          }}\n        >\n          <Text\n            style={{\n              fontFamily: \"archivo-500\",\n              color: \"rgba(255,255,255,1)\",\n              fontSize: 15,\n              textAlign: \"center\",\n            }}\n          >\n            {product.name}\n          </Text>\n        </View>\n      </div>\n      {showProductScreen && (\n        <Modal transparent={true}>\n          <Animated.View\n            style={{\n              flex: 1,\n              justifyContent: \"flex-end\",\n              alignItems: \"flex-start\",\n              position: \"absolute\",\n              height: \"100%\",\n              width: \"100%\",\n              bottom: 0,\n              left: xPos,\n              zIndex: 0,\n            }}\n          >\n            <View\n              style={{\n                height: \"100%\",\n                width: \"70%\",\n                borderTopRightRadius: 3,\n              }}\n            >\n              <ProductListing\n                product={product}\n                // itemIndex={productIndex}\n                goBack={() => fadeOut()}\n              />\n            </View>\n          </Animated.View>\n          <Animated.View\n            style={{\n              height: \"100%\",\n              width: \"30%\",\n              padding: 20,\n              shadowColor: \"rgba(0,0,0,1)\",\n              shadowOffset: {\n                width: -3,\n                height: 3,\n              },\n              elevation: 30,\n              shadowOpacity: 0.5,\n              shadowRadius: 5,\n              position: \"absolute\",\n              opacity: shadowOpacity,\n              right: 0,\n              bottom: 0,\n            }}\n          />\n        </Modal>\n      )}\n    </TouchableOpacity>\n  );\n};\n\nconst Page4 = () => {\n  return (\n    <View>\n      <Text>Thank you for your order</Text>\n    </View>\n  );\n};\n\nexport default OrderPage;\n\nconst styles = (props) =>\n  StyleSheet.create({\n    container: {\n      backgroundColor: \"white\",\n      height: \"100%\",\n      width: props.width * 0.7,\n      flexDirection: \"row\",\n    },\n    wrapper: {\n      flexDirection: \"row\",\n      flexWrap: \"wrap\",\n      justifyContent: \"space-between\",\n      paddingLeft: 50,\n      paddingRight: 50,\n    },\n    scrollview: {\n      width: \"100%\",\n    },\n    containerCart: {\n      height: \"100%\",\n      width: \"30%\",\n      padding: 20,\n      backgroundColor: \"rgba(31,35,48,1)\",\n      borderTopRightRadius: 0,\n      borderBottomRightRadius: 0,\n      borderTopLeftRadius: 2,\n      borderBottomLeftRadius: 2,\n      shadowColor: \"rgba(0,0,0,1)\",\n      shadowOffset: {\n        width: -3,\n        height: 3,\n      },\n      elevation: 30,\n      shadowOpacity: 0.92,\n      shadowRadius: 5,\n    },\n    contentContainer: {\n      height: \"100%\",\n      justifyContent: \"space-between\",\n      width: \"100%\",\n    },\n    totalContainer: {\n      height: \"14%\",\n      paddingTop: 10,\n    },\n    cartHeader: {\n      height: \"6%\",\n      justifyContent: \"space-between\",\n      width: \"100%\",\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      marginBottom: 20,\n    },\n    iconContainer: {\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      backgroundColor: \"rgba(41,44,56,1)\",\n      borderRadius: 15,\n      width: 50,\n      height: 50,\n      margin: 10,\n    },\n    cashButton: {\n      backgroundColor: \"rgba(51,81,243,1)\",\n      borderRadius: 30,\n      borderTopRightRadius: 0,\n      borderBottomRightRadius: 0,\n      width: \"49.5%\",\n      height: 55,\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    },\n    cardButton: {\n      backgroundColor: \"rgba(51,81,243,1)\",\n      borderRadius: 30,\n      borderTopRightRadius: 30,\n      borderBottomRightRadius: 30,\n      borderTopLeftRadius: 0,\n      borderBottomLeftRadius: 0,\n      width: \"49.5%\",\n      height: 55,\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    },\n    btnTxt: {\n      fontSize: 20,\n      color: \"white\",\n    },\n    totalTxt: {\n      fontSize: 16,\n      marginBottom: 5,\n      color: \"rgba(255,255,255,1)\",\n      fontWeight: \"600\",\n    },\n    totalTxtPrice: {\n      fontSize: 16,\n      marginBottom: 5,\n      color: \"rgba(255,255,255,1)\",\n      fontWeight: \"600\",\n    },\n    bigButton: {\n      backgroundColor: \"rgba(51,81,243,1)\",\n      borderRadius: 30,\n      width: \"98%\",\n      height: 55,\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    },\n    innerTxt: {\n      fontSize: 13,\n      marginBottom: 10,\n    },\n    headerTxt: {\n      fontSize: 15,\n      fontWeight: \"600\",\n    },\n    empty: {\n      fontFamily: \"archivo-600\",\n      color: \"rgba(255,255,255,1)\",\n      fontSize: 20,\n      opacity: 0.44,\n      marginTop: 20,\n    },\n    fillTheCart: {\n      fontFamily: \"archivo-500\",\n      color: \"rgba(74,74,74,1)\",\n      fontSize: 20,\n    },\n    touchable: {\n      margin: 15,\n      width: 200,\n      height: 200,\n      backgroundColor: \"rgba(125,126,132,1)\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      borderRadius: 3,\n    },\n    textInput: {\n      backgroundColor: \"rgba(255,255,255,1)\",\n      borderRadius: 10,\n      padding: 10,\n      marginBottom: 10,\n    },\n  });\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}