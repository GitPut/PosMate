{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { myDeviceDetailsState, setCustomersList, setDeviceIdState, setDeviceTreeState, setEmployeesState, setMyDeviceDetailsState, setOnlineStoreState, setStoreDetailState, setTrialDetailsState, setUserState, setUserStoreState, setWoocommerceState, storeDetailState, trialDetailsState, userState, woocommerceState } from \"../state/state\";\nimport { auth, db } from \"../state/firebaseConfig\";\nimport { updateFreeTrial } from \"../state/firebaseFunctions\";\nvar tz = require(\"moment-timezone\");\nimport NewUserPayment from \"../components/modals/NewUserPayment\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TrialEnded from \"../components/modals/TrialEnded\";\nvar qz = require(\"qz-tray\");\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport AuthRoute from \"./authed/AuthRoute\";\nimport NonAuthRoute from \"./non-authed/NonAuthRoute\";\nimport useInterval from \"../components/functional/useInterval\";\nimport PaymentUpdateNotification from \"../components/modals/PaymentUpdateNotification\";\nimport { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar RouteManager = function RouteManager() {\n  var savedUserState = JSON.parse(localStorage.getItem(\"savedUserState\"));\n  var userS = userState.use();\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setloading = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isNewUser = _useState4[0],\n    setisNewUser = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isSubscribed = _useState6[0],\n    setisSubscribed = _useState6[1];\n  var fadeAnim = useRef(new Animated.Value(1)).current;\n  var _useState7 = useState(true),\n    _useState8 = _slicedToArray(_useState7, 2),\n    viewVisible = _useState8[0],\n    setviewVisible = _useState8[1];\n  var _useState9 = useState(null),\n    _useState10 = _slicedToArray(_useState9, 2),\n    isCanceled = _useState10[0],\n    setisCanceled = _useState10[1];\n  var trialDetails = trialDetailsState.use();\n  var wooCredentials = woocommerceState.use();\n  var _useState11 = useState([]),\n    _useState12 = _slicedToArray(_useState11, 2),\n    wooOrders = _useState12[0],\n    setwooOrders = _useState12[1];\n  var storeDetails = storeDetailState.use();\n  var _useState13 = useState(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    isWooError = _useState14[0],\n    setisWooError = _useState14[1];\n  var myDeviceDetails = myDeviceDetailsState.use();\n  useEffect(function () {\n    if (myDeviceDetails.docID && userS) {\n      console.log(\"Listening for print requests\");\n      db.collection(\"users\").doc(userS.uid).collection(\"devices\").doc(myDeviceDetails.docID).collection(\"printRequests\").onSnapshot(function (snapshot) {\n        if (snapshot.empty) return;\n        snapshot.forEach(function (doc) {\n          var qz = require(\"qz-tray\");\n          qz.websocket.connect().then(function () {\n            var config = qz.configs.create(myDeviceDetails.printToPrinter);\n            return qz.print(config, doc.data().printData);\n          }).then(qz.websocket.disconnect).catch(function (err) {\n            alert(\"An error occured while trying to print. Try refreshing the page and trying again.\");\n          });\n          db.collection(\"users\").doc(userS.uid).collection(\"devices\").doc(myDeviceDetails.docID).collection(\"printRequests\").doc(doc.id).delete();\n        });\n      });\n    }\n  }, [myDeviceDetails, userS]);\n  var customSort = function customSort(a, b) {\n    var rankA = a.rank || Number.MAX_SAFE_INTEGER;\n    var rankB = b.rank || Number.MAX_SAFE_INTEGER;\n    return rankA - rankB;\n  };\n  useEffect(function () {\n    setUserState(savedUserState);\n    var unsubscribeAuthStateChanged = auth.onAuthStateChanged(function (user) {\n      fadeAnim.setValue(1);\n      setviewVisible(true);\n      if (user) {\n        localStorage.setItem(\"savedUserState\", true);\n        setUserState(user);\n        db.collection(\"users\").doc(user.uid).get().then(function (doc) {\n          var products = [];\n          var extraDevicesPayingFor = 0;\n          doc.ref.collection(\"products\").get().then(function (docs) {\n            if (!docs.empty) {\n              docs.forEach(function (element) {\n                products.push(element.data());\n              });\n              products.sort(customSort);\n            }\n          }).catch(function (e) {\n            return console.log(\"Error has occured with db products: \", e);\n          });\n          setUserStoreState({\n            products: products.sort(customSort),\n            categories: doc.data().categories ? doc.data().categories : []\n          });\n          if (doc.data().wooCredentials) {\n            setWoocommerceState(doc.data().wooCredentials);\n          }\n          if (doc.data().storeDetails) {\n            setStoreDetailState(doc.data().storeDetails);\n          }\n          doc.ref.collection(\"wooOrders\").get().then(function (docs) {\n            if (!docs.empty) {\n              docs.forEach(function (element) {\n                setwooOrders(function (prev) {\n                  return [].concat(_toConsumableArray(prev), [element.data()]);\n                });\n              });\n            }\n          }).catch(function (e) {\n            return console.log(\"Error has occured with db wooorders: \", e);\n          });\n          doc.ref.collection(\"employees\").get().then(function (docs) {\n            if (!docs.empty) {\n              var localEmployees = [];\n              docs.forEach(function (element) {\n                localEmployees.push(element.data());\n              });\n              setEmployeesState(localEmployees);\n            }\n          }).catch(function (e) {\n            return console.log(\"Error has occured with db employees: \", e);\n          });\n          doc.ref.collection(\"subscriptions\").get().then(function (docs) {\n            if (!docs.empty) {\n              docs.forEach(function (element) {\n                if (element.data().role === \"Test Plan\") {\n                  if (element.data().status === \"active\") {\n                    setisSubscribed(true);\n                    setisNewUser(false);\n                    if (doc.data().freeTrial) {\n                      setTrialDetailsState({\n                        endDate: null,\n                        hasEnded: null\n                      });\n                      updateFreeTrial(null);\n                    }\n                  } else if (element.data().status === \"canceled\") {\n                    setisSubscribed(false);\n                    setisNewUser(false);\n                    setisCanceled(true);\n                  } else {\n                    setisSubscribed(false);\n                    setisNewUser(false);\n                  }\n                }\n                if (element.data().role === \"Pos Software Plan\") {\n                  if (element.data().status === \"active\") {\n                    setisSubscribed(true);\n                    setisNewUser(false);\n                    if (doc.data().freeTrial) {\n                      setTrialDetailsState({\n                        endDate: null,\n                        hasEnded: null\n                      });\n                      updateFreeTrial(null);\n                    }\n                  } else if (element.data().status === \"canceled\") {\n                    setisSubscribed(false);\n                    setisNewUser(false);\n                    setisCanceled(true);\n                  } else {\n                    setisSubscribed(false);\n                    setisNewUser(false);\n                  }\n                }\n                if (element.data().role === \"Online Store\") {\n                  if (element.data().status === \"active\") {\n                    setOnlineStoreState({\n                      urlEnding: doc.data().urlEnding,\n                      onlineStoreActive: doc.data().onlineStoreActive,\n                      onlineStoreSetUp: doc.data().onlineStoreSetUp,\n                      stripePublicKey: doc.data().stripePublicKey,\n                      stripeSecretKey: doc.data().stripeSecretKey,\n                      paidStatus: \"active\"\n                    });\n                  } else if (element.data().status === \"canceled\") {\n                    db.collection(\"users\").doc(auth.currentUser.uid).update({\n                      onlineStoreActive: false\n                    });\n                    db.collection(\"public\").doc(auth.currentUser.uid).update({\n                      onlineStoreActive: false\n                    });\n                    setOnlineStoreState({\n                      urlEnding: doc.data().urlEnding,\n                      onlineStoreActive: false,\n                      onlineStoreSetUp: doc.data().onlineStoreSetUp,\n                      stripePublicKey: doc.data().stripePublicKey,\n                      stripeSecretKey: doc.data().stripeSecretKey,\n                      paidStatus: \"canceled\"\n                    });\n                  } else {\n                    db.collection(\"users\").doc(auth.currentUser.uid).update({\n                      onlineStoreActive: false\n                    });\n                    db.collection(\"public\").doc(auth.currentUser.uid).update({\n                      onlineStoreActive: false\n                    });\n                    setOnlineStoreState({\n                      urlEnding: doc.data().urlEnding,\n                      onlineStoreActive: false,\n                      onlineStoreSetUp: doc.data().onlineStoreSetUp,\n                      stripePublicKey: doc.data().stripePublicKey,\n                      stripeSecretKey: doc.data().stripeSecretKey,\n                      paidStatus: null\n                    });\n                  }\n                }\n              });\n              var devicesAmount = docs.docs.filter(function (e) {\n                return e.data().role === \"Extra Device\" && e.data().status === \"active\";\n              }).length;\n              extraDevicesPayingFor = devicesAmount;\n            } else if (doc.data().freeTrial) {\n              setisSubscribed(true);\n              setisNewUser(false);\n            } else {\n              setisNewUser(true);\n              setisSubscribed(false);\n            }\n          }).catch(function () {\n            return console.log(\"Error has occured with db extra devices\");\n          });\n          doc.ref.collection(\"customers\").get().then(function (docs) {\n            var newCustomerList = [];\n            docs.forEach(function (element) {\n              newCustomerList.push(_objectSpread(_objectSpread({}, element.data()), {}, {\n                id: element.id\n              }));\n            });\n            setCustomersList(newCustomerList);\n          }).catch(function (e) {\n            return console.log(\"Error has occured with db customers: \", e);\n          });\n          if (doc.data().freeTrial) {\n            setisNewUser(false);\n            var firstDate = new Date(doc.data().freeTrial.seconds * 1000);\n            var today = new Date();\n            if (firstDate <= today) {\n              setTrialDetailsState({\n                endDate: doc.data().freeTrial,\n                hasEnded: true\n              });\n            } else {\n              setTrialDetailsState({\n                endDate: doc.data().freeTrial,\n                hasEnded: false\n              });\n            }\n          }\n          function getCookie(name) {\n            var match = document.cookie.match(new RegExp(\"(^| )\" + name + \"=([^;]+)\"));\n            if (match) return match[2];\n          }\n          var deviceID = getCookie(\"deviceID\");\n          if (!deviceID) {\n            var yourDeviceID = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n            document.cookie = `deviceID=${yourDeviceID}; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/`;\n            setDeviceIdState(yourDeviceID);\n          } else {\n            setDeviceIdState(deviceID);\n          }\n          doc.ref.collection(\"devices\").get().then(function (docs) {\n            var devices = [];\n            docs.forEach(function (element) {\n              devices.push(_objectSpread(_objectSpread({}, element.data()), {}, {\n                docID: element.id\n              }));\n              if (element.data().id === deviceID) {\n                console.log(\"found device: \", element.data());\n                setMyDeviceDetailsState(_objectSpread(_objectSpread({}, element.data()), {}, {\n                  docID: element.id\n                }));\n              }\n            });\n            setDeviceTreeState({\n              devices: devices,\n              extraDevicesPayingFor: extraDevicesPayingFor\n            });\n          });\n          var unsub = db.collection(\"users\").doc(user.uid).onSnapshot(function (doc) {\n            setUserStoreState({\n              products: products.sort(customSort),\n              categories: doc.data().categories ? doc.data().categories : []\n            });\n            if (doc.data().wooCredentials) {\n              setWoocommerceState(doc.data().wooCredentials);\n            }\n            if (doc.data().storeDetails) {\n              setStoreDetailState(doc.data().storeDetails);\n            }\n          });\n          setloading(false);\n          fadeOut();\n          return function () {\n            unsub();\n          };\n        }).catch(function (e) {\n          return console.log(\"Error has occured with db users: \", e);\n        });\n      } else {\n        localStorage.removeItem(\"savedUserState\");\n        setUserState(null);\n        setUserStoreState({\n          products: null,\n          categories: null\n        });\n        setisNewUser(false);\n        setisSubscribed(false);\n        setloading(false);\n      }\n    });\n    return function () {\n      unsubscribeAuthStateChanged();\n    };\n  }, [savedUserState]);\n  useInterval(function () {\n    if (wooCredentials.useWoocommerce && isSubscribed && !isWooError && myDeviceDetails.printOnlineOrders) {\n      var WooCommerceAPI = require(\"woocommerce-api\");\n      var WooCommerce = new WooCommerceAPI({\n        url: wooCredentials.apiUrl,\n        consumerKey: wooCredentials.ck,\n        consumerSecret: wooCredentials.cs,\n        wpAPI: true,\n        version: \"wc/v3\"\n      });\n      var page = 1;\n      var orders = [];\n      var getOrders = function () {\n        var _ref = _asyncToGenerator(function* () {\n          var response = yield WooCommerce.getAsync(`orders?page=${page}&per_page=100`);\n          var data = JSON.parse(response.body);\n          orders = [].concat(_toConsumableArray(orders), _toConsumableArray(data));\n          if (data.length === 100) {\n            page++;\n            getOrders();\n          } else {}\n        });\n        return function getOrders() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n      getOrders().then(function () {\n        if (JSON.stringify(orders) === JSON.stringify(wooOrders)) return;\n        var _loop = function _loop(index) {\n          var order = orders[index];\n          var orderIndex;\n          if (wooOrders.length > 0) {\n            orderIndex = wooOrders.findIndex(function (e) {\n              return e.id === order.id;\n            });\n          } else {\n            orderIndex = -1;\n          }\n          if (orderIndex === -1 || !wooOrders[orderIndex].printed) {\n            var _storeDetails$address, _order$line_items;\n            if (orderIndex === -1) {\n              db.collection(\"users\").doc(userS.uid).collection(\"wooOrders\").doc(order.id.toString()).set(_objectSpread(_objectSpread({}, order), {}, {\n                printed: true\n              })).then(function () {\n                setwooOrders(function (prev) {\n                  return [].concat(_toConsumableArray(prev), [_objectSpread(_objectSpread({}, order), {}, {\n                    printed: true\n                  })]);\n                });\n                wooOrders.push(_objectSpread(_objectSpread({}, order), {}, {\n                  printed: true\n                }));\n              }).catch(function (e) {\n                return console.log(\"Error has occured with db wooOrders print: \", e);\n              });\n            } else {\n              db.collection(\"users\").doc(userS.uid).collection(\"wooOrders\").doc(order.id.toString()).update({\n                printed: true\n              }).then(function () {\n                setwooOrders(function (prev) {\n                  var newOrders = _toConsumableArray(prev);\n                  newOrders[orderIndex].printed = true;\n                  return newOrders;\n                });\n                wooOrders[index].printed = true;\n              }).catch(function (e) {\n                return console.log(\"Error has occured with db wooOrder print second if: \", e);\n              });\n            }\n            var CleanupOps = function CleanupOps(metaList) {\n              var opsArray = [];\n              metaList.forEach(function (op) {\n                var arrContaingMe = opsArray.filter(function (filterOp) {\n                  return filterOp.key === op.key;\n                });\n                if (arrContaingMe.length > 0) {\n                  opsArray.forEach(function (opsArrItem, index) {\n                    if (opsArrItem.key === op.key) {\n                      opsArray[index].vals.push(op.value);\n                    }\n                  });\n                } else {\n                  opsArray.push({\n                    key: op.key,\n                    vals: [op.value]\n                  });\n                }\n              });\n              return opsArray;\n            };\n            var printData = [];\n            var dateString = order.date_created;\n            var newDate = new Date(dateString + \"Z\");\n            var targetTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n            var resultDate = tz(newDate).tz(targetTimezone, true).format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n            printData.push(\"\\x1B\" + \"\\x40\", \"\\x1B\" + \"\\x61\" + \"\\x31\", storeDetails.name, \"\\x0A\", ((_storeDetails$address = storeDetails.address) == null ? void 0 : _storeDetails$address.label) + \"\\x0A\", storeDetails.website + \"\\x0A\", storeDetails.phoneNumber + \"\\x0A\", resultDate + \"\\x0A\", \"\\x0A\", \"Online Order\" + \"\\x0A\", `Transaction ID ${order.number}` + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\");\n            (_order$line_items = order.line_items) == null ? void 0 : _order$line_items.map(function (cartItem) {\n              printData.push(\"\\x0A\");\n              printData.push(`Name: ${cartItem.name}`);\n              printData.push(\"\\x0A\");\n              printData.push(`Quantity: ${cartItem.quantity}`);\n              printData.push(\"\\x0A\");\n              printData.push(`Price: $${cartItem.price}`);\n              printData.push(\"\\x0A\");\n              if (cartItem.meta) {\n                CleanupOps(cartItem.meta).map(function (returnedItem) {\n                  printData.push(`${returnedItem.key} : `);\n                  printData.push(\"\\x0A\");\n                  returnedItem.vals.map(function (val, index) {\n                    printData.push(`${val}`);\n                    printData.push(\"\\x0A\");\n                    if (index >= 0 && index < returnedItem.vals.length - 1) {\n                      printData.push(\", \");\n                    }\n                  });\n                  printData.push(\"\\x0A\");\n                });\n              } else {\n                printData.push(\"\\x0A\" + \"\\x0A\");\n              }\n            });\n            printData.push(\"\\x0A\");\n            printData.push(\"\\x0A\");\n            printData.push(`Customer Details:`);\n            printData.push(\"\\x0A\");\n            printData.push(`Address: ${order.shipping.address_1}`);\n            printData.push(\"\\x0A\");\n            printData.push(`City: ${order.shipping.city}`);\n            printData.push(\"\\x0A\");\n            printData.push(`Zip/Postal Code: ${order.shipping.postcode}`);\n            printData.push(\"\\x0A\");\n            printData.push(`Province/State: ${order.shipping.state}`);\n            printData.push(\"\\x0A\");\n            printData.push(`Name: ${order.shipping.first_name} ${order.shipping.last_name}`);\n            printData.push(\"\\x0A\");\n            printData.push(`Phone Number: ${order.billing.phone}`);\n            printData.push(\"\\x0A\");\n            order.shipping_lines.map(function (line) {\n              printData.push(`Shipping Method: ${line.method_title}`);\n              printData.push(\"\\x0A\");\n            });\n            if (order.customer_note) {\n              printData.push(`Customer Note: ${order.customer_note}`);\n              printData.push(\"\\x0A\");\n            }\n            printData.push(\"\\x0A\");\n            printData.push(\"\\x0A\");\n            printData.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Payment Method: \" + order.payment_method_title + \"\\x0A\" + \"\\x0A\", `Total Including (${storeDetails.taxRate ? storeDetails.taxRate : \"13\"}% Tax): ` + \"$\" + order.total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\");\n            printData.push(\"\\x1D\" + \"\\x56\" + \"\\x00\");\n            var doublePrint = printData.concat(printData);\n            qz.websocket.connect().then(function () {\n              var config = qz.configs.create(myDeviceDetails.printToPrinter);\n              return qz.print(config, doublePrint);\n            }).then(qz.websocket.disconnect).catch(function (err) {\n              alert(\"An error occured while trying to print. Try refreshing the page and trying again.\");\n            });\n          }\n        };\n        for (var index = 0; index < orders.length; index++) {\n          _loop(index);\n        }\n      }).catch(function (e) {\n        console.log(\"Error has occured when trying to get WooOrders: \", e);\n        alert(\"There was an error connecting to your woocommerce store. Please refresh the page to try again.\");\n        setisWooError(true);\n      });\n    }\n  }, 10000);\n  var fadeIn = function fadeIn() {\n    Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 500,\n      useNativeDriver: false\n    }).start();\n  };\n  var fadeOut = function fadeOut() {\n    Animated.timing(fadeAnim, {\n      toValue: 0,\n      duration: 500,\n      useNativeDriver: false\n    }).start(function () {\n      return setviewVisible(false);\n    });\n  };\n  var resetLoader = function resetLoader() {\n    setviewVisible(true);\n    fadeIn();\n  };\n  var NavigationContent = function NavigationContent() {\n    return _jsxs(_Fragment, {\n      children: [isSubscribed && _jsx(Route, {\n        path: \"/\",\n        component: AuthRoute\n      }), trialDetails.hasEnded && _jsx(TrialEnded, {\n        resetLoader: resetLoader\n      }), isNewUser && _jsx(NewUserPayment, {\n        resetLoader: resetLoader\n      }), isCanceled && !isSubscribed && !isNewUser && _jsx(PaymentUpdateNotification, {\n        resetLoader: resetLoader,\n        isCanceled: isCanceled\n      })]\n    });\n  };\n  return _jsx(Router, {\n    children: _jsxs(Switch, {\n      children: [userS && _jsxs(_Fragment, {\n        children: [_jsx(NavigationContent, {}), viewVisible && _jsx(Animated.View, {\n          style: {\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            backgroundColor: \"white\",\n            position: \"absolute\",\n            opacity: fadeAnim,\n            height: \"100%\",\n            width: \"100%\"\n          },\n          children: _jsx(Image, {\n            source: require(\"../assets/loading.gif\"),\n            style: {\n              width: 450,\n              height: 450,\n              resizeMode: \"contain\"\n            }\n          })\n        })]\n      }), !userS && !loading && _jsx(Route, {\n        path: \"/\",\n        component: NonAuthRoute\n      }), _jsx(Text, {\n        children: \"hello\"\n      })]\n    })\n  });\n};\nexport default RouteManager;","map":{"version":3,"names":["React","useEffect","useRef","useState","myDeviceDetailsState","setCustomersList","setDeviceIdState","setDeviceTreeState","setEmployeesState","setMyDeviceDetailsState","setOnlineStoreState","setStoreDetailState","setTrialDetailsState","setUserState","setUserStoreState","setWoocommerceState","storeDetailState","trialDetailsState","userState","woocommerceState","auth","db","updateFreeTrial","tz","require","NewUserPayment","Animated","Image","TrialEnded","qz","BrowserRouter","Router","Route","Switch","AuthRoute","NonAuthRoute","useInterval","PaymentUpdateNotification","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","RouteManager","savedUserState","JSON","parse","localStorage","getItem","userS","use","_useState","_useState2","_slicedToArray","loading","setloading","_useState3","_useState4","isNewUser","setisNewUser","_useState5","_useState6","isSubscribed","setisSubscribed","fadeAnim","Value","current","_useState7","_useState8","viewVisible","setviewVisible","_useState9","_useState10","isCanceled","setisCanceled","trialDetails","wooCredentials","_useState11","_useState12","wooOrders","setwooOrders","storeDetails","_useState13","_useState14","isWooError","setisWooError","myDeviceDetails","docID","console","log","collection","doc","uid","onSnapshot","snapshot","empty","forEach","websocket","connect","then","config","configs","create","printToPrinter","print","data","printData","disconnect","catch","err","alert","id","delete","customSort","a","b","rankA","rank","Number","MAX_SAFE_INTEGER","rankB","unsubscribeAuthStateChanged","onAuthStateChanged","user","setValue","setItem","get","products","extraDevicesPayingFor","ref","docs","element","push","sort","e","categories","prev","concat","_toConsumableArray","localEmployees","role","status","freeTrial","endDate","hasEnded","urlEnding","onlineStoreActive","onlineStoreSetUp","stripePublicKey","stripeSecretKey","paidStatus","currentUser","update","devicesAmount","filter","length","newCustomerList","_objectSpread","firstDate","Date","seconds","today","getCookie","name","match","document","cookie","RegExp","deviceID","yourDeviceID","Math","random","toString","substring","devices","unsub","fadeOut","removeItem","useWoocommerce","printOnlineOrders","WooCommerceAPI","WooCommerce","url","apiUrl","consumerKey","ck","consumerSecret","cs","wpAPI","version","page","orders","getOrders","_ref","_asyncToGenerator","response","getAsync","body","apply","arguments","stringify","_loop","index","order","orderIndex","findIndex","printed","_storeDetails$address","_order$line_items","set","newOrders","CleanupOps","metaList","opsArray","op","arrContaingMe","filterOp","key","opsArrItem","vals","value","dateString","date_created","newDate","targetTimezone","Intl","DateTimeFormat","resolvedOptions","timeZone","resultDate","format","address","label","website","phoneNumber","number","line_items","map","cartItem","quantity","price","meta","returnedItem","val","shipping","address_1","city","postcode","state","first_name","last_name","billing","phone","shipping_lines","line","method_title","customer_note","payment_method_title","taxRate","total","doublePrint","fadeIn","timing","toValue","duration","useNativeDriver","start","resetLoader","NavigationContent","children","path","component","View","style","alignItems","justifyContent","backgroundColor","position","opacity","height","width","source","resizeMode","Text"],"sources":["/Users/peterputros/Desktop/PosMate/navigation/RouteManager.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport {\n  myDeviceDetailsState,\n  setCustomersList,\n  setDeviceIdState,\n  setDeviceTreeState,\n  setEmployeesState,\n  setMyDeviceDetailsState,\n  setOnlineStoreState,\n  setStoreDetailState,\n  setTrialDetailsState,\n  setUserState,\n  setUserStoreState,\n  setWoocommerceState,\n  storeDetailState,\n  trialDetailsState,\n  userState,\n  woocommerceState,\n} from \"state/state\";\nimport { auth, db } from \"state/firebaseConfig\";\nimport { logout, updateFreeTrial } from \"state/firebaseFunctions\";\nconst tz = require(\"moment-timezone\");\nimport NewUserPayment from \"components/modals/NewUserPayment\";\nimport { Animated, Image } from \"react-native\";\nimport * as Font from \"expo-font\";\nimport TrialEnded from \"components/modals/TrialEnded\";\nconst qz = require(\"qz-tray\");\n\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport AuthRoute from \"./authed/AuthRoute\";\nimport NonAuthRoute from \"./non-authed/NonAuthRoute\";\nimport useInterval from \"components/functional/useInterval\";\nimport ScrollToTop from \"components/functional/ScrollToTop\";\nimport PaymentUpdateNotification from \"components/modals/PaymentUpdateNotification\";\n\nconst RouteManager = () => {\n  const savedUserState = JSON.parse(localStorage.getItem(\"savedUserState\"));\n  const userS = userState.use();\n  const [loading, setloading] = useState(true);\n  const [isNewUser, setisNewUser] = useState(null);\n  const [isSubscribed, setisSubscribed] = useState(null);\n  const fadeAnim = useRef(new Animated.Value(1)).current;\n  const [viewVisible, setviewVisible] = useState(true);\n  const [isCanceled, setisCanceled] = useState(null);\n  const trialDetails = trialDetailsState.use();\n  const wooCredentials = woocommerceState.use();\n  const [wooOrders, setwooOrders] = useState([]);\n  const storeDetails = storeDetailState.use();\n  const [isWooError, setisWooError] = useState(false);\n  const myDeviceDetails = myDeviceDetailsState.use();\n\n  useEffect(() => {\n    if (myDeviceDetails.docID && userS) {\n      console.log(\"Listening for print requests\");\n      db.collection(\"users\")\n        .doc(userS.uid)\n        .collection(\"devices\")\n        .doc(myDeviceDetails.docID)\n        .collection(\"printRequests\")\n        .onSnapshot((snapshot) => {\n          if (snapshot.empty) return;\n\n          snapshot.forEach((doc) => {\n            // console.log(\"Data to print recieved: \", doc.data().printData);\n\n            const qz = require(\"qz-tray\");\n            qz.websocket\n              .connect()\n              .then(function () {\n                const config = qz.configs.create(\n                  myDeviceDetails.printToPrinter\n                );\n                return qz.print(config, doc.data().printData);\n              })\n              .then(qz.websocket.disconnect)\n              .catch(function (err) {\n                // console.error(err);\n                alert(\n                  \"An error occured while trying to print. Try refreshing the page and trying again.\"\n                );\n              });\n            //print then delete\n\n            db.collection(\"users\")\n              .doc(userS.uid)\n              .collection(\"devices\")\n              .doc(myDeviceDetails.docID)\n              .collection(\"printRequests\")\n              .doc(doc.id)\n              .delete();\n          });\n        });\n    }\n  }, [myDeviceDetails, userS]);\n\n  const customSort = (a, b) => {\n    // Handle cases where one or both items don't have a rank\n    const rankA = a.rank || Number.MAX_SAFE_INTEGER;\n    const rankB = b.rank || Number.MAX_SAFE_INTEGER;\n\n    // Compare based on ranks\n    return rankA - rankB;\n  };\n\n  useEffect(() => {\n    setUserState(savedUserState);\n\n    const unsubscribeAuthStateChanged = auth.onAuthStateChanged((user) => {\n      fadeAnim.setValue(1);\n      setviewVisible(true);\n      if (user) {\n        localStorage.setItem(\"savedUserState\", true);\n        setUserState(user);\n\n        // let customers = localStorage.getItem(\"customers\");\n        // if (customers) {\n        //   customers = JSON.parse(customers);\n        // }\n\n        db.collection(\"users\")\n          .doc(user.uid)\n          .get()\n          .then((doc) => {\n            const products = [];\n            let extraDevicesPayingFor = 0;\n\n            doc.ref\n              .collection(\"products\")\n              .get()\n              .then((docs) => {\n                if (!docs.empty) {\n                  docs.forEach((element) => {\n                    products.push(element.data());\n                  });\n                  products.sort(customSort);\n                }\n              })\n              .catch((e) =>\n                console.log(\"Error has occured with db products: \", e)\n              );\n\n            setUserStoreState({\n              products: products.sort(customSort),\n              categories: doc.data().categories ? doc.data().categories : [],\n            });\n\n            // setOnlineStoreState({\n            //   urlEnding: doc.data().urlEnding,\n            //   onlineStoreActive: doc.data().onlineStoreActive,\n            //   onlineStoreSetUp: doc.data().onlineStoreSetUp,\n            //   stripePublicKey: doc.data().stripePublicKey,\n            //   stripeSecretKey: doc.data().stripeSecretKey,\n            // });\n\n            if (doc.data().wooCredentials) {\n              setWoocommerceState(doc.data().wooCredentials);\n            }\n            if (doc.data().storeDetails) {\n              setStoreDetailState(doc.data().storeDetails);\n            }\n\n            doc.ref\n              .collection(\"wooOrders\")\n              .get()\n              .then((docs) => {\n                if (!docs.empty) {\n                  docs.forEach((element) => {\n                    setwooOrders((prev) => [...prev, element.data()]);\n                  });\n                }\n              })\n              .catch((e) =>\n                console.log(\"Error has occured with db wooorders: \", e)\n              );\n\n            doc.ref\n              .collection(\"employees\")\n              .get()\n              .then((docs) => {\n                if (!docs.empty) {\n                  const localEmployees = [];\n                  docs.forEach((element) => {\n                    localEmployees.push(element.data());\n                  });\n                  setEmployeesState(localEmployees);\n                }\n              })\n              .catch((e) =>\n                console.log(\"Error has occured with db employees: \", e)\n              );\n\n            doc.ref\n              .collection(\"subscriptions\")\n              .get()\n              .then((docs) => {\n                if (!docs.empty) {\n                  docs.forEach((element) => {\n                    if (element.data().role === \"Test Plan\") {\n                      if (element.data().status === \"active\") {\n                        setisSubscribed(true);\n                        setisNewUser(false);\n                        if (doc.data().freeTrial) {\n                          setTrialDetailsState({\n                            endDate: null,\n                            hasEnded: null,\n                          });\n                          updateFreeTrial(null);\n                        }\n                      } else if (element.data().status === \"canceled\") {\n                        setisSubscribed(false);\n                        setisNewUser(false);\n                        setisCanceled(true);\n                      } else {\n                        setisSubscribed(false);\n                        setisNewUser(false);\n                      }\n                    }\n\n                    //if they are subscribed to pos plan\n                    if (element.data().role === \"Pos Software Plan\") {\n                      if (element.data().status === \"active\") {\n                        setisSubscribed(true);\n                        setisNewUser(false);\n                        if (doc.data().freeTrial) {\n                          setTrialDetailsState({\n                            endDate: null,\n                            hasEnded: null,\n                          });\n                          updateFreeTrial(null);\n                        }\n                      } else if (element.data().status === \"canceled\") {\n                        setisSubscribed(false);\n                        setisNewUser(false);\n                        setisCanceled(true);\n                      } else {\n                        setisSubscribed(false);\n                        setisNewUser(false);\n                      }\n                    }\n\n                    //if they are subscribed to online store\n                    if (element.data().role === \"Online Store\") {\n                      if (element.data().status === \"active\") {\n                        setOnlineStoreState({\n                          urlEnding: doc.data().urlEnding,\n                          onlineStoreActive: doc.data().onlineStoreActive,\n                          onlineStoreSetUp: doc.data().onlineStoreSetUp,\n                          stripePublicKey: doc.data().stripePublicKey,\n                          stripeSecretKey: doc.data().stripeSecretKey,\n                          paidStatus: \"active\",\n                        });\n                      } else if (element.data().status === \"canceled\") {\n                        db.collection(\"users\")\n                          .doc(auth.currentUser.uid)\n                          .update({\n                            onlineStoreActive: false,\n                          });\n                        db.collection(\"public\")\n                          .doc(auth.currentUser.uid)\n                          .update({\n                            onlineStoreActive: false,\n                          });\n                        setOnlineStoreState({\n                          urlEnding: doc.data().urlEnding,\n                          onlineStoreActive: false,\n                          onlineStoreSetUp: doc.data().onlineStoreSetUp,\n                          stripePublicKey: doc.data().stripePublicKey,\n                          stripeSecretKey: doc.data().stripeSecretKey,\n                          paidStatus: \"canceled\",\n                        });\n                      } else {\n                        db.collection(\"users\")\n                          .doc(auth.currentUser.uid)\n                          .update({\n                            onlineStoreActive: false,\n                          });\n                        db.collection(\"public\")\n                          .doc(auth.currentUser.uid)\n                          .update({\n                            onlineStoreActive: false,\n                          });\n                        setOnlineStoreState({\n                          urlEnding: doc.data().urlEnding,\n                          onlineStoreActive: false,\n                          onlineStoreSetUp: doc.data().onlineStoreSetUp,\n                          stripePublicKey: doc.data().stripePublicKey,\n                          stripeSecretKey: doc.data().stripeSecretKey,\n                          paidStatus: null,\n                        });\n                      }\n                    }\n                  });\n                  const devicesAmount = docs.docs.filter(\n                    (e) =>\n                      e.data().role === \"Extra Device\" &&\n                      e.data().status === \"active\"\n                  ).length;\n                  extraDevicesPayingFor = devicesAmount;\n                } else if (doc.data().freeTrial) {\n                  setisSubscribed(true);\n                  setisNewUser(false);\n                } else {\n                  setisNewUser(true);\n                  setisSubscribed(false);\n                }\n              })\n              .catch(() =>\n                console.log(\"Error has occured with db extra devices\")\n              );\n\n            doc.ref\n              .collection(\"customers\")\n              .get()\n              .then((docs) => {\n                const newCustomerList = [];\n\n                docs.forEach((element) => {\n                  newCustomerList.push({ ...element.data(), id: element.id });\n                });\n\n                setCustomersList(newCustomerList);\n              })\n              .catch((e) =>\n                console.log(\"Error has occured with db customers: \", e)\n              );\n\n            if (doc.data().freeTrial) {\n              setisNewUser(false);\n              const firstDate = new Date(doc.data().freeTrial.seconds * 1000);\n              const today = new Date();\n              if (firstDate <= today) {\n                setTrialDetailsState({\n                  endDate: doc.data().freeTrial,\n                  hasEnded: true,\n                });\n              } else {\n                setTrialDetailsState({\n                  endDate: doc.data().freeTrial,\n                  hasEnded: false,\n                });\n              }\n            }\n\n            function getCookie(name) {\n              const match = document.cookie.match(\n                new RegExp(\"(^| )\" + name + \"=([^;]+)\")\n              );\n              if (match) return match[2];\n            }\n\n            const deviceID = getCookie(\"deviceID\");\n\n            if (!deviceID) {\n              // Generate a random device ID\n              const yourDeviceID =\n                Math.random().toString(36).substring(2, 15) +\n                Math.random().toString(36).substring(2, 15);\n\n              // Set a cookie\n              document.cookie = `deviceID=${yourDeviceID}; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/`;\n\n              setDeviceIdState(yourDeviceID);\n            } else {\n              setDeviceIdState(deviceID);\n            }\n\n            doc.ref\n              .collection(\"devices\")\n              .get()\n              .then((docs) => {\n                const devices = [];\n\n                docs.forEach((element) => {\n                  devices.push({ ...element.data(), docID: element.id });\n                  if (element.data().id === deviceID) {\n                    console.log(\"found device: \", element.data());\n                    setMyDeviceDetailsState({\n                      ...element.data(),\n                      docID: element.id,\n                    });\n                  }\n                });\n\n                setDeviceTreeState({ devices: devices, extraDevicesPayingFor });\n              });\n\n            const unsub = db\n              .collection(\"users\")\n              .doc(user.uid)\n              .onSnapshot((doc) => {\n                setUserStoreState({\n                  products: products.sort(customSort),\n                  categories: doc.data().categories\n                    ? doc.data().categories\n                    : [],\n                });\n                if (doc.data().wooCredentials) {\n                  setWoocommerceState(doc.data().wooCredentials);\n                }\n                if (doc.data().storeDetails) {\n                  setStoreDetailState(doc.data().storeDetails);\n                }\n              });\n\n            setloading(false);\n            fadeOut();\n\n            return () => {\n              unsub();\n            };\n          })\n          .catch((e) => console.log(\"Error has occured with db users: \", e));\n      } else {\n        localStorage.removeItem(\"savedUserState\");\n        setUserState(null);\n        setUserStoreState({ products: null, categories: null });\n        setisNewUser(false);\n        setisSubscribed(false);\n        setloading(false);\n      }\n    });\n\n    return () => {\n      unsubscribeAuthStateChanged();\n    };\n  }, [savedUserState]);\n\n  useInterval(() => {\n    if (\n      wooCredentials.useWoocommerce &&\n      isSubscribed &&\n      !isWooError &&\n      myDeviceDetails.printOnlineOrders\n    ) {\n      const WooCommerceAPI = require(\"woocommerce-api\");\n\n      const WooCommerce = new WooCommerceAPI({\n        url: wooCredentials.apiUrl,\n        consumerKey: wooCredentials.ck,\n        consumerSecret: wooCredentials.cs,\n        wpAPI: true,\n        version: \"wc/v3\",\n      });\n\n      let page = 1;\n      let orders = [];\n\n      const getOrders = async () => {\n        const response = await WooCommerce.getAsync(\n          `orders?page=${page}&per_page=100`\n        );\n        const data = JSON.parse(response.body);\n        orders = [...orders, ...data];\n        if (data.length === 100) {\n          page++;\n          getOrders();\n        } else {\n          //console.log(\"WOO ORDERS: \", orders);\n        }\n        // console.log(\"WOO ORDERS: \", orders);\n      };\n\n      getOrders()\n        .then(() => {\n          if (JSON.stringify(orders) === JSON.stringify(wooOrders)) return;\n          for (let index = 0; index < orders.length; index++) {\n            const order = orders[index];\n            let orderIndex;\n            if (wooOrders.length > 0) {\n              orderIndex = wooOrders.findIndex((e) => e.id === order.id);\n            } else {\n              orderIndex = -1;\n            }\n\n            if (orderIndex === -1 || !wooOrders[orderIndex].printed) {\n              if (orderIndex === -1) {\n                db.collection(\"users\")\n                  .doc(userS.uid)\n                  .collection(\"wooOrders\")\n                  .doc(order.id.toString())\n                  .set({ ...order, printed: true })\n                  .then(() => {\n                    setwooOrders((prev) => [\n                      ...prev,\n                      { ...order, printed: true },\n                    ]);\n                    wooOrders.push({ ...order, printed: true });\n                  })\n                  .catch((e) =>\n                    console.log(\n                      \"Error has occured with db wooOrders print: \",\n                      e\n                    )\n                  );\n              } else {\n                db.collection(\"users\")\n                  .doc(userS.uid)\n                  .collection(\"wooOrders\")\n                  .doc(order.id.toString())\n                  .update({ printed: true })\n                  .then(() => {\n                    setwooOrders((prev) => {\n                      const newOrders = [...prev];\n                      newOrders[orderIndex].printed = true;\n                      return newOrders;\n                    });\n                    wooOrders[index].printed = true;\n                  })\n                  .catch((e) =>\n                    console.log(\n                      \"Error has occured with db wooOrder print second if: \",\n                      e\n                    )\n                  );\n              }\n\n              const CleanupOps = (metaList) => {\n                const opsArray = [];\n\n                metaList.forEach((op) => {\n                  const arrContaingMe = opsArray.filter(\n                    (filterOp) => filterOp.key === op.key\n                  );\n\n                  if (arrContaingMe.length > 0) {\n                    opsArray.forEach((opsArrItem, index) => {\n                      if (opsArrItem.key === op.key) {\n                        opsArray[index].vals.push(op.value);\n                      }\n                    });\n                  } else {\n                    opsArray.push({ key: op.key, vals: [op.value] });\n                  }\n                });\n                return opsArray;\n              };\n\n              const printData = [];\n              const dateString = order.date_created;\n              const newDate = new Date(dateString + \"Z\");\n              const targetTimezone =\n                Intl.DateTimeFormat().resolvedOptions().timeZone;\n              const resultDate = tz(newDate)\n                .tz(targetTimezone, true)\n                .format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n\n              printData.push(\n                \"\\x1B\" + \"\\x40\", // init\n                \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n                storeDetails.name,\n                \"\\x0A\",\n                storeDetails.address?.label + \"\\x0A\",\n                storeDetails.website + \"\\x0A\", // text and line break\n                storeDetails.phoneNumber + \"\\x0A\", // text and line break\n                resultDate + \"\\x0A\",\n                \"\\x0A\",\n                \"Online Order\" + \"\\x0A\", // text and line break\n                `Transaction ID ${order.number}` + \"\\x0A\",\n                \"\\x0A\",\n                \"\\x0A\",\n                \"\\x0A\",\n                \"\\x1B\" + \"\\x61\" + \"\\x30\" // left align\n              );\n\n              order.line_items?.map((cartItem) => {\n                printData.push(\"\\x0A\");\n                printData.push(`Name: ${cartItem.name}`);\n                printData.push(\"\\x0A\");\n                printData.push(`Quantity: ${cartItem.quantity}`);\n                printData.push(\"\\x0A\");\n                printData.push(`Price: $${cartItem.price}`);\n                printData.push(\"\\x0A\");\n\n                if (cartItem.meta) {\n                  CleanupOps(cartItem.meta).map((returnedItem) => {\n                    printData.push(`${returnedItem.key} : `);\n                    printData.push(\"\\x0A\");\n                    returnedItem.vals.map((val, index) => {\n                      printData.push(`${val}`);\n                      printData.push(\"\\x0A\");\n                      if (index >= 0 && index < returnedItem.vals.length - 1) {\n                        printData.push(\", \");\n                      }\n                    });\n                    printData.push(\"\\x0A\");\n                  });\n                } else {\n                  printData.push(\"\\x0A\" + \"\\x0A\");\n                }\n              });\n\n              printData.push(\"\\x0A\");\n              printData.push(\"\\x0A\");\n              printData.push(`Customer Details:`);\n              printData.push(\"\\x0A\");\n              printData.push(`Address: ${order.shipping.address_1}`);\n              printData.push(\"\\x0A\");\n              printData.push(`City: ${order.shipping.city}`);\n              printData.push(\"\\x0A\");\n              printData.push(`Zip/Postal Code: ${order.shipping.postcode}`);\n              printData.push(\"\\x0A\");\n              printData.push(`Province/State: ${order.shipping.state}`);\n              printData.push(\"\\x0A\");\n              printData.push(\n                `Name: ${order.shipping.first_name} ${order.shipping.last_name}`\n              );\n              printData.push(\"\\x0A\");\n              printData.push(`Phone Number: ${order.billing.phone}`);\n              printData.push(\"\\x0A\");\n              order.shipping_lines.map((line) => {\n                printData.push(`Shipping Method: ${line.method_title}`);\n                printData.push(\"\\x0A\");\n              });\n              if (order.customer_note) {\n                printData.push(`Customer Note: ${order.customer_note}`);\n                printData.push(\"\\x0A\");\n              }\n              printData.push(\"\\x0A\");\n              printData.push(\"\\x0A\");\n\n              printData.push(\n                \"\\x0A\",\n                \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n                \"\\x0A\" + \"\\x0A\",\n                \"Payment Method: \" +\n                  order.payment_method_title +\n                  \"\\x0A\" +\n                  \"\\x0A\",\n                `Total Including (${\n                  storeDetails.taxRate ? storeDetails.taxRate : \"13\"\n                }% Tax): ` +\n                  \"$\" +\n                  order.total +\n                  \"\\x0A\" +\n                  \"\\x0A\",\n                \"------------------------------------------\" + \"\\x0A\",\n                \"\\x0A\", // line break\n                \"\\x0A\", // line break\n                \"\\x0A\", // line break\n                \"\\x0A\", // line break\n                \"\\x0A\", // line break\n                \"\\x0A\" // line break\n              );\n\n              printData.push(\"\\x1D\" + \"\\x56\" + \"\\x00\");\n\n              const doublePrint = printData.concat(printData);\n\n              qz.websocket\n                .connect()\n                .then(function () {\n                  const config = qz.configs.create(\n                    myDeviceDetails.printToPrinter\n                  );\n                  return qz.print(config, doublePrint);\n                })\n                .then(qz.websocket.disconnect)\n                .catch(function (err) {\n                  // console.error(err);\n                  alert(\n                    \"An error occured while trying to print. Try refreshing the page and trying again.\"\n                  );\n                });\n            }\n          }\n        })\n        .catch((e) => {\n          console.log(\"Error has occured when trying to get WooOrders: \", e);\n          alert(\n            \"There was an error connecting to your woocommerce store. Please refresh the page to try again.\"\n          );\n          setisWooError(true);\n        });\n    }\n  }, 10000);\n\n  const fadeIn = () => {\n    // Will change fadeAnim value to 0 in 3 seconds\n    Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 500,\n      useNativeDriver: false,\n    }).start();\n  };\n\n  const fadeOut = () => {\n    // Will change fadeAnim value to 0 in 3 seconds\n    Animated.timing(fadeAnim, {\n      toValue: 0,\n      duration: 500,\n      useNativeDriver: false,\n    }).start(() => setviewVisible(false));\n  };\n\n  const resetLoader = () => {\n    setviewVisible(true);\n    fadeIn();\n  };\n\n  const NavigationContent = () => {\n    return (\n      <>\n        {isSubscribed && <Route path=\"/\" component={AuthRoute} />}\n        {trialDetails.hasEnded && <TrialEnded resetLoader={resetLoader} />}\n        {isNewUser && <NewUserPayment resetLoader={resetLoader} />}\n        {isCanceled && !isSubscribed && !isNewUser && (\n          <PaymentUpdateNotification\n            resetLoader={resetLoader}\n            isCanceled={isCanceled}\n          />\n        )}\n      </>\n    );\n  };\n\n  return (\n    <Router>\n      {/* <ScrollToTop /> */}\n      <Switch>\n        {userS && (\n          <>\n            <NavigationContent />\n            {viewVisible && (\n              <Animated.View\n                style={{\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                  backgroundColor: \"white\",\n                  position: \"absolute\",\n                  opacity: fadeAnim,\n                  height: \"100%\",\n                  width: \"100%\",\n                }}\n              >\n                <Image\n                  source={require(\"assets/loading.gif\")}\n                  // source={require(\"assets/divinepos-loading.gif\")}\n                  style={{ width: 450, height: 450, resizeMode: \"contain\" }}\n                />\n              </Animated.View>\n            )}\n          </>\n        )}\n        {!userS && !loading && <Route path=\"/\" component={NonAuthRoute} />} \n            <Text>hello</Text>\n      </Switch>\n    </Router>\n  );\n};\n\nexport default RouteManager;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}