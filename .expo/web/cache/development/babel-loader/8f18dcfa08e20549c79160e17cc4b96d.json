{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport React, { useEffect, useState } from \"react\";\nimport { cartState, setCartState, storeDetailState, setIsSignedInSettingsState, customersList, setCustomersList, myDeviceDetailsState } from \"../../state/state\";\nimport DeliveryScreen from \"../../components/DeliveryScreen\";\nimport CashScreen from \"../../components/CashScreen\";\nimport ChangeScreen from \"../../components/ChangeScreen\";\nimport MaterialCommunityIcons from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport Feather from \"@expo/vector-icons/Feather\";\nimport SaveCustomer from \"./SaveCustomer\";\nimport { auth, db } from \"../../state/firebaseConfig\";\nimport { Entypo, Ionicons } from \"@expo/vector-icons\";\nimport { useHistory } from \"react-router-dom\";\nimport CompletePaymentPhoneOrder from \"../../components/CompletePaymentPhoneOrder\";\nimport SettingsPasswordModal from \"../../components/SettingsPasswordModal\";\nimport CartItemEditable from \"../../components/CartItemEditable\";\nimport useWindowDimensions from \"../../components/useWindowDimensions\";\nimport ClockinModal from \"./ClockinModal\";\nimport ReceiptPrint from \"../../components/ReceiptPrint\";\nimport DiscountModal from \"../../components/DiscountModal\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar CartButton = function CartButton(props) {\n  return _jsx(_Fragment, {\n    children: props.notification ? _jsxs(View, {\n      children: [_jsx(TouchableOpacity, {\n        style: props.style,\n        onPress: props.onPress,\n        disabled: props.disabled,\n        children: _jsx(props.icon, {})\n      }), _jsx(View, {\n        style: {\n          height: 20,\n          width: 20,\n          borderRadius: 5,\n          backgroundColor: \"green\",\n          position: \"absolute\",\n          top: 0,\n          right: 0,\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        children: _jsx(Text, {\n          children: props.notification\n        })\n      })]\n    }) : _jsx(TouchableOpacity, {\n      style: props.style,\n      onPress: props.onPress,\n      disabled: props.disabled,\n      children: _jsx(props.icon, {})\n    })\n  });\n};\nvar CartScreen = function CartScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    deliveryModal = _useState2[0],\n    setDeliveryModal = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    cashModal = _useState4[0],\n    setCashModal = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    changeModal = _useState6[0],\n    setChangeModal = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    ongoingDelivery = _useState8[0],\n    setOngoingDelivery = _useState8[1];\n  var _useState9 = useState(null),\n    _useState10 = _slicedToArray(_useState9, 2),\n    name = _useState10[0],\n    setName = _useState10[1];\n  var _useState11 = useState(null),\n    _useState12 = _slicedToArray(_useState11, 2),\n    phone = _useState12[0],\n    setPhone = _useState12[1];\n  var _useState13 = useState(null),\n    _useState14 = _slicedToArray(_useState13, 2),\n    address = _useState14[0],\n    setAddress = _useState14[1];\n  var _useState15 = useState(false),\n    _useState16 = _slicedToArray(_useState15, 2),\n    deliveryChecked = _useState16[0],\n    setDeliveryChecked = _useState16[1];\n  var _useState17 = useState(null),\n    _useState18 = _slicedToArray(_useState17, 2),\n    changeDue = _useState18[0],\n    setChangeDue = _useState18[1];\n  var cart = cartState.use();\n  var storeDetails = storeDetailState.use();\n  var _useState19 = useState(0),\n    _useState20 = _slicedToArray(_useState19, 2),\n    cartSub = _useState20[0],\n    setCartSub = _useState20[1];\n  var _useState21 = useState(false),\n    _useState22 = _slicedToArray(_useState21, 2),\n    saveCustomerModal = _useState22[0],\n    setSaveCustomerModal = _useState22[1];\n  var _useState23 = useState(null),\n    _useState24 = _slicedToArray(_useState23, 2),\n    savedCustomerDetails = _useState24[0],\n    setsavedCustomerDetails = _useState24[1];\n  var _useState25 = useState(false),\n    _useState26 = _slicedToArray(_useState25, 2),\n    ongoingOrderListModal = _useState26[0],\n    setongoingOrderListModal = _useState26[1];\n  var _useState27 = useState(false),\n    _useState28 = _slicedToArray(_useState27, 2),\n    settingsPasswordModalVis = _useState28[0],\n    setsettingsPasswordModalVis = _useState28[1];\n  var history = useHistory();\n  var height = useWindowDimensions().height;\n  var _useState29 = useState(false),\n    _useState30 = _slicedToArray(_useState29, 2),\n    updatingOrder = _useState30[0],\n    setupdatingOrder = _useState30[1];\n  var _useState31 = useState([]),\n    _useState32 = _slicedToArray(_useState31, 2),\n    ongoingListState = _useState32[0],\n    setongoingListState = _useState32[1];\n  var customers = customersList.use();\n  var myDeviceDetails = myDeviceDetailsState.use();\n  var _useState33 = useState(false),\n    _useState34 = _slicedToArray(_useState33, 2),\n    clockinModal = _useState34[0],\n    setclockinModal = _useState34[1];\n  var _useState35 = useState(false),\n    _useState36 = _slicedToArray(_useState35, 2),\n    discountModal = _useState36[0],\n    setdiscountModal = _useState36[1];\n  function parseDate(input) {\n    if (Object.prototype.toString.call(input) === \"[object Date]\") {\n      if (!isNaN(input.getTime())) {\n        return input;\n      }\n    }\n\n    if (typeof input === \"string\") {\n      var dateObject = new Date(input);\n\n      if (!isNaN(dateObject.getTime())) {\n        return dateObject;\n      }\n    }\n  }\n  useEffect(function () {\n    var _auth$currentUser;\n    var unsub = db.collection(\"users\").doc((_auth$currentUser = auth.currentUser) == null ? void 0 : _auth$currentUser.uid).collection(\"pendingOrders\").onSnapshot(function (snapshot) {\n      var list = [];\n      snapshot.forEach(function (doc) {\n        list.push(_objectSpread(_objectSpread({}, doc.data()), {}, {\n          id: doc.id\n        }));\n        if (doc.data().online && !doc.data().printed && myDeviceDetails.printOnlineOrders) {\n          var _auth$currentUser2;\n          console.log(\"Printing\");\n          var data = ReceiptPrint(doc.data(), storeDetails);\n          var qz = require(\"qz-tray\");\n          qz.websocket.connect().then(function () {\n            var config = qz.configs.create(myDeviceDetails.printToPrinter);\n            return qz.print(config, data.data);\n          }).then(qz.websocket.disconnect).catch(function (err) {\n            alert(\"An error occured while trying to print. Try refreshing the page and trying again.\");\n          });\n          db.collection(\"users\").doc((_auth$currentUser2 = auth.currentUser) == null ? void 0 : _auth$currentUser2.uid).collection(\"pendingOrders\").doc(doc.id).update({\n            printed: true\n          });\n        }\n      });\n      var sortedArray = list.sort(function (a, b) {\n        var dateA = a.online ? parseDate(a.date) : a.date.toDate();\n        var dateB = b.online ? parseDate(b.date) : b.date.toDate();\n\n        return dateB - dateA;\n      });\n      setongoingListState(sortedArray);\n    });\n    return function () {\n      return unsub();\n    };\n  }, []);\n  useEffect(function () {\n    if (cart.length > 0) {\n      var newVal = 0;\n      for (var i = 0; i < cart.length; i++) {\n        try {\n          if (cart[i].quantity > 1) {\n            newVal += parseFloat(cart[i].price) * cart[i].quantity;\n          } else {\n            newVal += parseFloat(cart[i].price);\n          }\n        } catch (error) {\n          console.log(error);\n        }\n      }\n      if (deliveryChecked) {\n        setCartSub(newVal + parseFloat(storeDetails.deliveryPrice));\n      } else {\n        setCartSub(newVal);\n      }\n      if (cart.length > 1) {\n        for (var _i = 0; _i < cart.length; _i++) {\n          if (cart[_i].name.includes(\"Cart Discount\")) {\n            var discountItem = cart[_i];\n            var newCart = structuredClone(cart);\n            newCart.splice(_i, 1);\n            if (discountItem.percent) {\n              newCart.push({});\n            }\n            newCart.push(discountItem);\n            setCartState(newCart);\n          }\n        }\n      }\n    } else {\n      setCartSub(0);\n    }\n  }, [cart, deliveryChecked]);\n\n  var Print = function Print(method, dontAddToOngoing) {\n    if (!myDeviceDetails.id) {\n      return alert(\"Please set up a device in Settings -> Devices\");\n    }\n    if (savedCustomerDetails) {\n      var _savedCustomerDetails;\n      if (((_savedCustomerDetails = savedCustomerDetails.orders) == null ? void 0 : _savedCustomerDetails.length) > 0) {\n        var _auth$currentUser3;\n        db.collection(\"users\").doc((_auth$currentUser3 = auth.currentUser) == null ? void 0 : _auth$currentUser3.uid).collection(\"customers\").doc(savedCustomerDetails.id).update({\n          orders: [].concat(_toConsumableArray(savedCustomerDetails.orders), [{\n            cart: cart\n          }])\n        });\n        var indexOfCustomer = customers.findIndex(function (customer) {\n          return customer.id === savedCustomerDetails.id;\n        });\n        var newCustomers = structuredClone(customers);\n        newCustomers[indexOfCustomer].orders.push({\n          cart: cart\n        });\n        setCustomersList(newCustomers);\n      } else {\n        var _auth$currentUser4;\n        db.collection(\"users\").doc((_auth$currentUser4 = auth.currentUser) == null ? void 0 : _auth$currentUser4.uid).collection(\"customers\").doc(savedCustomerDetails.id).update({\n          orders: [{\n            cart: cart\n          }]\n        });\n        var _indexOfCustomer = customers.findIndex(function (customer) {\n          return customer.id === savedCustomerDetails.id;\n        });\n        var _newCustomers = structuredClone(customers);\n        _newCustomers[_indexOfCustomer].orders = [{\n          cart: cart\n        }];\n        setCustomersList(_newCustomers);\n      }\n    }\n    var transNum = Math.random().toString(36).substr(2, 9);\n    if (method === \"deliveryOrder\") {\n      var today = new Date();\n      var element = {\n        date: today,\n        transNum: transNum,\n        method: \"deliveryOrder\",\n        cart: cart,\n        customer: {\n          name: name,\n          phone: phone,\n          address: address\n        }\n      };\n      var data = ReceiptPrint(element, storeDetails);\n      if (!dontAddToOngoing) {\n        var _auth$currentUser5;\n        console.log(\"Adding to pending orders\");\n        db.collection(\"users\").doc((_auth$currentUser5 = auth.currentUser) == null ? void 0 : _auth$currentUser5.uid).collection(\"pendingOrders\").add({\n          date: today,\n          transNum: transNum,\n          method: \"deliveryOrder\",\n          cart: cart,\n          total: data.total,\n          customer: {\n            name: name,\n            phone: phone,\n            address: address ? address : null\n          }\n        });\n      }\n      if (myDeviceDetails.sendPrintToUserID && myDeviceDetails.useDifferentDeviceToPrint) {\n        var _auth$currentUser6;\n        console.log(\"Sending print to different user\");\n        db.collection(\"users\").doc((_auth$currentUser6 = auth.currentUser) == null ? void 0 : _auth$currentUser6.uid).collection(\"devices\").doc(myDeviceDetails.sendPrintToUserID.value).collection(\"printRequests\").add({\n          printData: data.data\n        });\n      } else {\n        var qz = require(\"qz-tray\");\n        qz.websocket.connect().then(function () {\n          var config = qz.configs.create(myDeviceDetails.printToPrinter);\n          return qz.print(config, data.data);\n        }).then(qz.websocket.disconnect).catch(function (err) {\n          alert(\"An error occured while trying to print. Try refreshing the page and trying again.\");\n        });\n      }\n      setCartState([]);\n      setDeliveryModal(false);\n    } else if (method === \"pickupOrder\") {\n      var _today = new Date();\n      var _element = {\n        date: _today,\n        transNum: transNum,\n        method: \"pickupOrder\",\n        cart: cart,\n        customer: {\n          name: name,\n          phone: phone\n        }\n      };\n\n      var _data = ReceiptPrint(_element, storeDetails);\n      if (!dontAddToOngoing) {\n        var _auth$currentUser7;\n        console.log(\"Adding to pending orders\");\n        db.collection(\"users\").doc((_auth$currentUser7 = auth.currentUser) == null ? void 0 : _auth$currentUser7.uid).collection(\"pendingOrders\").add({\n          date: _today,\n          transNum: transNum,\n          method: \"pickupOrder\",\n          cart: cart,\n          total: _data.total,\n          customer: {\n            name: name,\n            phone: phone,\n            address: address ? address : \"null\"\n          }\n        });\n      }\n      if (myDeviceDetails.sendPrintToUserID && myDeviceDetails.useDifferentDeviceToPrint) {\n        var _auth$currentUser8;\n        console.log(\"Sending print to different user\");\n        db.collection(\"users\").doc((_auth$currentUser8 = auth.currentUser) == null ? void 0 : _auth$currentUser8.uid).collection(\"devices\").doc(myDeviceDetails.sendPrintToUserID.value).collection(\"printRequests\").add({\n          printData: _data.data\n        });\n      } else {\n        var _qz = require(\"qz-tray\");\n        _qz.websocket.connect().then(function () {\n          var config = _qz.configs.create(myDeviceDetails.printToPrinter);\n          return _qz.print(config, _data.data);\n        }).then(_qz.websocket.disconnect).catch(function (err) {\n          alert(\"An error occured while trying to print. Try refreshing the page and trying again.\");\n        });\n      }\n      setCartState([]);\n      setDeliveryModal(false);\n      setName(null);\n      setPhone(null);\n      setAddress(null);\n      setDeliveryChecked(false);\n    } else {\n      var _auth$currentUser9;\n      var _today2 = new Date();\n      var _element2 = {\n        date: _today2,\n        transNum: transNum,\n        method: \"inStoreOrder\",\n        cart: cart,\n        customer: {\n          name: name,\n          phone: phone,\n          address: address\n        },\n        changeDue: changeDue,\n        paymentMethod: method\n      };\n      var _data2 = ReceiptPrint(_element2, storeDetails);\n      db.collection(\"users\").doc((_auth$currentUser9 = auth.currentUser) == null ? void 0 : _auth$currentUser9.uid).collection(\"pendingOrders\").add({\n        date: _today2,\n        transNum: transNum,\n        total: _data2.total,\n        method: \"inStoreOrder\",\n        paymentMethod: method,\n        cart: cart\n      });\n      if (myDeviceDetails.sendPrintToUserID && myDeviceDetails.useDifferentDeviceToPrint) {\n        var _auth$currentUser10;\n        console.log(\"Sending print to different user\");\n        db.collection(\"users\").doc((_auth$currentUser10 = auth.currentUser) == null ? void 0 : _auth$currentUser10.uid).collection(\"devices\").doc(myDeviceDetails.sendPrintToUserID.value).collection(\"printRequests\").add({\n          printData: _data2.data\n        });\n      } else {\n        var _qz2 = require(\"qz-tray\");\n        _qz2.websocket.connect().then(function () {\n          var config = _qz2.configs.create(myDeviceDetails.printToPrinter);\n          return _qz2.print(config, _data2.data);\n        }).then(_qz2.websocket.disconnect).catch(function (err) {\n          alert(\"An error occured while trying to print. Try refreshing the page and trying again.\");\n        });\n      }\n    }\n    setCartState([]);\n    setName(null);\n    setPhone(null);\n    setAddress(null);\n    setDeliveryChecked(false);\n    setChangeDue(null);\n  };\n  var DeliveryBtn = function DeliveryBtn() {\n    if (updatingOrder) {\n      return _jsx(TouchableOpacity, {\n        style: [styles.bigButton, cartSub === 0 && {\n          opacity: 0.5\n        }],\n        disabled: cart.length < 1,\n        onPress: function onPress() {\n          var _auth$currentUser11;\n          db.collection(\"users\").doc((_auth$currentUser11 = auth.currentUser) == null ? void 0 : _auth$currentUser11.uid).collection(\"pendingOrders\").doc(updatingOrder.id).delete();\n          Print(deliveryChecked ? \"deliveryOrder\" : \"pickupOrder\", false);\n          setOngoingDelivery(null);\n          setName(null);\n          setPhone(null);\n          setAddress(null);\n          setDeliveryChecked(false);\n          setupdatingOrder(false);\n        },\n        children: _jsx(Text, {\n          style: styles.btnTxt,\n          children: \"Update Order\"\n        })\n      });\n    }\n    if (ongoingDelivery === null) {\n      return _jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          width: \"100%\",\n          alignSelf: \"center\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          marginBottom: 10\n        },\n        children: [_jsx(TouchableOpacity, {\n          style: [styles.cashButton, cartSub === 0 && {\n            opacity: 0.5\n          }],\n          onPress: function onPress() {\n            return setCashModal(true);\n          },\n          disabled: cart.length < 1 || ongoingDelivery,\n          children: _jsx(Text, {\n            style: styles.btnTxt,\n            children: \"Cash\"\n          })\n        }), _jsx(TouchableOpacity, {\n          style: [styles.cardButton, cartSub === 0 && {\n            opacity: 0.5\n          }],\n          onPress: function onPress() {\n            Print(\"Card\");\n          },\n          disabled: cart.length < 1 || ongoingDelivery,\n          children: _jsx(Text, {\n            style: styles.btnTxt,\n            children: \"Card\"\n          })\n        })]\n      });\n    }\n    if (ongoingDelivery && cart.length > 0) {\n      return _jsx(TouchableOpacity, {\n        style: styles.bigButton,\n        onPress: function onPress() {\n          Print(deliveryChecked ? \"deliveryOrder\" : \"pickupOrder\", false);\n          setOngoingDelivery(null);\n          setName(null);\n          setPhone(null);\n          setAddress(null);\n        },\n        children: _jsx(Text, {\n          style: styles.btnTxt,\n          children: \"Complete\"\n        })\n      });\n    } else {\n      return _jsx(TouchableOpacity, {\n        style: styles.bigButton,\n        onPress: function onPress() {\n          setOngoingDelivery(null);\n          setDeliveryChecked(false);\n          setName(null);\n          setPhone(null);\n          setAddress(null);\n          setChangeDue(null);\n        },\n        children: _jsx(Text, {\n          style: styles.btnTxt,\n          children: \"Cancel\"\n        })\n      });\n    }\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.cartHeader,\n      children: [_jsx(Text, {\n        style: {\n          fontFamily: \"archivo-600\",\n          color: \"rgba(255,255,255,1)\",\n          fontSize: 25\n        },\n        children: \"Order\"\n      }), _jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\"\n        },\n        children: [_jsx(CartButton, {\n          style: [styles.iconContainer, (cart.length < 1 || updatingOrder) && {\n            opacity: 0.5\n          }],\n          onPress: function onPress() {\n            return setdiscountModal(true);\n          },\n          disabled: cart.length < 1,\n          icon: function icon() {\n            return _jsx(Image, {\n              style: {\n                width: 26,\n                height: 26\n              },\n              source: require(\"../../assets/tag.png\")\n            });\n          }\n        }), _jsx(CartButton, {\n          style: [styles.iconContainer, (cart.length > 0 || updatingOrder) && {\n            opacity: 0.5\n          }],\n          onPress: function onPress() {\n            return setclockinModal(true);\n          },\n          disabled: cart.length > 0 || updatingOrder,\n          icon: function icon() {\n            return _jsx(MaterialCommunityIcons, {\n              name: \"clock\",\n              size: 26,\n              color: \"white\"\n            });\n          }\n        }), _jsx(CartButton, {\n          style: [styles.iconContainer, (cart.length > 0 || updatingOrder) && {\n            opacity: 0.5\n          }],\n          disabled: cart.length > 0 || updatingOrder,\n          onPress: function onPress() {\n            return setongoingOrderListModal(true);\n          },\n          icon: function icon() {\n            return _jsx(Ionicons, {\n              name: \"chevron-down\",\n              size: 28,\n              color: \"white\"\n            });\n          },\n          notification: ongoingListState.length\n        }), _jsx(CartButton, {\n          style: [styles.iconContainer, cart.length > 0 && !ongoingDelivery && {\n            opacity: 0.5\n          }],\n          onPress: function onPress() {\n            return setDeliveryModal(true);\n          },\n          disabled: cart.length > 0 && !ongoingDelivery,\n          icon: function icon() {\n            return _jsx(Feather, {\n              name: \"phone-call\",\n              size: 28,\n              color: \"white\"\n            });\n          }\n        }), updatingOrder ? _jsx(CartButton, {\n          style: [styles.iconContainer],\n          onPress: function onPress() {\n            setCartState([]);\n            setName(null);\n            setPhone(null);\n            setAddress(null);\n            setDeliveryChecked(false);\n            setOngoingDelivery(null);\n            setongoingOrderListModal(false);\n            setupdatingOrder(false);\n          },\n          icon: function icon() {\n            return _jsx(Entypo, {\n              name: \"cross\",\n              size: 28,\n              color: \"white\"\n            });\n          }\n        }) : _jsx(CartButton, {\n          disabled: ongoingDelivery,\n          style: [styles.iconContainer, cart.length > 0 && {\n            opacity: 0.5\n          }],\n          onPress: function onPress() {\n            if (storeDetails.settingsPassword) {\n              setsettingsPasswordModalVis(true);\n            } else {\n              setIsSignedInSettingsState(true);\n              history.push(\"/authed/dashboard\");\n              localStorage.setItem(\"isAuthedBackend\", true);\n            }\n          },\n          icon: function icon() {\n            return _jsx(Entypo, {\n              name: \"cog\",\n              size: 28,\n              color: \"white\"\n            });\n          }\n        })]\n      })]\n    }), _jsx(ScrollView, {\n      contentContainerStyle: styles.contentContainer,\n      style: {\n        marginBottom: 10\n      },\n      children: _jsx(View, {\n        children: cart.length > 0 ? cart.map(function (cartItem, index) {\n          return _jsx(CartItemEditable, {\n            cartItem: cartItem,\n            index: index,\n            removeAction: function removeAction() {\n              console.log(\"Removing\");\n              var local = structuredClone(cart);\n              local.splice(index, 1);\n              setCartState(local);\n            },\n            decreaseAction: function decreaseAction() {\n              var local = structuredClone(cart);\n              local[index].quantity--;\n              setCartState(local);\n            },\n            increaseAction: function increaseAction() {\n              var local = structuredClone(cart);\n              if (local[index].quantity) {\n                local[index].quantity++;\n              } else {\n                local[index].quantity = 2;\n              }\n              setCartState(local);\n            }\n          }, index);\n        }) : _jsxs(View, {\n          style: {\n            height: height * 0.7,\n            width: \"100%\",\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          },\n          children: [_jsx(Text, {\n            style: styles.empty,\n            children: \"Empty...\"\n          }), _jsx(Text, {\n            style: styles.fillTheCart,\n            children: \"Fill the Cart!\"\n          })]\n        })\n      })\n    }), _jsxs(View, {\n      style: {\n        justifyContent: \"space-around\",\n        alignItems: \"center\",\n        width: \"90%\",\n        alignSelf: \"center\"\n      },\n      children: [deliveryChecked && parseFloat(storeDetails.deliveryPrice) && _jsxs(View, {\n        style: {\n          alignSelf: \"stretch\",\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          marginBottom: 2,\n          paddingTop: 5\n        },\n        children: [_jsx(Text, {\n          style: {\n            fontFamily: \"archivo-600\",\n            color: \"rgba(74,74,74,1)\",\n            fontSize: 16,\n            alignSelf: \"flex-start\"\n          },\n          children: \"Delivery\"\n        }), _jsxs(Text, {\n          style: [{\n            fontFamily: \"archivo-600\",\n            color: \"rgba(255,255,255,1)\",\n            fontSize: 20,\n            alignSelf: \"flex-start\"\n          }, cartSub === 0 && {\n            opacity: 0.5\n          }],\n          children: [\"$\", parseFloat(storeDetails.deliveryPrice).toFixed(2)]\n        })]\n      }), _jsxs(View, {\n        style: {\n          alignSelf: \"stretch\",\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          marginBottom: 2\n        },\n        children: [_jsx(Text, {\n          style: {\n            fontFamily: \"archivo-600\",\n            color: \"rgba(74,74,74,1)\",\n            fontSize: 16,\n            alignSelf: \"flex-start\"\n          },\n          children: \"Sub Total\"\n        }), _jsxs(Text, {\n          style: [{\n            fontFamily: \"archivo-600\",\n            color: \"rgba(255,255,255,1)\",\n            fontSize: 20,\n            alignSelf: \"flex-start\"\n          }, cartSub === 0 && {\n            opacity: 0.5\n          }],\n          children: [\"$\", cartSub.toFixed(2)]\n        })]\n      }), _jsxs(View, {\n        style: {\n          alignSelf: \"stretch\",\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          marginBottom: 2\n        },\n        children: [_jsx(Text, {\n          style: {\n            fontFamily: \"archivo-600\",\n            color: \"rgba(74,74,74,1)\",\n            fontSize: 16,\n            alignSelf: \"flex-start\"\n          },\n          children: \"Tax\"\n        }), _jsxs(Text, {\n          style: [{\n            fontFamily: \"archivo-600\",\n            color: \"rgba(255,255,255,1)\",\n            fontSize: 20,\n            alignSelf: \"flex-start\"\n          }, cartSub === 0 && {\n            opacity: 0.5\n          }],\n          children: [\"$\", (cartSub * (storeDetails.taxRate ? storeDetails.taxRate / 100 : 0.13)).toFixed(2)]\n        })]\n      }), _jsxs(View, {\n        style: {\n          alignSelf: \"stretch\",\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          marginBottom: 10\n        },\n        children: [_jsx(Text, {\n          style: {\n            fontFamily: \"archivo-600\",\n            color: \"rgba(74,74,74,1)\",\n            fontSize: 16,\n            alignSelf: \"flex-start\"\n          },\n          children: \"Total\"\n        }), _jsxs(Text, {\n          style: [{\n            fontFamily: \"archivo-600\",\n            color: \"rgba(255,255,255,1)\",\n            fontSize: 20,\n            alignSelf: \"flex-start\"\n          }, cartSub === 0 && {\n            opacity: 0.5\n          }],\n          children: [\"$\", (cartSub * 1.13).toFixed(2)]\n        })]\n      }), _jsx(DeliveryBtn, {})]\n    }), _jsx(Modal, {\n      visible: clockinModal,\n      transparent: true,\n      children: _jsx(ClockinModal, {\n        setclockinModal: setclockinModal\n      })\n    }), _jsx(Modal, {\n      visible: saveCustomerModal,\n      transparent: true,\n      children: _jsx(SaveCustomer, {\n        setSaveCustomerModal: setSaveCustomerModal,\n        setOngoingDelivery: setOngoingDelivery,\n        setNameForDelivery: setName,\n        setPhoneForDelivery: setPhone,\n        setAddressForDelivery: setAddress,\n        setDeliveryChecked: setDeliveryChecked,\n        setsavedCustomerDetails: setsavedCustomerDetails\n      })\n    }), _jsx(Modal, {\n      visible: deliveryModal,\n      transparent: true,\n      children: _jsx(DeliveryScreen, {\n        setsavedCustomerDetails: setsavedCustomerDetails,\n        setDeliveryModal: setDeliveryModal,\n        setOngoingDelivery: setOngoingDelivery,\n        setName: setName,\n        setPhone: setPhone,\n        setAddress: setAddress,\n        name: name,\n        phone: phone,\n        address: address,\n        deliveryChecked: deliveryChecked,\n        setDeliveryChecked: setDeliveryChecked,\n        ongoingDelivery: ongoingDelivery\n      })\n    }), _jsx(Modal, {\n      visible: cashModal,\n      transparent: true,\n      children: _jsx(CashScreen, {\n        setCashModal: setCashModal,\n        GetTrans: function GetTrans() {\n          return Print(\"Cash\");\n        },\n        total: (cartSub * 1.13).toFixed(2),\n        setChangeDue: setChangeDue\n      })\n    }), _jsx(Modal, {\n      visible: changeModal,\n      children: _jsx(ChangeScreen, {\n        setChangeModal: setChangeModal\n      })\n    }), _jsx(Modal, {\n      visible: ongoingOrderListModal,\n      transparent: true,\n      children: _jsx(CompletePaymentPhoneOrder, {\n        setongoingOrderListModal: setongoingOrderListModal,\n        updateOrderHandler: function updateOrderHandler(order) {\n          setCartState(order.cart);\n          setName(order.customer.name);\n          setPhone(order.customer.phone);\n          setAddress(order.customer.address);\n          setDeliveryChecked(order.method === \"deliveryOrder\");\n          setOngoingDelivery(true);\n          setongoingOrderListModal(false);\n          setupdatingOrder(order);\n        },\n        ongoingListState: ongoingListState,\n        setongoingListState: setongoingListState\n      })\n    }), _jsx(Modal, {\n      visible: settingsPasswordModalVis,\n      transparent: true,\n      children: _jsx(SettingsPasswordModal, {\n        setsettingsPasswordModalVis: setsettingsPasswordModalVis,\n        navigation: navigation\n      })\n    }), _jsx(Modal, {\n      visible: discountModal,\n      transparent: true,\n      children: _jsx(DiscountModal, {\n        setdiscountModal: setdiscountModal,\n        cartSub: cartSub,\n        cart: cart,\n        deliveryChecked: deliveryChecked,\n        storeDetails: storeDetails\n      })\n    })]\n  });\n};\nexport default CartScreen;\nvar styles = StyleSheet.create({\n  container: {\n    height: \"100%\",\n    width: \"30%\",\n    padding: 20,\n    backgroundColor: \"rgba(31,35,48,1)\",\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    borderTopLeftRadius: 2,\n    borderBottomLeftRadius: 2,\n    shadowColor: \"rgba(0,0,0,1)\",\n    shadowOffset: {\n      width: -3,\n      height: 3\n    },\n    elevation: 30,\n    shadowOpacity: 0.92,\n    shadowRadius: 5\n  },\n  contentContainer: {\n    height: \"100%\",\n    justifyContent: \"space-between\",\n    width: \"100%\"\n  },\n  totalContainer: {\n    height: \"14%\",\n    paddingTop: 10\n  },\n  cartHeader: {\n    height: \"6%\",\n    justifyContent: \"space-between\",\n    width: \"100%\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginBottom: 20\n  },\n  iconContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"rgba(41,44,56,1)\",\n    borderRadius: 15,\n    width: 50,\n    height: 50,\n    margin: 10\n  },\n  cashButton: {\n    backgroundColor: \"rgba(51,81,243,1)\",\n    borderRadius: 30,\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    width: \"49.5%\",\n    height: 55,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  cardButton: {\n    backgroundColor: \"rgba(51,81,243,1)\",\n    borderRadius: 30,\n    borderTopRightRadius: 30,\n    borderBottomRightRadius: 30,\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    width: \"49.5%\",\n    height: 55,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  btnTxt: {\n    fontSize: 20,\n    color: \"white\"\n  },\n  totalTxt: {\n    fontSize: 16,\n    marginBottom: 5,\n    color: \"rgba(255,255,255,1)\",\n    fontWeight: \"600\"\n  },\n  totalTxtPrice: {\n    fontSize: 16,\n    marginBottom: 5,\n    color: \"rgba(255,255,255,1)\",\n    fontWeight: \"600\"\n  },\n  bigButton: {\n    backgroundColor: \"rgba(51,81,243,1)\",\n    borderRadius: 30,\n    width: \"98%\",\n    height: 55,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  innerTxt: {\n    fontSize: 13,\n    marginBottom: 10\n  },\n  headerTxt: {\n    fontSize: 15,\n    fontWeight: \"600\"\n  },\n  empty: {\n    fontFamily: \"archivo-600\",\n    color: \"rgba(255,255,255,1)\",\n    fontSize: 20,\n    opacity: 0.44,\n    marginTop: 20\n  },\n  fillTheCart: {\n    fontFamily: \"archivo-500\",\n    color: \"rgba(74,74,74,1)\",\n    fontSize: 20\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","cartState","setCartState","storeDetailState","setIsSignedInSettingsState","customersList","setCustomersList","myDeviceDetailsState","DeliveryScreen","CashScreen","ChangeScreen","MaterialCommunityIcons","Feather","SaveCustomer","auth","db","Entypo","Ionicons","useHistory","CompletePaymentPhoneOrder","SettingsPasswordModal","CartItemEditable","useWindowDimensions","ClockinModal","ReceiptPrint","DiscountModal","CartButton","props","notification","style","onPress","disabled","height","width","borderRadius","backgroundColor","position","top","right","justifyContent","alignItems","CartScreen","navigation","deliveryModal","setDeliveryModal","cashModal","setCashModal","changeModal","setChangeModal","ongoingDelivery","setOngoingDelivery","name","setName","phone","setPhone","address","setAddress","deliveryChecked","setDeliveryChecked","changeDue","setChangeDue","cart","use","storeDetails","cartSub","setCartSub","saveCustomerModal","setSaveCustomerModal","savedCustomerDetails","setsavedCustomerDetails","ongoingOrderListModal","setongoingOrderListModal","settingsPasswordModalVis","setsettingsPasswordModalVis","history","updatingOrder","setupdatingOrder","ongoingListState","setongoingListState","customers","myDeviceDetails","clockinModal","setclockinModal","discountModal","setdiscountModal","parseDate","input","Object","prototype","toString","call","isNaN","getTime","dateObject","Date","unsub","collection","doc","currentUser","uid","onSnapshot","snapshot","list","forEach","push","data","id","online","printed","printOnlineOrders","console","log","qz","require","websocket","connect","then","config","configs","create","printToPrinter","print","disconnect","catch","err","alert","update","sortedArray","sort","a","b","dateA","date","toDate","dateB","length","newVal","i","quantity","parseFloat","price","error","deliveryPrice","includes","discountItem","newCart","structuredClone","splice","percent","Print","method","dontAddToOngoing","orders","indexOfCustomer","findIndex","customer","newCustomers","transNum","Math","random","substr","today","element","add","total","sendPrintToUserID","useDifferentDeviceToPrint","value","printData","paymentMethod","DeliveryBtn","styles","bigButton","opacity","delete","btnTxt","flexDirection","alignSelf","marginBottom","cashButton","cardButton","container","cartHeader","fontFamily","color","fontSize","iconContainer","settingsPassword","localStorage","setItem","contentContainer","map","cartItem","index","local","empty","fillTheCart","paddingTop","toFixed","taxRate","order","StyleSheet","padding","borderTopRightRadius","borderBottomRightRadius","borderTopLeftRadius","borderBottomLeftRadius","shadowColor","shadowOffset","elevation","shadowOpacity","shadowRadius","totalContainer","margin","totalTxt","fontWeight","totalTxtPrice","innerTxt","headerTxt","marginTop"],"sources":["/Users/peterputros/Desktop/PosMate/screens/authed/CartScreen.tsx"],"sourcesContent":["import {\n  Modal,\n  ScrollView,\n  StyleSheet,\n  Text,\n  View,\n  TouchableOpacity,\n  Button,\n  Image,\n} from \"react-native\";\nimport React, { useEffect, useState } from \"react\";\nimport {\n  cartState,\n  setCartState,\n  storeDetailState,\n  setIsSignedInSettingsState,\n  customersList,\n  setCustomersList,\n  myDeviceDetailsState,\n} from \"state/state\";\nimport DeliveryScreen from \"components/DeliveryScreen\";\nimport CashScreen from \"components/CashScreen\";\nimport ChangeScreen from \"components/ChangeScreen\";\nimport MaterialCommunityIcons from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport Feather from \"@expo/vector-icons/Feather\";\nimport SaveCustomer from \"./SaveCustomer\";\nimport { auth, db } from \"state/firebaseConfig\";\nimport { MaterialIcons, Entypo, Ionicons } from \"@expo/vector-icons\";\nimport { useHistory } from \"react-router-dom\";\nimport CompletePaymentPhoneOrder from \"components/CompletePaymentPhoneOrder\";\nimport SettingsPasswordModal from \"components/SettingsPasswordModal\";\nimport CartItemEditable from \"components/CartItemEditable\";\nimport useWindowDimensions from \"components/useWindowDimensions\";\nimport ClockinModal from \"./ClockinModal\";\nimport ReceiptPrint from \"components/ReceiptPrint\";\nimport DiscountModal from \"components/DiscountModal\";\n\nconst CartButton = (props) => {\n  return (\n    <>\n      {props.notification ? (\n        <View>\n          <TouchableOpacity\n            style={props.style}\n            onPress={props.onPress}\n            disabled={props.disabled}\n          >\n            <props.icon />\n          </TouchableOpacity>\n          <View\n            style={{\n              height: 20,\n              width: 20,\n              borderRadius: 5,\n              backgroundColor: \"green\",\n              position: \"absolute\",\n              top: 0,\n              right: 0,\n              justifyContent: \"center\",\n              alignItems: \"center\",\n            }}\n          >\n            <Text>{props.notification}</Text>\n          </View>\n        </View>\n      ) : (\n        <TouchableOpacity\n          style={props.style}\n          onPress={props.onPress}\n          disabled={props.disabled}\n        >\n          <props.icon />\n        </TouchableOpacity>\n      )}\n    </>\n  );\n};\n\nconst CartScreen = ({ navigation }) => {\n  const [deliveryModal, setDeliveryModal] = useState(false);\n  const [cashModal, setCashModal] = useState(false);\n  const [changeModal, setChangeModal] = useState(false);\n  const [ongoingDelivery, setOngoingDelivery] = useState(null);\n  const [name, setName] = useState(null);\n  const [phone, setPhone] = useState(null);\n  const [address, setAddress] = useState(null);\n  const [deliveryChecked, setDeliveryChecked] = useState(false);\n  const [changeDue, setChangeDue] = useState(null);\n  const cart = cartState.use();\n  const storeDetails = storeDetailState.use();\n  const [cartSub, setCartSub] = useState(0);\n  const [saveCustomerModal, setSaveCustomerModal] = useState(false);\n  const [savedCustomerDetails, setsavedCustomerDetails] = useState(null);\n  const [ongoingOrderListModal, setongoingOrderListModal] = useState(false);\n  const [settingsPasswordModalVis, setsettingsPasswordModalVis] =\n    useState(false);\n  const history = useHistory();\n  const height = useWindowDimensions().height;\n  const [updatingOrder, setupdatingOrder] = useState(false);\n  const [ongoingListState, setongoingListState] = useState([]);\n  const customers = customersList.use();\n  const myDeviceDetails = myDeviceDetailsState.use();\n  const [clockinModal, setclockinModal] = useState(false);\n  const [discountModal, setdiscountModal] = useState(false);\n\n  function parseDate(input) {\n    // Check if the input is a Date object\n    if (Object.prototype.toString.call(input) === \"[object Date]\") {\n      if (!isNaN(input.getTime())) {\n        // It's a valid Date object, return it\n        return input;\n      }\n    }\n\n    // Check if the input is a string\n    if (typeof input === \"string\") {\n      const dateObject = new Date(input);\n\n      // Check if the dateObject is a valid Date\n      if (!isNaN(dateObject.getTime())) {\n        // It's a valid Date object, return it\n        return dateObject;\n      }\n    }\n  }\n\n  useEffect(() => {\n    const unsub = db\n      .collection(\"users\")\n      .doc(auth.currentUser?.uid)\n      .collection(\"pendingOrders\")\n      .onSnapshot((snapshot) => {\n        const list = [];\n        snapshot.forEach((doc) => {\n          list.push({ ...doc.data(), id: doc.id });\n          if (\n            doc.data().online &&\n            !doc.data().printed &&\n            myDeviceDetails.printOnlineOrders\n          ) {\n            console.log(\"Printing\");\n            const data = ReceiptPrint(doc.data(), storeDetails);\n            const qz = require(\"qz-tray\");\n            qz.websocket\n              .connect()\n              .then(function () {\n                const config = qz.configs.create(\n                  myDeviceDetails.printToPrinter\n                );\n                return qz.print(config, data.data);\n              })\n              .then(qz.websocket.disconnect)\n              .catch(function (err) {\n                // console.error(err);\n                alert(\n                  \"An error occured while trying to print. Try refreshing the page and trying again.\"\n                );\n              });\n            db.collection(\"users\")\n              .doc(auth.currentUser?.uid)\n              .collection(\"pendingOrders\")\n              .doc(doc.id)\n              .update({\n                printed: true,\n              });\n          }\n        });\n\n        const sortedArray = list.sort((a, b) => {\n          const dateA = a.online ? parseDate(a.date) : a.date.toDate();\n          const dateB = b.online ? parseDate(b.date) : b.date.toDate();\n\n          // Compare dates\n          return dateB - dateA;\n        });\n\n        setongoingListState(sortedArray);\n      });\n\n    return () => unsub();\n  }, []);\n\n  useEffect(() => {\n    // console.log(\"cart\", cart);\n    if (cart.length > 0) {\n      let newVal = 0;\n      for (let i = 0; i < cart.length; i++) {\n        try {\n          if (cart[i].quantity > 1) {\n            newVal += parseFloat(cart[i].price) * cart[i].quantity;\n            // console.log(\"Cart item quantity \", cart[i].quantity);\n          } else {\n            newVal += parseFloat(cart[i].price);\n          }\n        } catch (error) {\n          console.log(error);\n        }\n      }\n      if (deliveryChecked) {\n        setCartSub(newVal + parseFloat(storeDetails.deliveryPrice));\n      } else {\n        setCartSub(newVal);\n      }\n      //check if there is a discount in the cart then move it the end of the cart\n      if (cart.length > 1) {\n        for (let i = 0; i < cart.length; i++) {\n          if (cart[i].name.includes(\"Cart Discount\")) {\n            const discountItem = cart[i];\n            const newCart = structuredClone(cart);\n            newCart.splice(i, 1);\n\n            if (discountItem.percent) {\n              newCart.push({\n                \n              });\n            }\n\n            newCart.push(discountItem);\n            setCartState(newCart);\n          }\n        }\n      }\n    } else {\n      setCartSub(0);\n    }\n  }, [cart, deliveryChecked]);\n\n  // const AddToList = async (payload) => {\n  //   updateTransList(payload);\n  // };\n\n  const Print = (method, dontAddToOngoing) => {\n    if (!myDeviceDetails.id) {\n      return alert(\"Please set up a device in Settings -> Devices\");\n    }\n\n    if (savedCustomerDetails) {\n      if (savedCustomerDetails.orders?.length > 0) {\n        db.collection(\"users\")\n          .doc(auth.currentUser?.uid)\n          .collection(\"customers\")\n          .doc(savedCustomerDetails.id)\n          .update({\n            orders: [...savedCustomerDetails.orders, { cart }],\n          });\n        const indexOfCustomer = customers.findIndex(\n          (customer) => customer.id === savedCustomerDetails.id\n        );\n        const newCustomers = structuredClone(customers);\n        newCustomers[indexOfCustomer].orders.push({ cart });\n        setCustomersList(newCustomers);\n      } else {\n        db.collection(\"users\")\n          .doc(auth.currentUser?.uid)\n          .collection(\"customers\")\n          .doc(savedCustomerDetails.id)\n          .update({\n            orders: [{ cart }],\n          });\n        const indexOfCustomer = customers.findIndex(\n          (customer) => customer.id === savedCustomerDetails.id\n        );\n        const newCustomers = structuredClone(customers);\n        newCustomers[indexOfCustomer].orders = [{ cart }];\n        setCustomersList(newCustomers);\n      }\n    }\n\n    const transNum = Math.random().toString(36).substr(2, 9);\n\n    if (method === \"deliveryOrder\") {\n      const today = new Date();\n\n      const element = {\n        date: today,\n        transNum: transNum,\n        method: \"deliveryOrder\",\n        cart: cart,\n        customer: {\n          name: name,\n          phone: phone,\n          address: address,\n        },\n      };\n\n      const data = ReceiptPrint(element, storeDetails);\n\n      if (!dontAddToOngoing) {\n        console.log(\"Adding to pending orders\");\n        db.collection(\"users\")\n          .doc(auth.currentUser?.uid)\n          .collection(\"pendingOrders\")\n          .add({\n            date: today,\n            transNum: transNum,\n            method: \"deliveryOrder\",\n            cart: cart,\n            total: data.total,\n            customer: {\n              name: name,\n              phone: phone,\n              address: address ? address : null,\n            },\n          });\n      }\n\n      if (\n        myDeviceDetails.sendPrintToUserID &&\n        myDeviceDetails.useDifferentDeviceToPrint\n      ) {\n        console.log(\"Sending print to different user\");\n        db.collection(\"users\")\n          .doc(auth.currentUser?.uid)\n          .collection(\"devices\")\n          .doc(myDeviceDetails.sendPrintToUserID.value)\n          .collection(\"printRequests\")\n          .add({\n            printData: data.data,\n          });\n      } else {\n        const qz = require(\"qz-tray\");\n        qz.websocket\n          .connect()\n          .then(function () {\n            const config = qz.configs.create(myDeviceDetails.printToPrinter);\n            return qz.print(config, data.data);\n          })\n          .then(qz.websocket.disconnect)\n          .catch(function (err) {\n            // console.error(err);\n            alert(\n              \"An error occured while trying to print. Try refreshing the page and trying again.\"\n            );\n          });\n      }\n\n      setCartState([]);\n      setDeliveryModal(false);\n    } else if (method === \"pickupOrder\") {\n      const today = new Date();\n\n      const element = {\n        date: today,\n        transNum: transNum,\n        method: \"pickupOrder\",\n        cart: cart,\n        customer: {\n          name: name,\n          phone: phone,\n          // address: address,\n        },\n      };\n\n      const data = ReceiptPrint(element, storeDetails);\n\n      if (!dontAddToOngoing) {\n        console.log(\"Adding to pending orders\");\n        db.collection(\"users\")\n          .doc(auth.currentUser?.uid)\n          .collection(\"pendingOrders\")\n          .add({\n            date: today,\n            transNum: transNum,\n            method: \"pickupOrder\",\n            cart: cart,\n            total: data.total,\n            customer: {\n              name: name,\n              phone: phone,\n              address: address ? address : \"null\",\n            },\n          });\n      }\n\n      if (\n        myDeviceDetails.sendPrintToUserID &&\n        myDeviceDetails.useDifferentDeviceToPrint\n      ) {\n        console.log(\"Sending print to different user\");\n        db.collection(\"users\")\n          .doc(auth.currentUser?.uid)\n          .collection(\"devices\")\n          .doc(myDeviceDetails.sendPrintToUserID.value)\n          .collection(\"printRequests\")\n          .add({\n            printData: data.data,\n          });\n      } else {\n        const qz = require(\"qz-tray\");\n        qz.websocket\n          .connect()\n          .then(function () {\n            const config = qz.configs.create(myDeviceDetails.printToPrinter);\n            return qz.print(config, data.data);\n          })\n          .then(qz.websocket.disconnect)\n          .catch(function (err) {\n            // console.error(err);\n            alert(\n              \"An error occured while trying to print. Try refreshing the page and trying again.\"\n            );\n          });\n      }\n\n      setCartState([]);\n      setDeliveryModal(false);\n      setName(null);\n      setPhone(null);\n      setAddress(null);\n      setDeliveryChecked(false);\n    } else {\n      const today = new Date();\n      const element = {\n        date: today,\n        transNum: transNum,\n        method: \"inStoreOrder\",\n        cart: cart,\n        customer: {\n          name: name,\n          phone: phone,\n          address: address,\n        },\n        changeDue: changeDue,\n        paymentMethod: method,\n      };\n\n      const data = ReceiptPrint(element, storeDetails);\n\n      db.collection(\"users\")\n        .doc(auth.currentUser?.uid)\n        .collection(\"pendingOrders\")\n        .add({\n          date: today,\n          transNum: transNum,\n          total: data.total,\n          method: \"inStoreOrder\",\n          paymentMethod: method,\n          cart: cart,\n        });\n      if (\n        myDeviceDetails.sendPrintToUserID &&\n        myDeviceDetails.useDifferentDeviceToPrint\n      ) {\n        console.log(\"Sending print to different user\");\n        db.collection(\"users\")\n          .doc(auth.currentUser?.uid)\n          .collection(\"devices\")\n          .doc(myDeviceDetails.sendPrintToUserID.value)\n          .collection(\"printRequests\")\n          .add({\n            printData: data.data,\n          });\n      } else {\n        const qz = require(\"qz-tray\");\n        qz.websocket\n          .connect()\n          .then(function () {\n            const config = qz.configs.create(myDeviceDetails.printToPrinter);\n            return qz.print(config, data.data);\n          })\n          .then(qz.websocket.disconnect)\n          .catch(function (err) {\n            // console.error(err);\n            alert(\n              \"An error occured while trying to print. Try refreshing the page and trying again.\"\n            );\n          });\n      }\n    }\n\n    setCartState([]);\n    setName(null);\n    setPhone(null);\n    setAddress(null);\n    setDeliveryChecked(false);\n    setChangeDue(null);\n  };\n\n  const DeliveryBtn = () => {\n    if (updatingOrder) {\n      return (\n        <TouchableOpacity\n          style={[styles.bigButton, cartSub === 0 && { opacity: 0.5 }]}\n          disabled={cart.length < 1}\n          onPress={() => {\n            // const oldList = structuredClone(\n            //   JSON.parse(localStorage.getItem(\"ongoingList\"))\n            // );\n            // oldList[updatingOrder.index].cart = cart;\n            // setongoingListState(oldList);\n            db.collection(\"users\")\n              .doc(auth.currentUser?.uid)\n              .collection(\"pendingOrders\")\n              .doc(updatingOrder.id)\n              .delete();\n\n            Print(deliveryChecked ? \"deliveryOrder\" : \"pickupOrder\", false);\n            setOngoingDelivery(null);\n            setName(null);\n            setPhone(null);\n            setAddress(null);\n            setDeliveryChecked(false);\n            setupdatingOrder(false);\n          }}\n        >\n          <Text style={styles.btnTxt}>Update Order</Text>\n        </TouchableOpacity>\n      );\n    }\n\n    if (ongoingDelivery === null) {\n      return (\n        <View\n          style={{\n            flexDirection: \"row\",\n            width: \"100%\",\n            alignSelf: \"center\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            marginBottom: 10,\n          }}\n        >\n          <TouchableOpacity\n            style={[styles.cashButton, cartSub === 0 && { opacity: 0.5 }]}\n            onPress={() => setCashModal(true)}\n            disabled={cart.length < 1 || ongoingDelivery}\n          >\n            <Text style={styles.btnTxt}>Cash</Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={[styles.cardButton, cartSub === 0 && { opacity: 0.5 }]}\n            onPress={() => {\n              Print(\"Card\");\n            }}\n            disabled={cart.length < 1 || ongoingDelivery}\n          >\n            <Text style={styles.btnTxt}>Card</Text>\n          </TouchableOpacity>\n        </View>\n      );\n    }\n    if (ongoingDelivery && cart.length > 0) {\n      return (\n        <TouchableOpacity\n          style={styles.bigButton}\n          onPress={() => {\n            Print(deliveryChecked ? \"deliveryOrder\" : \"pickupOrder\", false);\n            setOngoingDelivery(null);\n            setName(null);\n            setPhone(null);\n            setAddress(null);\n          }}\n        >\n          <Text style={styles.btnTxt}>Complete</Text>\n        </TouchableOpacity>\n      );\n    } else {\n      return (\n        <TouchableOpacity\n          style={styles.bigButton}\n          onPress={() => {\n            setOngoingDelivery(null);\n            setDeliveryChecked(false);\n            setName(null);\n            setPhone(null);\n            setAddress(null);\n            setChangeDue(null);\n          }}\n        >\n          <Text style={styles.btnTxt}>Cancel</Text>\n        </TouchableOpacity>\n      );\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.cartHeader}>\n        <Text\n          style={{\n            fontFamily: \"archivo-600\",\n            color: \"rgba(255,255,255,1)\",\n            fontSize: 25,\n          }}\n        >\n          Order\n        </Text>\n        <View\n          style={{\n            flexDirection: \"row\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n          }}\n        >\n          <CartButton\n            style={[\n              styles.iconContainer,\n              (cart.length < 1 || updatingOrder) && { opacity: 0.5 },\n            ]}\n            onPress={() => setdiscountModal(true)}\n            disabled={cart.length < 1}\n            icon={() => (\n              <Image\n                style={{ width: 26, height: 26 }}\n                source={require(\"assets/tag.png\")}\n              />\n            )}\n          />\n          <CartButton\n            style={[\n              styles.iconContainer,\n              (cart.length > 0 || updatingOrder) && { opacity: 0.5 },\n            ]}\n            onPress={() => setclockinModal(true)}\n            disabled={cart.length > 0 || updatingOrder}\n            icon={() => (\n              <MaterialCommunityIcons name=\"clock\" size={26} color=\"white\" />\n            )}\n          />\n          {/* <CartButton\n            style={[\n              styles.iconContainer,\n              (cart.length > 0 || updatingOrder) && { opacity: 0.5 },\n            ]}\n            onPress={() => setSaveCustomerModal(true)}\n            disabled={cart.length > 0 || updatingOrder}\n            icon={() => (\n              <MaterialCommunityIcons name=\"history\" size={26} color=\"white\" />\n            )}\n          /> */}\n          <CartButton\n            style={[\n              styles.iconContainer,\n              (cart.length > 0 || updatingOrder) && { opacity: 0.5 },\n            ]}\n            disabled={cart.length > 0 || updatingOrder}\n            onPress={() => setongoingOrderListModal(true)}\n            icon={() => (\n              <Ionicons name=\"chevron-down\" size={28} color=\"white\" />\n            )}\n            notification={ongoingListState.length}\n          />\n          <CartButton\n            style={[\n              styles.iconContainer,\n              cart.length > 0 && !ongoingDelivery && { opacity: 0.5 },\n            ]}\n            onPress={() => setDeliveryModal(true)}\n            disabled={cart.length > 0 && !ongoingDelivery}\n            icon={() => <Feather name=\"phone-call\" size={28} color=\"white\" />}\n          />\n          {updatingOrder ? (\n            <CartButton\n              style={[styles.iconContainer]}\n              onPress={() => {\n                setCartState([]);\n                setName(null);\n                setPhone(null);\n                setAddress(null);\n                setDeliveryChecked(false);\n                setOngoingDelivery(null);\n                setongoingOrderListModal(false);\n                setupdatingOrder(false);\n              }}\n              icon={() => <Entypo name=\"cross\" size={28} color=\"white\" />}\n            />\n          ) : (\n            <CartButton\n              disabled={ongoingDelivery}\n              style={[\n                styles.iconContainer,\n                cart.length > 0 && { opacity: 0.5 },\n              ]}\n              onPress={() => {\n                if (storeDetails.settingsPassword) {\n                  setsettingsPasswordModalVis(true);\n                } else {\n                  setIsSignedInSettingsState(true);\n                  history.push(\"/authed/dashboard\");\n                  localStorage.setItem(\"isAuthedBackend\", true);\n                }\n              }}\n              icon={() => <Entypo name=\"cog\" size={28} color=\"white\" />}\n            />\n          )}\n        </View>\n      </View>\n      <ScrollView\n        contentContainerStyle={styles.contentContainer}\n        style={{ marginBottom: 10 }}\n      >\n        <View>\n          {cart.length > 0 ? (\n            cart.map((cartItem, index) => (\n              <CartItemEditable\n                key={index}\n                cartItem={cartItem}\n                index={index}\n                removeAction={() => {\n                  console.log(\"Removing\");\n                  const local = structuredClone(cart);\n                  local.splice(index, 1);\n                  setCartState(local);\n                }}\n                decreaseAction={() => {\n                  const local = structuredClone(cart);\n                  local[index].quantity--;\n                  setCartState(local);\n                }}\n                increaseAction={() => {\n                  const local = structuredClone(cart);\n                  if (local[index].quantity) {\n                    local[index].quantity++;\n                  } else {\n                    local[index].quantity = 2;\n                  }\n                  setCartState(local);\n                }}\n              />\n            ))\n          ) : (\n            <View\n              style={{\n                height: height * 0.7,\n                width: \"100%\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n              }}\n            >\n              <Text style={styles.empty}>Empty...</Text>\n              <Text style={styles.fillTheCart}>Fill the Cart!</Text>\n            </View>\n          )}\n        </View>\n      </ScrollView>\n      <View\n        style={{\n          justifyContent: \"space-around\",\n          alignItems: \"center\",\n          width: \"90%\",\n          alignSelf: \"center\",\n        }}\n      >\n        {deliveryChecked && parseFloat(storeDetails.deliveryPrice) && (\n          <View\n            style={{\n              alignSelf: \"stretch\",\n              flexDirection: \"row\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n              marginBottom: 2,\n              paddingTop: 5,\n            }}\n          >\n            <Text\n              style={{\n                fontFamily: \"archivo-600\",\n                color: \"rgba(74,74,74,1)\",\n                fontSize: 16,\n                alignSelf: \"flex-start\",\n              }}\n            >\n              Delivery\n            </Text>\n            <Text\n              style={[\n                {\n                  fontFamily: \"archivo-600\",\n                  color: \"rgba(255,255,255,1)\",\n                  fontSize: 20,\n                  alignSelf: \"flex-start\",\n                },\n                cartSub === 0 && { opacity: 0.5 },\n              ]}\n            >\n              ${parseFloat(storeDetails.deliveryPrice).toFixed(2)}\n            </Text>\n          </View>\n        )}\n        <View\n          style={{\n            alignSelf: \"stretch\",\n            flexDirection: \"row\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            marginBottom: 2,\n          }}\n        >\n          <Text\n            style={{\n              fontFamily: \"archivo-600\",\n              color: \"rgba(74,74,74,1)\",\n              fontSize: 16,\n              alignSelf: \"flex-start\",\n            }}\n          >\n            Sub Total\n          </Text>\n          <Text\n            style={[\n              {\n                fontFamily: \"archivo-600\",\n                color: \"rgba(255,255,255,1)\",\n                fontSize: 20,\n                alignSelf: \"flex-start\",\n              },\n              cartSub === 0 && { opacity: 0.5 },\n            ]}\n          >\n            ${cartSub.toFixed(2)}\n          </Text>\n        </View>\n        <View\n          style={{\n            alignSelf: \"stretch\",\n            flexDirection: \"row\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            marginBottom: 2,\n          }}\n        >\n          <Text\n            style={{\n              fontFamily: \"archivo-600\",\n              color: \"rgba(74,74,74,1)\",\n              fontSize: 16,\n              alignSelf: \"flex-start\",\n            }}\n          >\n            Tax\n          </Text>\n          <Text\n            style={[\n              {\n                fontFamily: \"archivo-600\",\n                color: \"rgba(255,255,255,1)\",\n                fontSize: 20,\n                alignSelf: \"flex-start\",\n              },\n              cartSub === 0 && { opacity: 0.5 },\n            ]}\n          >\n            $\n            {(\n              cartSub *\n              (storeDetails.taxRate ? storeDetails.taxRate / 100 : 0.13)\n            ).toFixed(2)}\n          </Text>\n        </View>\n        <View\n          style={{\n            alignSelf: \"stretch\",\n            flexDirection: \"row\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            marginBottom: 10,\n          }}\n        >\n          <Text\n            style={{\n              fontFamily: \"archivo-600\",\n              color: \"rgba(74,74,74,1)\",\n              fontSize: 16,\n              alignSelf: \"flex-start\",\n            }}\n          >\n            Total\n          </Text>\n          <Text\n            style={[\n              {\n                fontFamily: \"archivo-600\",\n                color: \"rgba(255,255,255,1)\",\n                fontSize: 20,\n                alignSelf: \"flex-start\",\n              },\n              cartSub === 0 && { opacity: 0.5 },\n            ]}\n          >\n            ${(cartSub * 1.13).toFixed(2)}\n          </Text>\n        </View>\n        <DeliveryBtn />\n      </View>\n      <Modal visible={clockinModal} transparent={true}>\n        <ClockinModal setclockinModal={setclockinModal} />\n      </Modal>\n      <Modal visible={saveCustomerModal} transparent={true}>\n        <SaveCustomer\n          setSaveCustomerModal={setSaveCustomerModal}\n          setOngoingDelivery={setOngoingDelivery}\n          setNameForDelivery={setName}\n          setPhoneForDelivery={setPhone}\n          setAddressForDelivery={setAddress}\n          setDeliveryChecked={setDeliveryChecked}\n          setsavedCustomerDetails={setsavedCustomerDetails}\n        />\n      </Modal>\n      <Modal visible={deliveryModal} transparent={true}>\n        <DeliveryScreen\n          setsavedCustomerDetails={setsavedCustomerDetails}\n          setDeliveryModal={setDeliveryModal}\n          setOngoingDelivery={setOngoingDelivery}\n          setName={setName}\n          setPhone={setPhone}\n          setAddress={setAddress}\n          name={name}\n          phone={phone}\n          address={address}\n          deliveryChecked={deliveryChecked}\n          setDeliveryChecked={setDeliveryChecked}\n          ongoingDelivery={ongoingDelivery}\n        />\n      </Modal>\n      <Modal visible={cashModal} transparent>\n        <CashScreen\n          setCashModal={setCashModal}\n          GetTrans={() => Print(\"Cash\")}\n          total={(cartSub * 1.13).toFixed(2)}\n          setChangeDue={setChangeDue}\n        />\n      </Modal>\n      <Modal visible={changeModal}>\n        <ChangeScreen setChangeModal={setChangeModal} />\n      </Modal>\n      <Modal visible={ongoingOrderListModal} transparent={true}>\n        <CompletePaymentPhoneOrder\n          setongoingOrderListModal={setongoingOrderListModal}\n          updateOrderHandler={(order) => {\n            setCartState(order.cart);\n            setName(order.customer.name);\n            setPhone(order.customer.phone);\n            setAddress(order.customer.address);\n            setDeliveryChecked(order.method === \"deliveryOrder\");\n            setOngoingDelivery(true);\n            setongoingOrderListModal(false);\n            setupdatingOrder(order);\n          }}\n          ongoingListState={ongoingListState}\n          setongoingListState={setongoingListState}\n        />\n      </Modal>\n      <Modal visible={settingsPasswordModalVis} transparent={true}>\n        <SettingsPasswordModal\n          setsettingsPasswordModalVis={setsettingsPasswordModalVis}\n          navigation={navigation}\n        />\n      </Modal>\n      <Modal visible={discountModal} transparent={true}>\n        <DiscountModal\n          setdiscountModal={setdiscountModal}\n          cartSub={cartSub}\n          cart={cart}\n          deliveryChecked={deliveryChecked}\n          storeDetails={storeDetails}\n        />\n      </Modal>\n    </View>\n  );\n};\n\nexport default CartScreen;\n\nconst styles = StyleSheet.create({\n  container: {\n    height: \"100%\",\n    width: \"30%\",\n    padding: 20,\n    backgroundColor: \"rgba(31,35,48,1)\",\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    borderTopLeftRadius: 2,\n    borderBottomLeftRadius: 2,\n    shadowColor: \"rgba(0,0,0,1)\",\n    shadowOffset: {\n      width: -3,\n      height: 3,\n    },\n    elevation: 30,\n    shadowOpacity: 0.92,\n    shadowRadius: 5,\n  },\n  contentContainer: {\n    height: \"100%\",\n    justifyContent: \"space-between\",\n    width: \"100%\",\n  },\n  totalContainer: {\n    height: \"14%\",\n    paddingTop: 10,\n  },\n  cartHeader: {\n    height: \"6%\",\n    justifyContent: \"space-between\",\n    width: \"100%\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginBottom: 20,\n  },\n  iconContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"rgba(41,44,56,1)\",\n    borderRadius: 15,\n    width: 50,\n    height: 50,\n    margin: 10,\n  },\n  cashButton: {\n    backgroundColor: \"rgba(51,81,243,1)\",\n    borderRadius: 30,\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    width: \"49.5%\",\n    height: 55,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  cardButton: {\n    backgroundColor: \"rgba(51,81,243,1)\",\n    borderRadius: 30,\n    borderTopRightRadius: 30,\n    borderBottomRightRadius: 30,\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    width: \"49.5%\",\n    height: 55,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  btnTxt: {\n    fontSize: 20,\n    color: \"white\",\n  },\n  totalTxt: {\n    fontSize: 16,\n    marginBottom: 5,\n    color: \"rgba(255,255,255,1)\",\n    fontWeight: \"600\",\n  },\n  totalTxtPrice: {\n    fontSize: 16,\n    marginBottom: 5,\n    color: \"rgba(255,255,255,1)\",\n    fontWeight: \"600\",\n  },\n  bigButton: {\n    backgroundColor: \"rgba(51,81,243,1)\",\n    borderRadius: 30,\n    width: \"98%\",\n    height: 55,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  innerTxt: {\n    fontSize: 13,\n    marginBottom: 10,\n  },\n  headerTxt: {\n    fontSize: 15,\n    fontWeight: \"600\",\n  },\n  empty: {\n    fontFamily: \"archivo-600\",\n    color: \"rgba(255,255,255,1)\",\n    fontSize: 20,\n    opacity: 0.44,\n    marginTop: 20,\n  },\n  fillTheCart: {\n    fontFamily: \"archivo-500\",\n    color: \"rgba(74,74,74,1)\",\n    fontSize: 20,\n  },\n});\n"],"mappings":";;;;;;;;;;;;AAUA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SACEC,SAAS,EACTC,YAAY,EACZC,gBAAgB,EAChBC,0BAA0B,EAC1BC,aAAa,EACbC,gBAAgB,EAChBC,oBAAoB;AAEtB,OAAOC,cAAc;AACrB,OAAOC,UAAU;AACjB,OAAOC,YAAY;AACnB,OAAOC,sBAAsB,MAAM,2CAA2C;AAC9E,OAAOC,OAAO,MAAM,4BAA4B;AAChD,OAAOC,YAAY;AACnB,SAASC,IAAI,EAAEC,EAAE;AACjB,SAAwBC,MAAM,EAAEC,QAAQ,QAAQ,oBAAoB;AACpE,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,OAAOC,yBAAyB;AAChC,OAAOC,qBAAqB;AAC5B,OAAOC,gBAAgB;AACvB,OAAOC,mBAAmB;AAC1B,OAAOC,YAAY;AACnB,OAAOC,YAAY;AACnB,OAAOC,aAAa;AAAiC;AAAA;AAAA;AAErD,IAAMC,UAAU,GAAG,SAAbA,UAAU,CAAIC,KAAK,EAAK;EAC5B,OACE;IAAA,UACGA,KAAK,CAACC,YAAY,GACjB,MAAC,IAAI;MAAA,WACH,KAAC,gBAAgB;QACf,KAAK,EAAED,KAAK,CAACE,KAAM;QACnB,OAAO,EAAEF,KAAK,CAACG,OAAQ;QACvB,QAAQ,EAAEH,KAAK,CAACI,QAAS;QAAA,UAEzB,KAAC,KAAK,CAAC,IAAI;MAAG,EACG,EACnB,KAAC,IAAI;QACH,KAAK,EAAE;UACLC,MAAM,EAAE,EAAE;UACVC,KAAK,EAAE,EAAE;UACTC,YAAY,EAAE,CAAC;UACfC,eAAe,EAAE,OAAO;UACxBC,QAAQ,EAAE,UAAU;UACpBC,GAAG,EAAE,CAAC;UACNC,KAAK,EAAE,CAAC;UACRC,cAAc,EAAE,QAAQ;UACxBC,UAAU,EAAE;QACd,CAAE;QAAA,UAEF,KAAC,IAAI;UAAA,UAAEb,KAAK,CAACC;QAAY;MAAQ,EAC5B;IAAA,EACF,GAEP,KAAC,gBAAgB;MACf,KAAK,EAAED,KAAK,CAACE,KAAM;MACnB,OAAO,EAAEF,KAAK,CAACG,OAAQ;MACvB,QAAQ,EAAEH,KAAK,CAACI,QAAS;MAAA,UAEzB,KAAC,KAAK,CAAC,IAAI;IAAG;EAEjB,EACA;AAEP,CAAC;AAED,IAAMU,UAAU,GAAG,SAAbA,UAAU,OAAuB;EAAA,IAAjBC,UAAU,QAAVA,UAAU;EAC9B,gBAA0C1C,QAAQ,CAAC,KAAK,CAAC;IAAA;IAAlD2C,aAAa;IAAEC,gBAAgB;EACtC,iBAAkC5C,QAAQ,CAAC,KAAK,CAAC;IAAA;IAA1C6C,SAAS;IAAEC,YAAY;EAC9B,iBAAsC9C,QAAQ,CAAC,KAAK,CAAC;IAAA;IAA9C+C,WAAW;IAAEC,cAAc;EAClC,iBAA8ChD,QAAQ,CAAC,IAAI,CAAC;IAAA;IAArDiD,eAAe;IAAEC,kBAAkB;EAC1C,iBAAwBlD,QAAQ,CAAC,IAAI,CAAC;IAAA;IAA/BmD,IAAI;IAAEC,OAAO;EACpB,kBAA0BpD,QAAQ,CAAC,IAAI,CAAC;IAAA;IAAjCqD,KAAK;IAAEC,QAAQ;EACtB,kBAA8BtD,QAAQ,CAAC,IAAI,CAAC;IAAA;IAArCuD,OAAO;IAAEC,UAAU;EAC1B,kBAA8CxD,QAAQ,CAAC,KAAK,CAAC;IAAA;IAAtDyD,eAAe;IAAEC,kBAAkB;EAC1C,kBAAkC1D,QAAQ,CAAC,IAAI,CAAC;IAAA;IAAzC2D,SAAS;IAAEC,YAAY;EAC9B,IAAMC,IAAI,GAAG5D,SAAS,CAAC6D,GAAG,EAAE;EAC5B,IAAMC,YAAY,GAAG5D,gBAAgB,CAAC2D,GAAG,EAAE;EAC3C,kBAA8B9D,QAAQ,CAAC,CAAC,CAAC;IAAA;IAAlCgE,OAAO;IAAEC,UAAU;EAC1B,kBAAkDjE,QAAQ,CAAC,KAAK,CAAC;IAAA;IAA1DkE,iBAAiB;IAAEC,oBAAoB;EAC9C,kBAAwDnE,QAAQ,CAAC,IAAI,CAAC;IAAA;IAA/DoE,oBAAoB;IAAEC,uBAAuB;EACpD,kBAA0DrE,QAAQ,CAAC,KAAK,CAAC;IAAA;IAAlEsE,qBAAqB;IAAEC,wBAAwB;EACtD,kBACEvE,QAAQ,CAAC,KAAK,CAAC;IAAA;IADVwE,wBAAwB;IAAEC,2BAA2B;EAE5D,IAAMC,OAAO,GAAGxD,UAAU,EAAE;EAC5B,IAAMc,MAAM,GAAGV,mBAAmB,EAAE,CAACU,MAAM;EAC3C,kBAA0ChC,QAAQ,CAAC,KAAK,CAAC;IAAA;IAAlD2E,aAAa;IAAEC,gBAAgB;EACtC,kBAAgD5E,QAAQ,CAAC,EAAE,CAAC;IAAA;IAArD6E,gBAAgB;IAAEC,mBAAmB;EAC5C,IAAMC,SAAS,GAAG1E,aAAa,CAACyD,GAAG,EAAE;EACrC,IAAMkB,eAAe,GAAGzE,oBAAoB,CAACuD,GAAG,EAAE;EAClD,kBAAwC9D,QAAQ,CAAC,KAAK,CAAC;IAAA;IAAhDiF,YAAY;IAAEC,eAAe;EACpC,kBAA0ClF,QAAQ,CAAC,KAAK,CAAC;IAAA;IAAlDmF,aAAa;IAAEC,gBAAgB;EAEtC,SAASC,SAAS,CAACC,KAAK,EAAE;IAExB,IAAIC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAACC,IAAI,CAACJ,KAAK,CAAC,KAAK,eAAe,EAAE;MAC7D,IAAI,CAACK,KAAK,CAACL,KAAK,CAACM,OAAO,EAAE,CAAC,EAAE;QAE3B,OAAON,KAAK;MACd;IACF;;IAGA,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;MAC7B,IAAMO,UAAU,GAAG,IAAIC,IAAI,CAACR,KAAK,CAAC;;MAGlC,IAAI,CAACK,KAAK,CAACE,UAAU,CAACD,OAAO,EAAE,CAAC,EAAE;QAEhC,OAAOC,UAAU;MACnB;IACF;EACF;EAEA9F,SAAS,CAAC,YAAM;IAAA;IACd,IAAMgG,KAAK,GAAGhF,EAAE,CACbiF,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,sBAACnF,IAAI,CAACoF,WAAW,qBAAhB,kBAAkBC,GAAG,CAAC,CAC1BH,UAAU,CAAC,eAAe,CAAC,CAC3BI,UAAU,CAAC,UAACC,QAAQ,EAAK;MACxB,IAAMC,IAAI,GAAG,EAAE;MACfD,QAAQ,CAACE,OAAO,CAAC,UAACN,GAAG,EAAK;QACxBK,IAAI,CAACE,IAAI,iCAAMP,GAAG,CAACQ,IAAI,EAAE;UAAEC,EAAE,EAAET,GAAG,CAACS;QAAE,GAAG;QACxC,IACET,GAAG,CAACQ,IAAI,EAAE,CAACE,MAAM,IACjB,CAACV,GAAG,CAACQ,IAAI,EAAE,CAACG,OAAO,IACnB5B,eAAe,CAAC6B,iBAAiB,EACjC;UAAA;UACAC,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;UACvB,IAAMN,IAAI,GAAGjF,YAAY,CAACyE,GAAG,CAACQ,IAAI,EAAE,EAAE1C,YAAY,CAAC;UACnD,IAAMiD,EAAE,GAAGC,OAAO,CAAC,SAAS,CAAC;UAC7BD,EAAE,CAACE,SAAS,CACTC,OAAO,EAAE,CACTC,IAAI,CAAC,YAAY;YAChB,IAAMC,MAAM,GAAGL,EAAE,CAACM,OAAO,CAACC,MAAM,CAC9BvC,eAAe,CAACwC,cAAc,CAC/B;YACD,OAAOR,EAAE,CAACS,KAAK,CAACJ,MAAM,EAAEZ,IAAI,CAACA,IAAI,CAAC;UACpC,CAAC,CAAC,CACDW,IAAI,CAACJ,EAAE,CAACE,SAAS,CAACQ,UAAU,CAAC,CAC7BC,KAAK,CAAC,UAAUC,GAAG,EAAE;YAEpBC,KAAK,CACH,mFAAmF,CACpF;UACH,CAAC,CAAC;UACJ9G,EAAE,CAACiF,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,uBAACnF,IAAI,CAACoF,WAAW,qBAAhB,mBAAkBC,GAAG,CAAC,CAC1BH,UAAU,CAAC,eAAe,CAAC,CAC3BC,GAAG,CAACA,GAAG,CAACS,EAAE,CAAC,CACXoB,MAAM,CAAC;YACNlB,OAAO,EAAE;UACX,CAAC,CAAC;QACN;MACF,CAAC,CAAC;MAEF,IAAMmB,WAAW,GAAGzB,IAAI,CAAC0B,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC,EAAK;QACtC,IAAMC,KAAK,GAAGF,CAAC,CAACtB,MAAM,GAAGtB,SAAS,CAAC4C,CAAC,CAACG,IAAI,CAAC,GAAGH,CAAC,CAACG,IAAI,CAACC,MAAM,EAAE;QAC5D,IAAMC,KAAK,GAAGJ,CAAC,CAACvB,MAAM,GAAGtB,SAAS,CAAC6C,CAAC,CAACE,IAAI,CAAC,GAAGF,CAAC,CAACE,IAAI,CAACC,MAAM,EAAE;;QAG5D,OAAOC,KAAK,GAAGH,KAAK;MACtB,CAAC,CAAC;MAEFrD,mBAAmB,CAACiD,WAAW,CAAC;IAClC,CAAC,CAAC;IAEJ,OAAO;MAAA,OAAMhC,KAAK,EAAE;IAAA;EACtB,CAAC,EAAE,EAAE,CAAC;EAENhG,SAAS,CAAC,YAAM;IAEd,IAAI8D,IAAI,CAAC0E,MAAM,GAAG,CAAC,EAAE;MACnB,IAAIC,MAAM,GAAG,CAAC;MACd,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG5E,IAAI,CAAC0E,MAAM,EAAEE,CAAC,EAAE,EAAE;QACpC,IAAI;UACF,IAAI5E,IAAI,CAAC4E,CAAC,CAAC,CAACC,QAAQ,GAAG,CAAC,EAAE;YACxBF,MAAM,IAAIG,UAAU,CAAC9E,IAAI,CAAC4E,CAAC,CAAC,CAACG,KAAK,CAAC,GAAG/E,IAAI,CAAC4E,CAAC,CAAC,CAACC,QAAQ;UAExD,CAAC,MAAM;YACLF,MAAM,IAAIG,UAAU,CAAC9E,IAAI,CAAC4E,CAAC,CAAC,CAACG,KAAK,CAAC;UACrC;QACF,CAAC,CAAC,OAAOC,KAAK,EAAE;UACd/B,OAAO,CAACC,GAAG,CAAC8B,KAAK,CAAC;QACpB;MACF;MACA,IAAIpF,eAAe,EAAE;QACnBQ,UAAU,CAACuE,MAAM,GAAGG,UAAU,CAAC5E,YAAY,CAAC+E,aAAa,CAAC,CAAC;MAC7D,CAAC,MAAM;QACL7E,UAAU,CAACuE,MAAM,CAAC;MACpB;MAEA,IAAI3E,IAAI,CAAC0E,MAAM,GAAG,CAAC,EAAE;QACnB,KAAK,IAAIE,EAAC,GAAG,CAAC,EAAEA,EAAC,GAAG5E,IAAI,CAAC0E,MAAM,EAAEE,EAAC,EAAE,EAAE;UACpC,IAAI5E,IAAI,CAAC4E,EAAC,CAAC,CAACtF,IAAI,CAAC4F,QAAQ,CAAC,eAAe,CAAC,EAAE;YAC1C,IAAMC,YAAY,GAAGnF,IAAI,CAAC4E,EAAC,CAAC;YAC5B,IAAMQ,OAAO,GAAGC,eAAe,CAACrF,IAAI,CAAC;YACrCoF,OAAO,CAACE,MAAM,CAACV,EAAC,EAAE,CAAC,CAAC;YAEpB,IAAIO,YAAY,CAACI,OAAO,EAAE;cACxBH,OAAO,CAACzC,IAAI,CAAC,CAEb,CAAC,CAAC;YACJ;YAEAyC,OAAO,CAACzC,IAAI,CAACwC,YAAY,CAAC;YAC1B9I,YAAY,CAAC+I,OAAO,CAAC;UACvB;QACF;MACF;IACF,CAAC,MAAM;MACLhF,UAAU,CAAC,CAAC,CAAC;IACf;EACF,CAAC,EAAE,CAACJ,IAAI,EAAEJ,eAAe,CAAC,CAAC;;EAM3B,IAAM4F,KAAK,GAAG,SAARA,KAAK,CAAIC,MAAM,EAAEC,gBAAgB,EAAK;IAC1C,IAAI,CAACvE,eAAe,CAAC0B,EAAE,EAAE;MACvB,OAAOmB,KAAK,CAAC,+CAA+C,CAAC;IAC/D;IAEA,IAAIzD,oBAAoB,EAAE;MAAA;MACxB,IAAI,0BAAAA,oBAAoB,CAACoF,MAAM,qBAA3B,sBAA6BjB,MAAM,IAAG,CAAC,EAAE;QAAA;QAC3CxH,EAAE,CAACiF,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,uBAACnF,IAAI,CAACoF,WAAW,qBAAhB,mBAAkBC,GAAG,CAAC,CAC1BH,UAAU,CAAC,WAAW,CAAC,CACvBC,GAAG,CAAC7B,oBAAoB,CAACsC,EAAE,CAAC,CAC5BoB,MAAM,CAAC;UACN0B,MAAM,+BAAMpF,oBAAoB,CAACoF,MAAM,IAAE;YAAE3F,IAAI,EAAJA;UAAK,CAAC;QACnD,CAAC,CAAC;QACJ,IAAM4F,eAAe,GAAG1E,SAAS,CAAC2E,SAAS,CACzC,UAACC,QAAQ;UAAA,OAAKA,QAAQ,CAACjD,EAAE,KAAKtC,oBAAoB,CAACsC,EAAE;QAAA,EACtD;QACD,IAAMkD,YAAY,GAAGV,eAAe,CAACnE,SAAS,CAAC;QAC/C6E,YAAY,CAACH,eAAe,CAAC,CAACD,MAAM,CAAChD,IAAI,CAAC;UAAE3C,IAAI,EAAJA;QAAK,CAAC,CAAC;QACnDvD,gBAAgB,CAACsJ,YAAY,CAAC;MAChC,CAAC,MAAM;QAAA;QACL7I,EAAE,CAACiF,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,uBAACnF,IAAI,CAACoF,WAAW,qBAAhB,mBAAkBC,GAAG,CAAC,CAC1BH,UAAU,CAAC,WAAW,CAAC,CACvBC,GAAG,CAAC7B,oBAAoB,CAACsC,EAAE,CAAC,CAC5BoB,MAAM,CAAC;UACN0B,MAAM,EAAE,CAAC;YAAE3F,IAAI,EAAJA;UAAK,CAAC;QACnB,CAAC,CAAC;QACJ,IAAM4F,gBAAe,GAAG1E,SAAS,CAAC2E,SAAS,CACzC,UAACC,QAAQ;UAAA,OAAKA,QAAQ,CAACjD,EAAE,KAAKtC,oBAAoB,CAACsC,EAAE;QAAA,EACtD;QACD,IAAMkD,aAAY,GAAGV,eAAe,CAACnE,SAAS,CAAC;QAC/C6E,aAAY,CAACH,gBAAe,CAAC,CAACD,MAAM,GAAG,CAAC;UAAE3F,IAAI,EAAJA;QAAK,CAAC,CAAC;QACjDvD,gBAAgB,CAACsJ,aAAY,CAAC;MAChC;IACF;IAEA,IAAMC,QAAQ,GAAGC,IAAI,CAACC,MAAM,EAAE,CAACtE,QAAQ,CAAC,EAAE,CAAC,CAACuE,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;IAExD,IAAIV,MAAM,KAAK,eAAe,EAAE;MAC9B,IAAMW,KAAK,GAAG,IAAInE,IAAI,EAAE;MAExB,IAAMoE,OAAO,GAAG;QACd9B,IAAI,EAAE6B,KAAK;QACXJ,QAAQ,EAAEA,QAAQ;QAClBP,MAAM,EAAE,eAAe;QACvBzF,IAAI,EAAEA,IAAI;QACV8F,QAAQ,EAAE;UACRxG,IAAI,EAAEA,IAAI;UACVE,KAAK,EAAEA,KAAK;UACZE,OAAO,EAAEA;QACX;MACF,CAAC;MAED,IAAMkD,IAAI,GAAGjF,YAAY,CAAC0I,OAAO,EAAEnG,YAAY,CAAC;MAEhD,IAAI,CAACwF,gBAAgB,EAAE;QAAA;QACrBzC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;QACvChG,EAAE,CAACiF,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,uBAACnF,IAAI,CAACoF,WAAW,qBAAhB,mBAAkBC,GAAG,CAAC,CAC1BH,UAAU,CAAC,eAAe,CAAC,CAC3BmE,GAAG,CAAC;UACH/B,IAAI,EAAE6B,KAAK;UACXJ,QAAQ,EAAEA,QAAQ;UAClBP,MAAM,EAAE,eAAe;UACvBzF,IAAI,EAAEA,IAAI;UACVuG,KAAK,EAAE3D,IAAI,CAAC2D,KAAK;UACjBT,QAAQ,EAAE;YACRxG,IAAI,EAAEA,IAAI;YACVE,KAAK,EAAEA,KAAK;YACZE,OAAO,EAAEA,OAAO,GAAGA,OAAO,GAAG;UAC/B;QACF,CAAC,CAAC;MACN;MAEA,IACEyB,eAAe,CAACqF,iBAAiB,IACjCrF,eAAe,CAACsF,yBAAyB,EACzC;QAAA;QACAxD,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;QAC9ChG,EAAE,CAACiF,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,uBAACnF,IAAI,CAACoF,WAAW,qBAAhB,mBAAkBC,GAAG,CAAC,CAC1BH,UAAU,CAAC,SAAS,CAAC,CACrBC,GAAG,CAACjB,eAAe,CAACqF,iBAAiB,CAACE,KAAK,CAAC,CAC5CvE,UAAU,CAAC,eAAe,CAAC,CAC3BmE,GAAG,CAAC;UACHK,SAAS,EAAE/D,IAAI,CAACA;QAClB,CAAC,CAAC;MACN,CAAC,MAAM;QACL,IAAMO,EAAE,GAAGC,OAAO,CAAC,SAAS,CAAC;QAC7BD,EAAE,CAACE,SAAS,CACTC,OAAO,EAAE,CACTC,IAAI,CAAC,YAAY;UAChB,IAAMC,MAAM,GAAGL,EAAE,CAACM,OAAO,CAACC,MAAM,CAACvC,eAAe,CAACwC,cAAc,CAAC;UAChE,OAAOR,EAAE,CAACS,KAAK,CAACJ,MAAM,EAAEZ,IAAI,CAACA,IAAI,CAAC;QACpC,CAAC,CAAC,CACDW,IAAI,CAACJ,EAAE,CAACE,SAAS,CAACQ,UAAU,CAAC,CAC7BC,KAAK,CAAC,UAAUC,GAAG,EAAE;UAEpBC,KAAK,CACH,mFAAmF,CACpF;QACH,CAAC,CAAC;MACN;MAEA3H,YAAY,CAAC,EAAE,CAAC;MAChB0C,gBAAgB,CAAC,KAAK,CAAC;IACzB,CAAC,MAAM,IAAI0G,MAAM,KAAK,aAAa,EAAE;MACnC,IAAMW,MAAK,GAAG,IAAInE,IAAI,EAAE;MAExB,IAAMoE,QAAO,GAAG;QACd9B,IAAI,EAAE6B,MAAK;QACXJ,QAAQ,EAAEA,QAAQ;QAClBP,MAAM,EAAE,aAAa;QACrBzF,IAAI,EAAEA,IAAI;QACV8F,QAAQ,EAAE;UACRxG,IAAI,EAAEA,IAAI;UACVE,KAAK,EAAEA;QAET;MACF,CAAC;;MAED,IAAMoD,KAAI,GAAGjF,YAAY,CAAC0I,QAAO,EAAEnG,YAAY,CAAC;MAEhD,IAAI,CAACwF,gBAAgB,EAAE;QAAA;QACrBzC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;QACvChG,EAAE,CAACiF,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,uBAACnF,IAAI,CAACoF,WAAW,qBAAhB,mBAAkBC,GAAG,CAAC,CAC1BH,UAAU,CAAC,eAAe,CAAC,CAC3BmE,GAAG,CAAC;UACH/B,IAAI,EAAE6B,MAAK;UACXJ,QAAQ,EAAEA,QAAQ;UAClBP,MAAM,EAAE,aAAa;UACrBzF,IAAI,EAAEA,IAAI;UACVuG,KAAK,EAAE3D,KAAI,CAAC2D,KAAK;UACjBT,QAAQ,EAAE;YACRxG,IAAI,EAAEA,IAAI;YACVE,KAAK,EAAEA,KAAK;YACZE,OAAO,EAAEA,OAAO,GAAGA,OAAO,GAAG;UAC/B;QACF,CAAC,CAAC;MACN;MAEA,IACEyB,eAAe,CAACqF,iBAAiB,IACjCrF,eAAe,CAACsF,yBAAyB,EACzC;QAAA;QACAxD,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;QAC9ChG,EAAE,CAACiF,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,uBAACnF,IAAI,CAACoF,WAAW,qBAAhB,mBAAkBC,GAAG,CAAC,CAC1BH,UAAU,CAAC,SAAS,CAAC,CACrBC,GAAG,CAACjB,eAAe,CAACqF,iBAAiB,CAACE,KAAK,CAAC,CAC5CvE,UAAU,CAAC,eAAe,CAAC,CAC3BmE,GAAG,CAAC;UACHK,SAAS,EAAE/D,KAAI,CAACA;QAClB,CAAC,CAAC;MACN,CAAC,MAAM;QACL,IAAMO,GAAE,GAAGC,OAAO,CAAC,SAAS,CAAC;QAC7BD,GAAE,CAACE,SAAS,CACTC,OAAO,EAAE,CACTC,IAAI,CAAC,YAAY;UAChB,IAAMC,MAAM,GAAGL,GAAE,CAACM,OAAO,CAACC,MAAM,CAACvC,eAAe,CAACwC,cAAc,CAAC;UAChE,OAAOR,GAAE,CAACS,KAAK,CAACJ,MAAM,EAAEZ,KAAI,CAACA,IAAI,CAAC;QACpC,CAAC,CAAC,CACDW,IAAI,CAACJ,GAAE,CAACE,SAAS,CAACQ,UAAU,CAAC,CAC7BC,KAAK,CAAC,UAAUC,GAAG,EAAE;UAEpBC,KAAK,CACH,mFAAmF,CACpF;QACH,CAAC,CAAC;MACN;MAEA3H,YAAY,CAAC,EAAE,CAAC;MAChB0C,gBAAgB,CAAC,KAAK,CAAC;MACvBQ,OAAO,CAAC,IAAI,CAAC;MACbE,QAAQ,CAAC,IAAI,CAAC;MACdE,UAAU,CAAC,IAAI,CAAC;MAChBE,kBAAkB,CAAC,KAAK,CAAC;IAC3B,CAAC,MAAM;MAAA;MACL,IAAMuG,OAAK,GAAG,IAAInE,IAAI,EAAE;MACxB,IAAMoE,SAAO,GAAG;QACd9B,IAAI,EAAE6B,OAAK;QACXJ,QAAQ,EAAEA,QAAQ;QAClBP,MAAM,EAAE,cAAc;QACtBzF,IAAI,EAAEA,IAAI;QACV8F,QAAQ,EAAE;UACRxG,IAAI,EAAEA,IAAI;UACVE,KAAK,EAAEA,KAAK;UACZE,OAAO,EAAEA;QACX,CAAC;QACDI,SAAS,EAAEA,SAAS;QACpB8G,aAAa,EAAEnB;MACjB,CAAC;MAED,IAAM7C,MAAI,GAAGjF,YAAY,CAAC0I,SAAO,EAAEnG,YAAY,CAAC;MAEhDhD,EAAE,CAACiF,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,uBAACnF,IAAI,CAACoF,WAAW,qBAAhB,mBAAkBC,GAAG,CAAC,CAC1BH,UAAU,CAAC,eAAe,CAAC,CAC3BmE,GAAG,CAAC;QACH/B,IAAI,EAAE6B,OAAK;QACXJ,QAAQ,EAAEA,QAAQ;QAClBO,KAAK,EAAE3D,MAAI,CAAC2D,KAAK;QACjBd,MAAM,EAAE,cAAc;QACtBmB,aAAa,EAAEnB,MAAM;QACrBzF,IAAI,EAAEA;MACR,CAAC,CAAC;MACJ,IACEmB,eAAe,CAACqF,iBAAiB,IACjCrF,eAAe,CAACsF,yBAAyB,EACzC;QAAA;QACAxD,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;QAC9ChG,EAAE,CAACiF,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,wBAACnF,IAAI,CAACoF,WAAW,qBAAhB,oBAAkBC,GAAG,CAAC,CAC1BH,UAAU,CAAC,SAAS,CAAC,CACrBC,GAAG,CAACjB,eAAe,CAACqF,iBAAiB,CAACE,KAAK,CAAC,CAC5CvE,UAAU,CAAC,eAAe,CAAC,CAC3BmE,GAAG,CAAC;UACHK,SAAS,EAAE/D,MAAI,CAACA;QAClB,CAAC,CAAC;MACN,CAAC,MAAM;QACL,IAAMO,IAAE,GAAGC,OAAO,CAAC,SAAS,CAAC;QAC7BD,IAAE,CAACE,SAAS,CACTC,OAAO,EAAE,CACTC,IAAI,CAAC,YAAY;UAChB,IAAMC,MAAM,GAAGL,IAAE,CAACM,OAAO,CAACC,MAAM,CAACvC,eAAe,CAACwC,cAAc,CAAC;UAChE,OAAOR,IAAE,CAACS,KAAK,CAACJ,MAAM,EAAEZ,MAAI,CAACA,IAAI,CAAC;QACpC,CAAC,CAAC,CACDW,IAAI,CAACJ,IAAE,CAACE,SAAS,CAACQ,UAAU,CAAC,CAC7BC,KAAK,CAAC,UAAUC,GAAG,EAAE;UAEpBC,KAAK,CACH,mFAAmF,CACpF;QACH,CAAC,CAAC;MACN;IACF;IAEA3H,YAAY,CAAC,EAAE,CAAC;IAChBkD,OAAO,CAAC,IAAI,CAAC;IACbE,QAAQ,CAAC,IAAI,CAAC;IACdE,UAAU,CAAC,IAAI,CAAC;IAChBE,kBAAkB,CAAC,KAAK,CAAC;IACzBE,YAAY,CAAC,IAAI,CAAC;EACpB,CAAC;EAED,IAAM8G,WAAW,GAAG,SAAdA,WAAW,GAAS;IACxB,IAAI/F,aAAa,EAAE;MACjB,OACE,KAAC,gBAAgB;QACf,KAAK,EAAE,CAACgG,MAAM,CAACC,SAAS,EAAE5G,OAAO,KAAK,CAAC,IAAI;UAAE6G,OAAO,EAAE;QAAI,CAAC,CAAE;QAC7D,QAAQ,EAAEhH,IAAI,CAAC0E,MAAM,GAAG,CAAE;QAC1B,OAAO,EAAE,mBAAM;UAAA;UAMbxH,EAAE,CAACiF,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,wBAACnF,IAAI,CAACoF,WAAW,qBAAhB,oBAAkBC,GAAG,CAAC,CAC1BH,UAAU,CAAC,eAAe,CAAC,CAC3BC,GAAG,CAACtB,aAAa,CAAC+B,EAAE,CAAC,CACrBoE,MAAM,EAAE;UAEXzB,KAAK,CAAC5F,eAAe,GAAG,eAAe,GAAG,aAAa,EAAE,KAAK,CAAC;UAC/DP,kBAAkB,CAAC,IAAI,CAAC;UACxBE,OAAO,CAAC,IAAI,CAAC;UACbE,QAAQ,CAAC,IAAI,CAAC;UACdE,UAAU,CAAC,IAAI,CAAC;UAChBE,kBAAkB,CAAC,KAAK,CAAC;UACzBkB,gBAAgB,CAAC,KAAK,CAAC;QACzB,CAAE;QAAA,UAEF,KAAC,IAAI;UAAC,KAAK,EAAE+F,MAAM,CAACI,MAAO;UAAA,UAAC;QAAY;MAAO,EAC9B;IAEvB;IAEA,IAAI9H,eAAe,KAAK,IAAI,EAAE;MAC5B,OACE,MAAC,IAAI;QACH,KAAK,EAAE;UACL+H,aAAa,EAAE,KAAK;UACpB/I,KAAK,EAAE,MAAM;UACbgJ,SAAS,EAAE,QAAQ;UACnB1I,cAAc,EAAE,eAAe;UAC/BC,UAAU,EAAE,QAAQ;UACpB0I,YAAY,EAAE;QAChB,CAAE;QAAA,WAEF,KAAC,gBAAgB;UACf,KAAK,EAAE,CAACP,MAAM,CAACQ,UAAU,EAAEnH,OAAO,KAAK,CAAC,IAAI;YAAE6G,OAAO,EAAE;UAAI,CAAC,CAAE;UAC9D,OAAO,EAAE;YAAA,OAAM/H,YAAY,CAAC,IAAI,CAAC;UAAA,CAAC;UAClC,QAAQ,EAAEe,IAAI,CAAC0E,MAAM,GAAG,CAAC,IAAItF,eAAgB;UAAA,UAE7C,KAAC,IAAI;YAAC,KAAK,EAAE0H,MAAM,CAACI,MAAO;YAAA,UAAC;UAAI;QAAO,EACtB,EACnB,KAAC,gBAAgB;UACf,KAAK,EAAE,CAACJ,MAAM,CAACS,UAAU,EAAEpH,OAAO,KAAK,CAAC,IAAI;YAAE6G,OAAO,EAAE;UAAI,CAAC,CAAE;UAC9D,OAAO,EAAE,mBAAM;YACbxB,KAAK,CAAC,MAAM,CAAC;UACf,CAAE;UACF,QAAQ,EAAExF,IAAI,CAAC0E,MAAM,GAAG,CAAC,IAAItF,eAAgB;UAAA,UAE7C,KAAC,IAAI;YAAC,KAAK,EAAE0H,MAAM,CAACI,MAAO;YAAA,UAAC;UAAI;QAAO,EACtB;MAAA,EACd;IAEX;IACA,IAAI9H,eAAe,IAAIY,IAAI,CAAC0E,MAAM,GAAG,CAAC,EAAE;MACtC,OACE,KAAC,gBAAgB;QACf,KAAK,EAAEoC,MAAM,CAACC,SAAU;QACxB,OAAO,EAAE,mBAAM;UACbvB,KAAK,CAAC5F,eAAe,GAAG,eAAe,GAAG,aAAa,EAAE,KAAK,CAAC;UAC/DP,kBAAkB,CAAC,IAAI,CAAC;UACxBE,OAAO,CAAC,IAAI,CAAC;UACbE,QAAQ,CAAC,IAAI,CAAC;UACdE,UAAU,CAAC,IAAI,CAAC;QAClB,CAAE;QAAA,UAEF,KAAC,IAAI;UAAC,KAAK,EAAEmH,MAAM,CAACI,MAAO;UAAA,UAAC;QAAQ;MAAO,EAC1B;IAEvB,CAAC,MAAM;MACL,OACE,KAAC,gBAAgB;QACf,KAAK,EAAEJ,MAAM,CAACC,SAAU;QACxB,OAAO,EAAE,mBAAM;UACb1H,kBAAkB,CAAC,IAAI,CAAC;UACxBQ,kBAAkB,CAAC,KAAK,CAAC;UACzBN,OAAO,CAAC,IAAI,CAAC;UACbE,QAAQ,CAAC,IAAI,CAAC;UACdE,UAAU,CAAC,IAAI,CAAC;UAChBI,YAAY,CAAC,IAAI,CAAC;QACpB,CAAE;QAAA,UAEF,KAAC,IAAI;UAAC,KAAK,EAAE+G,MAAM,CAACI,MAAO;UAAA,UAAC;QAAM;MAAO,EACxB;IAEvB;EACF,CAAC;EAED,OACE,MAAC,IAAI;IAAC,KAAK,EAAEJ,MAAM,CAACU,SAAU;IAAA,WAC5B,MAAC,IAAI;MAAC,KAAK,EAAEV,MAAM,CAACW,UAAW;MAAA,WAC7B,KAAC,IAAI;QACH,KAAK,EAAE;UACLC,UAAU,EAAE,aAAa;UACzBC,KAAK,EAAE,qBAAqB;UAC5BC,QAAQ,EAAE;QACZ,CAAE;QAAA,UACH;MAED,EAAO,EACP,MAAC,IAAI;QACH,KAAK,EAAE;UACLT,aAAa,EAAE,KAAK;UACpBxI,UAAU,EAAE,QAAQ;UACpBD,cAAc,EAAE;QAClB,CAAE;QAAA,WAEF,KAAC,UAAU;UACT,KAAK,EAAE,CACLoI,MAAM,CAACe,aAAa,EACpB,CAAC7H,IAAI,CAAC0E,MAAM,GAAG,CAAC,IAAI5D,aAAa,KAAK;YAAEkG,OAAO,EAAE;UAAI,CAAC,CACtD;UACF,OAAO,EAAE;YAAA,OAAMzF,gBAAgB,CAAC,IAAI,CAAC;UAAA,CAAC;UACtC,QAAQ,EAAEvB,IAAI,CAAC0E,MAAM,GAAG,CAAE;UAC1B,IAAI,EAAE;YAAA,OACJ,KAAC,KAAK;cACJ,KAAK,EAAE;gBAAEtG,KAAK,EAAE,EAAE;gBAAED,MAAM,EAAE;cAAG,CAAE;cACjC,MAAM,EAAEiF,OAAO;YAAmB,EAClC;UAAA;QACF,EACF,EACF,KAAC,UAAU;UACT,KAAK,EAAE,CACL0D,MAAM,CAACe,aAAa,EACpB,CAAC7H,IAAI,CAAC0E,MAAM,GAAG,CAAC,IAAI5D,aAAa,KAAK;YAAEkG,OAAO,EAAE;UAAI,CAAC,CACtD;UACF,OAAO,EAAE;YAAA,OAAM3F,eAAe,CAAC,IAAI,CAAC;UAAA,CAAC;UACrC,QAAQ,EAAErB,IAAI,CAAC0E,MAAM,GAAG,CAAC,IAAI5D,aAAc;UAC3C,IAAI,EAAE;YAAA,OACJ,KAAC,sBAAsB;cAAC,IAAI,EAAC,OAAO;cAAC,IAAI,EAAE,EAAG;cAAC,KAAK,EAAC;YAAO,EAAG;UAAA;QAC/D,EACF,EAYF,KAAC,UAAU;UACT,KAAK,EAAE,CACLgG,MAAM,CAACe,aAAa,EACpB,CAAC7H,IAAI,CAAC0E,MAAM,GAAG,CAAC,IAAI5D,aAAa,KAAK;YAAEkG,OAAO,EAAE;UAAI,CAAC,CACtD;UACF,QAAQ,EAAEhH,IAAI,CAAC0E,MAAM,GAAG,CAAC,IAAI5D,aAAc;UAC3C,OAAO,EAAE;YAAA,OAAMJ,wBAAwB,CAAC,IAAI,CAAC;UAAA,CAAC;UAC9C,IAAI,EAAE;YAAA,OACJ,KAAC,QAAQ;cAAC,IAAI,EAAC,cAAc;cAAC,IAAI,EAAE,EAAG;cAAC,KAAK,EAAC;YAAO,EAAG;UAAA,CACxD;UACF,YAAY,EAAEM,gBAAgB,CAAC0D;QAAO,EACtC,EACF,KAAC,UAAU;UACT,KAAK,EAAE,CACLoC,MAAM,CAACe,aAAa,EACpB7H,IAAI,CAAC0E,MAAM,GAAG,CAAC,IAAI,CAACtF,eAAe,IAAI;YAAE4H,OAAO,EAAE;UAAI,CAAC,CACvD;UACF,OAAO,EAAE;YAAA,OAAMjI,gBAAgB,CAAC,IAAI,CAAC;UAAA,CAAC;UACtC,QAAQ,EAAEiB,IAAI,CAAC0E,MAAM,GAAG,CAAC,IAAI,CAACtF,eAAgB;UAC9C,IAAI,EAAE;YAAA,OAAM,KAAC,OAAO;cAAC,IAAI,EAAC,YAAY;cAAC,IAAI,EAAE,EAAG;cAAC,KAAK,EAAC;YAAO,EAAG;UAAA;QAAC,EAClE,EACD0B,aAAa,GACZ,KAAC,UAAU;UACT,KAAK,EAAE,CAACgG,MAAM,CAACe,aAAa,CAAE;UAC9B,OAAO,EAAE,mBAAM;YACbxL,YAAY,CAAC,EAAE,CAAC;YAChBkD,OAAO,CAAC,IAAI,CAAC;YACbE,QAAQ,CAAC,IAAI,CAAC;YACdE,UAAU,CAAC,IAAI,CAAC;YAChBE,kBAAkB,CAAC,KAAK,CAAC;YACzBR,kBAAkB,CAAC,IAAI,CAAC;YACxBqB,wBAAwB,CAAC,KAAK,CAAC;YAC/BK,gBAAgB,CAAC,KAAK,CAAC;UACzB,CAAE;UACF,IAAI,EAAE;YAAA,OAAM,KAAC,MAAM;cAAC,IAAI,EAAC,OAAO;cAAC,IAAI,EAAE,EAAG;cAAC,KAAK,EAAC;YAAO,EAAG;UAAA;QAAC,EAC5D,GAEF,KAAC,UAAU;UACT,QAAQ,EAAE3B,eAAgB;UAC1B,KAAK,EAAE,CACL0H,MAAM,CAACe,aAAa,EACpB7H,IAAI,CAAC0E,MAAM,GAAG,CAAC,IAAI;YAAEsC,OAAO,EAAE;UAAI,CAAC,CACnC;UACF,OAAO,EAAE,mBAAM;YACb,IAAI9G,YAAY,CAAC4H,gBAAgB,EAAE;cACjClH,2BAA2B,CAAC,IAAI,CAAC;YACnC,CAAC,MAAM;cACLrE,0BAA0B,CAAC,IAAI,CAAC;cAChCsE,OAAO,CAAC8B,IAAI,CAAC,mBAAmB,CAAC;cACjCoF,YAAY,CAACC,OAAO,CAAC,iBAAiB,EAAE,IAAI,CAAC;YAC/C;UACF,CAAE;UACF,IAAI,EAAE;YAAA,OAAM,KAAC,MAAM;cAAC,IAAI,EAAC,KAAK;cAAC,IAAI,EAAE,EAAG;cAAC,KAAK,EAAC;YAAO,EAAG;UAAA;QAAC,EAE7D;MAAA,EACI;IAAA,EACF,EACP,KAAC,UAAU;MACT,qBAAqB,EAAElB,MAAM,CAACmB,gBAAiB;MAC/C,KAAK,EAAE;QAAEZ,YAAY,EAAE;MAAG,CAAE;MAAA,UAE5B,KAAC,IAAI;QAAA,UACFrH,IAAI,CAAC0E,MAAM,GAAG,CAAC,GACd1E,IAAI,CAACkI,GAAG,CAAC,UAACC,QAAQ,EAAEC,KAAK;UAAA,OACvB,KAAC,gBAAgB;YAEf,QAAQ,EAAED,QAAS;YACnB,KAAK,EAAEC,KAAM;YACb,YAAY,EAAE,wBAAM;cAClBnF,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;cACvB,IAAMmF,KAAK,GAAGhD,eAAe,CAACrF,IAAI,CAAC;cACnCqI,KAAK,CAAC/C,MAAM,CAAC8C,KAAK,EAAE,CAAC,CAAC;cACtB/L,YAAY,CAACgM,KAAK,CAAC;YACrB,CAAE;YACF,cAAc,EAAE,0BAAM;cACpB,IAAMA,KAAK,GAAGhD,eAAe,CAACrF,IAAI,CAAC;cACnCqI,KAAK,CAACD,KAAK,CAAC,CAACvD,QAAQ,EAAE;cACvBxI,YAAY,CAACgM,KAAK,CAAC;YACrB,CAAE;YACF,cAAc,EAAE,0BAAM;cACpB,IAAMA,KAAK,GAAGhD,eAAe,CAACrF,IAAI,CAAC;cACnC,IAAIqI,KAAK,CAACD,KAAK,CAAC,CAACvD,QAAQ,EAAE;gBACzBwD,KAAK,CAACD,KAAK,CAAC,CAACvD,QAAQ,EAAE;cACzB,CAAC,MAAM;gBACLwD,KAAK,CAACD,KAAK,CAAC,CAACvD,QAAQ,GAAG,CAAC;cAC3B;cACAxI,YAAY,CAACgM,KAAK,CAAC;YACrB;UAAE,GAtBGD,KAAK,CAuBV;QAAA,CACH,CAAC,GAEF,MAAC,IAAI;UACH,KAAK,EAAE;YACLjK,MAAM,EAAEA,MAAM,GAAG,GAAG;YACpBC,KAAK,EAAE,MAAM;YACbM,cAAc,EAAE,QAAQ;YACxBC,UAAU,EAAE;UACd,CAAE;UAAA,WAEF,KAAC,IAAI;YAAC,KAAK,EAAEmI,MAAM,CAACwB,KAAM;YAAA,UAAC;UAAQ,EAAO,EAC1C,KAAC,IAAI;YAAC,KAAK,EAAExB,MAAM,CAACyB,WAAY;YAAA,UAAC;UAAc,EAAO;QAAA;MAEzD;IACI,EACI,EACb,MAAC,IAAI;MACH,KAAK,EAAE;QACL7J,cAAc,EAAE,cAAc;QAC9BC,UAAU,EAAE,QAAQ;QACpBP,KAAK,EAAE,KAAK;QACZgJ,SAAS,EAAE;MACb,CAAE;MAAA,WAEDxH,eAAe,IAAIkF,UAAU,CAAC5E,YAAY,CAAC+E,aAAa,CAAC,IACxD,MAAC,IAAI;QACH,KAAK,EAAE;UACLmC,SAAS,EAAE,SAAS;UACpBD,aAAa,EAAE,KAAK;UACpBzI,cAAc,EAAE,eAAe;UAC/BC,UAAU,EAAE,QAAQ;UACpB0I,YAAY,EAAE,CAAC;UACfmB,UAAU,EAAE;QACd,CAAE;QAAA,WAEF,KAAC,IAAI;UACH,KAAK,EAAE;YACLd,UAAU,EAAE,aAAa;YACzBC,KAAK,EAAE,kBAAkB;YACzBC,QAAQ,EAAE,EAAE;YACZR,SAAS,EAAE;UACb,CAAE;UAAA,UACH;QAED,EAAO,EACP,MAAC,IAAI;UACH,KAAK,EAAE,CACL;YACEM,UAAU,EAAE,aAAa;YACzBC,KAAK,EAAE,qBAAqB;YAC5BC,QAAQ,EAAE,EAAE;YACZR,SAAS,EAAE;UACb,CAAC,EACDjH,OAAO,KAAK,CAAC,IAAI;YAAE6G,OAAO,EAAE;UAAI,CAAC,CACjC;UAAA,WACH,GACE,EAAClC,UAAU,CAAC5E,YAAY,CAAC+E,aAAa,CAAC,CAACwD,OAAO,CAAC,CAAC,CAAC;QAAA,EAC9C;MAAA,EAEV,EACD,MAAC,IAAI;QACH,KAAK,EAAE;UACLrB,SAAS,EAAE,SAAS;UACpBD,aAAa,EAAE,KAAK;UACpBzI,cAAc,EAAE,eAAe;UAC/BC,UAAU,EAAE,QAAQ;UACpB0I,YAAY,EAAE;QAChB,CAAE;QAAA,WAEF,KAAC,IAAI;UACH,KAAK,EAAE;YACLK,UAAU,EAAE,aAAa;YACzBC,KAAK,EAAE,kBAAkB;YACzBC,QAAQ,EAAE,EAAE;YACZR,SAAS,EAAE;UACb,CAAE;UAAA,UACH;QAED,EAAO,EACP,MAAC,IAAI;UACH,KAAK,EAAE,CACL;YACEM,UAAU,EAAE,aAAa;YACzBC,KAAK,EAAE,qBAAqB;YAC5BC,QAAQ,EAAE,EAAE;YACZR,SAAS,EAAE;UACb,CAAC,EACDjH,OAAO,KAAK,CAAC,IAAI;YAAE6G,OAAO,EAAE;UAAI,CAAC,CACjC;UAAA,WACH,GACE,EAAC7G,OAAO,CAACsI,OAAO,CAAC,CAAC,CAAC;QAAA,EACf;MAAA,EACF,EACP,MAAC,IAAI;QACH,KAAK,EAAE;UACLrB,SAAS,EAAE,SAAS;UACpBD,aAAa,EAAE,KAAK;UACpBzI,cAAc,EAAE,eAAe;UAC/BC,UAAU,EAAE,QAAQ;UACpB0I,YAAY,EAAE;QAChB,CAAE;QAAA,WAEF,KAAC,IAAI;UACH,KAAK,EAAE;YACLK,UAAU,EAAE,aAAa;YACzBC,KAAK,EAAE,kBAAkB;YACzBC,QAAQ,EAAE,EAAE;YACZR,SAAS,EAAE;UACb,CAAE;UAAA,UACH;QAED,EAAO,EACP,MAAC,IAAI;UACH,KAAK,EAAE,CACL;YACEM,UAAU,EAAE,aAAa;YACzBC,KAAK,EAAE,qBAAqB;YAC5BC,QAAQ,EAAE,EAAE;YACZR,SAAS,EAAE;UACb,CAAC,EACDjH,OAAO,KAAK,CAAC,IAAI;YAAE6G,OAAO,EAAE;UAAI,CAAC,CACjC;UAAA,WACH,GAEC,EAAC,CACC7G,OAAO,IACND,YAAY,CAACwI,OAAO,GAAGxI,YAAY,CAACwI,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,EAC1DD,OAAO,CAAC,CAAC,CAAC;QAAA,EACP;MAAA,EACF,EACP,MAAC,IAAI;QACH,KAAK,EAAE;UACLrB,SAAS,EAAE,SAAS;UACpBD,aAAa,EAAE,KAAK;UACpBzI,cAAc,EAAE,eAAe;UAC/BC,UAAU,EAAE,QAAQ;UACpB0I,YAAY,EAAE;QAChB,CAAE;QAAA,WAEF,KAAC,IAAI;UACH,KAAK,EAAE;YACLK,UAAU,EAAE,aAAa;YACzBC,KAAK,EAAE,kBAAkB;YACzBC,QAAQ,EAAE,EAAE;YACZR,SAAS,EAAE;UACb,CAAE;UAAA,UACH;QAED,EAAO,EACP,MAAC,IAAI;UACH,KAAK,EAAE,CACL;YACEM,UAAU,EAAE,aAAa;YACzBC,KAAK,EAAE,qBAAqB;YAC5BC,QAAQ,EAAE,EAAE;YACZR,SAAS,EAAE;UACb,CAAC,EACDjH,OAAO,KAAK,CAAC,IAAI;YAAE6G,OAAO,EAAE;UAAI,CAAC,CACjC;UAAA,WACH,GACE,EAAC,CAAC7G,OAAO,GAAG,IAAI,EAAEsI,OAAO,CAAC,CAAC,CAAC;QAAA,EACxB;MAAA,EACF,EACP,KAAC,WAAW,KAAG;IAAA,EACV,EACP,KAAC,KAAK;MAAC,OAAO,EAAErH,YAAa;MAAC,WAAW,EAAE,IAAK;MAAA,UAC9C,KAAC,YAAY;QAAC,eAAe,EAAEC;MAAgB;IAAG,EAC5C,EACR,KAAC,KAAK;MAAC,OAAO,EAAEhB,iBAAkB;MAAC,WAAW,EAAE,IAAK;MAAA,UACnD,KAAC,YAAY;QACX,oBAAoB,EAAEC,oBAAqB;QAC3C,kBAAkB,EAAEjB,kBAAmB;QACvC,kBAAkB,EAAEE,OAAQ;QAC5B,mBAAmB,EAAEE,QAAS;QAC9B,qBAAqB,EAAEE,UAAW;QAClC,kBAAkB,EAAEE,kBAAmB;QACvC,uBAAuB,EAAEW;MAAwB;IACjD,EACI,EACR,KAAC,KAAK;MAAC,OAAO,EAAE1B,aAAc;MAAC,WAAW,EAAE,IAAK;MAAA,UAC/C,KAAC,cAAc;QACb,uBAAuB,EAAE0B,uBAAwB;QACjD,gBAAgB,EAAEzB,gBAAiB;QACnC,kBAAkB,EAAEM,kBAAmB;QACvC,OAAO,EAAEE,OAAQ;QACjB,QAAQ,EAAEE,QAAS;QACnB,UAAU,EAAEE,UAAW;QACvB,IAAI,EAAEL,IAAK;QACX,KAAK,EAAEE,KAAM;QACb,OAAO,EAAEE,OAAQ;QACjB,eAAe,EAAEE,eAAgB;QACjC,kBAAkB,EAAEC,kBAAmB;QACvC,eAAe,EAAET;MAAgB;IACjC,EACI,EACR,KAAC,KAAK;MAAC,OAAO,EAAEJ,SAAU;MAAC,WAAW;MAAA,UACpC,KAAC,UAAU;QACT,YAAY,EAAEC,YAAa;QAC3B,QAAQ,EAAE;UAAA,OAAMuG,KAAK,CAAC,MAAM,CAAC;QAAA,CAAC;QAC9B,KAAK,EAAE,CAACrF,OAAO,GAAG,IAAI,EAAEsI,OAAO,CAAC,CAAC,CAAE;QACnC,YAAY,EAAE1I;MAAa;IAC3B,EACI,EACR,KAAC,KAAK;MAAC,OAAO,EAAEb,WAAY;MAAA,UAC1B,KAAC,YAAY;QAAC,cAAc,EAAEC;MAAe;IAAG,EAC1C,EACR,KAAC,KAAK;MAAC,OAAO,EAAEsB,qBAAsB;MAAC,WAAW,EAAE,IAAK;MAAA,UACvD,KAAC,yBAAyB;QACxB,wBAAwB,EAAEC,wBAAyB;QACnD,kBAAkB,EAAE,4BAACiI,KAAK,EAAK;UAC7BtM,YAAY,CAACsM,KAAK,CAAC3I,IAAI,CAAC;UACxBT,OAAO,CAACoJ,KAAK,CAAC7C,QAAQ,CAACxG,IAAI,CAAC;UAC5BG,QAAQ,CAACkJ,KAAK,CAAC7C,QAAQ,CAACtG,KAAK,CAAC;UAC9BG,UAAU,CAACgJ,KAAK,CAAC7C,QAAQ,CAACpG,OAAO,CAAC;UAClCG,kBAAkB,CAAC8I,KAAK,CAAClD,MAAM,KAAK,eAAe,CAAC;UACpDpG,kBAAkB,CAAC,IAAI,CAAC;UACxBqB,wBAAwB,CAAC,KAAK,CAAC;UAC/BK,gBAAgB,CAAC4H,KAAK,CAAC;QACzB,CAAE;QACF,gBAAgB,EAAE3H,gBAAiB;QACnC,mBAAmB,EAAEC;MAAoB;IACzC,EACI,EACR,KAAC,KAAK;MAAC,OAAO,EAAEN,wBAAyB;MAAC,WAAW,EAAE,IAAK;MAAA,UAC1D,KAAC,qBAAqB;QACpB,2BAA2B,EAAEC,2BAA4B;QACzD,UAAU,EAAE/B;MAAW;IACvB,EACI,EACR,KAAC,KAAK;MAAC,OAAO,EAAEyC,aAAc;MAAC,WAAW,EAAE,IAAK;MAAA,UAC/C,KAAC,aAAa;QACZ,gBAAgB,EAAEC,gBAAiB;QACnC,OAAO,EAAEpB,OAAQ;QACjB,IAAI,EAAEH,IAAK;QACX,eAAe,EAAEJ,eAAgB;QACjC,YAAY,EAAEM;MAAa;IAC3B,EACI;EAAA,EACH;AAEX,CAAC;AAED,eAAetB,UAAU;AAEzB,IAAMkI,MAAM,GAAG8B,UAAU,CAAClF,MAAM,CAAC;EAC/B8D,SAAS,EAAE;IACTrJ,MAAM,EAAE,MAAM;IACdC,KAAK,EAAE,KAAK;IACZyK,OAAO,EAAE,EAAE;IACXvK,eAAe,EAAE,kBAAkB;IACnCwK,oBAAoB,EAAE,CAAC;IACvBC,uBAAuB,EAAE,CAAC;IAC1BC,mBAAmB,EAAE,CAAC;IACtBC,sBAAsB,EAAE,CAAC;IACzBC,WAAW,EAAE,eAAe;IAC5BC,YAAY,EAAE;MACZ/K,KAAK,EAAE,CAAC,CAAC;MACTD,MAAM,EAAE;IACV,CAAC;IACDiL,SAAS,EAAE,EAAE;IACbC,aAAa,EAAE,IAAI;IACnBC,YAAY,EAAE;EAChB,CAAC;EACDrB,gBAAgB,EAAE;IAChB9J,MAAM,EAAE,MAAM;IACdO,cAAc,EAAE,eAAe;IAC/BN,KAAK,EAAE;EACT,CAAC;EACDmL,cAAc,EAAE;IACdpL,MAAM,EAAE,KAAK;IACbqK,UAAU,EAAE;EACd,CAAC;EACDf,UAAU,EAAE;IACVtJ,MAAM,EAAE,IAAI;IACZO,cAAc,EAAE,eAAe;IAC/BN,KAAK,EAAE,MAAM;IACb+I,aAAa,EAAE,KAAK;IACpBxI,UAAU,EAAE,QAAQ;IACpB0I,YAAY,EAAE;EAChB,CAAC;EACDQ,aAAa,EAAE;IACblJ,UAAU,EAAE,QAAQ;IACpBD,cAAc,EAAE,QAAQ;IACxBJ,eAAe,EAAE,kBAAkB;IACnCD,YAAY,EAAE,EAAE;IAChBD,KAAK,EAAE,EAAE;IACTD,MAAM,EAAE,EAAE;IACVqL,MAAM,EAAE;EACV,CAAC;EACDlC,UAAU,EAAE;IACVhJ,eAAe,EAAE,mBAAmB;IACpCD,YAAY,EAAE,EAAE;IAChByK,oBAAoB,EAAE,CAAC;IACvBC,uBAAuB,EAAE,CAAC;IAC1B3K,KAAK,EAAE,OAAO;IACdD,MAAM,EAAE,EAAE;IACVQ,UAAU,EAAE,QAAQ;IACpBD,cAAc,EAAE;EAClB,CAAC;EACD6I,UAAU,EAAE;IACVjJ,eAAe,EAAE,mBAAmB;IACpCD,YAAY,EAAE,EAAE;IAChByK,oBAAoB,EAAE,EAAE;IACxBC,uBAAuB,EAAE,EAAE;IAC3BC,mBAAmB,EAAE,CAAC;IACtBC,sBAAsB,EAAE,CAAC;IACzB7K,KAAK,EAAE,OAAO;IACdD,MAAM,EAAE,EAAE;IACVQ,UAAU,EAAE,QAAQ;IACpBD,cAAc,EAAE;EAClB,CAAC;EACDwI,MAAM,EAAE;IACNU,QAAQ,EAAE,EAAE;IACZD,KAAK,EAAE;EACT,CAAC;EACD8B,QAAQ,EAAE;IACR7B,QAAQ,EAAE,EAAE;IACZP,YAAY,EAAE,CAAC;IACfM,KAAK,EAAE,qBAAqB;IAC5B+B,UAAU,EAAE;EACd,CAAC;EACDC,aAAa,EAAE;IACb/B,QAAQ,EAAE,EAAE;IACZP,YAAY,EAAE,CAAC;IACfM,KAAK,EAAE,qBAAqB;IAC5B+B,UAAU,EAAE;EACd,CAAC;EACD3C,SAAS,EAAE;IACTzI,eAAe,EAAE,mBAAmB;IACpCD,YAAY,EAAE,EAAE;IAChBD,KAAK,EAAE,KAAK;IACZD,MAAM,EAAE,EAAE;IACVQ,UAAU,EAAE,QAAQ;IACpBD,cAAc,EAAE;EAClB,CAAC;EACDkL,QAAQ,EAAE;IACRhC,QAAQ,EAAE,EAAE;IACZP,YAAY,EAAE;EAChB,CAAC;EACDwC,SAAS,EAAE;IACTjC,QAAQ,EAAE,EAAE;IACZ8B,UAAU,EAAE;EACd,CAAC;EACDpB,KAAK,EAAE;IACLZ,UAAU,EAAE,aAAa;IACzBC,KAAK,EAAE,qBAAqB;IAC5BC,QAAQ,EAAE,EAAE;IACZZ,OAAO,EAAE,IAAI;IACb8C,SAAS,EAAE;EACb,CAAC;EACDvB,WAAW,EAAE;IACXb,UAAU,EAAE,aAAa;IACzBC,KAAK,EAAE,kBAAkB;IACzBC,QAAQ,EAAE;EACZ;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module"}