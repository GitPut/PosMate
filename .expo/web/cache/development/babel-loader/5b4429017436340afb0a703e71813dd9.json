{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport React, { useEffect, useState } from \"react\";\nimport { cartState, setCartState, storeDetailState, transListState } from \"../../state/state\";\nimport { Button } from \"@react-native-material/core\";\nimport DeliveryScreen from \"../../components/DeliveryScreen\";\nimport CashScreen from \"../../components/CashScreen\";\nimport ChangeScreen from \"../../components/ChangeScreen\";\nimport { updateTransList } from \"../../state/firebaseFunctions\";\nimport useWindowDimensions from \"../../components/useWindowDimensions\";\nimport Ionicons from \"@expo/vector-icons/Ionicons\";\nimport Foundation from \"@expo/vector-icons/Foundation\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar CartScreen = function CartScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useWindowDimensions = useWindowDimensions(),\n    height = _useWindowDimensions.height,\n    width = _useWindowDimensions.width;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    deliveryModal = _useState2[0],\n    setDeliveryModal = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    cashModal = _useState4[0],\n    setCashModal = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    changeModal = _useState6[0],\n    setChangeModal = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    ongoingDelivery = _useState8[0],\n    setOngoingDelivery = _useState8[1];\n  var _useState9 = useState(null),\n    _useState10 = _slicedToArray(_useState9, 2),\n    name = _useState10[0],\n    setName = _useState10[1];\n  var _useState11 = useState(null),\n    _useState12 = _slicedToArray(_useState11, 2),\n    phone = _useState12[0],\n    setPhone = _useState12[1];\n  var _useState13 = useState(null),\n    _useState14 = _slicedToArray(_useState13, 2),\n    address = _useState14[0],\n    setAddress = _useState14[1];\n  var _useState15 = useState(false),\n    _useState16 = _slicedToArray(_useState15, 2),\n    deliveryChecked = _useState16[0],\n    setDeliveryChecked = _useState16[1];\n  var _useState17 = useState(),\n    _useState18 = _slicedToArray(_useState17, 2),\n    changeDue = _useState18[0],\n    setChangeDue = _useState18[1];\n  var cart = cartState.use();\n  var transList = transListState.use();\n  var storeDetails = storeDetailState.use();\n  var _useState19 = useState(0),\n    _useState20 = _slicedToArray(_useState19, 2),\n    cartSub = _useState20[0],\n    setCartSub = _useState20[1];\n  useEffect(function () {\n    if (cart.length > 0) {\n      var newVal = 0;\n      for (var i = 0; i < cart.length; i++) {\n        newVal += parseFloat(cart[i].price);\n      }\n      setCartSub(newVal);\n    } else {\n      setCartSub(0);\n    }\n  }, [cart]);\n  var AddToList = function () {\n    var _ref2 = _asyncToGenerator(function* (payload) {\n      updateTransList(payload);\n    });\n    return function AddToList(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var Print = function Print(method) {\n    var transNum = (transList == null ? void 0 : transList.length) + 1;\n    if (method === \"deliveryOrder\") {\n      var total = storeDetails.deliveryPrice > 0 ? parseFloat(storeDetails.deliveryPrice) : 0;\n      var today = new Date();\n      var data = [\"\\x1B\" + \"\\x40\",\n      \"\\x1B\" + \"\\x61\" + \"\\x31\",\n      storeDetails.name, \"\\x0A\", storeDetails.address + \"\\x0A\", storeDetails.website + \"\\x0A\",\n      storeDetails.phoneNumber + \"\\x0A\",\n      today.toLocaleDateString() + \" \" + today.toLocaleTimeString() + \"\\x0A\", \"\\x0A\", \"Transaction # \" + transNum + \"\\x0A\", \"\\x0A\", \"Delivery Order: $\" + storeDetails.deliveryPrice + \" Fee\" + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\"];\n\n      cart.map(function (cartItem) {\n        total += parseFloat(cartItem.price);\n        data.push(\"Name: \" + cartItem.name);\n        data.push(\"Price: $\" + cartItem.price);\n        if (cartItem.description) {\n          data.push(\"\\x0A\");\n          data.push(cartItem.description);\n        }\n        if (cartItem.options) {\n          data.push(\"\\x0A\");\n          cartItem.options.map(function (option) {\n            data.push(option);\n            data.push(\"\\x0A\");\n          });\n        }\n        if (cartItem.extraDetails) {\n          data.push(cartItem.extraDetails);\n          data.push(\"\\x0A\");\n        }\n        data.push(\"\\x0A\" + \"\\x0A\");\n      });\n      total = total * 1.13;\n      total = total.toFixed(2);\n\n      data.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Customer Name: \" + name, \"\\x0A\" + \"\\x0A\", \"Customer Phone #:  \" + phone, \"\\x0A\" + \"\\x0A\", \"Customer Address #:  \" + address, \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x1D\" + \"\\x56\" + \"\\x30\");\n      var qz = require(\"qz-tray\");\n      qz.websocket.connect().then(function () {\n        var config = qz.configs.create(\"storeDetails.comSelected\");\n        return qz.print(config, data);\n      }).then(qz.websocket.disconnect).catch(function (err) {\n        console.error(err);\n      });\n      AddToList({\n        id: Math.random().toString(36).substr(2, 9) + \"-l\",\n        date: today,\n        transNum: transNum,\n        total: total,\n        method: \"deliveryOrder\",\n        cart: cart,\n        completed: false,\n        customer: {\n          name: name,\n          phone: phone,\n          address: address\n        }\n      });\n      setCartState([]);\n      setDeliveryModal(false);\n    } else if (method === \"pickupOrder\") {\n      var _total = 0;\n      var _today = new Date();\n      var _data = [\"\\x1B\" + \"\\x40\",\n      \"\\x1B\" + \"\\x61\" + \"\\x31\",\n      storeDetails.name, \"\\x0A\", storeDetails.address + \"\\x0A\", storeDetails.website + \"\\x0A\",\n      storeDetails.phoneNumber + \"\\x0A\",\n      _today.toLocaleDateString() + \" \" + _today.toLocaleTimeString() + \"\\x0A\", \"\\x0A\", \"Transaction # \" + transNum + \"\\x0A\", \"\\x0A\", \"Pickup Order\" + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\"];\n\n      cart.map(function (cartItem) {\n        _total += parseFloat(cartItem.price);\n        _data.push(\"Name: \" + cartItem.name);\n        _data.push(\"Price: $\" + cartItem.price);\n        if (cartItem.description) {\n          _data.push(\"\\x0A\");\n          _data.push(cartItem.description);\n        }\n        if (cartItem.options) {\n          _data.push(\"\\x0A\");\n          cartItem.options.map(function (option) {\n            _data.push(option);\n            _data.push(\"\\x0A\");\n          });\n        }\n        if (cartItem.extraDetails) {\n          _data.push(cartItem.extraDetails);\n          _data.push(\"\\x0A\");\n        }\n        _data.push(\"\\x0A\" + \"\\x0A\");\n      });\n      _total = _total * 1.13;\n      _total = _total.toFixed(2);\n\n      _data.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Customer Name: \" + name, \"\\x0A\" + \"\\x0A\", \"Customer Phone #:  \" + phone, \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + _total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x1D\" + \"\\x56\" + \"\\x30\");\n      var _qz = require(\"qz-tray\");\n      _qz.websocket.connect().then(function () {\n        var config = _qz.configs.create(\"storeDetails.comSelected\");\n        return _qz.print(config, _data);\n      }).then(_qz.websocket.disconnect).catch(function (err) {\n        console.error(err);\n      });\n      AddToList({\n        id: Math.random().toString(36).substr(2, 9) + \"-l\",\n        date: _today,\n        transNum: transNum,\n        total: _total,\n        method: \"pickupOrder\",\n        cart: cart,\n        completed: false,\n        customer: {\n          name: name,\n          phone: phone,\n          address: address\n        }\n      });\n      setCartState([]);\n      setDeliveryModal(false);\n    } else {\n      var _total2 = 0;\n      var _today2 = new Date();\n      var _data2 = [\"\\x1B\" + \"\\x40\",\n      \"\\x1B\" + \"\\x61\" + \"\\x31\",\n      storeDetails.name, \"\\x0A\", storeDetails.address + \"\\x0A\", storeDetails.website + \"\\x0A\",\n      storeDetails.phoneNumber + \"\\x0A\",\n      _today2.toLocaleDateString() + \" \" + _today2.toLocaleTimeString() + \"\\x0A\", \"\\x0A\", \"Transaction # \" + transNum + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\"];\n\n      cart.map(function (cartItem) {\n        _total2 += parseFloat(cartItem.price);\n        _data2.push(\"Name: \" + cartItem.name);\n        _data2.push(\"\\x0A\");\n        _data2.push(\"Price: $\" + cartItem.price);\n        if (cartItem.description) {\n          _data2.push(\"\\x0A\");\n          _data2.push(cartItem.description);\n        }\n        if (cartItem.options) {\n          _data2.push(\"\\x0A\");\n          cartItem.options.map(function (option) {\n            _data2.push(option);\n            _data2.push(\"\\x0A\");\n          });\n        }\n        if (cartItem.extraDetails) {\n          _data2.push(cartItem.extraDetails);\n          _data2.push(\"\\x0A\");\n        }\n        _data2.push(\"\\x0A\" + \"\\x0A\");\n      });\n      _total2 = _total2 * 1.13;\n      _total2 = _total2.toFixed(2);\n      if (method === \"Cash\") {\n        _data2.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Payment Method: \" + method + \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + \"$\" + _total2 + \"\\x0A\" + \"\\x0A\", \"Change Due: \" + \"$\" + changeDue + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x1D\" + \"\\x56\" + \"\\x30\", \"\\x10\" + \"\\x14\" + \"\\x01\" + \"\\x00\" + \"\\x05\");\n      } else {\n        _data2.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Payment Method: \" + method + \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + \"$\" + _total2 + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x1D\" + \"\\x56\" + \"\\x30\");\n      }\n\n      var _qz2 = require(\"qz-tray\");\n      _qz2.websocket.connect().then(function () {\n        var config = _qz2.configs.create(\"storeDetails.comSelected\");\n        return _qz2.print(config, _data2);\n      }).then(_qz2.websocket.disconnect).catch(function (err) {\n        console.error(err);\n      });\n      AddToList({\n        id: Math.random().toString(36).substr(2, 9) + \"-l\",\n        date: _today2,\n        transNum: transNum,\n        total: _total2,\n        method: method,\n        cart: cart\n      });\n    }\n    setCartState([]);\n  };\n  var DeliveryBtn = function DeliveryBtn() {\n    if (ongoingDelivery === null) {\n      return _jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          width: \"100%\",\n          alignSelf: \"center\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\"\n        },\n        children: [_jsx(TouchableOpacity, {\n          style: styles({\n            height: height,\n            width: width\n          }).cashButton,\n          onPress: function onPress() {\n            return setCashModal(true);\n          },\n          disabled: cart.length < 1 || ongoingDelivery,\n          children: _jsx(Text, {\n            style: styles({\n              height: height,\n              width: width\n            }).btnTxt,\n            children: \"Cash\"\n          })\n        }), _jsx(TouchableOpacity, {\n          style: styles({\n            height: height,\n            width: width\n          }).cardButton,\n          onPress: function onPress() {\n            return Print(\"Card\");\n          },\n          disabled: cart.length < 1 || ongoingDelivery,\n          children: _jsx(Text, {\n            style: styles({\n              height: height,\n              width: width\n            }).btnTxt,\n            children: \"Card\"\n          })\n        })]\n      });\n    }\n    if (ongoingDelivery && cart.length > 0) {\n      return _jsx(TouchableOpacity, {\n        style: styles({\n          height: height,\n          width: width\n        }).bigButton,\n        onPress: function onPress() {\n          Print(deliveryChecked ? \"deliveryOrder\" : \"pickupOrder\");\n          setOngoingDelivery(null);\n          setName(null);\n          setPhone(null);\n          setAddress(null);\n        },\n        children: _jsx(Text, {\n          style: styles({\n            height: height,\n            width: width\n          }).btnTxt,\n          children: \"Complete\"\n        })\n      });\n    } else {\n      return _jsx(TouchableOpacity, {\n        style: styles({\n          height: height,\n          width: width\n        }).bigButton,\n        onPress: function onPress() {\n          return setOngoingDelivery(null);\n        },\n        children: _jsx(Text, {\n          style: styles({\n            height: height,\n            width: width\n          }).btnTxt,\n          children: \"Cancel\"\n        })\n      });\n    }\n  };\n  return _jsxs(View, {\n    style: styles({\n      height: height,\n      width: width\n    }).container,\n    children: [_jsxs(View, {\n      style: styles({\n        height: height,\n        width: width\n      }).cartHeader,\n      children: [_jsx(Text, {\n        style: {\n          fontSize: 25,\n          width: \"50%\",\n          color: \"white\"\n        },\n        children: \"Bill Total\"\n      }), _jsx(TouchableOpacity, {\n        style: styles({\n          height: height,\n          width: width\n        }).iconContainer,\n        children: _jsx(Ionicons, {\n          name: \"person-add\",\n          size: 26,\n          color: \"white\"\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles({\n          height: height,\n          width: width\n        }).iconContainer,\n        onPress: function onPress() {\n          return setDeliveryModal(true);\n        },\n        disabled: cart.length > 0,\n        children: _jsx(Foundation, {\n          name: \"telephone\",\n          size: 32,\n          color: \"white\"\n        })\n      })]\n    }), _jsx(ScrollView, {\n      contentContainerStyle: styles({\n        height: height,\n        width: width\n      }).contentContainer,\n      children: _jsx(View, {\n        children: cart.map(function (cartItem, index) {\n          return _jsxs(View, {\n            style: {\n              backgroundColor: \"white\",\n              shadowColor: \"rgba(0,0,0,1)\",\n              shadowOffset: {\n                width: 3,\n                height: 3\n              },\n              elevation: 30,\n              shadowOpacity: 0.07,\n              shadowRadius: 10,\n              marginBottom: 20,\n              padding: 15\n            },\n            children: [_jsxs(View, {\n              style: {\n                flexDirection: \"row\",\n                justifyContent: \"space-between\",\n                alignItems: \"center\",\n                marginBottom: 10\n              },\n              children: [_jsx(View, {\n                style: {\n                  width: \"33%\"\n                },\n                children: _jsx(View, {\n                  style: {\n                    backgroundColor: \"#E6E6E6\",\n                    width: 50,\n                    height: 50,\n                    justifyContent: \"center\",\n                    alignItems: \"center\"\n                  },\n                  children: _jsx(Text, {\n                    style: styles({\n                      height: height,\n                      width: width\n                    }).headerTxt,\n                    children: index + 1\n                  })\n                })\n              }), _jsx(View, {\n                style: {\n                  width: \"33%\",\n                  alignItems: \"center\"\n                },\n                children: _jsx(Text, {\n                  style: styles({\n                    height: height,\n                    width: width\n                  }).headerTxt,\n                  children: cartItem.name\n                })\n              }), _jsx(View, {\n                style: {\n                  width: \"33%\",\n                  alignItems: \"flex-end\"\n                },\n                children: _jsx(Text, {\n                  style: {\n                    color: \"red\",\n                    fontSize: 15,\n                    fontWeight: \"600\"\n                  },\n                  onPress: function onPress() {\n                    var local = structuredClone(cart);\n                    local.splice(index, 1);\n                    setCartState(local);\n                  },\n                  children: \"X\"\n                })\n              })]\n            }), _jsxs(Text, {\n              style: styles({\n                height: height,\n                width: width\n              }).innerTxt,\n              children: [\"Price: $\", cartItem.price]\n            }), cartItem.description && _jsxs(Text, {\n              style: styles({\n                height: height,\n                width: width\n              }).innerTxt,\n              children: [\"Description: \", cartItem.description]\n            }), cartItem.options && cartItem.options.map(function (option) {\n              return _jsx(Text, {\n                style: styles({\n                  height: height,\n                  width: width\n                }).innerTxt,\n                children: option\n              });\n            }), cartItem.extraDetails && _jsxs(Text, {\n              style: styles({\n                height: height,\n                width: width\n              }).innerTxt,\n              children: [\"Extra Info: \", cartItem.extraDetails]\n            }), _jsx(Button, {\n              title: \"Edit\",\n              onPress: function onPress() {\n                return navigation.navigate(\"ProductListing\", {\n                  product: cartItem.editableObj,\n                  itemIndex: index\n                });\n              }\n            })]\n          });\n        })\n      })\n    }), _jsxs(View, {\n      style: styles({\n        height: height,\n        width: width\n      }).totalContainer,\n      children: [_jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\"\n        },\n        children: [_jsx(Text, {\n          style: styles({\n            height: height,\n            width: width\n          }).totalTxt,\n          children: \"Sub:\"\n        }), _jsxs(Text, {\n          style: styles({\n            height: height,\n            width: width\n          }).totalTxtPrice,\n          children: [\"$\", cartSub.toFixed(2)]\n        })]\n      }), _jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\"\n        },\n        children: [_jsx(Text, {\n          style: styles({\n            height: height,\n            width: width\n          }).totalTxt,\n          children: \"Total:\"\n        }), _jsxs(Text, {\n          style: styles({\n            height: height,\n            width: width\n          }).totalTxtPrice,\n          children: [\"$\", (cartSub * 1.13).toFixed(2)]\n        })]\n      }), _jsx(DeliveryBtn, {})]\n    }), _jsx(Modal, {\n      visible: deliveryModal,\n      transparent: true,\n      children: _jsx(DeliveryScreen, {\n        setDeliveryModal: setDeliveryModal,\n        setOngoingDelivery: setOngoingDelivery,\n        setName: setName,\n        setPhone: setPhone,\n        setAddress: setAddress,\n        name: name,\n        phone: phone,\n        address: address,\n        deliveryChecked: deliveryChecked,\n        setDeliveryChecked: setDeliveryChecked\n      })\n    }), _jsx(Modal, {\n      visible: cashModal,\n      children: _jsx(CashScreen, {\n        setCashModal: setCashModal,\n        GetTrans: function GetTrans() {\n          return Print(\"Cash\");\n        },\n        total: (cartSub * 1.13).toFixed(2),\n        setChangeDue: setChangeDue\n      })\n    }), _jsx(Modal, {\n      visible: changeModal,\n      children: _jsx(ChangeScreen, {\n        setChangeModal: setChangeModal\n      })\n    })]\n  });\n};\nexport default CartScreen;\nvar styles = function styles(props) {\n  return StyleSheet.create({\n    container: {\n      height: props.height,\n      width: props.width * 0.3,\n      padding: 20,\n      backgroundColor: \"rgba(31,35,48,1)\",\n      borderTopRightRadius: 0,\n      borderBottomRightRadius: 0,\n      borderTopLeftRadius: 2,\n      borderBottomLeftRadius: 2,\n      shadowColor: \"rgba(0,0,0,1)\",\n      shadowOffset: {\n        width: -3,\n        height: 3\n      },\n      elevation: 30,\n      shadowOpacity: 0.92,\n      shadowRadius: 10\n    },\n    contentContainer: {\n      height: \"100%\",\n      justifyContent: \"space-between\",\n      width: \"100%\"\n    },\n    totalContainer: {\n      height: props.height * 0.14,\n      paddingTop: 10\n    },\n    cartHeader: {\n      height: props.height * 0.06,\n      justifyContent: \"space-between\",\n      width: \"100%\",\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      marginBottom: 20\n    },\n    iconContainer: {\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      backgroundColor: \"rgba(41,44,56,1)\",\n      borderRadius: 20,\n      width: 62,\n      height: 58\n    },\n    cashButton: {\n      backgroundColor: \"rgba(51,81,243,1)\",\n      borderRadius: 30,\n      borderTopRightRadius: 0,\n      borderBottomRightRadius: 0,\n      width: \"49.5%\",\n      height: 55,\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    cardButton: {\n      backgroundColor: \"rgba(51,81,243,1)\",\n      borderRadius: 30,\n      borderTopRightRadius: 30,\n      borderBottomRightRadius: 30,\n      borderTopLeftRadius: 0,\n      borderBottomLeftRadius: 0,\n      width: \"49.5%\",\n      height: 55,\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    btnTxt: {\n      fontSize: 20,\n      color: \"white\"\n    },\n    totalTxt: {\n      fontSize: 16,\n      marginBottom: 5,\n      color: \"rgba(255,255,255,1)\",\n      fontWeight: \"600\"\n    },\n    totalTxtPrice: {\n      fontSize: 16,\n      marginBottom: 5,\n      color: \"rgba(255,255,255,1)\",\n      fontWeight: \"600\"\n    },\n    bigButton: {\n      backgroundColor: \"rgba(51,81,243,1)\",\n      borderRadius: 30,\n      width: \"98%\",\n      height: 55,\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    innerTxt: {\n      fontSize: 13,\n      marginBottom: 10\n    },\n    headerTxt: {\n      fontSize: 15,\n      fontWeight: \"600\"\n    }\n  });\n};","map":{"version":3,"names":["React","useEffect","useState","cartState","setCartState","storeDetailState","transListState","Button","DeliveryScreen","CashScreen","ChangeScreen","updateTransList","useWindowDimensions","Ionicons","Foundation","CartScreen","navigation","height","width","deliveryModal","setDeliveryModal","cashModal","setCashModal","changeModal","setChangeModal","ongoingDelivery","setOngoingDelivery","name","setName","phone","setPhone","address","setAddress","deliveryChecked","setDeliveryChecked","changeDue","setChangeDue","cart","use","transList","storeDetails","cartSub","setCartSub","length","newVal","i","parseFloat","price","AddToList","payload","Print","method","transNum","total","deliveryPrice","today","Date","data","website","phoneNumber","toLocaleDateString","toLocaleTimeString","map","cartItem","push","description","options","option","extraDetails","toFixed","qz","require","websocket","connect","then","config","configs","create","print","disconnect","catch","err","console","error","id","Math","random","toString","substr","date","completed","customer","DeliveryBtn","flexDirection","alignSelf","justifyContent","alignItems","styles","cashButton","btnTxt","cardButton","bigButton","container","cartHeader","fontSize","color","iconContainer","contentContainer","index","backgroundColor","shadowColor","shadowOffset","elevation","shadowOpacity","shadowRadius","marginBottom","padding","headerTxt","fontWeight","local","structuredClone","splice","innerTxt","navigate","product","editableObj","itemIndex","totalContainer","totalTxt","totalTxtPrice","props","StyleSheet","borderTopRightRadius","borderBottomRightRadius","borderTopLeftRadius","borderBottomLeftRadius","paddingTop","borderRadius"],"sources":["C:/Users/admin/OneDrive - George Brown College/Desktop/PosMate/screens/authed/CartScreen.tsx"],"sourcesContent":["import {\r\n  Modal,\r\n  ScrollView,\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  Dimensions,\r\n  TouchableOpacity,\r\n} from \"react-native\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport {\r\n  cartState,\r\n  cartSubState,\r\n  setCartState,\r\n  setTransListState,\r\n  storeDetailState,\r\n  transListState,\r\n} from \"state/state\";\r\nimport { Button } from \"@react-native-material/core\";\r\nimport DeliveryScreen from \"components/DeliveryScreen\";\r\nimport CashScreen from \"components/CashScreen\";\r\nimport ChangeScreen from \"components/ChangeScreen\";\r\nimport { updateTransList } from \"state/firebaseFunctions\";\r\nimport useWindowDimensions from \"components/useWindowDimensions\";\r\nimport Ionicons from \"@expo/vector-icons/Ionicons\";\r\nimport Foundation from \"@expo/vector-icons/Foundation\";\r\n\r\nconst CartScreen = ({ navigation }) => {\r\n  const { height, width } = useWindowDimensions();\r\n  const [deliveryModal, setDeliveryModal] = useState(false);\r\n  const [cashModal, setCashModal] = useState(false);\r\n  const [changeModal, setChangeModal] = useState(false);\r\n  const [ongoingDelivery, setOngoingDelivery] = useState(null);\r\n  const [name, setName] = useState(null);\r\n  const [phone, setPhone] = useState(null);\r\n  const [address, setAddress] = useState(null);\r\n  const [deliveryChecked, setDeliveryChecked] = useState(false);\r\n  const [changeDue, setChangeDue] = useState();\r\n  const cart = cartState.use();\r\n  const transList = transListState.use();\r\n  const storeDetails = storeDetailState.use();\r\n  const [cartSub, setCartSub] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (cart.length > 0) {\r\n      let newVal = 0;\r\n      for (var i = 0; i < cart.length; i++) {\r\n        newVal += parseFloat(cart[i].price);\r\n      }\r\n      setCartSub(newVal);\r\n    } else {\r\n      setCartSub(0);\r\n    }\r\n  }, [cart]);\r\n\r\n  const AddToList = async (payload) => {\r\n    updateTransList(payload);\r\n  };\r\n\r\n  const Print = (method) => {\r\n    const transNum = transList?.length + 1;\r\n    if (method === \"deliveryOrder\") {\r\n      let total =\r\n        storeDetails.deliveryPrice > 0\r\n          ? parseFloat(storeDetails.deliveryPrice)\r\n          : 0;\r\n      const today = new Date();\r\n\r\n      let data = [\r\n        \"\\x1B\" + \"\\x40\", // init\r\n        \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\r\n        storeDetails.name,\r\n        \"\\x0A\",\r\n        storeDetails.address + \"\\x0A\",\r\n        storeDetails.website + \"\\x0A\", // text and line break\r\n        storeDetails.phoneNumber + \"\\x0A\", // text and line break\r\n        today.toLocaleDateString() + \" \" + today.toLocaleTimeString() + \"\\x0A\",\r\n        \"\\x0A\",\r\n        `Transaction # ${transNum}` + \"\\x0A\",\r\n        \"\\x0A\",\r\n        `Delivery Order: $${storeDetails.deliveryPrice} Fee` + \"\\x0A\",\r\n        \"\\x0A\",\r\n        \"\\x0A\",\r\n        \"\\x0A\",\r\n        \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\r\n      ];\r\n\r\n      cart.map((cartItem) => {\r\n        total += parseFloat(cartItem.price);\r\n        data.push(`Name: ${cartItem.name}`);\r\n        data.push(`Price: $${cartItem.price}`);\r\n\r\n        if (cartItem.description) {\r\n          data.push(\"\\x0A\");\r\n          data.push(cartItem.description);\r\n        }\r\n\r\n        if (cartItem.options) {\r\n          data.push(\"\\x0A\");\r\n          cartItem.options.map((option) => {\r\n            data.push(option);\r\n            data.push(\"\\x0A\");\r\n          });\r\n        }\r\n\r\n        if (cartItem.extraDetails) {\r\n          data.push(cartItem.extraDetails);\r\n          data.push(\"\\x0A\");\r\n        }\r\n\r\n        data.push(\"\\x0A\" + \"\\x0A\");\r\n      });\r\n\r\n      total = total * 1.13;\r\n      total = total.toFixed(2);\r\n\r\n      //push ending\r\n      data.push(\r\n        \"\\x0A\",\r\n        \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\r\n        \"\\x0A\" + \"\\x0A\",\r\n        \"Customer Name: \" + name,\r\n        \"\\x0A\" + \"\\x0A\",\r\n        \"Customer Phone #:  \" + phone,\r\n        \"\\x0A\" + \"\\x0A\",\r\n        \"Customer Address #:  \" + address,\r\n        \"\\x0A\" + \"\\x0A\",\r\n        \"Total Including (13% Tax): \" + total + \"\\x0A\" + \"\\x0A\",\r\n        \"------------------------------------------\" + \"\\x0A\",\r\n        \"\\x0A\", // line break\r\n        \"\\x0A\", // line break\r\n        \"\\x0A\", // line break\r\n        \"\\x0A\", // line break\r\n        \"\\x0A\", // line break\r\n        \"\\x0A\", // line break\r\n        \"\\x1D\" + \"\\x56\" + \"\\x30\"\r\n      );\r\n      // fetch(\"http://localhost:8080/print\", {\r\n      //   method: \"POST\",\r\n      //   headers: {\r\n      //     \"Content-Type\": \"application/json\",\r\n      //   },\r\n      //   body: JSON.stringify({\r\n      //     printData: data,\r\n      //     comSelected: storeDetails.comSelected,\r\n      //   }),\r\n      // })\r\n      //   .then((response) => response.json())\r\n      //   .then((respData) => {\r\n      //     console.log(respData);\r\n      //   })\r\n      //   .catch((e) => alert(\"Error with printer\"));\r\n      const qz = require(\"qz-tray\");\r\n      qz.websocket\r\n        .connect()\r\n        .then(function () {\r\n          let config = qz.configs.create(\"storeDetails.comSelected\");\r\n          return qz.print(config, data);\r\n        })\r\n        .then(qz.websocket.disconnect)\r\n        .catch(function (err) {\r\n          console.error(err);\r\n        });\r\n\r\n      AddToList({\r\n        id: Math.random().toString(36).substr(2, 9) + \"-l\",\r\n        date: today,\r\n        transNum: transNum,\r\n        total: total,\r\n        method: \"deliveryOrder\",\r\n        cart: cart,\r\n        completed: false,\r\n        customer: {\r\n          name: name,\r\n          phone: phone,\r\n          address: address,\r\n        },\r\n      });\r\n\r\n      setCartState([]);\r\n      setDeliveryModal(false);\r\n    } else if (method === \"pickupOrder\") {\r\n      let total = 0;\r\n      const today = new Date();\r\n\r\n      let data = [\r\n        \"\\x1B\" + \"\\x40\", // init\r\n        \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\r\n        storeDetails.name,\r\n        \"\\x0A\",\r\n        storeDetails.address + \"\\x0A\",\r\n        storeDetails.website + \"\\x0A\", // text and line break\r\n        storeDetails.phoneNumber + \"\\x0A\", // text and line break\r\n        today.toLocaleDateString() + \" \" + today.toLocaleTimeString() + \"\\x0A\",\r\n        \"\\x0A\",\r\n        `Transaction # ${transNum}` + \"\\x0A\",\r\n        \"\\x0A\",\r\n        \"Pickup Order\" + \"\\x0A\",\r\n        \"\\x0A\",\r\n        \"\\x0A\",\r\n        \"\\x0A\",\r\n        \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\r\n      ];\r\n\r\n      cart.map((cartItem) => {\r\n        total += parseFloat(cartItem.price);\r\n        data.push(`Name: ${cartItem.name}`);\r\n        data.push(`Price: $${cartItem.price}`);\r\n\r\n        if (cartItem.description) {\r\n          data.push(\"\\x0A\");\r\n          data.push(cartItem.description);\r\n        }\r\n\r\n        if (cartItem.options) {\r\n          data.push(\"\\x0A\");\r\n          cartItem.options.map((option) => {\r\n            data.push(option);\r\n            data.push(\"\\x0A\");\r\n          });\r\n        }\r\n\r\n        if (cartItem.extraDetails) {\r\n          data.push(cartItem.extraDetails);\r\n          data.push(\"\\x0A\");\r\n        }\r\n\r\n        data.push(\"\\x0A\" + \"\\x0A\");\r\n      });\r\n\r\n      total = total * 1.13;\r\n      total = total.toFixed(2);\r\n\r\n      //push ending\r\n      data.push(\r\n        \"\\x0A\",\r\n        \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\r\n        \"\\x0A\" + \"\\x0A\",\r\n        \"Customer Name: \" + name,\r\n        \"\\x0A\" + \"\\x0A\",\r\n        \"Customer Phone #:  \" + phone,\r\n        \"\\x0A\" + \"\\x0A\",\r\n        \"Total Including (13% Tax): \" + total + \"\\x0A\" + \"\\x0A\",\r\n        \"------------------------------------------\" + \"\\x0A\",\r\n        \"\\x0A\", // line break\r\n        \"\\x0A\", // line break\r\n        \"\\x0A\", // line break\r\n        \"\\x0A\", // line break\r\n        \"\\x0A\", // line break\r\n        \"\\x0A\", // line break\r\n        \"\\x1D\" + \"\\x56\" + \"\\x30\"\r\n      );\r\n      // fetch(\"http://localhost:8080/print\", {\r\n      //   method: \"POST\",\r\n      //   headers: {\r\n      //     \"Content-Type\": \"application/json\",\r\n      //   },\r\n      //   body: JSON.stringify({\r\n      //     printData: data,\r\n      //     comSelected: storeDetails.comSelected,\r\n      //   }),\r\n      // })\r\n      //   .then((response) => response.json())\r\n      //   .then((respData) => {\r\n      //     console.log(respData);\r\n      //   })\r\n      //   .catch((e) => alert(\"Error with printer\"));\r\n      const qz = require(\"qz-tray\");\r\n      qz.websocket\r\n        .connect()\r\n        .then(function () {\r\n          let config = qz.configs.create(\"storeDetails.comSelected\");\r\n          return qz.print(config, data);\r\n        })\r\n        .then(qz.websocket.disconnect)\r\n        .catch(function (err) {\r\n          console.error(err);\r\n        });\r\n\r\n      AddToList({\r\n        id: Math.random().toString(36).substr(2, 9) + \"-l\",\r\n        date: today,\r\n        transNum: transNum,\r\n        total: total,\r\n        method: \"pickupOrder\",\r\n        cart: cart,\r\n        completed: false,\r\n        customer: {\r\n          name: name,\r\n          phone: phone,\r\n          address: address,\r\n        },\r\n      });\r\n\r\n      setCartState([]);\r\n      setDeliveryModal(false);\r\n    } else {\r\n      let total = 0;\r\n      const today = new Date();\r\n\r\n      let data = [\r\n        \"\\x1B\" + \"\\x40\", // init\r\n        \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\r\n        storeDetails.name,\r\n        \"\\x0A\",\r\n        storeDetails.address + \"\\x0A\",\r\n        storeDetails.website + \"\\x0A\", // text and line break\r\n        storeDetails.phoneNumber + \"\\x0A\", // text and line break\r\n        today.toLocaleDateString() + \" \" + today.toLocaleTimeString() + \"\\x0A\",\r\n        \"\\x0A\",\r\n        `Transaction # ${transNum}` + \"\\x0A\",\r\n        \"\\x0A\",\r\n        \"\\x0A\",\r\n        \"\\x0A\",\r\n        \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\r\n      ];\r\n\r\n      cart.map((cartItem) => {\r\n        total += parseFloat(cartItem.price);\r\n        data.push(`Name: ${cartItem.name}`);\r\n        data.push(\"\\x0A\");\r\n        data.push(`Price: $${cartItem.price}`);\r\n\r\n        if (cartItem.description) {\r\n          data.push(\"\\x0A\");\r\n          data.push(cartItem.description);\r\n        }\r\n\r\n        if (cartItem.options) {\r\n          data.push(\"\\x0A\");\r\n          cartItem.options.map((option) => {\r\n            data.push(option);\r\n            data.push(\"\\x0A\");\r\n          });\r\n        }\r\n\r\n        if (cartItem.extraDetails) {\r\n          data.push(cartItem.extraDetails);\r\n          data.push(\"\\x0A\");\r\n        }\r\n\r\n        data.push(\"\\x0A\" + \"\\x0A\");\r\n      });\r\n\r\n      total = total * 1.13;\r\n      total = total.toFixed(2);\r\n\r\n      if (method === \"Cash\") {\r\n        //push ending\r\n        data.push(\r\n          \"\\x0A\",\r\n          \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\r\n          \"\\x0A\" + \"\\x0A\",\r\n          \"Payment Method: \" + method + \"\\x0A\" + \"\\x0A\",\r\n          \"Total Including (13% Tax): \" + \"$\" + total + \"\\x0A\" + \"\\x0A\",\r\n          \"Change Due: \" + \"$\" + changeDue + \"\\x0A\" + \"\\x0A\",\r\n          \"------------------------------------------\" + \"\\x0A\",\r\n          \"\\x0A\", // line break\r\n          \"\\x0A\", // line break\r\n          \"\\x0A\", // line break\r\n          \"\\x0A\", // line break\r\n          \"\\x0A\", // line break\r\n          \"\\x0A\", // line break\r\n          //\"\\x1D\" + \"\\x56\" + \"\\x00\",\r\n          \"\\x1D\" + \"\\x56\" + \"\\x30\",\r\n          \"\\x10\" + \"\\x14\" + \"\\x01\" + \"\\x00\" + \"\\x05\"\r\n        );\r\n      } else {\r\n        data.push(\r\n          \"\\x0A\",\r\n          \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\r\n          \"\\x0A\" + \"\\x0A\",\r\n          \"Payment Method: \" + method + \"\\x0A\" + \"\\x0A\",\r\n          \"Total Including (13% Tax): \" + \"$\" + total + \"\\x0A\" + \"\\x0A\",\r\n          \"------------------------------------------\" + \"\\x0A\",\r\n          \"\\x0A\", // line break\r\n          \"\\x0A\", // line break\r\n          \"\\x0A\", // line break\r\n          \"\\x0A\", // line break\r\n          \"\\x0A\", // line break\r\n          \"\\x0A\", // line break\r\n          //\"\\x1D\" + \"\\x56\" + \"\\x00\",\r\n          \"\\x1D\" + \"\\x56\" + \"\\x30\"\r\n        );\r\n      }\r\n\r\n      // fetch(\"http://localhost:8080/print\", {\r\n      //   method: \"POST\",\r\n      //   headers: {\r\n      //     \"Content-Type\": \"application/json\",\r\n      //   },\r\n      //   body: JSON.stringify({\r\n      //     printData: data,\r\n      //     comSelected: storeDetails.comSelected,\r\n      //   }),\r\n      // })\r\n      //   .then((response) => response.json())\r\n      //   .then((respData) => {\r\n      //     console.log(respData);\r\n      //   })\r\n      //   .catch((e) => alert(\"Error with printer\"));\r\n      const qz = require(\"qz-tray\");\r\n      qz.websocket\r\n        .connect()\r\n        .then(function () {\r\n          let config = qz.configs.create(\"storeDetails.comSelected\");\r\n          return qz.print(config, data);\r\n        })\r\n        .then(qz.websocket.disconnect)\r\n        .catch(function (err) {\r\n          console.error(err);\r\n        });\r\n\r\n      AddToList({\r\n        id: Math.random().toString(36).substr(2, 9) + \"-l\",\r\n        date: today,\r\n        transNum: transNum,\r\n        total: total,\r\n        method: method,\r\n        cart: cart,\r\n      });\r\n    }\r\n\r\n    setCartState([]);\r\n  };\r\n\r\n  const DeliveryBtn = () => {\r\n    if (ongoingDelivery === null) {\r\n      return (\r\n        <View\r\n          style={{\r\n            flexDirection: \"row\",\r\n            width: \"100%\",\r\n            alignSelf: \"center\",\r\n            justifyContent: \"space-between\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <TouchableOpacity\r\n            style={styles({ height, width }).cashButton}\r\n            onPress={() => setCashModal(true)}\r\n            disabled={cart.length < 1 || ongoingDelivery}\r\n          >\r\n            <Text style={styles({ height, width }).btnTxt}>Cash</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity\r\n            style={styles({ height, width }).cardButton}\r\n            onPress={() => Print(\"Card\")}\r\n            disabled={cart.length < 1 || ongoingDelivery}\r\n          >\r\n            <Text style={styles({ height, width }).btnTxt}>Card</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      );\r\n    }\r\n    if (ongoingDelivery && cart.length > 0) {\r\n      return (\r\n        <TouchableOpacity\r\n          style={styles({ height, width }).bigButton}\r\n          onPress={() => {\r\n            Print(deliveryChecked ? \"deliveryOrder\" : \"pickupOrder\");\r\n            setOngoingDelivery(null);\r\n            setName(null);\r\n            setPhone(null);\r\n            setAddress(null);\r\n          }}\r\n        >\r\n          <Text style={styles({ height, width }).btnTxt}>Complete</Text>\r\n        </TouchableOpacity>\r\n      );\r\n    } else {\r\n      return (\r\n        <TouchableOpacity\r\n          style={styles({ height, width }).bigButton}\r\n          onPress={() => setOngoingDelivery(null)}\r\n        >\r\n          <Text style={styles({ height, width }).btnTxt}>Cancel</Text>\r\n        </TouchableOpacity>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={styles({ height, width }).container}>\r\n      <View style={styles({ height, width }).cartHeader}>\r\n        <Text style={{ fontSize: 25, width: \"50%\", color: \"white\" }}>\r\n          Bill Total\r\n        </Text>\r\n        <TouchableOpacity style={styles({ height, width }).iconContainer}>\r\n          <Ionicons name=\"person-add\" size={26} color=\"white\" />\r\n        </TouchableOpacity>\r\n        <TouchableOpacity\r\n          style={styles({ height, width }).iconContainer}\r\n          onPress={() => setDeliveryModal(true)}\r\n          disabled={cart.length > 0}\r\n        >\r\n          <Foundation name=\"telephone\" size={32} color=\"white\" />\r\n        </TouchableOpacity>\r\n      </View>\r\n      <ScrollView\r\n        contentContainerStyle={styles({ height, width }).contentContainer}\r\n      >\r\n        <View>\r\n          {cart.map((cartItem, index) => (\r\n            <View\r\n              style={{\r\n                backgroundColor: \"white\",\r\n                shadowColor: \"rgba(0,0,0,1)\",\r\n                shadowOffset: {\r\n                  width: 3,\r\n                  height: 3,\r\n                },\r\n                elevation: 30,\r\n                shadowOpacity: 0.07,\r\n                shadowRadius: 10,\r\n                marginBottom: 20,\r\n                padding: 15,\r\n              }}\r\n            >\r\n              <View\r\n                style={{\r\n                  flexDirection: \"row\",\r\n                  justifyContent: \"space-between\",\r\n                  alignItems: \"center\",\r\n                  marginBottom: 10,\r\n                }}\r\n              >\r\n                <View style={{ width: \"33%\" }}>\r\n                  <View\r\n                    style={{\r\n                      backgroundColor: \"#E6E6E6\",\r\n                      width: 50,\r\n                      height: 50,\r\n                      justifyContent: \"center\",\r\n                      alignItems: \"center\",\r\n                    }}\r\n                  >\r\n                    <Text style={styles({ height, width }).headerTxt}>\r\n                      {index + 1}\r\n                    </Text>\r\n                  </View>\r\n                </View>\r\n                <View\r\n                  style={{\r\n                    width: \"33%\",\r\n                    alignItems: \"center\",\r\n                  }}\r\n                >\r\n                  <Text style={styles({ height, width }).headerTxt}>\r\n                    {cartItem.name}\r\n                  </Text>\r\n                </View>\r\n                <View\r\n                  style={{\r\n                    width: \"33%\",\r\n                    alignItems: \"flex-end\",\r\n                  }}\r\n                >\r\n                  <Text\r\n                    style={{ color: \"red\", fontSize: 15, fontWeight: \"600\" }}\r\n                    onPress={() => {\r\n                      const local = structuredClone(cart);\r\n                      local.splice(index, 1);\r\n                      setCartState(local);\r\n                    }}\r\n                  >\r\n                    X\r\n                  </Text>\r\n                </View>\r\n              </View>\r\n              <Text style={styles({ height, width }).innerTxt}>\r\n                Price: ${cartItem.price}\r\n              </Text>\r\n              {cartItem.description && (\r\n                <Text style={styles({ height, width }).innerTxt}>\r\n                  Description: {cartItem.description}\r\n                </Text>\r\n              )}\r\n              {cartItem.options &&\r\n                cartItem.options.map((option) => (\r\n                  <Text style={styles({ height, width }).innerTxt}>\r\n                    {option}\r\n                  </Text>\r\n                ))}\r\n              {cartItem.extraDetails && (\r\n                <Text style={styles({ height, width }).innerTxt}>\r\n                  Extra Info: {cartItem.extraDetails}\r\n                </Text>\r\n              )}\r\n              <Button\r\n                title=\"Edit\"\r\n                onPress={() =>\r\n                  navigation.navigate(\"ProductListing\", {\r\n                    product: cartItem.editableObj,\r\n                    itemIndex: index,\r\n                  })\r\n                }\r\n              />\r\n            </View>\r\n          ))}\r\n        </View>\r\n      </ScrollView>\r\n      <View style={styles({ height, width }).totalContainer}>\r\n        <View\r\n          style={{\r\n            flexDirection: \"row\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Text style={styles({ height, width }).totalTxt}>Sub:</Text>\r\n          <Text style={styles({ height, width }).totalTxtPrice}>\r\n            ${cartSub.toFixed(2)}\r\n          </Text>\r\n        </View>\r\n        <View\r\n          style={{\r\n            flexDirection: \"row\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Text style={styles({ height, width }).totalTxt}>Total:</Text>\r\n          <Text style={styles({ height, width }).totalTxtPrice}>\r\n            ${(cartSub * 1.13).toFixed(2)}\r\n          </Text>\r\n        </View>\r\n        <DeliveryBtn />\r\n      </View>\r\n      <Modal visible={deliveryModal} transparent={true}>\r\n        <DeliveryScreen\r\n          setDeliveryModal={setDeliveryModal}\r\n          setOngoingDelivery={setOngoingDelivery}\r\n          setName={setName}\r\n          setPhone={setPhone}\r\n          setAddress={setAddress}\r\n          name={name}\r\n          phone={phone}\r\n          address={address}\r\n          deliveryChecked={deliveryChecked}\r\n          setDeliveryChecked={setDeliveryChecked}\r\n        />\r\n      </Modal>\r\n      <Modal visible={cashModal}>\r\n        <CashScreen\r\n          setCashModal={setCashModal}\r\n          GetTrans={() => Print(\"Cash\")}\r\n          total={(cartSub * 1.13).toFixed(2)}\r\n          setChangeDue={setChangeDue}\r\n        />\r\n      </Modal>\r\n      <Modal visible={changeModal}>\r\n        <ChangeScreen setChangeModal={setChangeModal} />\r\n      </Modal>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default CartScreen;\r\n\r\nconst styles = (props) =>\r\n  StyleSheet.create({\r\n    container: {\r\n      height: props.height,\r\n      width: props.width * 0.3,\r\n      padding: 20,\r\n      backgroundColor: \"rgba(31,35,48,1)\",\r\n      borderTopRightRadius: 0,\r\n      borderBottomRightRadius: 0,\r\n      borderTopLeftRadius: 2,\r\n      borderBottomLeftRadius: 2,\r\n      shadowColor: \"rgba(0,0,0,1)\",\r\n      shadowOffset: {\r\n        width: -3,\r\n        height: 3,\r\n      },\r\n      elevation: 30,\r\n      shadowOpacity: 0.92,\r\n      shadowRadius: 10,\r\n    },\r\n    contentContainer: {\r\n      height: \"100%\",\r\n      justifyContent: \"space-between\",\r\n      width: \"100%\",\r\n    },\r\n    totalContainer: {\r\n      height: props.height * 0.14,\r\n      paddingTop: 10,\r\n    },\r\n    cartHeader: {\r\n      height: props.height * 0.06,\r\n      justifyContent: \"space-between\",\r\n      width: \"100%\",\r\n      flexDirection: \"row\",\r\n      alignItems: \"center\",\r\n      marginBottom: 20,\r\n    },\r\n    iconContainer: {\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n      backgroundColor: \"rgba(41,44,56,1)\",\r\n      borderRadius: 20,\r\n      width: 62,\r\n      height: 58,\r\n    },\r\n    cashButton: {\r\n      backgroundColor: \"rgba(51,81,243,1)\",\r\n      borderRadius: 30,\r\n      borderTopRightRadius: 0,\r\n      borderBottomRightRadius: 0,\r\n      width: \"49.5%\",\r\n      height: 55,\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n    },\r\n    cardButton: {\r\n      backgroundColor: \"rgba(51,81,243,1)\",\r\n      borderRadius: 30,\r\n      borderTopRightRadius: 30,\r\n      borderBottomRightRadius: 30,\r\n      borderTopLeftRadius: 0,\r\n      borderBottomLeftRadius: 0,\r\n      width: \"49.5%\",\r\n      height: 55,\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n    },\r\n    btnTxt: {\r\n      fontSize: 20,\r\n      color: \"white\",\r\n    },\r\n    totalTxt: {\r\n      fontSize: 16,\r\n      marginBottom: 5,\r\n      color: \"rgba(255,255,255,1)\",\r\n      fontWeight: \"600\",\r\n    },\r\n    totalTxtPrice: {\r\n      fontSize: 16,\r\n      marginBottom: 5,\r\n      color: \"rgba(255,255,255,1)\",\r\n      fontWeight: \"600\",\r\n    },\r\n    bigButton: {\r\n      backgroundColor: \"rgba(51,81,243,1)\",\r\n      borderRadius: 30,\r\n      width: \"98%\",\r\n      height: 55,\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n    },\r\n    innerTxt: {\r\n      fontSize: 13,\r\n      marginBottom: 10,\r\n    },\r\n    headerTxt: {\r\n      fontSize: 15,\r\n      fontWeight: \"600\",\r\n    },\r\n  });\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}