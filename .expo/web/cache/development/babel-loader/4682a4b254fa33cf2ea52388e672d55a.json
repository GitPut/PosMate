{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { Button, TextInput } from \"@react-native-material/core\";\nimport DropDown from \"./DropDown\";\nimport { userStoreState } from \"../state/state\";\nimport { updateData } from \"../state/firebaseFunctions\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar MyListItem = function MyListItem(_ref) {\n  var item = _ref.item,\n    index = _ref.index,\n    setnewProduct = _ref.setnewProduct,\n    newProduct = _ref.newProduct,\n    newProductOptions = _ref.newProductOptions,\n    flatListRef = _ref.flatListRef,\n    yPosition = _ref.yPosition,\n    indexOn = _ref.indexOn,\n    setindexOn = _ref.setindexOn;\n  var memoizedItem = useMemo(function () {\n    return item;\n  }, [item]);\n  if (indexOn !== index) {\n    return _jsxs(TouchableOpacity, {\n      onPress: function onPress() {\n        return setindexOn(index);\n      },\n      style: {\n        padding: 25,\n        margin: 15,\n        backgroundColor: \"lightgrey\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\"\n      },\n      children: [_jsx(Text, {\n        children: memoizedItem.label\n      }), _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          newProductOptions.current.push(_objectSpread(_objectSpread({}, memoizedItem), {}, {\n            label: memoizedItem.label + \" Copy\"\n          }));\n          setnewProduct(function (prevState) {\n            return _objectSpread(_objectSpread({}, prevState), {}, {\n              options: newProductOptions.current\n            });\n          });\n          setindexOn(newProductOptions.current.length - 1);\n          flatListRef.current.scrollToIndex({\n            offset: newProductOptions.current.length - 1,\n            animated: true\n          });\n        },\n        children: _jsx(Text, {\n          style: {\n            marginBottom: 25,\n            fontWeight: \"700\",\n            color: \"red\"\n          },\n          children: \"Copy\"\n        })\n      }), _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          newProductOptions.current.splice(index, 1);\n          setnewProduct(function (prevState) {\n            return _objectSpread(_objectSpread({}, prevState), {}, {\n              options: newProductOptions.current\n            });\n          });\n          setindexOn(indexOn - 1);\n          flatListRef.current.scrollToIndex({\n            offset: indexOn - 1,\n            animated: true\n          });\n        },\n        children: _jsx(Text, {\n          style: {\n            marginBottom: 25,\n            fontWeight: \"700\",\n            color: \"red\"\n          },\n          children: \"X\"\n        })\n      })]\n    });\n  } else {\n    var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      optionLblsValues = _useState2[0],\n      setoptionLblsValues = _useState2[1];\n    var _useState3 = useState(memoizedItem),\n      _useState4 = _slicedToArray(_useState3, 2),\n      e = _useState4[0],\n      sete = _useState4[1];\n    var optionLbls = newProduct.options.map(function (el) {\n      if (el.label !== e.label && el.label !== null) {\n        return el.label;\n      }\n    });\n    useEffect(function () {\n      if (e.selectedCaseKey !== null) {\n        var local = newProduct.options.filter(function (localE) {\n          return localE.label == e.selectedCaseKey;\n        });\n        var optionLblsValuesLocal = local[0].optionsList.map(function (el) {\n          return el.label;\n        });\n        setoptionLblsValues(optionLblsValuesLocal);\n      }\n    }, [e]);\n    return _jsx(View, {\n      children: _jsxs(View, {\n        style: {\n          padding: 25,\n          margin: 15,\n          backgroundColor: \"lightgrey\"\n        },\n        children: [_jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            newProductOptions.current.push(_objectSpread(_objectSpread({}, e), {}, {\n              label: e.label + \" Copy\"\n            }));\n            setnewProduct(function (prevState) {\n              return _objectSpread(_objectSpread({}, prevState), {}, {\n                options: newProductOptions.current\n              });\n            });\n            flatListRef.current.scrollToOffset({\n              offset: yPosition,\n              animated: false\n            });\n          },\n          children: _jsx(Text, {\n            style: {\n              marginBottom: 25,\n              fontWeight: \"700\",\n              color: \"red\"\n            },\n            children: \"Copy\"\n          })\n        }), _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            newProductOptions.current.splice(index, 1);\n            setnewProduct(function (prevState) {\n              return _objectSpread(_objectSpread({}, prevState), {}, {\n                options: newProductOptions.current\n              });\n            });\n            flatListRef.current.scrollToOffset({\n              offset: yPosition,\n              animated: false\n            });\n          },\n          children: _jsx(Text, {\n            style: {\n              marginBottom: 25,\n              fontWeight: \"700\",\n              color: \"red\"\n            },\n            children: \"X\"\n          })\n        }), _jsx(TextInput, {\n          placeholder: \"Enter Select List Label\",\n          onChangeText: function onChangeText(val) {\n            sete(function (prevState) {\n              return _objectSpread(_objectSpread({}, prevState), {}, {\n                label: val\n              });\n            });\n            newProductOptions.current[index].label = val;\n          },\n          value: e.label,\n          style: {\n            marginBottom: 25\n          }\n        }), _jsx(DropDown, {\n          label: \"Option Type\",\n          options: [\"Standard\", \"Dropdown\"],\n          setValue: function setValue(val) {\n            if (e.optionType) {\n              newProductOptions.current[index].optionType = val;\n            } else {\n              newProductOptions.current[index] = _objectSpread(_objectSpread({}, e), {}, {\n                optionType: val\n              });\n              console.log(newProductOptions.current[index].optionType);\n            }\n            setnewProduct(function (prevState) {\n              return _objectSpread(_objectSpread({}, prevState), {}, {\n                options: newProductOptions.current\n              });\n            });\n            flatListRef.current.scrollToOffset({\n              offset: yPosition,\n              animated: false\n            });\n          },\n          value: e.optionType,\n          style: {\n            marginBottom: 25\n          }\n        }), _jsx(TextInput, {\n          placeholder: \"Enter Number Of Selectable; If There Is\",\n          onChangeText: function onChangeText(val) {\n            sete(function (prevState) {\n              return _objectSpread(_objectSpread({}, prevState), {}, {\n                numOfSelectable: val\n              });\n            });\n            newProductOptions.current[index].numOfSelectable = val;\n          },\n          value: e.numOfSelectable,\n          style: {\n            marginBottom: 25\n          }\n        }), e.optionsList.map(function (eInnerListStart, indexInnerList) {\n          var _useState5 = useState(eInnerListStart),\n            _useState6 = _slicedToArray(_useState5, 2),\n            eInnerList = _useState6[0],\n            seteInnerList = _useState6[1];\n          return _jsxs(View, {\n            style: {\n              flexDirection: \"row\",\n              marginBottom: 25,\n              alignItems: \"center\"\n            },\n            children: [_jsx(TextInput, {\n              placeholder: \"Enter Option Label\",\n              onChangeText: function onChangeText(val) {\n                newProductOptions.current[index].optionsList[indexInnerList].label = val;\n                seteInnerList(function (prevState) {\n                  return _objectSpread(_objectSpread({}, prevState), {}, {\n                    label: val\n                  });\n                });\n              },\n              value: eInnerList.label\n            }), _jsx(TextInput, {\n              placeholder: \"Enter price increase\",\n              onChangeText: function onChangeText(val) {\n                newProductOptions.current[index].optionsList[indexInnerList].priceIncrease = val;\n                seteInnerList(function (prevState) {\n                  return _objectSpread(_objectSpread({}, prevState), {}, {\n                    priceIncrease: val\n                  });\n                });\n              },\n              value: eInnerList.priceIncrease,\n              style: {\n                marginLeft: 20,\n                marginRight: 20\n              }\n            }), _jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                newProductOptions.current[index].optionsList.splice(indexInnerList, 1);\n                setnewProduct(function (prevState) {\n                  return _objectSpread(_objectSpread({}, prevState), {}, {\n                    options: newProductOptions.current\n                  });\n                });\n                flatListRef.current.scrollToOffset({\n                  offset: yPosition,\n                  animated: false\n                });\n              },\n              children: _jsx(Text, {\n                style: {\n                  fontWeight: \"700\",\n                  color: \"red\"\n                },\n                children: \"X\"\n              })\n            })]\n          });\n        }), _jsx(Button, {\n          title: \"Add Option Choice\",\n          onPress: function onPress() {\n            newProductOptions.current[index].optionsList.push({\n              label: null,\n              priceIncrease: null\n            });\n            setnewProduct(function (prevState) {\n              return _objectSpread(_objectSpread({}, prevState), {}, {\n                options: newProductOptions.current\n              });\n            });\n            flatListRef.current.scrollToOffset({\n              offset: yPosition,\n              animated: false\n            });\n          },\n          style: {\n            marginBottom: 25\n          }\n        }), optionLbls.length > 1 && _jsxs(View, {\n          style: {\n            flexDirection: \"row\",\n            justifyContent: \"space-between\",\n            marginBottom: 25\n          },\n          children: [_jsx(DropDown, {\n            label: \"Show if...\",\n            options: optionLbls,\n            setValue: function setValue(val) {\n              sete(function (prevState) {\n                return _objectSpread(_objectSpread({}, prevState), {}, {\n                  selectedCaseKey: val\n                });\n              });\n              newProductOptions.current[index].selectedCaseKey = val;\n            },\n            value: e.selectedCaseKey,\n            style: {\n              marginBottom: 25\n            }\n          }), _jsx(Text, {\n            children: \"\\\"=\\\"\"\n          }), _jsx(DropDown, {\n            label: \"Show if...\",\n            options: optionLblsValues,\n            setValue: function setValue(val) {\n              sete(function (prevState) {\n                return _objectSpread(_objectSpread({}, prevState), {}, {\n                  selectedCaseValue: val\n                });\n              });\n              newProductOptions.current[index].selectedCaseValue = val;\n            },\n            value: e.selectedCaseValue,\n            style: {\n              marginBottom: 25\n            }\n          })]\n        })]\n      })\n    });\n  }\n};\nvar AddProduct = function AddProduct(_ref2) {\n  var route = _ref2.route,\n    navigation = _ref2.navigation;\n  var _route$params = route.params,\n    existingProduct = _route$params.existingProduct,\n    existingProductIndex = _route$params.existingProductIndex;\n  var catalog = userStoreState.use();\n  var _useState7 = useState(existingProduct ? existingProduct : {\n      name: null,\n      price: null,\n      catagory: null,\n      options: [],\n      description: null\n    }),\n    _useState8 = _slicedToArray(_useState7, 2),\n    newProduct = _useState8[0],\n    setnewProduct = _useState8[1];\n  var newProductOptions = useRef(existingProduct ? existingProduct.options : []);\n  var _useState9 = useState(0),\n    _useState10 = _slicedToArray(_useState9, 2),\n    indexOn = _useState10[0],\n    setindexOn = _useState10[1];\n  function handleDataUpdate(copyProductData) {\n    if (copyProductData) {\n      updateData(_toConsumableArray(catalog.categories), [].concat(_toConsumableArray(catalog.products), [copyProductData]));\n      navigation.goBack();\n    } else if (existingProduct) {\n      var copy = structuredClone(catalog.products);\n      var newProductUseRef = _objectSpread(_objectSpread({}, newProduct), {}, {\n        options: newProductOptions.current\n      });\n      copy[existingProductIndex] = newProductUseRef;\n      updateData(_toConsumableArray(catalog.categories), copy);\n      navigation.goBack();\n    } else {\n      updateData(_toConsumableArray(catalog.categories), [].concat(_toConsumableArray(catalog.products), [newProduct]));\n      navigation.goBack();\n    }\n  }\n  var flatListRef = useRef(null);\n  var _useState11 = useState(0),\n    _useState12 = _slicedToArray(_useState11, 2),\n    yPosition = _useState12[0],\n    setYPosition = _useState12[1];\n\n  var getItemLayout = function getItemLayout(data, index) {\n    return {\n      length: 400,\n      offset: 400 * index,\n      index: index\n    };\n  };\n  useEffect(function () {\n    flatListRef.current.scrollToIndex({\n      index: indexOn,\n      animated: true\n    });\n  }, [indexOn]);\n  var OptionsAddingSection = function OptionsAddingSection() {\n    return _jsxs(View, {\n      children: [_jsx(FlatList, {\n        ref: flatListRef,\n        getItemLayout: getItemLayout,\n        initialNumToRender: 5,\n        maxToRenderPerBatch: 10,\n        windowSize: 10,\n        data: newProduct.options,\n        keyExtractor: function keyExtractor(item) {\n          var _item$id;\n          return (_item$id = item.id) == null ? void 0 : _item$id.toString();\n        },\n        renderItem: function renderItem(_ref3) {\n          var item = _ref3.item,\n            index = _ref3.index;\n          return _jsx(MyListItem, {\n            item: item,\n            index: index,\n            newProduct: newProduct,\n            setnewProduct: setnewProduct,\n            newProductOptions: newProductOptions,\n            flatListRef: flatListRef,\n            yPosition: yPosition,\n            indexOn: indexOn,\n            setindexOn: setindexOn\n          });\n        }\n      }), _jsx(Button, {\n        title: \"Add Product Option\",\n        onPress: function onPress() {\n          newProductOptions.current.push({\n            label: null,\n            optionsList: [],\n            selectedCaseKey: null,\n            selectedCaseValue: null,\n            numOfSelectable: null,\n            id: Math.random().toString(36).substr(2, 9),\n            optionType: null\n          });\n          setnewProduct(function (prevState) {\n            return _objectSpread(_objectSpread({}, prevState), {}, {\n              options: newProductOptions.current\n            });\n          });\n          flatListRef.current.scrollToOffset({\n            offset: yPosition,\n            animated: false\n          });\n        },\n        style: {\n          marginBottom: 25\n        }\n      })]\n    });\n  };\n  return _jsx(ScrollView, {\n    style: {\n      width: \"100%\",\n      height: \"100%\",\n      flex: 1\n    },\n    contentContainerStyle: {\n      width: \"93%\",\n      alignSelf: \"center\",\n      marginTop: 25\n    },\n    children: _jsxs(_Fragment, {\n      children: [_jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          padding: 20,\n          justifyContent: \"space-between\",\n          alignItems: \"center\"\n        },\n        children: [_jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            return navigation.goBack();\n          },\n          children: _jsx(Text, {\n            style: {\n              marginBottom: 25,\n              fontWeight: \"700\",\n              color: \"red\"\n            },\n            children: \"X\"\n          })\n        }), _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            var copy = structuredClone(newProduct);\n            copy.name = copy.name + \" Copy\";\n            handleDataUpdate(copy);\n          },\n          children: _jsx(Text, {\n            style: {\n              marginBottom: 25,\n              fontWeight: \"700\",\n              color: \"red\"\n            },\n            children: \"Copy\"\n          })\n        }), _jsx(Text, {\n          style: {\n            marginBottom: 25\n          },\n          children: \"AddProduct\"\n        })]\n      }), _jsx(TextInput, {\n        placeholder: \"Enter Product Name\",\n        onChangeText: function onChangeText(val) {\n          setnewProduct(function (prevState) {\n            return _objectSpread(_objectSpread({}, prevState), {}, {\n              name: val\n            });\n          });\n        },\n        value: newProduct.name,\n        style: {\n          marginBottom: 25\n        }\n      }), _jsx(TextInput, {\n        placeholder: \"Enter any other items that come with this\",\n        onChangeText: function onChangeText(val) {\n          setnewProduct(function (prevState) {\n            return _objectSpread(_objectSpread({}, prevState), {}, {\n              description: val\n            });\n          });\n        },\n        style: {\n          marginBottom: 25\n        },\n        value: newProduct.description\n      }), _jsx(TextInput, {\n        placeholder: \"Enter Product Price\",\n        onChangeText: function onChangeText(val) {\n          setnewProduct(function (prevState) {\n            return _objectSpread(_objectSpread({}, prevState), {}, {\n              price: val\n            });\n          });\n        },\n        style: {\n          marginBottom: 25\n        },\n        value: newProduct.price\n      }), _jsx(DropDown, {\n        label: \"Choose catagory\",\n        options: catalog.categories,\n        setValue: function setValue(val) {\n          setnewProduct(function (prevState) {\n            return _objectSpread(_objectSpread({}, prevState), {}, {\n              catagory: val\n            });\n          });\n        },\n        value: newProduct.catagory,\n        style: {\n          marginBottom: 25\n        }\n      }), _jsx(OptionsAddingSection, {}), _jsx(Button, {\n        title: \"Add/Save Product\",\n        onPress: function onPress() {\n          handleDataUpdate();\n        },\n        style: {\n          marginBottom: 25,\n          marginTop: 25,\n          backgroundColor: \"lightgreen\"\n        }\n      })]\n    })\n  });\n};\nexport default AddProduct;\nvar styles = StyleSheet.create({});","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","Button","TextInput","DropDown","userStoreState","updateData","MyListItem","item","index","setnewProduct","newProduct","newProductOptions","flatListRef","yPosition","indexOn","setindexOn","memoizedItem","padding","margin","backgroundColor","flexDirection","justifyContent","label","current","push","prevState","options","length","scrollToIndex","offset","animated","marginBottom","fontWeight","color","splice","optionLblsValues","setoptionLblsValues","e","sete","optionLbls","map","el","selectedCaseKey","local","filter","localE","optionLblsValuesLocal","optionsList","scrollToOffset","val","optionType","console","log","numOfSelectable","eInnerListStart","indexInnerList","eInnerList","seteInnerList","alignItems","priceIncrease","marginLeft","marginRight","selectedCaseValue","AddProduct","route","navigation","params","existingProduct","existingProductIndex","catalog","use","name","price","catagory","description","handleDataUpdate","copyProductData","categories","products","goBack","copy","structuredClone","newProductUseRef","setYPosition","getItemLayout","data","OptionsAddingSection","id","toString","Math","random","substr","width","height","flex","alignSelf","marginTop","styles","StyleSheet","create"],"sources":["/Users/peterputros/Desktop/PosMate-1/components/TestAdd.tsx"],"sourcesContent":["import {\n  FlatList,\n  ScrollView,\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  View,\n} from \"react-native\";\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { Button, TextInput } from \"@react-native-material/core\";\nimport DropDown from \"./DropDown\";\nimport { userStoreState } from \"state/state\";\nimport { updateData } from \"state/firebaseFunctions\";\n\nconst MyListItem = ({\n  item,\n  index,\n  setnewProduct,\n  newProduct,\n  newProductOptions,\n  flatListRef,\n  yPosition,\n  indexOn,\n  setindexOn,\n}) => {\n  const memoizedItem = useMemo(() => item, [item]);\n\n  if (indexOn !== index) {\n    return (\n      <TouchableOpacity\n        onPress={() => setindexOn(index)}\n        style={{\n          padding: 25,\n          margin: 15,\n          backgroundColor: \"lightgrey\",\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n        }}\n      >\n        <Text>{memoizedItem.label}</Text>\n        <TouchableOpacity\n          onPress={() => {\n            newProductOptions.current.push({\n              ...memoizedItem,\n              label: memoizedItem.label + \" Copy\",\n            });\n            setnewProduct((prevState) => ({\n              ...prevState,\n              options: newProductOptions.current,\n            }));\n            setindexOn(newProductOptions.current.length - 1);\n            flatListRef.current.scrollToIndex({\n              offset: newProductOptions.current.length - 1,\n              animated: true,\n            });\n          }}\n        >\n          <Text\n            style={{\n              marginBottom: 25,\n              fontWeight: \"700\",\n              color: \"red\",\n            }}\n          >\n            Copy\n          </Text>\n        </TouchableOpacity>\n        <TouchableOpacity\n          onPress={() => {\n            newProductOptions.current.splice(index, 1);\n\n            setnewProduct((prevState) => ({\n              ...prevState,\n              options: newProductOptions.current,\n            }));\n           setindexOn(indexOn - 1);\n           flatListRef.current.scrollToIndex({\n             offset: indexOn - 1,\n             animated: true,\n           });\n          }}\n        >\n          <Text\n            style={{\n              marginBottom: 25,\n              fontWeight: \"700\",\n              color: \"red\",\n            }}\n          >\n            X\n          </Text>\n        </TouchableOpacity>\n      </TouchableOpacity>\n    );\n  } else {\n    const [optionLblsValues, setoptionLblsValues] = useState([]);\n    const [e, sete] = useState(memoizedItem);\n    var optionLbls = newProduct.options.map(function (el) {\n      if (el.label !== e.label && el.label !== null) {\n        return el.label;\n      }\n    });\n\n    useEffect(() => {\n      if (e.selectedCaseKey !== null) {\n        const local = newProduct.options.filter(\n          (localE) => localE.label == e.selectedCaseKey\n        );\n        const optionLblsValuesLocal = local[0].optionsList.map(function (el) {\n          return el.label;\n        });\n        setoptionLblsValues(optionLblsValuesLocal);\n      }\n    }, [e]);\n\n    return (\n      <View>\n        <View\n          style={{\n            padding: 25,\n            margin: 15,\n            backgroundColor: \"lightgrey\",\n          }}\n        >\n          <TouchableOpacity\n            onPress={() => {\n              newProductOptions.current.push({\n                ...e,\n                label: e.label + \" Copy\",\n              });\n              setnewProduct((prevState) => ({\n                ...prevState,\n                options: newProductOptions.current,\n              }));\n              flatListRef.current.scrollToOffset({\n                offset: yPosition,\n                animated: false,\n              });\n            }}\n          >\n            <Text\n              style={{\n                marginBottom: 25,\n                fontWeight: \"700\",\n                color: \"red\",\n              }}\n            >\n              Copy\n            </Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            onPress={() => {\n              newProductOptions.current.splice(index, 1);\n\n              setnewProduct((prevState) => ({\n                ...prevState,\n                options: newProductOptions.current,\n              }));\n              flatListRef.current.scrollToOffset({\n                offset: yPosition,\n                animated: false,\n              });\n            }}\n          >\n            <Text\n              style={{\n                marginBottom: 25,\n                fontWeight: \"700\",\n                color: \"red\",\n              }}\n            >\n              X\n            </Text>\n          </TouchableOpacity>\n          <TextInput\n            placeholder=\"Enter Select List Label\"\n            onChangeText={(val) => {\n              sete((prevState) => ({ ...prevState, label: val }));\n              newProductOptions.current[index].label = val;\n            }}\n            value={e.label}\n            style={{ marginBottom: 25 }}\n          />\n          {/* optionType */}\n          <DropDown\n            label=\"Option Type\"\n            options={[\"Standard\", \"Dropdown\"]}\n            setValue={(val) => {\n              // sete((prevState) => ({\n              //   ...prevState,\n              //   optionType: val,\n              // }));\n              if (e.optionType) {\n                newProductOptions.current[index].optionType = val;\n              } else {\n                newProductOptions.current[index] = { ...e, optionType: val };\n                console.log(newProductOptions.current[index].optionType);\n              }\n              setnewProduct((prevState) => ({\n                ...prevState,\n                options: newProductOptions.current,\n              }));\n              flatListRef.current.scrollToOffset({\n                offset: yPosition,\n                animated: false,\n              });\n            }}\n            value={e.optionType}\n            style={{ marginBottom: 25 }}\n          />\n          <TextInput\n            placeholder=\"Enter Number Of Selectable; If There Is\"\n            onChangeText={(val) => {\n              sete((prevState) => ({ ...prevState, numOfSelectable: val }));\n              newProductOptions.current[index].numOfSelectable = val;\n            }}\n            value={e.numOfSelectable}\n            style={{ marginBottom: 25 }}\n          />\n          {e.optionsList.map((eInnerListStart, indexInnerList) => {\n            const [eInnerList, seteInnerList] = useState(eInnerListStart);\n            return (\n              <View\n                style={{\n                  flexDirection: \"row\",\n                  marginBottom: 25,\n                  alignItems: \"center\",\n                }}\n              >\n                <TextInput\n                  placeholder=\"Enter Option Label\"\n                  onChangeText={(val) => {\n                    newProductOptions.current[index].optionsList[\n                      indexInnerList\n                    ].label = val;\n                    seteInnerList((prevState) => ({\n                      ...prevState,\n                      label: val,\n                    }));\n                  }}\n                  value={eInnerList.label}\n                />\n                <TextInput\n                  placeholder=\"Enter price increase\"\n                  onChangeText={(val) => {\n                    newProductOptions.current[index].optionsList[\n                      indexInnerList\n                    ].priceIncrease = val;\n                    seteInnerList((prevState) => ({\n                      ...prevState,\n                      priceIncrease: val,\n                    }));\n                  }}\n                  value={eInnerList.priceIncrease}\n                  style={{ marginLeft: 20, marginRight: 20 }}\n                />\n                <TouchableOpacity\n                  onPress={() => {\n                    newProductOptions.current[index].optionsList.splice(\n                      indexInnerList,\n                      1\n                    );\n                    setnewProduct((prevState) => ({\n                      ...prevState,\n                      options: newProductOptions.current,\n                    }));\n                    flatListRef.current.scrollToOffset({\n                      offset: yPosition,\n                      animated: false,\n                    });\n                  }}\n                >\n                  <Text\n                    style={{\n                      fontWeight: \"700\",\n                      color: \"red\",\n                    }}\n                  >\n                    X\n                  </Text>\n                </TouchableOpacity>\n              </View>\n            );\n          })}\n          <Button\n            title=\"Add Option Choice\"\n            onPress={() => {\n              newProductOptions.current[index].optionsList.push({\n                label: null,\n                priceIncrease: null,\n              });\n              setnewProduct((prevState) => ({\n                ...prevState,\n                options: newProductOptions.current,\n              }));\n              flatListRef.current.scrollToOffset({\n                offset: yPosition,\n                animated: false,\n              });\n            }}\n            style={{ marginBottom: 25 }}\n          />\n          {optionLbls.length > 1 && (\n            <View\n              style={{\n                flexDirection: \"row\",\n                justifyContent: \"space-between\",\n                marginBottom: 25,\n              }}\n            >\n              <DropDown\n                label=\"Show if...\"\n                options={optionLbls}\n                setValue={(val) => {\n                  sete((prevState) => ({ ...prevState, selectedCaseKey: val }));\n                  newProductOptions.current[index].selectedCaseKey = val;\n                }}\n                value={e.selectedCaseKey}\n                style={{ marginBottom: 25 }}\n              />\n              <Text>\"=\"</Text>\n              <DropDown\n                label=\"Show if...\"\n                options={optionLblsValues}\n                setValue={(val) => {\n                  sete((prevState) => ({\n                    ...prevState,\n                    selectedCaseValue: val,\n                  }));\n                  newProductOptions.current[index].selectedCaseValue = val;\n                }}\n                value={e.selectedCaseValue}\n                style={{ marginBottom: 25 }}\n              />\n            </View>\n          )}\n        </View>\n      </View>\n    );\n  }\n};\n\nconst AddProduct = ({ route, navigation }) => {\n  const { existingProduct, existingProductIndex } = route.params;\n  const catalog = userStoreState.use();\n  const [newProduct, setnewProduct] = useState(\n    existingProduct\n      ? existingProduct\n      : {\n          name: null,\n          price: null,\n          catagory: null,\n          options: [],\n          description: null,\n        }\n  );\n  const newProductOptions = useRef(\n    existingProduct ? existingProduct.options : []\n  );\n  const [indexOn, setindexOn] = useState(0);\n\n  function handleDataUpdate(copyProductData) {\n    if (copyProductData) {\n      updateData(\n        [...catalog.categories],\n        [...catalog.products, copyProductData]\n      );\n      navigation.goBack();\n    } else if (existingProduct) {\n      let copy = structuredClone(catalog.products);\n      const newProductUseRef = {\n        ...newProduct,\n        options: newProductOptions.current,\n      };\n      copy[existingProductIndex] = newProductUseRef;\n      updateData([...catalog.categories], copy);\n      navigation.goBack();\n    } else {\n      updateData([...catalog.categories], [...catalog.products, newProduct]);\n      navigation.goBack();\n    }\n  }\n\n  const flatListRef = useRef(null);\n  const [yPosition, setYPosition] = useState(0);\n\n  // we set the height of item is fixed\n  const getItemLayout = (data, index) => ({\n    length: 400,\n    offset: 400 * index,\n    index,\n  });\n\n  useEffect(() => {\n    flatListRef.current.scrollToIndex({ index: indexOn, animated: true });\n  }, [indexOn]);\n\n  const OptionsAddingSection = () => {\n    return (\n      <View>\n        <FlatList\n          ref={flatListRef}\n          getItemLayout={getItemLayout}\n          initialNumToRender={5}\n          maxToRenderPerBatch={10}\n          windowSize={10}\n          data={newProduct.options}\n          keyExtractor={(item) => item.id?.toString()}\n          renderItem={({ item, index }) => (\n            <MyListItem\n              item={item}\n              index={index}\n              newProduct={newProduct}\n              setnewProduct={setnewProduct}\n              newProductOptions={newProductOptions}\n              flatListRef={flatListRef}\n              yPosition={yPosition}\n              indexOn={indexOn}\n              setindexOn={setindexOn}\n            />\n          )}\n        />\n        <Button\n          title=\"Add Product Option\"\n          onPress={() => {\n            newProductOptions.current.push({\n              label: null,\n              optionsList: [],\n              selectedCaseKey: null,\n              selectedCaseValue: null,\n              numOfSelectable: null,\n              id: Math.random().toString(36).substr(2, 9),\n              optionType: null,\n            });\n            setnewProduct((prevState) => ({\n              ...prevState,\n              options: newProductOptions.current,\n            }));\n            flatListRef.current.scrollToOffset({\n              offset: yPosition,\n              animated: false,\n            });\n          }}\n          style={{ marginBottom: 25 }}\n        />\n      </View>\n    );\n  };\n\n  return (\n    <ScrollView\n      style={{ width: \"100%\", height: \"100%\", flex: 1 }}\n      contentContainerStyle={{\n        width: \"93%\",\n        alignSelf: \"center\",\n        marginTop: 25,\n      }}\n    >\n      <>\n        <View\n          style={{\n            flexDirection: \"row\",\n            padding: 20,\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n          }}\n        >\n          <TouchableOpacity onPress={() => navigation.goBack()}>\n            <Text style={{ marginBottom: 25, fontWeight: \"700\", color: \"red\" }}>\n              X\n            </Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            onPress={() => {\n              let copy = structuredClone(newProduct);\n              copy.name = copy.name + \" Copy\";\n              handleDataUpdate(copy);\n            }}\n          >\n            <Text style={{ marginBottom: 25, fontWeight: \"700\", color: \"red\" }}>\n              Copy\n            </Text>\n          </TouchableOpacity>\n          <Text style={{ marginBottom: 25 }}>AddProduct</Text>\n        </View>\n        <TextInput\n          placeholder=\"Enter Product Name\"\n          onChangeText={(val) => {\n            setnewProduct((prevState) => ({ ...prevState, name: val }));\n          }}\n          value={newProduct.name}\n          style={{ marginBottom: 25 }}\n        />\n        <TextInput\n          placeholder=\"Enter any other items that come with this\"\n          onChangeText={(val) => {\n            setnewProduct((prevState) => ({ ...prevState, description: val }));\n          }}\n          style={{ marginBottom: 25 }}\n          value={newProduct.description}\n        />\n        <TextInput\n          placeholder=\"Enter Product Price\"\n          onChangeText={(val) => {\n            setnewProduct((prevState) => ({ ...prevState, price: val }));\n          }}\n          style={{ marginBottom: 25 }}\n          value={newProduct.price}\n        />\n        <DropDown\n          label=\"Choose catagory\"\n          options={catalog.categories}\n          setValue={(val) => {\n            setnewProduct((prevState) => ({ ...prevState, catagory: val }));\n          }}\n          value={newProduct.catagory}\n          style={{ marginBottom: 25 }}\n        />\n        <OptionsAddingSection />\n        <Button\n          title=\"Add/Save Product\"\n          onPress={() => {\n            handleDataUpdate();\n          }}\n          style={{\n            marginBottom: 25,\n            marginTop: 25,\n            backgroundColor: \"lightgreen\",\n          }}\n        />\n      </>\n    </ScrollView>\n  );\n};\n\nexport default AddProduct;\n\nconst styles = StyleSheet.create({});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}