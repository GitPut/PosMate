{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Text } from \"@react-native-material/core\";\nimport { storeDetailState, transListState } from \"../../state/state\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ViewTransactions = function ViewTransactions() {\n  var local = transListState.use();\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    transList = _useState2[0],\n    settransList = _useState2[1];\n  var today = new Date();\n  var _useState3 = useState({\n      todaysReceiptValue: 0,\n      todaysReceipts: 0\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    todaysDetails = _useState4[0],\n    setTodaysDetails = _useState4[1];\n  var storeDetails = storeDetailState.use();\n  useEffect(function () {\n    local.sort(function (a, b) {\n      if (a.date && b.date) {\n        return a.date.seconds - b.date.seconds;\n      } else if (a.date && b.date_created) {\n        var bDate = new Date(b.date_created).getTime() / 1000;\n        return a.date.seconds - bDate;\n      } else if (a.date_created && b.date) {\n        var aDate = new Date(a.date_created).getTime() / 1000;\n        return aDate - b.date.seconds;\n      } else {\n        var _aDate = new Date(a.date_created).getTime() / 1000;\n        var _bDate = new Date(b.date_created).getTime() / 1000;\n        return _aDate - _bDate;\n      }\n    }).reverse();\n    settransList(local);\n    var todaysReceiptValue = local.reduce(function (accumulator, current) {\n      var date;\n      if (current.date) {\n        date = new Date(current.date.seconds * 1000);\n      } else {\n        date = new Date(current.date_created);\n      }\n\n      if (date.toLocaleDateString() === today.toLocaleDateString()) {\n        return accumulator + parseFloat(current.total);\n      } else {\n        return accumulator;\n      }\n    }, 0);\n    var todaysReceipts = local.reduce(function (accumulator, current) {\n      var date;\n      if (current.date) {\n        date = new Date(current.date.seconds * 1000);\n      } else {\n        date = new Date(current.date_created);\n      }\n      if (date.toLocaleDateString() === today.toLocaleDateString()) {\n        return accumulator + 1;\n      } else {\n        return accumulator;\n      }\n    }, 0);\n    setTodaysDetails({\n      todaysReceiptValue: todaysReceiptValue.toFixed(2),\n      todaysReceipts: todaysReceipts\n    });\n  }, []);\n  var PrintTodaysTotal = function PrintTodaysTotal() {\n    var data = [\"\\x1B\" + \"\\x40\",\n    \"\\x1B\" + \"\\x61\" + \"\\x31\",\n    storeDetails.name, \"\\x0A\", storeDetails.address + \"\\x0A\", storeDetails.website + \"\\x0A\",\n    storeDetails.phoneNumber + \"\\x0A\",\n    today.toLocaleDateString() + \" \" + today.toLocaleTimeString() + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\",\n    \"\\x0A\" + \"\\x0A\", \"Number Of Receipts: \" + todaysDetails.todaysReceipts + \"\\x0A\" + \"\\x0A\", \"Sub-Total: \" + \"$\" + (todaysDetails.todaysReceiptValue / 1.13).toFixed(2) + \"\\x0A\" + \"\\x0A\", \"Tax: \" + \"$\" + (todaysDetails.todaysReceiptValue / 1.13 * 0.13).toFixed(2) + \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + \"$\" + todaysDetails.todaysReceiptValue + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n    \"\\x0A\",\n    \"\\x0A\",\n    \"\\x0A\",\n    \"\\x0A\",\n    \"\\x0A\",\n    \"\\x1D\" + \"\\x56\" + \"\\x00\", \"\\x1D\" + \"\\x56\" + \"\\x30\"];\n    fetch(\"http://localhost:8080/print\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        printData: data,\n        comSelected: storeDetails.comSelected\n      })\n    }).then(function (response) {\n      return response.json();\n    }).then(function (respData) {\n      console.log(respData);\n    }).catch(function (e) {\n      return alert(\"Error with printer\");\n    });\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: {\n        textAlign: \"center\",\n        margin: 25\n      },\n      children: \"List Of Transactions\"\n    }), _jsxs(View, {\n      style: {\n        flexDirection: \"row\",\n        width: \"100%\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n      },\n      children: [_jsxs(Text, {\n        style: {\n          textAlign: \"center\",\n          margin: 25\n        },\n        children: [\"Todays Total Price: \", todaysDetails.todaysReceiptValue]\n      }), _jsx(Button, {\n        style: {\n          height: 40,\n          alignItems: \"center\",\n          justifyContent: \"center\"\n        },\n        title: \"Print Todays Receipts\",\n        onPress: PrintTodaysTotal\n      }), _jsxs(Text, {\n        style: {\n          textAlign: \"center\",\n          margin: 25\n        },\n        children: [\"Todays Total Receipts: \", todaysDetails.todaysReceipts]\n      })]\n    }), _jsx(View, {\n      style: styles.contentContainer,\n      children: transList ? transList == null ? void 0 : transList.map(function (element, index) {\n        var _element$cart, _element$line_items;\n\n        var date = element.date ? new Date(element.date.seconds * 1000) : element.date_created ? new Date(element.date_created) : null;\n        return _jsxs(View, {\n          style: {\n            backgroundColor: \"grey\",\n            padding: 30,\n            margin: 10\n          },\n          children: [_jsx(Text, {\n            children: date.toLocaleString()\n          }), (_element$cart = element.cart) == null ? void 0 : _element$cart.map(function (cartItem, index) {\n            var _cartItem$options;\n            return _jsxs(View, {\n              style: {\n                marginBottom: 20\n              },\n              children: [_jsxs(Text, {\n                children: [\"Name: \", cartItem.name]\n              }), _jsxs(Text, {\n                children: [\"Quantity: \", cartItem.quantity]\n              }), _jsxs(Text, {\n                children: [\"Price: \", cartItem.price]\n              }), cartItem.options && ((_cartItem$options = cartItem.options) == null ? void 0 : _cartItem$options.map(function (option) {\n                return _jsx(Text, {\n                  children: option\n                });\n              }))]\n            }, index);\n          }), (_element$line_items = element.line_items) == null ? void 0 : _element$line_items.map(function (cartItem, index) {\n            var _cartItem$meta_data;\n            return _jsxs(View, {\n              style: {\n                marginBottom: 20\n              },\n              children: [_jsxs(Text, {\n                children: [\"Name: \", cartItem.name]\n              }), _jsxs(Text, {\n                children: [\"Quantity: \", cartItem.quantity]\n              }), _jsxs(Text, {\n                children: [\"Price: \", cartItem.price]\n              }), (_cartItem$meta_data = cartItem.meta_data) == null ? void 0 : _cartItem$meta_data.map(function (meta, index) {\n                if (index === cartItem.meta_data.length - 1) return;\n                return _jsx(Text, {\n                  children: meta.key + \" : \" + meta.value\n                });\n              })]\n            }, index);\n          }), _jsx(Button, {\n            title: \"Print\",\n            onPress: function onPress() {\n              if (element.date) {\n                var _element$cart2;\n                var total = 0;\n                var data = [\"\\x1B\" + \"\\x40\",\n                \"\\x1B\" + \"\\x61\" + \"\\x31\",\n                storeDetails.name, \"\\x0A\", storeDetails.address + \"\\x0A\", storeDetails.website + \"\\x0A\",\n                storeDetails.phoneNumber + \"\\x0A\",\n                date.toLocaleDateString() + \" \" + date.toLocaleTimeString() + \"\\x0A\", \"\\x0A\", \"Transaction # \" + element.transNum + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\"];\n\n                (_element$cart2 = element.cart) == null ? void 0 : _element$cart2.map(function (cartItem) {\n                  total += parseFloat(cartItem.price);\n                  data.push(\"Name: \" + cartItem.name);\n                  data.push(\"\\x0A\");\n                  data.push(\"Price: $\" + cartItem.price);\n                  if (cartItem.options) {\n                    var _cartItem$options2;\n                    data.push(\"\\x0A\");\n                    (_cartItem$options2 = cartItem.options) == null ? void 0 : _cartItem$options2.map(function (option) {\n                      data.push(option);\n                      data.push(\"\\x0A\");\n                    });\n                  }\n                  data.push(\"\\x0A\" + \"\\x0A\");\n                });\n                total = total * 1.13;\n                total = total.toFixed(2);\n\n                data.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + \"$\" + total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n                \"\\x0A\",\n                \"\\x0A\",\n                \"\\x0A\",\n                \"\\x0A\",\n                \"\\x0A\",\n                \"\\x1D\" + \"\\x56\" + \"\\x30\");\n                fetch(\"http://localhost:8080/print\", {\n                  method: \"POST\",\n                  headers: {\n                    \"Content-Type\": \"application/json\"\n                  },\n                  body: JSON.stringify({\n                    printData: data,\n                    comSelected: storeDetails.comSelected\n                  })\n                }).then(function (response) {\n                  return response.json();\n                }).then(function (respData) {\n                  console.log(respData);\n                }).catch(function (e) {\n                  return alert(\"Error with printer\");\n                });\n              } else {\n                var _element$line_items2;\n                var printData = [];\n                printData.push(\"\\x1B\" + \"\\x40\",\n                \"\\x1B\" + \"\\x61\" + \"\\x31\",\n                storeDetails.name, \"\\x0A\", storeDetails.address + \"\\x0A\", storeDetails.website + \"\\x0A\",\n                storeDetails.phoneNumber + \"\\x0A\",\n                element.date_created + \"\\x0A\", \"\\x0A\", \"Online Order\" + \"\\x0A\",\n                \"Transaction # \" + element.number + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\");\n\n                (_element$line_items2 = element.line_items) == null ? void 0 : _element$line_items2.map(function (cartItem) {\n                  printData.push(\"\\x0A\");\n                  printData.push(\"Name: \" + cartItem.name);\n                  printData.push(\"\\x0A\");\n                  printData.push(\"Quantity: \" + cartItem.quantity);\n                  printData.push(\"\\x0A\");\n                  printData.push(\"Price: $\" + cartItem.price);\n                  printData.push(\"\\x0A\");\n                  if (cartItem.meta_data) {\n                    var _cartItem$meta_data2;\n                    (_cartItem$meta_data2 = cartItem.meta_data) == null ? void 0 : _cartItem$meta_data2.map(function (meta, index) {\n                      if (index === 0) {\n                        printData.push(meta.key + \" : \" + meta.value);\n                        if (cartItem.meta_data[index + 1].key !== meta.key) {\n                          printData.push(\"\\x0A\");\n                        }\n                      } else {\n                        if (index !== cartItem.meta_data.length - 1) {\n                          if (cartItem.meta_data[index - 1].key === meta.key) {\n                            printData.push(\" , \" + meta.value);\n                          } else {\n                            printData.push(meta.key + \" : \" + meta.value);\n                          }\n                          if (cartItem.meta_data[index + 1].key !== meta.key) {\n                            printData.push(\"\\x0A\");\n                          }\n                        }\n                      }\n                    });\n                  } else {\n                    printData.push(\"\\x0A\" + \"\\x0A\");\n                  }\n                });\n                printData.push(\"\\x0A\");\n                printData.push(\"\\x0A\");\n                printData.push(\"Customer Details:\");\n                printData.push(\"\\x0A\");\n                printData.push(\"Address: \" + element.shipping.address_1);\n                printData.push(\"\\x0A\");\n                printData.push(\"City: \" + element.shipping.city);\n                printData.push(\"\\x0A\");\n                printData.push(\"Zip/Postal Code: \" + element.shipping.postcode);\n                printData.push(\"\\x0A\");\n                printData.push(\"Province/State: \" + element.shipping.state);\n                printData.push(\"\\x0A\");\n                printData.push(\"Name: \" + element.shipping.first_name + \" \" + element.shipping.last_name);\n                printData.push(\"\\x0A\");\n                element.shipping_lines.map(function (line) {\n                  return printData.push(\"Shipping Method: \" + line.method_title);\n                });\n                printData.push(\"\\x0A\");\n                printData.push(\"\\x0A\");\n                printData.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Payment Method: \" + element.payment_method_title + \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + \"$\" + (parseFloat(element.total) + parseFloat(element.total_tax)).toFixed(2) + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n                \"\\x0A\",\n                \"\\x0A\",\n                \"\\x0A\",\n                \"\\x0A\",\n                \"\\x0A\");\n\n                printData.push(\"\\x1D\" + \"\\x56\" + \"\\x00\");\n                fetch(\"http://localhost:8080/print\", {\n                  method: \"POST\",\n                  headers: {\n                    \"Content-Type\": \"application/json\"\n                  },\n                  body: JSON.stringify(printData)\n                }).then(function (response) {\n                  return response.json();\n                }).then(function (respData) {\n                  console.log(respData);\n                }).catch(function (e) {\n                  return alert(\"Error with printer\");\n                });\n              }\n            }\n          })]\n        }, index);\n      }) : _jsx(Text, {\n        children: \"No receipts yet\"\n      })\n    })]\n  });\n};\nexport default ViewTransactions;\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"white\",\n    flex: 1,\n    height: \"100%\"\n  },\n  contentContainer: {\n    flex: 1,\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-between\",\n    paddingLeft: 50,\n    paddingRight: 50,\n    paddingBottom: 50,\n    height: \"100%\",\n    width: \"100%\",\n    alignItems: \"center\"\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","Button","Text","storeDetailState","transListState","ViewTransactions","local","use","transList","settransList","today","Date","todaysReceiptValue","todaysReceipts","todaysDetails","setTodaysDetails","storeDetails","sort","a","b","date","seconds","date_created","bDate","getTime","aDate","reverse","reduce","accumulator","current","toLocaleDateString","parseFloat","total","toFixed","PrintTodaysTotal","data","name","address","website","phoneNumber","toLocaleTimeString","fetch","method","headers","body","JSON","stringify","printData","comSelected","then","response","json","respData","console","log","catch","e","alert","styles","container","textAlign","margin","flexDirection","width","alignItems","justifyContent","height","contentContainer","map","element","index","backgroundColor","padding","toLocaleString","cart","cartItem","marginBottom","quantity","price","options","option","line_items","meta_data","meta","length","key","value","transNum","push","number","shipping","address_1","city","postcode","state","first_name","last_name","shipping_lines","line","method_title","payment_method_title","total_tax","StyleSheet","create","flex","flexWrap","paddingLeft","paddingRight","paddingBottom"],"sources":["C:/Users/admin/OneDrive - George Brown College/Desktop/PosMate/screens/authed/ViewTransactions.tsx"],"sourcesContent":["import { ScrollView, StyleSheet, View } from \"react-native\";\r\nimport React, { useEffect, useLayoutEffect, useState } from \"react\";\r\nimport { Button, Text } from \"@react-native-material/core\";\r\nimport { storeDetailState, transListState } from \"state/state\";\r\n\r\nconst ViewTransactions = () => {\r\n  const local = transListState.use();\r\n  const [transList, settransList] = useState();\r\n  const today = new Date();\r\n  const [todaysDetails, setTodaysDetails] = useState({\r\n    todaysReceiptValue: 0,\r\n    todaysReceipts: 0,\r\n  });\r\n  const storeDetails = storeDetailState.use();\r\n\r\n  useEffect(() => {\r\n    local\r\n      .sort(function (a, b) {\r\n        if (a.date && b.date) {\r\n          return a.date.seconds - b.date.seconds;\r\n        } else if (a.date && b.date_created) {\r\n          const bDate = new Date(b.date_created).getTime() / 1000;\r\n          return a.date.seconds - bDate;\r\n        } else if (a.date_created && b.date) {\r\n          const aDate = new Date(a.date_created).getTime() / 1000;\r\n          return aDate - b.date.seconds;\r\n        } else {\r\n          const aDate = new Date(a.date_created).getTime() / 1000;\r\n          const bDate = new Date(b.date_created).getTime() / 1000;\r\n          return aDate - bDate;\r\n        }\r\n      })\r\n      .reverse();\r\n    settransList(local);\r\n    const todaysReceiptValue = local.reduce((accumulator, current) => {\r\n      let date;\r\n      if (current.date) {\r\n        date = new Date(current.date.seconds * 1000);\r\n      } else {\r\n        date = new Date(current.date_created);\r\n        // console.log(\"seconds is: \", date.getTime() / 1000);\r\n      }\r\n      if (date.toLocaleDateString() === today.toLocaleDateString()) {\r\n        return accumulator + parseFloat(current.total);\r\n      } else {\r\n        return accumulator;\r\n      }\r\n    }, 0);\r\n    const todaysReceipts = local.reduce((accumulator, current) => {\r\n      let date;\r\n      if (current.date) {\r\n        date = new Date(current.date.seconds * 1000);\r\n      } else {\r\n        date = new Date(current.date_created);\r\n      }\r\n\r\n      if (date.toLocaleDateString() === today.toLocaleDateString()) {\r\n        return accumulator + 1;\r\n      } else {\r\n        return accumulator;\r\n      }\r\n    }, 0);\r\n    setTodaysDetails({\r\n      todaysReceiptValue: todaysReceiptValue.toFixed(2),\r\n      todaysReceipts: todaysReceipts,\r\n    });\r\n  }, []);\r\n\r\n  const PrintTodaysTotal = () => {\r\n    let data = [\r\n      \"\\x1B\" + \"\\x40\", // init\r\n      \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\r\n      storeDetails.name,\r\n      \"\\x0A\",\r\n      storeDetails.address + \"\\x0A\",\r\n      storeDetails.website + \"\\x0A\", // text and line break\r\n      storeDetails.phoneNumber + \"\\x0A\", // text and line break\r\n      today.toLocaleDateString() + \" \" + today.toLocaleTimeString() + \"\\x0A\",\r\n      \"\\x0A\",\r\n      \"\\x0A\",\r\n      \"\\x0A\",\r\n      \"\\x0A\",\r\n      \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\r\n      \"\\x0A\" + \"\\x0A\",\r\n      \"Number Of Receipts: \" + todaysDetails.todaysReceipts + \"\\x0A\" + \"\\x0A\",\r\n      \"Sub-Total: \" +\r\n        \"$\" +\r\n        (todaysDetails.todaysReceiptValue / 1.13).toFixed(2) +\r\n        \"\\x0A\" +\r\n        \"\\x0A\",\r\n      \"Tax: \" +\r\n        \"$\" +\r\n        ((todaysDetails.todaysReceiptValue / 1.13) * 0.13).toFixed(2) +\r\n        \"\\x0A\" +\r\n        \"\\x0A\",\r\n      \"Total Including (13% Tax): \" +\r\n        \"$\" +\r\n        todaysDetails.todaysReceiptValue +\r\n        \"\\x0A\" +\r\n        \"\\x0A\",\r\n      \"------------------------------------------\" + \"\\x0A\",\r\n      \"\\x0A\", // line break\r\n      \"\\x0A\", // line break\r\n      \"\\x0A\", // line break\r\n      \"\\x0A\", // line break\r\n      \"\\x0A\", // line break\r\n      \"\\x0A\", // line break\r\n      \"\\x1D\" + \"\\x56\" + \"\\x00\",\r\n      \"\\x1D\" + \"\\x56\" + \"\\x30\",\r\n    ];\r\n\r\n    fetch(\"http://localhost:8080/print\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        printData: data,\r\n        comSelected: storeDetails.comSelected,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((respData) => {\r\n        console.log(respData);\r\n      })\r\n      .catch((e) => alert(\"Error with printer\"));\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Text style={{ textAlign: \"center\", margin: 25 }}>\r\n        List Of Transactions\r\n      </Text>\r\n      <View\r\n        style={{\r\n          flexDirection: \"row\",\r\n          width: \"100%\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        <Text style={{ textAlign: \"center\", margin: 25 }}>\r\n          Todays Total Price: {todaysDetails.todaysReceiptValue}\r\n        </Text>\r\n        <Button\r\n          style={{ height: 40, alignItems: \"center\", justifyContent: \"center\" }}\r\n          title=\"Print Todays Receipts\"\r\n          onPress={PrintTodaysTotal}\r\n        />\r\n        <Text style={{ textAlign: \"center\", margin: 25 }}>\r\n          Todays Total Receipts: {todaysDetails.todaysReceipts}\r\n        </Text>\r\n      </View>\r\n      <View style={styles.contentContainer}>\r\n        {transList ? (\r\n          transList?.map((element, index) => {\r\n            // if (date.toLocaleDateString() === today.toLocaleDateString()) {\r\n            //   setTodaysDetails((prevState) => prevState + 1);\r\n            // }\r\n\r\n            const date = element.date\r\n              ? new Date(element.date.seconds * 1000)\r\n              : element.date_created\r\n              ? new Date(element.date_created)\r\n              : null;\r\n\r\n            return (\r\n              <View\r\n                style={{ backgroundColor: \"grey\", padding: 30, margin: 10 }}\r\n                key={index}\r\n              >\r\n                <Text>{date.toLocaleString()}</Text>\r\n                {element.cart?.map((cartItem, index) => (\r\n                  <View style={{ marginBottom: 20 }} key={index}>\r\n                    <Text>Name: {cartItem.name}</Text>\r\n                    <Text>Quantity: {cartItem.quantity}</Text>\r\n                    <Text>Price: {cartItem.price}</Text>\r\n                    {cartItem.options &&\r\n                      cartItem.options?.map((option) => <Text>{option}</Text>)}\r\n                  </View>\r\n                ))}\r\n                {element.line_items?.map((cartItem, index) => (\r\n                  <View style={{ marginBottom: 20 }} key={index}>\r\n                    <Text>Name: {cartItem.name}</Text>\r\n                    <Text>Quantity: {cartItem.quantity}</Text>\r\n                    <Text>Price: {cartItem.price}</Text>\r\n                    {cartItem.meta_data?.map((meta, index) => {\r\n                      if (index === cartItem.meta_data.length - 1) return;\r\n                      return <Text>{`${meta.key} : ${meta.value}`}</Text>;\r\n                    })}\r\n                  </View>\r\n                ))}\r\n                <Button\r\n                  title=\"Print\"\r\n                  onPress={() => {\r\n                    if (element.date) {\r\n                      let total = 0;\r\n\r\n                      let data = [\r\n                        \"\\x1B\" + \"\\x40\", // init\r\n                        \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\r\n                        storeDetails.name,\r\n                        \"\\x0A\",\r\n                        storeDetails.address + \"\\x0A\",\r\n                        storeDetails.website + \"\\x0A\", // text and line break\r\n                        storeDetails.phoneNumber + \"\\x0A\", // text and line break\r\n                        date.toLocaleDateString() +\r\n                          \" \" +\r\n                          date.toLocaleTimeString() +\r\n                          \"\\x0A\",\r\n                        \"\\x0A\",\r\n                        `Transaction # ${element.transNum}` + \"\\x0A\",\r\n                        \"\\x0A\",\r\n                        \"\\x0A\",\r\n                        \"\\x0A\",\r\n                        \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\r\n                      ];\r\n\r\n                      element.cart?.map((cartItem) => {\r\n                        total += parseFloat(cartItem.price);\r\n                        data.push(`Name: ${cartItem.name}`);\r\n                        data.push(\"\\x0A\");\r\n                        data.push(`Price: $${cartItem.price}`);\r\n\r\n                        if (cartItem.options) {\r\n                          data.push(\"\\x0A\");\r\n                          cartItem.options?.map((option) => {\r\n                            data.push(option);\r\n                            data.push(\"\\x0A\");\r\n                          });\r\n                        }\r\n                        data.push(\"\\x0A\" + \"\\x0A\");\r\n                      });\r\n\r\n                      total = total * 1.13;\r\n                      total = total.toFixed(2);\r\n\r\n                      //push ending\r\n                      data.push(\r\n                        \"\\x0A\",\r\n                        \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\r\n                        \"\\x0A\" + \"\\x0A\",\r\n                        \"Total Including (13% Tax): \" +\r\n                          \"$\" +\r\n                          total +\r\n                          \"\\x0A\" +\r\n                          \"\\x0A\",\r\n                        \"------------------------------------------\" + \"\\x0A\",\r\n                        \"\\x0A\", // line break\r\n                        \"\\x0A\", // line break\r\n                        \"\\x0A\", // line break\r\n                        \"\\x0A\", // line break\r\n                        \"\\x0A\", // line break\r\n                        \"\\x0A\", // line break\r\n                        //\"\\x1D\" + \"\\x56\" + \"\\x00\",\r\n                        \"\\x1D\" + \"\\x56\" + \"\\x30\"\r\n                      );\r\n\r\n                      fetch(\"http://localhost:8080/print\", {\r\n                        method: \"POST\",\r\n                        headers: {\r\n                          \"Content-Type\": \"application/json\",\r\n                        },\r\n                        body: JSON.stringify({\r\n                          printData: data,\r\n                          comSelected: storeDetails.comSelected,\r\n                        }),\r\n                      })\r\n                        .then((response) => response.json())\r\n                        .then((respData) => {\r\n                          console.log(respData);\r\n                        })\r\n                        .catch((e) => alert(\"Error with printer\"));\r\n                    } else {\r\n                      const printData = [];\r\n\r\n                      printData.push(\r\n                        \"\\x1B\" + \"\\x40\", // init\r\n                        \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\r\n                        storeDetails.name,\r\n                        \"\\x0A\",\r\n                        storeDetails.address + \"\\x0A\",\r\n                        storeDetails.website + \"\\x0A\", // text and line break\r\n                        storeDetails.phoneNumber + \"\\x0A\", // text and line break\r\n                        element.date_created + \"\\x0A\",\r\n                        \"\\x0A\",\r\n                        \"Online Order\" + \"\\x0A\", // text and line break\r\n                        `Transaction # ${element.number}` + \"\\x0A\",\r\n                        \"\\x0A\",\r\n                        \"\\x0A\",\r\n                        \"\\x0A\",\r\n                        \"\\x1B\" + \"\\x61\" + \"\\x30\" // left align\r\n                      );\r\n\r\n                      element.line_items?.map((cartItem) => {\r\n                        printData.push(\"\\x0A\");\r\n                        printData.push(`Name: ${cartItem.name}`);\r\n                        printData.push(\"\\x0A\");\r\n                        printData.push(`Quantity: ${cartItem.quantity}`);\r\n                        printData.push(\"\\x0A\");\r\n                        printData.push(`Price: $${cartItem.price}`);\r\n                        printData.push(\"\\x0A\");\r\n\r\n                        if (cartItem.meta_data) {\r\n                          cartItem.meta_data?.map((meta, index) => {\r\n                            if (index === 0) {\r\n                              printData.push(`${meta.key} : ${meta.value}`);\r\n                              if (\r\n                                cartItem.meta_data[index + 1].key !== meta.key\r\n                              ) {\r\n                                printData.push(\"\\x0A\");\r\n                              }\r\n                            } else {\r\n                              if (index !== cartItem.meta_data.length - 1) {\r\n                                if (\r\n                                  cartItem.meta_data[index - 1].key === meta.key\r\n                                ) {\r\n                                  printData.push(` , ${meta.value}`);\r\n                                } else {\r\n                                  printData.push(`${meta.key} : ${meta.value}`);\r\n                                }\r\n\r\n                                if (\r\n                                  cartItem.meta_data[index + 1].key !== meta.key\r\n                                ) {\r\n                                  printData.push(\"\\x0A\");\r\n                                }\r\n                              }\r\n                            }\r\n                          });\r\n                        } else {\r\n                          printData.push(\"\\x0A\" + \"\\x0A\");\r\n                        }\r\n                      });\r\n\r\n                      printData.push(\"\\x0A\");\r\n                      printData.push(\"\\x0A\");\r\n                      printData.push(`Customer Details:`);\r\n                      printData.push(\"\\x0A\");\r\n                      printData.push(`Address: ${element.shipping.address_1}`);\r\n                      printData.push(\"\\x0A\");\r\n                      printData.push(`City: ${element.shipping.city}`);\r\n                      printData.push(\"\\x0A\");\r\n                      printData.push(\r\n                        `Zip/Postal Code: ${element.shipping.postcode}`\r\n                      );\r\n                      printData.push(\"\\x0A\");\r\n                      printData.push(\r\n                        `Province/State: ${element.shipping.state}`\r\n                      );\r\n                      printData.push(\"\\x0A\");\r\n                      printData.push(\r\n                        `Name: ${element.shipping.first_name} ${element.shipping.last_name}`\r\n                      );\r\n                      printData.push(\"\\x0A\");\r\n                      element.shipping_lines.map((line) =>\r\n                        printData.push(`Shipping Method: ${line.method_title}`)\r\n                      );\r\n                      printData.push(\"\\x0A\");\r\n                      printData.push(\"\\x0A\");\r\n\r\n                      printData.push(\r\n                        \"\\x0A\",\r\n                        \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\r\n                        \"\\x0A\" + \"\\x0A\",\r\n                        \"Payment Method: \" +\r\n                          element.payment_method_title +\r\n                          \"\\x0A\" +\r\n                          \"\\x0A\",\r\n                        \"Total Including (13% Tax): \" +\r\n                          \"$\" +\r\n                          (\r\n                            parseFloat(element.total) +\r\n                            parseFloat(element.total_tax)\r\n                          ).toFixed(2) +\r\n                          \"\\x0A\" +\r\n                          \"\\x0A\",\r\n                        \"------------------------------------------\" + \"\\x0A\",\r\n                        \"\\x0A\", // line break\r\n                        \"\\x0A\", // line break\r\n                        \"\\x0A\", // line break\r\n                        \"\\x0A\", // line break\r\n                        \"\\x0A\", // line break\r\n                        \"\\x0A\" // line break\r\n                      );\r\n\r\n                      printData.push(\"\\x1D\" + \"\\x56\" + \"\\x00\");\r\n\r\n                      fetch(\"http://localhost:8080/print\", {\r\n                        method: \"POST\",\r\n                        headers: {\r\n                          \"Content-Type\": \"application/json\",\r\n                        },\r\n                        body: JSON.stringify(printData),\r\n                      })\r\n                        .then((response) => response.json())\r\n                        .then((respData) => {\r\n                          console.log(respData);\r\n                        })\r\n                        .catch((e) => alert(\"Error with printer\"));\r\n                    }\r\n                  }}\r\n                />\r\n              </View>\r\n            );\r\n          })\r\n        ) : (\r\n          <Text>No receipts yet</Text>\r\n        )}\r\n        {/* {transList &&\r\n          transList?.map((element, index) => {\r\n            const date = new Date(element.date);\r\n            // if (date.toLocaleDateString() === today.toLocaleDateString()) {\r\n            //   setTodaysDetails((prevState) => prevState + 1);\r\n            // }\r\n            return (\r\n              <View\r\n                style={{ backgroundColor: \"grey\", padding: 30, margin: 10 }}\r\n                key={index}\r\n              >\r\n                {element.cart?.map((cartItem, index) => (\r\n                  <View style={{ marginBottom: 20 }} key={index}>\r\n                    <Text>Name: {cartItem.name}</Text>\r\n                    <Text>Quantity: {cartItem.quantity}</Text>\r\n                    <Text>Price: {cartItem.price}</Text>\r\n                    <Text>Date: {date.toLocaleDateString()}</Text>\r\n                    {cartItem.options &&\r\n                      cartItem.options?.map((option) => <Text>{option}</Text>)}\r\n                  </View>\r\n                ))}\r\n                <Button\r\n                  title=\"Print\"\r\n                  onPress={() => {\r\n                    let total = 0;\r\n                    const qz = require(\"qz-tray\");\r\n                    const today = new Date();\r\n\r\n                    let data = [\r\n                      \"\\x1B\" + \"\\x40\", // init\r\n                      \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\r\n                      storeDetails.name,\r\n                      \"\\x0A\",\r\n                      storeDetails.address + \"\\x0A\",\r\n                      storeDetails.website + \"\\x0A\", // text and line break\r\n                      storeDetails.phoneNumber + \"\\x0A\", // text and line break\r\n                      today.toLocaleDateString() +\r\n                        \" \" +\r\n                        today.toLocaleTimeString() +\r\n                        \"\\x0A\",\r\n                      \"\\x0A\",\r\n                      `Transaction # ${element.transNum}` + \"\\x0A\",\r\n                      \"\\x0A\",\r\n                      \"\\x0A\",\r\n                      \"\\x0A\",\r\n                      \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\r\n                    ];\r\n\r\n                    element.cart?.map((cartItem) => {\r\n                      total += parseFloat(cartItem.price);\r\n                      data.push(`Name: ${cartItem.name}`);\r\n                      data.push(\"\\x0A\");\r\n                      data.push(`Quantity: ${cartItem.quantity}`);\r\n                      data.push(\"\\x0A\");\r\n                      data.push(`Price: $${cartItem.price}`);\r\n\r\n                      if (cartItem.options) {\r\n                        data.push(\"\\x0A\");\r\n                        cartItem.options?.map((option) => {\r\n                          data.push(option);\r\n                          data.push(\"\\x0A\");\r\n                        });\r\n                      }\r\n                      data.push(\"\\x0A\" + \"\\x0A\");\r\n                    });\r\n\r\n                    total = total * 1.13;\r\n                    total = total.toFixed(2);\r\n\r\n                    //push ending\r\n                    data.push(\r\n                      \"\\x0A\",\r\n                      \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\r\n                      \"\\x0A\" + \"\\x0A\",\r\n                      \"Total Including (13% Tax): \" +\r\n                        \"$\" +\r\n                        total +\r\n                        \"\\x0A\" +\r\n                        \"\\x0A\",\r\n                      \"------------------------------------------\" + \"\\x0A\",\r\n                      \"\\x0A\", // line break\r\n                      \"\\x0A\", // line break\r\n                      \"\\x0A\", // line break\r\n                      \"\\x0A\", // line break\r\n                      \"\\x0A\", // line break\r\n                      \"\\x0A\", // line break\r\n                      //\"\\x1D\" + \"\\x56\" + \"\\x00\",\r\n                      \"\\x1D\" + \"\\x56\" + \"\\x30\"\r\n                    );\r\n\r\n                    qz.websocket\r\n                      .connect()\r\n                      .then(function () {\r\n                        let config = qz.configs.create(\"jZebra\");\r\n                        return qz.print(config, data);\r\n                      })\r\n                      .then(qz.websocket.disconnect)\r\n                      .catch(function (err) {\r\n                        console.error(err);\r\n                      });\r\n                  }}\r\n                />\r\n              </View>\r\n            );\r\n          })} */}\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default ViewTransactions;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    backgroundColor: \"white\",\r\n    flex: 1,\r\n    height: \"100%\",\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: \"row\",\r\n    flexWrap: \"wrap\",\r\n    justifyContent: \"space-between\",\r\n    paddingLeft: 50,\r\n    paddingRight: 50,\r\n    paddingBottom: 50,\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    alignItems: \"center\",\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}