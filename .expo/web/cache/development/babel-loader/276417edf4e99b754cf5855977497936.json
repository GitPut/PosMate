{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useEffect, useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport useWindowDimensions from \"react-native-web/dist/exports/useWindowDimensions\";\nimport CategoryBtn from \"./components/cartOrder/CategoryBtn\";\nimport ItemContainer from \"./components/cartOrder/ItemContainer\";\nimport CartItem from \"./components/cartOrder/CartItem\";\nimport UntitledComponent from \"./components/cartOrder/UntitledComponent\";\nimport { Entypo, Feather } from \"@expo/vector-icons\";\nimport { cartState, customersList, myDeviceDetailsState, setCartState, storeDetailState, userStoreState, setCustomersList } from \"../../state/state\";\nimport ItemContainerMobile from \"./components/cartOrder/ItemContainerMobile\";\nimport Modal from \"react-native-modal\";\nimport { useHistory } from \"react-router-dom\";\nimport { auth, db } from \"../../state/firebaseConfig\";\nimport ReceiptPrint from \"../functional/ReceiptPrint\";\nimport { logout } from \"../../state/firebaseFunctions\";\nimport CashScreen from \"../modalsNew/CashScreen\";\nimport ChangeScreen from \"../modalsNew/ChangeScreen\";\nimport CompletePaymentPhoneOrder from \"../modalsNew/CompletePaymentPhoneOrder\";\nimport SettingsPasswordModal from \"../modalsNew/SettingsPasswordModal\";\nimport DiscountModal from \"../modalsNew/DiscountModal\";\nimport DeliveryScreen from \"../modalsNew/DeliveryScreen\";\nimport SaveCustomer from \"../modalsNew/SaveCustomer\";\nimport ClockinModal from \"../modalsNew/ClockinModal\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction OrderPagePosHome(_ref) {\n  var _catalog$categories;\n  var navigation = _ref.navigation;\n  var _useWindowDimensions = useWindowDimensions(),\n    height = _useWindowDimensions.height,\n    width = _useWindowDimensions.width;\n  var catalog = userStoreState.use();\n  var _useState = useState(catalog.categories.length > 0 ? catalog.categories[0] : \"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    section = _useState2[0],\n    setsection = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    cartOpen = _useState4[0],\n    setcartOpen = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    deliveryModal = _useState6[0],\n    setDeliveryModal = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    cashModal = _useState8[0],\n    setCashModal = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    changeModal = _useState10[0],\n    setChangeModal = _useState10[1];\n  var _useState11 = useState(null),\n    _useState12 = _slicedToArray(_useState11, 2),\n    ongoingDelivery = _useState12[0],\n    setOngoingDelivery = _useState12[1];\n  var _useState13 = useState(null),\n    _useState14 = _slicedToArray(_useState13, 2),\n    name = _useState14[0],\n    setName = _useState14[1];\n  var _useState15 = useState(null),\n    _useState16 = _slicedToArray(_useState15, 2),\n    phone = _useState16[0],\n    setPhone = _useState16[1];\n  var _useState17 = useState(null),\n    _useState18 = _slicedToArray(_useState17, 2),\n    address = _useState18[0],\n    setAddress = _useState18[1];\n  var _useState19 = useState(null),\n    _useState20 = _slicedToArray(_useState19, 2),\n    buzzCode = _useState20[0],\n    setBuzzCode = _useState20[1];\n  var _useState21 = useState(null),\n    _useState22 = _slicedToArray(_useState21, 2),\n    unitNumber = _useState22[0],\n    setUnitNumber = _useState22[1];\n  var _useState23 = useState(false),\n    _useState24 = _slicedToArray(_useState23, 2),\n    deliveryChecked = _useState24[0],\n    setDeliveryChecked = _useState24[1];\n  var _useState25 = useState(null),\n    _useState26 = _slicedToArray(_useState25, 2),\n    changeDue = _useState26[0],\n    setChangeDue = _useState26[1];\n  var cart = cartState.use();\n  var storeDetails = storeDetailState.use();\n  var _useState27 = useState(0),\n    _useState28 = _slicedToArray(_useState27, 2),\n    cartSub = _useState28[0],\n    setCartSub = _useState28[1];\n  var _useState29 = useState(false),\n    _useState30 = _slicedToArray(_useState29, 2),\n    saveCustomerModal = _useState30[0],\n    setSaveCustomerModal = _useState30[1];\n  var _useState31 = useState(null),\n    _useState32 = _slicedToArray(_useState31, 2),\n    savedCustomerDetails = _useState32[0],\n    setsavedCustomerDetails = _useState32[1];\n  var _useState33 = useState(false),\n    _useState34 = _slicedToArray(_useState33, 2),\n    ongoingOrderListModal = _useState34[0],\n    setongoingOrderListModal = _useState34[1];\n  var _useState35 = useState(false),\n    _useState36 = _slicedToArray(_useState35, 2),\n    settingsPasswordModalVis = _useState36[0],\n    setsettingsPasswordModalVis = _useState36[1];\n  var history = useHistory();\n  var _useState37 = useState(false),\n    _useState38 = _slicedToArray(_useState37, 2),\n    updatingOrder = _useState38[0],\n    setupdatingOrder = _useState38[1];\n  var _useState39 = useState([]),\n    _useState40 = _slicedToArray(_useState39, 2),\n    ongoingListState = _useState40[0],\n    setongoingListState = _useState40[1];\n  var customers = customersList.use();\n  var myDeviceDetails = myDeviceDetailsState.use();\n  var _useState41 = useState(false),\n    _useState42 = _slicedToArray(_useState41, 2),\n    clockinModal = _useState42[0],\n    setclockinModal = _useState42[1];\n  var _useState43 = useState(false),\n    _useState44 = _slicedToArray(_useState43, 2),\n    discountModal = _useState44[0],\n    setdiscountModal = _useState44[1];\n  function parseDate(input) {\n    if (Object.prototype.toString.call(input) === \"[object Date]\") {\n      if (!isNaN(input.getTime())) {\n        return input;\n      }\n    }\n\n    if (typeof input === \"string\") {\n      var dateObject = new Date(input);\n\n      if (!isNaN(dateObject.getTime())) {\n        return dateObject;\n      }\n    }\n  }\n  useEffect(function () {\n    var _auth$currentUser;\n    var unsub = db.collection(\"users\").doc((_auth$currentUser = auth.currentUser) == null ? void 0 : _auth$currentUser.uid).collection(\"pendingOrders\").onSnapshot(function (snapshot) {\n      var list = [];\n      snapshot.forEach(function (doc) {\n        list.push(_objectSpread(_objectSpread({}, doc.data()), {}, {\n          id: doc.id\n        }));\n        if (doc.data().online && !doc.data().printed && myDeviceDetails.printOnlineOrders) {\n          var _auth$currentUser2;\n          console.log(\"Printing\");\n          var data = ReceiptPrint(doc.data(), storeDetails);\n          var qz = require(\"qz-tray\");\n          qz.websocket.connect().then(function () {\n            var config = qz.configs.create(myDeviceDetails.printToPrinter);\n            return qz.print(config, data.data);\n          }).then(qz.websocket.disconnect).catch(function (err) {\n            alert(\"An error occured while trying to print. Try refreshing the page and trying again.\");\n          });\n          db.collection(\"users\").doc((_auth$currentUser2 = auth.currentUser) == null ? void 0 : _auth$currentUser2.uid).collection(\"pendingOrders\").doc(doc.id).update({\n            printed: true\n          });\n        }\n      });\n      var sortedArray = list.sort(function (a, b) {\n        var dateA = a.online ? parseDate(a.date) : a.date.toDate();\n        var dateB = b.online ? parseDate(b.date) : b.date.toDate();\n\n        return dateB - dateA;\n      });\n      setongoingListState(sortedArray);\n    });\n    return function () {\n      return unsub();\n    };\n  }, []);\n  useEffect(function () {\n    if (cart.length > 0) {\n      var newVal = 0;\n      for (var i = 0; i < cart.length; i++) {\n        try {\n          if (cart[i].quantity > 1) {\n            newVal += parseFloat(cart[i].price) * cart[i].quantity;\n          } else {\n            newVal += parseFloat(cart[i].price);\n          }\n        } catch (error) {\n          console.log(error);\n        }\n      }\n      if (deliveryChecked) {\n        setCartSub(newVal + parseFloat(storeDetails.deliveryPrice));\n      } else {\n        setCartSub(newVal);\n      }\n      if (cart.length > 1) {\n        if (!cart[cart.length - 1].name.includes(\"Cart Discount\")) {\n          for (var _i = 0; _i < cart.length; _i++) {\n            if (cart[_i].name.includes(\"Cart Discount\")) {\n              console.log(\"In first if\");\n              var discountItem = cart[_i];\n              var newCart = structuredClone(cart);\n              newCart.splice(_i, 1);\n              if (discountItem.percent) {\n                newCart.push(_objectSpread(_objectSpread({}, discountItem), {}, {\n                  price: (newVal + -discountItem.price) * discountItem.percent * -1\n                }));\n              } else {\n                newCart.push(discountItem);\n              }\n              setCartState(newCart);\n            }\n          }\n        } else if (cart[cart.length - 1].percent) {\n          console.log(\"In second if\");\n          var _discountItem = cart[cart.length - 1];\n          if ((newVal + -_discountItem.price) * _discountItem.percent * -1 !== _discountItem.price) {\n            var _newCart = structuredClone(cart);\n            _newCart.pop();\n            _newCart.push(_objectSpread(_objectSpread({}, _discountItem), {}, {\n              price: (newVal + -_discountItem.price) * _discountItem.percent * -1\n            }));\n            setCartState(_newCart);\n          }\n        }\n      }\n    } else {\n      setCartSub(0);\n    }\n  }, [cart, deliveryChecked]);\n\n  var Print = function Print(method, dontAddToOngoing) {\n    if (!myDeviceDetails.id) {\n      return alert(\"Please set up a device in Settings -> Devices\");\n    }\n    if (savedCustomerDetails) {\n      var _savedCustomerDetails;\n      if (((_savedCustomerDetails = savedCustomerDetails.orders) == null ? void 0 : _savedCustomerDetails.length) > 0) {\n        var _auth$currentUser3;\n        db.collection(\"users\").doc((_auth$currentUser3 = auth.currentUser) == null ? void 0 : _auth$currentUser3.uid).collection(\"customers\").doc(savedCustomerDetails.id).update({\n          orders: [].concat(_toConsumableArray(savedCustomerDetails.orders), [{\n            cart: cart\n          }])\n        });\n        var indexOfCustomer = customers.findIndex(function (customer) {\n          return customer.id === savedCustomerDetails.id;\n        });\n        var newCustomers = structuredClone(customers);\n        newCustomers[indexOfCustomer].orders.push({\n          cart: cart\n        });\n        setCustomersList(newCustomers);\n      } else {\n        var _auth$currentUser4;\n        db.collection(\"users\").doc((_auth$currentUser4 = auth.currentUser) == null ? void 0 : _auth$currentUser4.uid).collection(\"customers\").doc(savedCustomerDetails.id).update({\n          orders: [{\n            cart: cart\n          }]\n        });\n        var _indexOfCustomer = customers.findIndex(function (customer) {\n          return customer.id === savedCustomerDetails.id;\n        });\n        var _newCustomers = structuredClone(customers);\n        _newCustomers[_indexOfCustomer].orders = [{\n          cart: cart\n        }];\n        setCustomersList(_newCustomers);\n      }\n    }\n    var transNum = Math.random().toString(36).substr(2, 9);\n    if (method === \"deliveryOrder\") {\n      var today = new Date();\n      var element = {\n        date: today,\n        transNum: transNum,\n        method: \"deliveryOrder\",\n        cart: cart,\n        customer: {\n          name: name,\n          phone: phone,\n          address: address,\n          buzzCode: buzzCode,\n          unitNumber: unitNumber\n        }\n      };\n      var data = ReceiptPrint(element, storeDetails);\n      if (!dontAddToOngoing) {\n        var _auth$currentUser5;\n        console.log(\"Adding to pending orders\");\n        db.collection(\"users\").doc((_auth$currentUser5 = auth.currentUser) == null ? void 0 : _auth$currentUser5.uid).collection(\"pendingOrders\").add({\n          date: today,\n          transNum: transNum,\n          method: \"deliveryOrder\",\n          cart: cart,\n          total: data.total,\n          customer: {\n            name: name,\n            phone: phone,\n            address: address ? address : null,\n            buzzCode: buzzCode,\n            unitNumber: unitNumber\n          }\n        });\n      }\n      if (myDeviceDetails.sendPrintToUserID && myDeviceDetails.useDifferentDeviceToPrint) {\n        var _auth$currentUser6;\n        console.log(\"Sending print to different user\");\n        db.collection(\"users\").doc((_auth$currentUser6 = auth.currentUser) == null ? void 0 : _auth$currentUser6.uid).collection(\"devices\").doc(myDeviceDetails.sendPrintToUserID.value).collection(\"printRequests\").add({\n          printData: data.data\n        });\n      } else {\n        var qz = require(\"qz-tray\");\n        qz.websocket.connect().then(function () {\n          var config = qz.configs.create(myDeviceDetails.printToPrinter);\n          return qz.print(config, data.data);\n        }).then(qz.websocket.disconnect).catch(function (err) {\n          alert(\"An error occured while trying to print. Try refreshing the page and trying again.\");\n        });\n      }\n      setCartState([]);\n      setDeliveryModal(false);\n    } else if (method === \"pickupOrder\") {\n      var _today = new Date();\n      var _element = {\n        date: _today,\n        transNum: transNum,\n        method: \"pickupOrder\",\n        cart: cart,\n        customer: {\n          name: name,\n          phone: phone\n        }\n      };\n\n      var _data = ReceiptPrint(_element, storeDetails);\n      if (!dontAddToOngoing) {\n        var _auth$currentUser7;\n        console.log(\"Adding to pending orders\");\n        db.collection(\"users\").doc((_auth$currentUser7 = auth.currentUser) == null ? void 0 : _auth$currentUser7.uid).collection(\"pendingOrders\").add({\n          date: _today,\n          transNum: transNum,\n          method: \"pickupOrder\",\n          cart: cart,\n          total: _data.total,\n          customer: {\n            name: name,\n            phone: phone,\n            address: address ? address : \"null\"\n          }\n        });\n      }\n      if (myDeviceDetails.sendPrintToUserID && myDeviceDetails.useDifferentDeviceToPrint) {\n        var _auth$currentUser8;\n        console.log(\"Sending print to different user\");\n        db.collection(\"users\").doc((_auth$currentUser8 = auth.currentUser) == null ? void 0 : _auth$currentUser8.uid).collection(\"devices\").doc(myDeviceDetails.sendPrintToUserID.value).collection(\"printRequests\").add({\n          printData: _data.data\n        });\n      } else {\n        var _qz = require(\"qz-tray\");\n        _qz.websocket.connect().then(function () {\n          var config = _qz.configs.create(myDeviceDetails.printToPrinter);\n          return _qz.print(config, _data.data);\n        }).then(_qz.websocket.disconnect).catch(function (err) {\n          alert(\"An error occured while trying to print. Try refreshing the page and trying again.\");\n        });\n      }\n      setCartState([]);\n      setDeliveryModal(false);\n      setName(null);\n      setPhone(null);\n      setAddress(null);\n      setDeliveryChecked(false);\n    } else {\n      var _auth$currentUser9;\n      var _today2 = new Date();\n      var _element2 = {\n        date: _today2,\n        transNum: transNum,\n        method: \"inStoreOrder\",\n        cart: cart,\n        customer: {\n          name: name,\n          phone: phone,\n          address: address\n        },\n        changeDue: changeDue,\n        paymentMethod: method\n      };\n      var _data2 = ReceiptPrint(_element2, storeDetails);\n      db.collection(\"users\").doc((_auth$currentUser9 = auth.currentUser) == null ? void 0 : _auth$currentUser9.uid).collection(\"pendingOrders\").add({\n        date: _today2,\n        transNum: transNum,\n        total: _data2.total,\n        method: \"inStoreOrder\",\n        paymentMethod: method,\n        cart: cart\n      });\n      if (myDeviceDetails.sendPrintToUserID && myDeviceDetails.useDifferentDeviceToPrint) {\n        var _auth$currentUser10;\n        console.log(\"Sending print to different user\");\n        db.collection(\"users\").doc((_auth$currentUser10 = auth.currentUser) == null ? void 0 : _auth$currentUser10.uid).collection(\"devices\").doc(myDeviceDetails.sendPrintToUserID.value).collection(\"printRequests\").add({\n          printData: _data2.data\n        });\n      } else {\n        var _qz2 = require(\"qz-tray\");\n        _qz2.websocket.connect().then(function () {\n          var config = _qz2.configs.create(myDeviceDetails.printToPrinter);\n          return _qz2.print(config, _data2.data);\n        }).then(_qz2.websocket.disconnect).catch(function (err) {\n          alert(\"An error occured while trying to print. Try refreshing the page and trying again.\");\n        });\n      }\n    }\n    setCartState([]);\n    setName(null);\n    setPhone(null);\n    setAddress(null);\n    setDeliveryChecked(false);\n    setChangeDue(null);\n  };\n  useEffect(function () {\n    if (cart.length > 0) {\n      var newVal = 0;\n      for (var i = 0; i < cart.length; i++) {\n        try {\n          if (cart[i].quantity > 1) {\n            newVal += parseFloat(cart[i].price) * cart[i].quantity;\n          } else {\n            newVal += parseFloat(cart[i].price);\n          }\n        } catch (error) {\n          console.log(error);\n        }\n      }\n      if (deliveryChecked) {\n        setCartSub(newVal + parseFloat(storeDetails.deliveryPrice));\n      } else {\n        setCartSub(newVal);\n      }\n    } else {\n      setCartSub(0);\n    }\n  }, [cart]);\n  useEffect(function () {\n    catalog.products.map(function (product, index) {\n      if (product.category === section) {\n        document.getElementById(product.id).style.display = \"flex\";\n      } else {\n        document.getElementById(product.id).style.display = \"none\";\n      }\n    });\n  }, [section]);\n  var CheckoutBtn = function CheckoutBtn() {\n    if (updatingOrder) {\n      return _jsx(TouchableOpacity, {\n        style: styles.checkoutBtn,\n        disabled: cart.length < 1,\n        onPress: function onPress() {\n          var _auth$currentUser11;\n          db.collection(\"users\").doc((_auth$currentUser11 = auth.currentUser) == null ? void 0 : _auth$currentUser11.uid).collection(\"pendingOrders\").doc(updatingOrder.id).delete();\n          Print(deliveryChecked ? \"deliveryOrder\" : \"pickupOrder\", false);\n          setOngoingDelivery(null);\n          setName(null);\n          setPhone(null);\n          setAddress(null);\n          setDeliveryChecked(false);\n          setupdatingOrder(false);\n        },\n        children: _jsx(Text, {\n          style: styles.checkoutLbl,\n          children: \"Update Order\"\n        })\n      });\n    }\n    if (ongoingDelivery === null) {\n      return _jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          width: \"90%\",\n          alignSelf: \"center\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          marginBottom: 10\n        },\n        children: [_jsx(TouchableOpacity, {\n          style: styles.checkoutBtn,\n          onPress: function onPress() {\n            return setCashModal(true);\n          },\n          disabled: cart.length < 1 || ongoingDelivery,\n          children: _jsx(Text, {\n            style: styles.checkoutLbl,\n            children: \"Cash\"\n          })\n        }), _jsx(TouchableOpacity, {\n          style: styles.checkoutBtn,\n          onPress: function onPress() {\n            Print(\"Card\");\n          },\n          disabled: cart.length < 1 || ongoingDelivery,\n          children: _jsx(Text, {\n            style: styles.checkoutLbl,\n            children: \"Card\"\n          })\n        })]\n      });\n    }\n    if (ongoingDelivery && cart.length > 0) {\n      return _jsx(TouchableOpacity, {\n        style: styles.checkoutBtn,\n        onPress: function onPress() {\n          Print(deliveryChecked ? \"deliveryOrder\" : \"pickupOrder\", false);\n          setOngoingDelivery(null);\n          setName(null);\n          setPhone(null);\n          setAddress(null);\n        },\n        children: _jsx(Text, {\n          style: styles.checkoutLbl,\n          children: \"Checkout\"\n        })\n      });\n    } else {\n      return _jsx(TouchableOpacity, {\n        style: styles.checkoutBtn,\n        onPress: function onPress() {\n          setOngoingDelivery(null);\n          setDeliveryChecked(false);\n          setName(null);\n          setPhone(null);\n          setAddress(null);\n          setChangeDue(null);\n        },\n        children: _jsx(Text, {\n          style: styles.checkoutLbl,\n          children: \"Cancel\"\n        })\n      });\n    }\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [width > 1250 && _jsxs(View, {\n      style: styles.leftMenuBarContainer,\n      children: [_jsx(TouchableOpacity, {\n        style: styles.activeBtn,\n        children: _jsx(Entypo, {\n          name: \"menu\",\n          style: styles.menuIcon\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles.activeBtn,\n        children: _jsx(Image, {\n          source: require(\"./assets/images/pendingOrderIcon.png\"),\n          style: {\n            width: 40,\n            height: 40\n          }\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles.activeBtn,\n        children: _jsx(Image, {\n          source: require(\"./assets/images/clockInIcon.png\"),\n          style: {\n            width: 40,\n            height: 40\n          }\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles.activeBtn,\n        children: _jsx(Entypo, {\n          name: \"menu\",\n          style: styles.menuIcon\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles.activeBtn,\n        children: _jsx(Entypo, {\n          name: \"menu\",\n          style: styles.menuIcon\n        })\n      }), _jsx(TouchableOpacity, {\n        onPress: logout,\n        children: _jsx(Feather, {\n          name: \"log-out\",\n          style: styles.icon\n        })\n      })]\n    }), _jsxs(View, {\n      style: [styles.menuContainer, width < 1250 && {\n        width: \"62%\"\n      }, width < 1000 && {\n        width: \"100%\"\n      }],\n      children: [width < 1000 && _jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          width: \"88%\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          marginBottom: 10,\n          marginTop: 10\n        },\n        children: [_jsx(TouchableOpacity, {\n          onPress: function onPress() {\n          },\n          style: {\n            backgroundColor: \"#1D294E\",\n            borderRadius: 10,\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            width: 34,\n            height: 34\n          },\n          children: _jsx(Feather, {\n            name: \"log-out\",\n            style: {\n              color: \"white\"\n            },\n            size: 20\n          })\n        }), _jsxs(TouchableOpacity, {\n          onPress: function onPress() {\n            setcartOpen(true);\n          },\n          style: {\n            backgroundColor: \"#1D294E\",\n            borderRadius: 10,\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            width: 58,\n            height: 34,\n            flexDirection: \"row\",\n            padding: 5\n          },\n          children: [_jsx(Feather, {\n            name: \"shopping-cart\",\n            style: {\n              color: \"white\"\n            },\n            size: 20\n          }), _jsx(Text, {\n            style: {\n              color: \"white\",\n              fontSize: 20\n            },\n            children: cart.length\n          })]\n        })]\n      }), width > 1000 && _jsx(View, {\n        style: [styles.bannerContainer, width < 1000 && {\n          height: 100,\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        }],\n        children: _jsx(Image, {\n          source: require(\"./assets/images/image_onW3..png\"),\n          resizeMode: \"contain\",\n          style: [styles.logo, width < 1000 && {\n            height: 60,\n            maxWidth: 250\n          }]\n        })\n      }), _jsxs(View, {\n        style: styles.categoryContainer,\n        children: [_jsx(Text, {\n          style: styles.lblTxt,\n          children: \"Menu Category\"\n        }), _jsx(View, {\n          style: styles.scrollArea,\n          children: _jsx(ScrollView, {\n            horizontal: true,\n            contentContainerStyle: styles.scrollArea_contentContainerStyle,\n            children: (_catalog$categories = catalog.categories) == null ? void 0 : _catalog$categories.map(function (category, index) {\n              if (catalog.products.filter(function (x) {\n                return x.category === category && x.hasImage;\n              }).length > 0) {\n                var _catalog$products$cat;\n                return _jsx(CategoryBtn, {\n                  category: category,\n                  onPress: function onPress() {\n                    setsection(category);\n                  },\n                  isSelected: section === category,\n                  style: styles.activeCategoryBtn,\n                  imageUrl: (_catalog$products$cat = catalog.products[catalog.products.findIndex(function (x) {\n                    return x.category === category && x.hasImage;\n                  })]) == null ? void 0 : _catalog$products$cat.imageUrl\n                }, index);\n              } else {\n                return _jsx(CategoryBtn, {\n                  category: category,\n                  onPress: function onPress() {\n                    setsection(category);\n                  },\n                  isSelected: section === category,\n                  style: styles.categoryBtn,\n                  imageUrl: null\n                }, index);\n              }\n            })\n          })\n        })]\n      }), _jsx(View, {\n        style: styles.scrollAreaProducts,\n        children: _jsx(ScrollView, {\n          contentContainerStyle: styles.scrollAreaProducts_contentContainerStyle,\n          children: catalog.products.map(function (product, index) {\n            return width > 1250 ? _jsx(ItemContainer, {\n              product: product,\n              productIndex: index,\n              userUid: catalog.docID,\n              style: styles.itemContainer\n            }, index) : _jsx(ItemContainerMobile, {\n              product: product,\n              productIndex: index,\n              userUid: catalog.docID,\n              style: {\n                height: 220,\n                width: 160,\n                marginBottom: 30\n              },\n              setshowProduct: setshowProduct\n            }, index);\n          })\n        })\n      })]\n    }), width > 1000 ? _jsxs(View, {\n      style: [styles.cartContainer, width < 1250 && {\n        width: \"38%\"\n      }],\n      children: [_jsx(Text, {\n        style: styles.myCartTxt,\n        children: \"My Cart\"\n      }), cart.length > 0 ? _jsx(View, {\n        style: styles.cartItems,\n        children: _jsx(ScrollView, {\n          horizontal: false,\n          contentContainerStyle: styles.cartItems_contentContainerStyle,\n          children: cart == null ? void 0 : cart.map(function (cartItem, index) {\n            return _jsx(CartItem, {\n              style: styles.cartItem1,\n              cartItem: cartItem,\n              index: index,\n              removeAction: function removeAction() {\n                console.log(\"Removing\");\n                var local = structuredClone(cart);\n                local.splice(index, 1);\n                setCartState(local);\n              },\n              decreaseAction: function decreaseAction() {\n                var local = structuredClone(cart);\n                local[index].quantity--;\n                setCartState(local);\n              },\n              increaseAction: function increaseAction() {\n                var local = structuredClone(cart);\n                if (local[index].quantity) {\n                  local[index].quantity++;\n                } else {\n                  local[index].quantity = 2;\n                }\n                setCartState(local);\n              }\n            }, index);\n          })\n        })\n      }) : _jsx(Image, {\n        source: require(\"./assets/images/noItemsImg.png\"),\n        style: {\n          width: 200,\n          height: \"35%\",\n          resizeMode: \"contain\"\n        }\n      }), _jsxs(View, {\n        style: styles.totalsContainer,\n        children: [_jsxs(View, {\n          style: styles.topGroupTotalsContainer,\n          children: [_jsx(UntitledComponent, {\n            amountValue: \"N/A\",\n            amountLbl: \"Discount\",\n            style: styles.discountRow\n          }), deliveryChecked && parseFloat(storeDetails.deliveryPrice) && _jsx(UntitledComponent, {\n            amountValue: \"$\" + parseFloat(storeDetails.deliveryPrice).toFixed(2),\n            amountLbl: \"Delivery\",\n            style: styles.discountRow\n          }), _jsx(UntitledComponent, {\n            amountValue: deliveryChecked && parseFloat(storeDetails.deliveryPrice) && cartSub > 0 ? \"$\" + (cartSub - parseFloat(storeDetails.deliveryPrice)).toFixed(2) : \"$\" + cartSub.toFixed(2),\n            amountLbl: \"Subtotal\",\n            style: styles.subtotalRow\n          }), _jsx(UntitledComponent, {\n            amountValue: \"$\" + (cartSub * (storeDetails.taxRate ? storeDetails.taxRate / 100 : 0.13)).toFixed(2),\n            amountLbl: \"Tax\",\n            style: styles.taxRow\n          })]\n        }), _jsxs(View, {\n          style: styles.totalRowGroup,\n          children: [_jsxs(View, {\n            style: styles.totalRow,\n            children: [_jsx(Text, {\n              style: styles.total2,\n              children: \"Total\"\n            }), _jsxs(Text, {\n              style: styles.totalValue,\n              children: [\"$\", (Math.ceil(cartSub * (storeDetails.taxRate ? 1 + storeDetails.taxRate / 100 : 1.13) * 10) / 10).toFixed(2)]\n            })]\n          }), _jsx(TouchableOpacity, {\n            style: styles.discountCodeBtn,\n            onPress: function onPress() {\n              return setdiscountModal(true);\n            },\n            children: _jsx(Text, {\n              style: styles.discountCode,\n              children: \"Discount Code\"\n            })\n          })]\n        })]\n      }), _jsx(CheckoutBtn, {})]\n    }) : _jsx(Modal, {\n      isVisible: cartOpen,\n      animationIn: \"slideInUp\",\n      animationOut: \"slideOutDown\",\n      style: {\n        margin: 0\n      },\n      children: _jsxs(View, {\n        style: {\n          width: width,\n          height: height,\n          justifyContent: \"space-evenly\",\n          alignItems: \"center\",\n          backgroundColor: \"white\"\n        },\n        children: [_jsxs(View, {\n          style: {\n            flexDirection: \"row\",\n            width: \"90%\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            marginBottom: 10\n          },\n          children: [_jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              setcartOpen(false);\n            },\n            children: _jsx(Feather, {\n              onPress: function onPress() {\n                setcartOpen(false);\n              },\n              name: \"chevron-down\",\n              style: {\n                color: \"grey\"\n              },\n              size: 40\n            })\n          }), _jsxs(View, {\n            style: {\n              backgroundColor: \"#1D294E\",\n              borderRadius: 10,\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n              width: 80,\n              height: 40,\n              flexDirection: \"row\",\n              padding: 15\n            },\n            children: [_jsx(Feather, {\n              name: \"shopping-cart\",\n              style: {\n                color: \"white\"\n              },\n              size: 22\n            }), _jsx(Text, {\n              style: {\n                color: \"white\",\n                fontSize: 20\n              },\n              children: cart.length\n            })]\n          })]\n        }), _jsx(Text, {\n          style: styles.myCartTxt,\n          children: \"My Cart\"\n        }), cart.length > 0 ? _jsx(View, {\n          style: styles.cartItems,\n          children: _jsx(ScrollView, {\n            horizontal: false,\n            contentContainerStyle: styles.cartItems_contentContainerStyle,\n            children: cart == null ? void 0 : cart.map(function (cartItem, index) {\n              return _jsx(CartItem, {\n                style: styles.cartItem1,\n                cartItem: cartItem,\n                index: index,\n                removeAction: function removeAction() {\n                  console.log(\"Removing\");\n                  var local = structuredClone(cart);\n                  local.splice(index, 1);\n                  setCartState(local);\n                },\n                decreaseAction: function decreaseAction() {\n                  var local = structuredClone(cart);\n                  local[index].quantity--;\n                  setCartState(local);\n                },\n                increaseAction: function increaseAction() {\n                  var local = structuredClone(cart);\n                  if (local[index].quantity) {\n                    local[index].quantity++;\n                  } else {\n                    local[index].quantity = 2;\n                  }\n                  setCartState(local);\n                }\n              }, index);\n            })\n          })\n        }) : _jsx(Image, {\n          source: require(\"./assets/images/noItemsImg.png\"),\n          style: {\n            width: 200,\n            height: \"35%\",\n            resizeMode: \"contain\"\n          }\n        }), _jsx(View, {\n          style: [styles.totalsContainer, {\n            height: 150\n          }],\n          children: _jsxs(View, {\n            style: styles.topGroupTotalsContainer,\n            children: [deliveryChecked && parseFloat(storeDetails.deliveryPrice) && _jsx(UntitledComponent, {\n              amountValue: \"$\" + parseFloat(storeDetails.deliveryPrice).toFixed(2),\n              amountLbl: \"Delivery\",\n              style: styles.discountRow\n            }), _jsx(UntitledComponent, {\n              amountValue: deliveryChecked && parseFloat(storeDetails.deliveryPrice) && cartSub > 0 ? \"$\" + (cartSub - parseFloat(storeDetails.deliveryPrice)).toFixed(2) : \"$\" + cartSub.toFixed(2),\n              amountLbl: \"Subtotal\",\n              style: styles.subtotalRow\n            }), _jsx(UntitledComponent, {\n              amountValue: \"$\" + (cartSub * (storeDetails.taxRate ? storeDetails.taxRate / 100 : 0.13)).toFixed(2),\n              amountLbl: \"Tax\",\n              style: styles.taxRow\n            }), _jsxs(View, {\n              style: styles.totalRow,\n              children: [_jsx(Text, {\n                style: styles.total2,\n                children: \"Total\"\n              }), _jsxs(Text, {\n                style: styles.totalValue,\n                children: [\"$\", (Math.ceil(cartSub * (storeDetails.taxRate ? 1 + storeDetails.taxRate / 100 : 1.13) * 10) / 10).toFixed(2)]\n              })]\n            })]\n          })\n        }), _jsx(CheckoutBtn, {})]\n      })\n    }), _jsx(Modal, {\n      visible: clockinModal,\n      transparent: true,\n      children: _jsx(ClockinModal, {\n        setclockinModal: setclockinModal\n      })\n    }), _jsx(Modal, {\n      visible: saveCustomerModal,\n      transparent: true,\n      children: _jsx(SaveCustomer, {\n        setSaveCustomerModal: setSaveCustomerModal,\n        setOngoingDelivery: setOngoingDelivery,\n        setNameForDelivery: setName,\n        setPhoneForDelivery: setPhone,\n        setAddressForDelivery: setAddress,\n        setBuzzCodeForDelivery: setBuzzCode,\n        setUnitNumberForDelivery: setUnitNumber,\n        setDeliveryChecked: setDeliveryChecked,\n        setsavedCustomerDetails: setsavedCustomerDetails\n      })\n    }), _jsx(Modal, {\n      visible: deliveryModal,\n      transparent: true,\n      children: _jsx(DeliveryScreen, {\n        setsavedCustomerDetails: setsavedCustomerDetails,\n        setDeliveryModal: setDeliveryModal,\n        setOngoingDelivery: setOngoingDelivery,\n        setName: setName,\n        setPhone: setPhone,\n        setAddress: setAddress,\n        name: name,\n        phone: phone,\n        address: address,\n        deliveryChecked: deliveryChecked,\n        setDeliveryChecked: setDeliveryChecked,\n        ongoingDelivery: ongoingDelivery,\n        setsaveCustomerModal: setSaveCustomerModal,\n        setUnitNumber: setUnitNumber,\n        setBuzzCode: setBuzzCode,\n        unitNumber: unitNumber,\n        buzzCode: buzzCode\n      })\n    }), _jsx(Modal, {\n      visible: cashModal,\n      transparent: true,\n      children: _jsx(CashScreen, {\n        setCashModal: setCashModal,\n        GetTrans: function GetTrans() {\n          return Print(\"Cash\");\n        },\n        total: (cartSub * 1.13).toFixed(2),\n        setChangeDue: setChangeDue\n      })\n    }), _jsx(Modal, {\n      visible: changeModal,\n      children: _jsx(ChangeScreen, {\n        setChangeModal: setChangeModal\n      })\n    }), _jsx(Modal, {\n      visible: ongoingOrderListModal,\n      transparent: true,\n      children: _jsx(CompletePaymentPhoneOrder, {\n        setongoingOrderListModal: setongoingOrderListModal,\n        updateOrderHandler: function updateOrderHandler(order) {\n          setCartState(order.cart);\n          setName(order.customer.name);\n          setPhone(order.customer.phone);\n          setAddress(order.customer.address);\n          setDeliveryChecked(order.method === \"deliveryOrder\");\n          setOngoingDelivery(true);\n          setongoingOrderListModal(false);\n          setupdatingOrder(order);\n        },\n        ongoingListState: ongoingListState,\n        setongoingListState: setongoingListState\n      })\n    }), _jsx(Modal, {\n      visible: settingsPasswordModalVis,\n      transparent: true,\n      children: _jsx(SettingsPasswordModal, {\n        setsettingsPasswordModalVis: setsettingsPasswordModalVis,\n        navigation: navigation\n      })\n    }), _jsx(Modal, {\n      visible: discountModal,\n      transparent: true,\n      children: _jsx(DiscountModal, {\n        setdiscountModal: setdiscountModal,\n        cartSub: cartSub,\n        cart: cart,\n        deliveryChecked: deliveryChecked,\n        storeDetails: storeDetails\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"rgba(238,242,255,1)\",\n    flexDirection: \"row\",\n    alignItems: \"center\"\n  },\n  leftMenuBarContainer: {\n    width: \"5%\",\n    backgroundColor: \"rgba(255,255,255,1)\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    shadowColor: \"rgba(0,0,0,1)\",\n    shadowOffset: {\n      width: 3,\n      height: 3\n    },\n    elevation: 30,\n    shadowOpacity: 0.5,\n    shadowRadius: 10,\n    alignSelf: \"stretch\"\n  },\n  activeBtn: {\n    width: 50,\n    height: 50,\n    backgroundColor: \"rgba(29,41,78,1)\",\n    borderRadius: 20,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 30,\n    marginBottom: 30\n  },\n  notActiveBtn: {\n    width: 50,\n    height: 50,\n    borderRadius: 20,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 30,\n    marginBottom: 30\n  },\n  menuIcon: {\n    color: \"rgba(255,255,255,1)\",\n    fontSize: 40\n  },\n  icon: {\n    color: \"rgba(0,0,0,1)\",\n    fontSize: 40,\n    marginTop: 30,\n    marginBottom: 30\n  },\n  menuContainer: {\n    width: \"67%\",\n    alignSelf: \"stretch\",\n    justifyContent: \"space-around\",\n    alignItems: \"center\"\n  },\n  bannerContainer: {\n    width: \"88%\",\n    height: 150,\n    backgroundColor: \"rgba(29,41,78,1)\",\n    borderRadius: 10,\n    flexDirection: \"row\",\n    justifyContent: \"flex-start\"\n  },\n  logo: {\n    height: 75,\n    width: 250,\n    margin: 10\n  },\n  categoryContainer: {\n    width: \"88%\",\n    height: 178,\n    justifyContent: \"space-between\"\n  },\n  lblTxt: {\n    fontWeight: \"700\",\n    color: \"#121212\",\n    fontSize: 19,\n    marginBottom: 10\n  },\n  scrollArea: {\n    height: 156,\n    alignSelf: \"stretch\"\n  },\n  scrollArea_contentContainerStyle: {\n    width: \"88%\",\n    height: 156\n  },\n  activeCategoryBtn: {\n    width: 125,\n    marginRight: 15,\n    height: 150\n  },\n  categoryBtn: {\n    width: 125,\n    marginRight: 18,\n    height: 150\n  },\n  scrollAreaProducts: {\n    width: \"88%\",\n    height: \"45%\",\n    justifyContent: \"center\"\n  },\n  scrollAreaProducts_contentContainerStyle: {\n    flexWrap: \"wrap\",\n    justifyContent: \"space-between\",\n    flexDirection: \"row\",\n    alignItems: \"flex-start\"\n  },\n  itemContainer: {\n    height: 160,\n    width: 290,\n    marginBottom: 30\n  },\n\n  cartContainer: {\n    width: \"28%\",\n    backgroundColor: \"rgba(255,255,255,1)\",\n    shadowColor: \"rgba(0,0,0,1)\",\n    shadowOffset: {\n      width: 3,\n      height: 3\n    },\n    elevation: 30,\n    shadowOpacity: 0.5,\n    shadowRadius: 10,\n    alignSelf: \"stretch\",\n    justifyContent: \"space-around\",\n    alignItems: \"center\"\n  },\n  myCartTxt: {\n    fontWeight: \"700\",\n    color: \"#121212\",\n    fontSize: 24,\n    width: \"90%\",\n    height: 29\n  },\n  cartItems: {\n    width: \"90%\",\n    height: \"40%\"\n  },\n  cartItems_contentContainerStyle: {\n    height: \"100%\",\n    width: \"100%\"\n  },\n  cartItem1: {\n    height: 86,\n    width: \"100%\",\n    marginBottom: 10\n  },\n  cartItem2: {\n    height: 86,\n    width: \"100%\",\n    marginBottom: 10\n  },\n  cartItem3: {\n    height: 86,\n    width: \"100%\",\n    marginBottom: 10\n  },\n  cartItem4: {\n    height: 86,\n    width: \"100%\",\n    marginBottom: 10\n  },\n  cartItem5: {\n    height: 86,\n    width: \"100%\",\n    marginBottom: 10\n  },\n  totalsContainer: {\n    width: \"90%\",\n    height: 250,\n    backgroundColor: \"rgba(238,242,255,1)\",\n    borderRadius: 20,\n    justifyContent: \"space-around\",\n    alignItems: \"center\",\n    shadowColor: \"rgba(0,0,0,1)\",\n    shadowOffset: {\n      width: 3,\n      height: 3\n    },\n    elevation: 9,\n    shadowOpacity: 0.1,\n    shadowRadius: 3\n  },\n  topGroupTotalsContainer: {\n    width: 280,\n    height: 85,\n    justifyContent: \"space-between\"\n  },\n  discountRow: {\n    height: 18,\n    alignSelf: \"stretch\"\n  },\n  subtotalRow: {\n    height: 18,\n    alignSelf: \"stretch\"\n  },\n  taxRow: {\n    height: 18,\n    alignSelf: \"stretch\"\n  },\n  totalRowGroup: {\n    width: 280,\n    height: 66,\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  },\n  totalRow: {\n    flexDirection: \"row\",\n    height: 18,\n    alignSelf: \"stretch\",\n    justifyContent: \"space-between\"\n  },\n  total2: {\n    fontWeight: \"700\",\n    color: \"#121212\",\n    fontSize: 18\n  },\n  totalValue: {\n    fontWeight: \"700\",\n    color: \"#121212\",\n    fontSize: 18\n  },\n  discountCodeBtn: {\n    minWidth: 120,\n    minHeight: 32,\n    backgroundColor: \"rgba(255,255,255,1)\",\n    borderRadius: 12,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    padding: 5\n  },\n  discountCode: {\n    fontWeight: \"700\",\n    color: \"#121212\",\n    fontSize: 16\n  },\n  checkoutBtn: {\n    width: 170,\n    height: 48,\n    backgroundColor: \"#1a2951\",\n    borderRadius: 20,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  checkoutLbl: {\n    fontWeight: \"700\",\n    color: \"rgba(255,255,255,1)\",\n    fontSize: 20\n  }\n});\nexport default OrderPagePosHome;","map":{"version":3,"names":["React","useEffect","useState","CategoryBtn","ItemContainer","CartItem","UntitledComponent","Entypo","Feather","cartState","customersList","myDeviceDetailsState","setCartState","storeDetailState","userStoreState","setCustomersList","ItemContainerMobile","Modal","useHistory","auth","db","ReceiptPrint","logout","CashScreen","ChangeScreen","CompletePaymentPhoneOrder","SettingsPasswordModal","DiscountModal","DeliveryScreen","SaveCustomer","ClockinModal","OrderPagePosHome","navigation","useWindowDimensions","height","width","catalog","use","categories","length","section","setsection","cartOpen","setcartOpen","deliveryModal","setDeliveryModal","cashModal","setCashModal","changeModal","setChangeModal","ongoingDelivery","setOngoingDelivery","name","setName","phone","setPhone","address","setAddress","buzzCode","setBuzzCode","unitNumber","setUnitNumber","deliveryChecked","setDeliveryChecked","changeDue","setChangeDue","cart","storeDetails","cartSub","setCartSub","saveCustomerModal","setSaveCustomerModal","savedCustomerDetails","setsavedCustomerDetails","ongoingOrderListModal","setongoingOrderListModal","settingsPasswordModalVis","setsettingsPasswordModalVis","history","updatingOrder","setupdatingOrder","ongoingListState","setongoingListState","customers","myDeviceDetails","clockinModal","setclockinModal","discountModal","setdiscountModal","parseDate","input","Object","prototype","toString","call","isNaN","getTime","dateObject","Date","unsub","collection","doc","currentUser","uid","onSnapshot","snapshot","list","forEach","push","data","id","online","printed","printOnlineOrders","console","log","qz","require","websocket","connect","then","config","configs","create","printToPrinter","print","disconnect","catch","err","alert","update","sortedArray","sort","a","b","dateA","date","toDate","dateB","newVal","i","quantity","parseFloat","price","error","deliveryPrice","includes","discountItem","newCart","structuredClone","splice","percent","pop","Print","method","dontAddToOngoing","orders","indexOfCustomer","findIndex","customer","newCustomers","transNum","Math","random","substr","today","element","add","total","sendPrintToUserID","useDifferentDeviceToPrint","value","printData","paymentMethod","products","map","product","index","category","document","getElementById","style","display","CheckoutBtn","styles","checkoutBtn","delete","checkoutLbl","flexDirection","alignSelf","justifyContent","alignItems","marginBottom","container","leftMenuBarContainer","activeBtn","menuIcon","icon","menuContainer","marginTop","backgroundColor","borderRadius","color","padding","fontSize","bannerContainer","logo","maxWidth","categoryContainer","lblTxt","scrollArea","scrollArea_contentContainerStyle","filter","x","hasImage","activeCategoryBtn","imageUrl","categoryBtn","scrollAreaProducts","scrollAreaProducts_contentContainerStyle","docID","itemContainer","setshowProduct","cartContainer","myCartTxt","cartItems","cartItems_contentContainerStyle","cartItem","cartItem1","local","resizeMode","totalsContainer","topGroupTotalsContainer","discountRow","toFixed","subtotalRow","taxRate","taxRow","totalRowGroup","totalRow","total2","totalValue","ceil","discountCodeBtn","discountCode","margin","order","StyleSheet","flex","shadowColor","shadowOffset","elevation","shadowOpacity","shadowRadius","notActiveBtn","fontWeight","marginRight","flexWrap","cartItem2","cartItem3","cartItem4","cartItem5","minWidth","minHeight"],"sources":["/Users/peterputros/Desktop/PosMate/components/newCartScreen/OrderPagePosHome.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  StyleSheet,\n  View,\n  TouchableOpacity,\n  Image,\n  Text,\n  ScrollView,\n  useWindowDimensions,\n} from \"react-native\";\nimport CategoryBtn from \"./components/cartOrder/CategoryBtn\";\nimport ItemContainer from \"./components/cartOrder/ItemContainer\";\nimport CartItem from \"./components/cartOrder/CartItem\";\nimport UntitledComponent from \"./components/cartOrder/UntitledComponent\";\nimport { Entypo, Feather } from \"@expo/vector-icons\";\nimport {\n  cartState,\n  customersList,\n  myDeviceDetailsState,\n  setCartState,\n  storeDetailState,\n  userStoreState,\n  setCustomersList,\n} from \"state/state\";\nimport ItemContainerMobile from \"./components/cartOrder/ItemContainerMobile\";\nimport Modal from \"react-native-modal\";\nimport { useHistory } from \"react-router-dom\";\nimport { auth, db } from \"state/firebaseConfig\";\nimport ReceiptPrint from \"components/functional/ReceiptPrint\";\nimport { logout } from \"state/firebaseFunctions\";\nimport CashScreen from \"components/modalsNew/CashScreen\";\nimport ChangeScreen from \"components/modalsNew/ChangeScreen\";\nimport CompletePaymentPhoneOrder from \"components/modalsNew/CompletePaymentPhoneOrder\";\nimport SettingsPasswordModal from \"components/modalsNew/SettingsPasswordModal\";\nimport DiscountModal from \"components/modalsNew/DiscountModal\";\nimport DeliveryScreen from \"components/modalsNew/DeliveryScreen\";\nimport SaveCustomer from \"components/modalsNew/SaveCustomer\";\nimport ClockinModal from \"components/modalsNew/ClockinModal\";\n\nfunction OrderPagePosHome({ navigation }) {\n  const { height, width } = useWindowDimensions();\n  const catalog = userStoreState.use();\n  const [section, setsection] = useState(\n    catalog.categories.length > 0 ? catalog.categories[0] : \"\"\n  );\n  const [cartOpen, setcartOpen] = useState(false);\n  const [deliveryModal, setDeliveryModal] = useState(false);\n  const [cashModal, setCashModal] = useState(false);\n  const [changeModal, setChangeModal] = useState(false);\n  const [ongoingDelivery, setOngoingDelivery] = useState(null);\n  const [name, setName] = useState(null);\n  const [phone, setPhone] = useState(null);\n  const [address, setAddress] = useState(null);\n  const [buzzCode, setBuzzCode] = useState(null);\n  const [unitNumber, setUnitNumber] = useState(null);\n  const [deliveryChecked, setDeliveryChecked] = useState(false);\n  const [changeDue, setChangeDue] = useState(null);\n  const cart = cartState.use();\n  const storeDetails = storeDetailState.use();\n  const [cartSub, setCartSub] = useState(0);\n  const [saveCustomerModal, setSaveCustomerModal] = useState(false);\n  const [savedCustomerDetails, setsavedCustomerDetails] = useState(null);\n  const [ongoingOrderListModal, setongoingOrderListModal] = useState(false);\n  const [settingsPasswordModalVis, setsettingsPasswordModalVis] =\n    useState(false);\n  const history = useHistory();\n  const [updatingOrder, setupdatingOrder] = useState(false);\n  const [ongoingListState, setongoingListState] = useState([]);\n  const customers = customersList.use();\n  const myDeviceDetails = myDeviceDetailsState.use();\n  const [clockinModal, setclockinModal] = useState(false);\n  const [discountModal, setdiscountModal] = useState(false);\n\n  function parseDate(input) {\n    // Check if the input is a Date object\n    if (Object.prototype.toString.call(input) === \"[object Date]\") {\n      if (!isNaN(input.getTime())) {\n        // It's a valid Date object, return it\n        return input;\n      }\n    }\n\n    // Check if the input is a string\n    if (typeof input === \"string\") {\n      const dateObject = new Date(input);\n\n      // Check if the dateObject is a valid Date\n      if (!isNaN(dateObject.getTime())) {\n        // It's a valid Date object, return it\n        return dateObject;\n      }\n    }\n  }\n\n  useEffect(() => {\n    const unsub = db\n      .collection(\"users\")\n      .doc(auth.currentUser?.uid)\n      .collection(\"pendingOrders\")\n      .onSnapshot((snapshot) => {\n        const list = [];\n        snapshot.forEach((doc) => {\n          list.push({ ...doc.data(), id: doc.id });\n          if (\n            doc.data().online &&\n            !doc.data().printed &&\n            myDeviceDetails.printOnlineOrders\n          ) {\n            console.log(\"Printing\");\n            const data = ReceiptPrint(doc.data(), storeDetails);\n            const qz = require(\"qz-tray\");\n            qz.websocket\n              .connect()\n              .then(function () {\n                const config = qz.configs.create(\n                  myDeviceDetails.printToPrinter\n                );\n                return qz.print(config, data.data);\n              })\n              .then(qz.websocket.disconnect)\n              .catch(function (err) {\n                // console.error(err);\n                alert(\n                  \"An error occured while trying to print. Try refreshing the page and trying again.\"\n                );\n              });\n            db.collection(\"users\")\n              .doc(auth.currentUser?.uid)\n              .collection(\"pendingOrders\")\n              .doc(doc.id)\n              .update({\n                printed: true,\n              });\n          }\n        });\n\n        const sortedArray = list.sort((a, b) => {\n          const dateA = a.online ? parseDate(a.date) : a.date.toDate();\n          const dateB = b.online ? parseDate(b.date) : b.date.toDate();\n\n          // Compare dates\n          return dateB - dateA;\n        });\n\n        setongoingListState(sortedArray);\n      });\n\n    return () => unsub();\n  }, []);\n\n  useEffect(() => {\n    // console.log(\"cart\", cart);\n    if (cart.length > 0) {\n      let newVal = 0;\n      for (let i = 0; i < cart.length; i++) {\n        try {\n          if (cart[i].quantity > 1) {\n            newVal += parseFloat(cart[i].price) * cart[i].quantity;\n            // console.log(\"Cart item quantity \", cart[i].quantity);\n          } else {\n            newVal += parseFloat(cart[i].price);\n          }\n        } catch (error) {\n          console.log(error);\n        }\n      }\n      if (deliveryChecked) {\n        setCartSub(newVal + parseFloat(storeDetails.deliveryPrice));\n      } else {\n        setCartSub(newVal);\n      }\n      //check if there is a discount in the cart then move it the end of the cart\n      if (cart.length > 1) {\n        if (!cart[cart.length - 1].name.includes(\"Cart Discount\")) {\n          for (let i = 0; i < cart.length; i++) {\n            if (cart[i].name.includes(\"Cart Discount\")) {\n              console.log(\"In first if\");\n              const discountItem = cart[i];\n              const newCart = structuredClone(cart);\n              newCart.splice(i, 1);\n\n              if (discountItem.percent) {\n                newCart.push({\n                  ...discountItem,\n                  price:\n                    (newVal + -discountItem.price) * discountItem.percent * -1,\n                });\n              } else {\n                newCart.push(discountItem);\n              }\n              setCartState(newCart);\n            }\n          }\n        } else if (cart[cart.length - 1].percent) {\n          console.log(\"In second if\");\n          const discountItem = cart[cart.length - 1];\n          if (\n            (newVal + -discountItem.price) * discountItem.percent * -1 !==\n            discountItem.price\n          ) {\n            const newCart = structuredClone(cart);\n            newCart.pop();\n            newCart.push({\n              ...discountItem,\n              price: (newVal + -discountItem.price) * discountItem.percent * -1,\n            });\n            setCartState(newCart);\n          }\n        }\n      }\n    } else {\n      setCartSub(0);\n    }\n  }, [cart, deliveryChecked]);\n\n  // const AddToList = async (payload) => {\n  //   updateTransList(payload);\n  // };\n\n  const Print = (method, dontAddToOngoing) => {\n    if (!myDeviceDetails.id) {\n      return alert(\"Please set up a device in Settings -> Devices\");\n    }\n\n    if (savedCustomerDetails) {\n      if (savedCustomerDetails.orders?.length > 0) {\n        db.collection(\"users\")\n          .doc(auth.currentUser?.uid)\n          .collection(\"customers\")\n          .doc(savedCustomerDetails.id)\n          .update({\n            orders: [...savedCustomerDetails.orders, { cart }],\n          });\n        const indexOfCustomer = customers.findIndex(\n          (customer) => customer.id === savedCustomerDetails.id\n        );\n        const newCustomers = structuredClone(customers);\n        newCustomers[indexOfCustomer].orders.push({ cart });\n        setCustomersList(newCustomers);\n      } else {\n        db.collection(\"users\")\n          .doc(auth.currentUser?.uid)\n          .collection(\"customers\")\n          .doc(savedCustomerDetails.id)\n          .update({\n            orders: [{ cart }],\n          });\n        const indexOfCustomer = customers.findIndex(\n          (customer) => customer.id === savedCustomerDetails.id\n        );\n        const newCustomers = structuredClone(customers);\n        newCustomers[indexOfCustomer].orders = [{ cart }];\n        setCustomersList(newCustomers);\n      }\n    }\n\n    const transNum = Math.random().toString(36).substr(2, 9);\n\n    if (method === \"deliveryOrder\") {\n      const today = new Date();\n\n      const element = {\n        date: today,\n        transNum: transNum,\n        method: \"deliveryOrder\",\n        cart: cart,\n        customer: {\n          name: name,\n          phone: phone,\n          address: address,\n          buzzCode: buzzCode,\n          unitNumber: unitNumber,\n        },\n      };\n\n      const data = ReceiptPrint(element, storeDetails);\n\n      if (!dontAddToOngoing) {\n        console.log(\"Adding to pending orders\");\n        db.collection(\"users\")\n          .doc(auth.currentUser?.uid)\n          .collection(\"pendingOrders\")\n          .add({\n            date: today,\n            transNum: transNum,\n            method: \"deliveryOrder\",\n            cart: cart,\n            total: data.total,\n            customer: {\n              name: name,\n              phone: phone,\n              address: address ? address : null,\n              buzzCode: buzzCode,\n              unitNumber: unitNumber,\n            },\n          });\n      }\n\n      if (\n        myDeviceDetails.sendPrintToUserID &&\n        myDeviceDetails.useDifferentDeviceToPrint\n      ) {\n        console.log(\"Sending print to different user\");\n        db.collection(\"users\")\n          .doc(auth.currentUser?.uid)\n          .collection(\"devices\")\n          .doc(myDeviceDetails.sendPrintToUserID.value)\n          .collection(\"printRequests\")\n          .add({\n            printData: data.data,\n          });\n      } else {\n        const qz = require(\"qz-tray\");\n        qz.websocket\n          .connect()\n          .then(function () {\n            const config = qz.configs.create(myDeviceDetails.printToPrinter);\n            return qz.print(config, data.data);\n          })\n          .then(qz.websocket.disconnect)\n          .catch(function (err) {\n            // console.error(err);\n            alert(\n              \"An error occured while trying to print. Try refreshing the page and trying again.\"\n            );\n          });\n      }\n\n      setCartState([]);\n      setDeliveryModal(false);\n    } else if (method === \"pickupOrder\") {\n      const today = new Date();\n\n      const element = {\n        date: today,\n        transNum: transNum,\n        method: \"pickupOrder\",\n        cart: cart,\n        customer: {\n          name: name,\n          phone: phone,\n          // address: address,\n        },\n      };\n\n      const data = ReceiptPrint(element, storeDetails);\n\n      if (!dontAddToOngoing) {\n        console.log(\"Adding to pending orders\");\n        db.collection(\"users\")\n          .doc(auth.currentUser?.uid)\n          .collection(\"pendingOrders\")\n          .add({\n            date: today,\n            transNum: transNum,\n            method: \"pickupOrder\",\n            cart: cart,\n            total: data.total,\n            customer: {\n              name: name,\n              phone: phone,\n              address: address ? address : \"null\",\n            },\n          });\n      }\n\n      if (\n        myDeviceDetails.sendPrintToUserID &&\n        myDeviceDetails.useDifferentDeviceToPrint\n      ) {\n        console.log(\"Sending print to different user\");\n        db.collection(\"users\")\n          .doc(auth.currentUser?.uid)\n          .collection(\"devices\")\n          .doc(myDeviceDetails.sendPrintToUserID.value)\n          .collection(\"printRequests\")\n          .add({\n            printData: data.data,\n          });\n      } else {\n        const qz = require(\"qz-tray\");\n        qz.websocket\n          .connect()\n          .then(function () {\n            const config = qz.configs.create(myDeviceDetails.printToPrinter);\n            return qz.print(config, data.data);\n          })\n          .then(qz.websocket.disconnect)\n          .catch(function (err) {\n            // console.error(err);\n            alert(\n              \"An error occured while trying to print. Try refreshing the page and trying again.\"\n            );\n          });\n      }\n\n      setCartState([]);\n      setDeliveryModal(false);\n      setName(null);\n      setPhone(null);\n      setAddress(null);\n      setDeliveryChecked(false);\n    } else {\n      const today = new Date();\n      const element = {\n        date: today,\n        transNum: transNum,\n        method: \"inStoreOrder\",\n        cart: cart,\n        customer: {\n          name: name,\n          phone: phone,\n          address: address,\n        },\n        changeDue: changeDue,\n        paymentMethod: method,\n      };\n\n      const data = ReceiptPrint(element, storeDetails);\n\n      db.collection(\"users\")\n        .doc(auth.currentUser?.uid)\n        .collection(\"pendingOrders\")\n        .add({\n          date: today,\n          transNum: transNum,\n          total: data.total,\n          method: \"inStoreOrder\",\n          paymentMethod: method,\n          cart: cart,\n        });\n      if (\n        myDeviceDetails.sendPrintToUserID &&\n        myDeviceDetails.useDifferentDeviceToPrint\n      ) {\n        console.log(\"Sending print to different user\");\n        db.collection(\"users\")\n          .doc(auth.currentUser?.uid)\n          .collection(\"devices\")\n          .doc(myDeviceDetails.sendPrintToUserID.value)\n          .collection(\"printRequests\")\n          .add({\n            printData: data.data,\n          });\n      } else {\n        const qz = require(\"qz-tray\");\n        qz.websocket\n          .connect()\n          .then(function () {\n            const config = qz.configs.create(myDeviceDetails.printToPrinter);\n            return qz.print(config, data.data);\n          })\n          .then(qz.websocket.disconnect)\n          .catch(function (err) {\n            // console.error(err);\n            alert(\n              \"An error occured while trying to print. Try refreshing the page and trying again.\"\n            );\n          });\n      }\n    }\n\n    setCartState([]);\n    setName(null);\n    setPhone(null);\n    setAddress(null);\n    setDeliveryChecked(false);\n    setChangeDue(null);\n  };\n\n  useEffect(() => {\n    if (cart.length > 0) {\n      let newVal = 0;\n      for (let i = 0; i < cart.length; i++) {\n        try {\n          if (cart[i].quantity > 1) {\n            newVal += parseFloat(cart[i].price) * cart[i].quantity;\n            // console.log(\"Cart item quantity \", cart[i].quantity);\n          } else {\n            newVal += parseFloat(cart[i].price);\n          }\n        } catch (error) {\n          console.log(error);\n        }\n      }\n      if (deliveryChecked) {\n        setCartSub(newVal + parseFloat(storeDetails.deliveryPrice));\n      } else {\n        setCartSub(newVal);\n      }\n    } else {\n      setCartSub(0);\n    }\n  }, [cart]);\n\n  useEffect(() => {\n    catalog.products.map((product, index) => {\n      if (product.category === section) {\n        document.getElementById(product.id).style.display = \"flex\";\n      } else {\n        document.getElementById(product.id).style.display = \"none\";\n      }\n    });\n  }, [section]);\n\n  const CheckoutBtn = () => {\n    if (updatingOrder) {\n      return (\n        <TouchableOpacity\n          style={styles.checkoutBtn}\n          disabled={cart.length < 1}\n          onPress={() => {\n            db.collection(\"users\")\n              .doc(auth.currentUser?.uid)\n              .collection(\"pendingOrders\")\n              .doc(updatingOrder.id)\n              .delete();\n\n            Print(deliveryChecked ? \"deliveryOrder\" : \"pickupOrder\", false);\n            setOngoingDelivery(null);\n            setName(null);\n            setPhone(null);\n            setAddress(null);\n            setDeliveryChecked(false);\n            setupdatingOrder(false);\n          }}\n        >\n          <Text style={styles.checkoutLbl}>Update Order</Text>\n        </TouchableOpacity>\n      );\n    }\n\n    if (ongoingDelivery === null) {\n      return (\n        <View\n          style={{\n            flexDirection: \"row\",\n            width: \"90%\",\n            alignSelf: \"center\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            marginBottom: 10,\n          }}\n        >\n          <TouchableOpacity\n            style={styles.checkoutBtn}\n            onPress={() => setCashModal(true)}\n            disabled={cart.length < 1 || ongoingDelivery}\n          >\n            <Text style={styles.checkoutLbl}>Cash</Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={styles.checkoutBtn}\n            onPress={() => {\n              Print(\"Card\");\n            }}\n            disabled={cart.length < 1 || ongoingDelivery}\n          >\n            <Text style={styles.checkoutLbl}>Card</Text>\n          </TouchableOpacity>\n        </View>\n      );\n    }\n    if (ongoingDelivery && cart.length > 0) {\n      return (\n        <TouchableOpacity\n          style={styles.checkoutBtn}\n          onPress={() => {\n            Print(deliveryChecked ? \"deliveryOrder\" : \"pickupOrder\", false);\n            setOngoingDelivery(null);\n            setName(null);\n            setPhone(null);\n            setAddress(null);\n          }}\n        >\n          <Text style={styles.checkoutLbl}>Checkout</Text>\n        </TouchableOpacity>\n      );\n    } else {\n      return (\n        <TouchableOpacity\n          style={styles.checkoutBtn}\n          onPress={() => {\n            setOngoingDelivery(null);\n            setDeliveryChecked(false);\n            setName(null);\n            setPhone(null);\n            setAddress(null);\n            setChangeDue(null);\n          }}\n        >\n          <Text style={styles.checkoutLbl}>Cancel</Text>\n        </TouchableOpacity>\n      );\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      {width > 1250 && (\n        <View style={styles.leftMenuBarContainer}>\n          <TouchableOpacity style={styles.activeBtn}>\n            <Entypo name=\"menu\" style={styles.menuIcon}></Entypo>\n          </TouchableOpacity>\n          <TouchableOpacity style={styles.activeBtn}>\n            <Image source={require('./assets/images/pendingOrderIcon.png')} style={{width: 40, height: 40}} />\n          </TouchableOpacity>\n          <TouchableOpacity style={styles.activeBtn}>\n           <Image source={require('./assets/images/clockInIcon.png')} style={{width: 40, height: 40}} />\n          </TouchableOpacity>\n          <TouchableOpacity style={styles.activeBtn}>\n            <Entypo name=\"menu\" style={styles.menuIcon}></Entypo>\n          </TouchableOpacity>\n          <TouchableOpacity style={styles.activeBtn}>\n            <Entypo name=\"menu\" style={styles.menuIcon}></Entypo>\n          </TouchableOpacity>\n          <TouchableOpacity onPress={logout}>\n            <Feather name=\"log-out\" style={styles.icon}></Feather>\n          </TouchableOpacity>\n        </View>\n      )}\n      <View\n        style={[\n          styles.menuContainer,\n          width < 1250 && { width: \"62%\" },\n          width < 1000 && { width: \"100%\" },\n        ]}\n      >\n        {width < 1000 && (\n          <View\n            style={{\n              flexDirection: \"row\",\n              width: \"88%\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n              marginBottom: 10,\n              marginTop: 10,\n            }}\n          >\n            <TouchableOpacity\n              onPress={() => {\n                // setpage(1);\n              }}\n              style={{\n                backgroundColor: \"#1D294E\",\n                borderRadius: 10,\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                width: 34,\n                height: 34,\n              }}\n            >\n              <Feather name=\"log-out\" style={{ color: \"white\" }} size={20} />\n            </TouchableOpacity>\n            <TouchableOpacity\n              onPress={() => {\n                setcartOpen(true);\n              }}\n              style={{\n                backgroundColor: \"#1D294E\",\n                borderRadius: 10,\n                justifyContent: \"space-between\",\n                alignItems: \"center\",\n                width: 58,\n                height: 34,\n                flexDirection: \"row\",\n                padding: 5,\n              }}\n            >\n              <Feather\n                name=\"shopping-cart\"\n                style={{ color: \"white\" }}\n                size={20}\n              />\n              <Text style={{ color: \"white\", fontSize: 20 }}>\n                {cart.length}\n              </Text>\n            </TouchableOpacity>\n          </View>\n        )}\n        {width > 1000 && (\n          <View\n            style={[\n              styles.bannerContainer,\n              width < 1000 && {\n                height: 100,\n                justifyContent: \"center\",\n                alignItems: \"center\",\n              },\n            ]}\n          >\n            <Image\n              source={require(\"./assets/images/image_onW3..png\")}\n              resizeMode=\"contain\"\n              style={[\n                styles.logo,\n                width < 1000 && { height: 60, maxWidth: 250 },\n              ]}\n            ></Image>\n          </View>\n        )}\n        <View style={styles.categoryContainer}>\n          <Text style={styles.lblTxt}>Menu Category</Text>\n          <View style={styles.scrollArea}>\n            <ScrollView\n              horizontal={true}\n              contentContainerStyle={styles.scrollArea_contentContainerStyle}\n            >\n              {catalog.categories?.map((category, index) => {\n                if (\n                  catalog.products.filter(\n                    (x) => x.category === category && x.hasImage\n                  ).length > 0\n                ) {\n                  return (\n                    <CategoryBtn\n                      key={index}\n                      category={category}\n                      onPress={() => {\n                        setsection(category);\n                      }}\n                      isSelected={section === category}\n                      style={styles.activeCategoryBtn}\n                      imageUrl={\n                        catalog.products[\n                          catalog.products.findIndex(\n                            (x) => x.category === category && x.hasImage\n                          )\n                        ]?.imageUrl\n                      }\n                    />\n                  );\n                } else {\n                  return (\n                    <CategoryBtn\n                      key={index}\n                      category={category}\n                      onPress={() => {\n                        setsection(category);\n                      }}\n                      isSelected={section === category}\n                      style={styles.categoryBtn}\n                      imageUrl={null}\n                    />\n                  );\n                }\n              })}\n            </ScrollView>\n          </View>\n        </View>\n        <View style={styles.scrollAreaProducts}>\n          <ScrollView\n            contentContainerStyle={\n              styles.scrollAreaProducts_contentContainerStyle\n            }\n          >\n            {catalog.products.map((product, index) =>\n              width > 1250 ? (\n                <ItemContainer\n                  product={product}\n                  productIndex={index}\n                  key={index}\n                  userUid={catalog.docID}\n                  style={styles.itemContainer}\n                />\n              ) : (\n                <ItemContainerMobile\n                  product={product}\n                  productIndex={index}\n                  key={index}\n                  userUid={catalog.docID}\n                  style={{\n                    height: 220,\n                    width: 160, // Ensure this width accounts for any margins or padding\n                    marginBottom: 30,\n                  }}\n                  setshowProduct={setshowProduct}\n                />\n              )\n            )}\n          </ScrollView>\n        </View>\n      </View>\n      {width > 1000 ? (\n        <View style={[styles.cartContainer, width < 1250 && { width: \"38%\" }]}>\n          <Text style={styles.myCartTxt}>My Cart</Text>\n          {cart.length > 0 ? (\n            <View style={styles.cartItems}>\n              <ScrollView\n                horizontal={false}\n                contentContainerStyle={styles.cartItems_contentContainerStyle}\n              >\n                {cart?.map((cartItem, index) => (\n                  <CartItem\n                    style={styles.cartItem1}\n                    key={index}\n                    cartItem={cartItem}\n                    index={index}\n                    removeAction={() => {\n                      console.log(\"Removing\");\n                      const local = structuredClone(cart);\n                      local.splice(index, 1);\n                      setCartState(local);\n                    }}\n                    decreaseAction={() => {\n                      const local = structuredClone(cart);\n                      local[index].quantity--;\n                      setCartState(local);\n                    }}\n                    increaseAction={() => {\n                      const local = structuredClone(cart);\n                      if (local[index].quantity) {\n                        local[index].quantity++;\n                      } else {\n                        local[index].quantity = 2;\n                      }\n                      setCartState(local);\n                    }}\n                  />\n                ))}\n              </ScrollView>\n            </View>\n          ) : (\n            <Image\n              source={require(\"./assets/images/noItemsImg.png\")}\n              style={{ width: 200, height: \"35%\", resizeMode: \"contain\" }}\n            />\n          )}\n          <View style={styles.totalsContainer}>\n            <View style={styles.topGroupTotalsContainer}>\n              <UntitledComponent\n                amountValue=\"N/A\"\n                amountLbl=\"Discount\"\n                style={styles.discountRow}\n              />\n              {deliveryChecked && parseFloat(storeDetails.deliveryPrice) && (\n                <UntitledComponent\n                  amountValue={`$${parseFloat(\n                    storeDetails.deliveryPrice\n                  ).toFixed(2)}`}\n                  amountLbl=\"Delivery\"\n                  style={styles.discountRow}\n                />\n              )}\n              <UntitledComponent\n                amountValue={\n                  deliveryChecked &&\n                  parseFloat(storeDetails.deliveryPrice) &&\n                  cartSub > 0\n                    ? `$${(\n                        cartSub - parseFloat(storeDetails.deliveryPrice)\n                      ).toFixed(2)}`\n                    : `$${cartSub.toFixed(2)}`\n                }\n                amountLbl=\"Subtotal\"\n                style={styles.subtotalRow}\n              />\n              <UntitledComponent\n                amountValue={`$${(\n                  cartSub *\n                  (storeDetails.taxRate ? storeDetails.taxRate / 100 : 0.13)\n                ).toFixed(2)}`}\n                amountLbl=\"Tax\"\n                style={styles.taxRow}\n              />\n            </View>\n            <View style={styles.totalRowGroup}>\n              <View style={styles.totalRow}>\n                <Text style={styles.total2}>Total</Text>\n                <Text style={styles.totalValue}>\n                  $\n                  {(\n                    Math.ceil(\n                      cartSub *\n                        (storeDetails.taxRate\n                          ? 1 + storeDetails.taxRate / 100\n                          : 1.13) *\n                        10\n                    ) / 10\n                  ).toFixed(2)}\n                </Text>\n              </View>\n              <TouchableOpacity\n                style={styles.discountCodeBtn}\n                onPress={() => setdiscountModal(true)}\n              >\n                <Text style={styles.discountCode}>Discount Code</Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n          <CheckoutBtn />\n        </View>\n      ) : (\n        <Modal\n          isVisible={cartOpen}\n          animationIn=\"slideInUp\"\n          animationOut=\"slideOutDown\"\n          style={{ margin: 0 }}\n        >\n          <View\n            style={{\n              width: width,\n              height: height,\n              justifyContent: \"space-evenly\",\n              alignItems: \"center\",\n              backgroundColor: \"white\",\n            }}\n          >\n            <View\n              style={{\n                flexDirection: \"row\",\n                width: \"90%\",\n                justifyContent: \"space-between\",\n                alignItems: \"center\",\n                marginBottom: 10,\n              }}\n            >\n              <TouchableOpacity\n                onPress={() => {\n                  setcartOpen(false);\n                }}\n              >\n                <Feather\n                  onPress={() => {\n                    setcartOpen(false);\n                  }}\n                  name=\"chevron-down\"\n                  style={{ color: \"grey\" }}\n                  size={40}\n                />\n              </TouchableOpacity>\n              <View\n                style={{\n                  backgroundColor: \"#1D294E\",\n                  borderRadius: 10,\n                  justifyContent: \"space-between\",\n                  alignItems: \"center\",\n                  width: 80,\n                  height: 40,\n                  flexDirection: \"row\",\n                  padding: 15,\n                }}\n              >\n                <Feather\n                  name=\"shopping-cart\"\n                  style={{ color: \"white\" }}\n                  size={22}\n                />\n                <Text style={{ color: \"white\", fontSize: 20 }}>\n                  {cart.length}\n                </Text>\n              </View>\n            </View>\n            <Text style={styles.myCartTxt}>My Cart</Text>\n            {cart.length > 0 ? (\n              <View style={styles.cartItems}>\n                <ScrollView\n                  horizontal={false}\n                  contentContainerStyle={styles.cartItems_contentContainerStyle}\n                >\n                  {cart?.map((cartItem, index) => (\n                    <CartItem\n                      style={styles.cartItem1}\n                      key={index}\n                      cartItem={cartItem}\n                      index={index}\n                      removeAction={() => {\n                        console.log(\"Removing\");\n                        const local = structuredClone(cart);\n                        local.splice(index, 1);\n                        setCartState(local);\n                      }}\n                      decreaseAction={() => {\n                        const local = structuredClone(cart);\n                        local[index].quantity--;\n                        setCartState(local);\n                      }}\n                      increaseAction={() => {\n                        const local = structuredClone(cart);\n                        if (local[index].quantity) {\n                          local[index].quantity++;\n                        } else {\n                          local[index].quantity = 2;\n                        }\n                        setCartState(local);\n                      }}\n                    />\n                  ))}\n                </ScrollView>\n              </View>\n            ) : (\n              <Image\n                source={require(\"./assets/images/noItemsImg.png\")}\n                style={{ width: 200, height: \"35%\", resizeMode: \"contain\" }}\n              />\n            )}\n            <View style={[styles.totalsContainer, { height: 150 }]}>\n              <View style={styles.topGroupTotalsContainer}>\n                {deliveryChecked && parseFloat(storeDetails.deliveryPrice) && (\n                  <UntitledComponent\n                    amountValue={`$${parseFloat(\n                      storeDetails.deliveryPrice\n                    ).toFixed(2)}`}\n                    amountLbl=\"Delivery\"\n                    style={styles.discountRow}\n                  />\n                )}\n                <UntitledComponent\n                  amountValue={\n                    deliveryChecked &&\n                    parseFloat(storeDetails.deliveryPrice) &&\n                    cartSub > 0\n                      ? `$${(\n                          cartSub - parseFloat(storeDetails.deliveryPrice)\n                        ).toFixed(2)}`\n                      : `$${cartSub.toFixed(2)}`\n                  }\n                  amountLbl=\"Subtotal\"\n                  style={styles.subtotalRow}\n                />\n                <UntitledComponent\n                  amountValue={`$${(\n                    cartSub *\n                    (storeDetails.taxRate ? storeDetails.taxRate / 100 : 0.13)\n                  ).toFixed(2)}`}\n                  amountLbl=\"Tax\"\n                  style={styles.taxRow}\n                />\n                <View style={styles.totalRow}>\n                  <Text style={styles.total2}>Total</Text>\n                  <Text style={styles.totalValue}>\n                    $\n                    {(\n                      Math.ceil(\n                        cartSub *\n                          (storeDetails.taxRate\n                            ? 1 + storeDetails.taxRate / 100\n                            : 1.13) *\n                          10\n                      ) / 10\n                    ).toFixed(2)}\n                  </Text>\n                </View>\n              </View>\n            </View>\n            <CheckoutBtn />\n          </View>\n        </Modal>\n      )}\n      <Modal visible={clockinModal} transparent={true}>\n        <ClockinModal setclockinModal={setclockinModal} />\n      </Modal>\n      <Modal visible={saveCustomerModal} transparent={true}>\n        <SaveCustomer\n          setSaveCustomerModal={setSaveCustomerModal}\n          setOngoingDelivery={setOngoingDelivery}\n          setNameForDelivery={setName}\n          setPhoneForDelivery={setPhone}\n          setAddressForDelivery={setAddress}\n          setBuzzCodeForDelivery={setBuzzCode}\n          setUnitNumberForDelivery={setUnitNumber}\n          setDeliveryChecked={setDeliveryChecked}\n          setsavedCustomerDetails={setsavedCustomerDetails}\n        />\n      </Modal>\n      <Modal visible={deliveryModal} transparent={true}>\n        <DeliveryScreen\n          setsavedCustomerDetails={setsavedCustomerDetails}\n          setDeliveryModal={setDeliveryModal}\n          setOngoingDelivery={setOngoingDelivery}\n          setName={setName}\n          setPhone={setPhone}\n          setAddress={setAddress}\n          name={name}\n          phone={phone}\n          address={address}\n          deliveryChecked={deliveryChecked}\n          setDeliveryChecked={setDeliveryChecked}\n          ongoingDelivery={ongoingDelivery}\n          setsaveCustomerModal={setSaveCustomerModal}\n          setUnitNumber={setUnitNumber}\n          setBuzzCode={setBuzzCode}\n          unitNumber={unitNumber}\n          buzzCode={buzzCode}\n        />\n      </Modal>\n      <Modal visible={cashModal} transparent>\n        <CashScreen\n          setCashModal={setCashModal}\n          GetTrans={() => Print(\"Cash\")}\n          total={(cartSub * 1.13).toFixed(2)}\n          setChangeDue={setChangeDue}\n        />\n      </Modal>\n      <Modal visible={changeModal}>\n        <ChangeScreen setChangeModal={setChangeModal} />\n      </Modal>\n      <Modal visible={ongoingOrderListModal} transparent={true}>\n        <CompletePaymentPhoneOrder\n          setongoingOrderListModal={setongoingOrderListModal}\n          updateOrderHandler={(order) => {\n            setCartState(order.cart);\n            setName(order.customer.name);\n            setPhone(order.customer.phone);\n            setAddress(order.customer.address);\n            setDeliveryChecked(order.method === \"deliveryOrder\");\n            setOngoingDelivery(true);\n            setongoingOrderListModal(false);\n            setupdatingOrder(order);\n          }}\n          ongoingListState={ongoingListState}\n          setongoingListState={setongoingListState}\n        />\n      </Modal>\n      <Modal visible={settingsPasswordModalVis} transparent={true}>\n        <SettingsPasswordModal\n          setsettingsPasswordModalVis={setsettingsPasswordModalVis}\n          navigation={navigation}\n        />\n      </Modal>\n      <Modal visible={discountModal} transparent={true}>\n        <DiscountModal\n          setdiscountModal={setdiscountModal}\n          cartSub={cartSub}\n          cart={cart}\n          deliveryChecked={deliveryChecked}\n          storeDetails={storeDetails}\n        />\n      </Modal>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"rgba(238,242,255,1)\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  leftMenuBarContainer: {\n    width: \"5%\",\n    backgroundColor: \"rgba(255,255,255,1)\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    shadowColor: \"rgba(0,0,0,1)\",\n    shadowOffset: {\n      width: 3,\n      height: 3,\n    },\n    elevation: 30,\n    shadowOpacity: 0.5,\n    shadowRadius: 10,\n    alignSelf: \"stretch\",\n  },\n  activeBtn: {\n    width: 50,\n    height: 50,\n    backgroundColor: \"rgba(29,41,78,1)\",\n    borderRadius: 20,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 30,\n    marginBottom: 30,\n  },\n  notActiveBtn: {\n    width: 50,\n    height: 50,\n    borderRadius: 20,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 30,\n    marginBottom: 30,\n  },\n  menuIcon: {\n    color: \"rgba(255,255,255,1)\",\n    fontSize: 40,\n  },\n  icon: {\n    color: \"rgba(0,0,0,1)\",\n    fontSize: 40,\n    marginTop: 30,\n    marginBottom: 30,\n  },\n  menuContainer: {\n    width: \"67%\",\n    alignSelf: \"stretch\",\n    justifyContent: \"space-around\",\n    alignItems: \"center\",\n  },\n  bannerContainer: {\n    width: \"88%\",\n    height: 150,\n    backgroundColor: \"rgba(29,41,78,1)\",\n    borderRadius: 10,\n    flexDirection: \"row\",\n    justifyContent: \"flex-start\",\n  },\n  logo: {\n    height: 75,\n    width: 250,\n    margin: 10,\n  },\n  categoryContainer: {\n    width: \"88%\",\n    height: 178,\n    justifyContent: \"space-between\",\n  },\n  lblTxt: {\n    fontWeight: \"700\",\n    color: \"#121212\",\n    fontSize: 19,\n    marginBottom: 10,\n  },\n  scrollArea: {\n    height: 156,\n    alignSelf: \"stretch\",\n  },\n  scrollArea_contentContainerStyle: {\n    width: \"88%\",\n    height: 156,\n  },\n  activeCategoryBtn: {\n    width: 125,\n    marginRight: 15,\n    height: 150,\n  },\n  categoryBtn: {\n    width: 125,\n    marginRight: 18,\n    height: 150,\n  },\n  scrollAreaProducts: {\n    width: \"88%\",\n    height: \"45%\",\n    justifyContent: \"center\",\n  },\n  scrollAreaProducts_contentContainerStyle: {\n    flexWrap: \"wrap\",\n    justifyContent: \"space-between\", // or 'space-between' if you want equal spacing\n    flexDirection: \"row\",\n    alignItems: \"flex-start\",\n  },\n  itemContainer: {\n    height: 160,\n    width: 290, // Ensure this width accounts for any margins or padding\n    marginBottom: 30,\n    // marginRight: 20, // You may need to adjust this based on the number of items per row\n  },\n  cartContainer: {\n    width: \"28%\",\n    backgroundColor: \"rgba(255,255,255,1)\",\n    shadowColor: \"rgba(0,0,0,1)\",\n    shadowOffset: {\n      width: 3,\n      height: 3,\n    },\n    elevation: 30,\n    shadowOpacity: 0.5,\n    shadowRadius: 10,\n    alignSelf: \"stretch\",\n    justifyContent: \"space-around\",\n    alignItems: \"center\",\n  },\n  myCartTxt: {\n    fontWeight: \"700\",\n    color: \"#121212\",\n    fontSize: 24,\n    width: \"90%\",\n    height: 29,\n  },\n  cartItems: {\n    width: \"90%\",\n    height: \"40%\",\n  },\n  cartItems_contentContainerStyle: {\n    height: \"100%\",\n    width: \"100%\",\n  },\n  cartItem1: {\n    height: 86,\n    width: \"100%\",\n    marginBottom: 10,\n  },\n  cartItem2: {\n    height: 86,\n    width: \"100%\",\n    marginBottom: 10,\n  },\n  cartItem3: {\n    height: 86,\n    width: \"100%\",\n    marginBottom: 10,\n  },\n  cartItem4: {\n    height: 86,\n    width: \"100%\",\n    marginBottom: 10,\n  },\n  cartItem5: {\n    height: 86,\n    width: \"100%\",\n    marginBottom: 10,\n  },\n  totalsContainer: {\n    width: \"90%\",\n    height: 250,\n    backgroundColor: \"rgba(238,242,255,1)\",\n    borderRadius: 20,\n    justifyContent: \"space-around\",\n    alignItems: \"center\",\n    shadowColor: \"rgba(0,0,0,1)\",\n    shadowOffset: {\n      width: 3,\n      height: 3,\n    },\n    elevation: 9,\n    shadowOpacity: 0.1,\n    shadowRadius: 3,\n  },\n  topGroupTotalsContainer: {\n    width: 280,\n    height: 85,\n    justifyContent: \"space-between\",\n  },\n  discountRow: {\n    height: 18,\n    alignSelf: \"stretch\",\n  },\n  subtotalRow: {\n    height: 18,\n    alignSelf: \"stretch\",\n  },\n  taxRow: {\n    height: 18,\n    alignSelf: \"stretch\",\n  },\n  totalRowGroup: {\n    width: 280,\n    height: 66,\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  },\n  totalRow: {\n    flexDirection: \"row\",\n    height: 18,\n    alignSelf: \"stretch\",\n    justifyContent: \"space-between\",\n  },\n  total2: {\n    fontWeight: \"700\",\n    color: \"#121212\",\n    fontSize: 18,\n  },\n  totalValue: {\n    fontWeight: \"700\",\n    color: \"#121212\",\n    fontSize: 18,\n  },\n  discountCodeBtn: {\n    minWidth: 120,\n    minHeight: 32,\n    backgroundColor: \"rgba(255,255,255,1)\",\n    borderRadius: 12,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    padding: 5,\n  },\n  discountCode: {\n    fontWeight: \"700\",\n    color: \"#121212\",\n    fontSize: 16,\n  },\n  checkoutBtn: {\n    width: 170,\n    height: 48,\n    backgroundColor: \"#1a2951\",\n    borderRadius: 20,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  checkoutLbl: {\n    fontWeight: \"700\",\n    color: \"rgba(255,255,255,1)\",\n    fontSize: 20,\n  },\n});\n\nexport default OrderPagePosHome;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}