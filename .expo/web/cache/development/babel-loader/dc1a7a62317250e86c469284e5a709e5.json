{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport React, { useEffect, useState } from \"react\";\nimport { cartState, setCartState, storeDetailState, transListState } from \"../../state/state\";\nimport { Button } from \"@react-native-material/core\";\nimport DeliveryScreen from \"../../components/DeliveryScreen\";\nimport CashScreen from \"../../components/CashScreen\";\nimport ChangeScreen from \"../../components/ChangeScreen\";\nimport { updateTransList } from \"../../state/firebaseFunctions\";\nimport useWindowDimensions from \"../../components/useWindowDimensions\";\nimport Ionicons from \"@expo/vector-icons/Ionicons\";\nimport Foundation from \"@expo/vector-icons/Foundation\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar CartScreen = function CartScreen() {\n  var _useWindowDimensions = useWindowDimensions(),\n    height = _useWindowDimensions.height,\n    width = _useWindowDimensions.width;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    deliveryModal = _useState2[0],\n    setDeliveryModal = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    cashModal = _useState4[0],\n    setCashModal = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    changeModal = _useState6[0],\n    setChangeModal = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    ongoingDelivery = _useState8[0],\n    setOngoingDelivery = _useState8[1];\n  var _useState9 = useState(),\n    _useState10 = _slicedToArray(_useState9, 2),\n    name = _useState10[0],\n    setName = _useState10[1];\n  var _useState11 = useState(),\n    _useState12 = _slicedToArray(_useState11, 2),\n    phone = _useState12[0],\n    setPhone = _useState12[1];\n  var _useState13 = useState(),\n    _useState14 = _slicedToArray(_useState13, 2),\n    address = _useState14[0],\n    setAddress = _useState14[1];\n  var _useState15 = useState(false),\n    _useState16 = _slicedToArray(_useState15, 2),\n    deliveryChecked = _useState16[0],\n    setDeliveryChecked = _useState16[1];\n  var _useState17 = useState(),\n    _useState18 = _slicedToArray(_useState17, 2),\n    changeDue = _useState18[0],\n    setChangeDue = _useState18[1];\n  var cart = cartState.use();\n  var transList = transListState.use();\n  var storeDetails = storeDetailState.use();\n  var _useState19 = useState(0),\n    _useState20 = _slicedToArray(_useState19, 2),\n    cartSub = _useState20[0],\n    setCartSub = _useState20[1];\n  useEffect(function () {\n    if (cart.length > 0) {\n      var newVal = 0;\n      for (var i = 0; i < cart.length; i++) {\n        newVal += parseFloat(cart[i].price);\n      }\n      setCartSub(newVal);\n    } else {\n      setCartSub(0);\n    }\n  }, [cart]);\n  var AddToList = function () {\n    var _ref = _asyncToGenerator(function* (payload) {\n      var local = structuredClone(transList);\n      console.log(\"trans: \", local);\n      console.log(\"Payload: \", payload);\n      local.push(payload);\n      updateTransList(local);\n    });\n    return function AddToList(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var Print = function Print(method) {\n    var transNum = (transList == null ? void 0 : transList.length) + 1;\n    if (method === \"deliveryOrder\") {\n      var total = storeDetails.deliveryPrice > 0 ? parseFloat(storeDetails.deliveryPrice) : 0;\n      var today = new Date();\n      var data = [\"\\x1B\" + \"\\x40\",\n      \"\\x1B\" + \"\\x61\" + \"\\x31\",\n      storeDetails.name, \"\\x0A\", storeDetails.address + \"\\x0A\", storeDetails.website + \"\\x0A\",\n      storeDetails.phoneNumber + \"\\x0A\",\n      today.toLocaleDateString() + \" \" + today.toLocaleTimeString() + \"\\x0A\", \"\\x0A\", \"Transaction # \" + transNum + \"\\x0A\", \"\\x0A\", \"Delivery Order: $\" + storeDetails.deliveryPrice + \" Fee\" + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\"];\n\n      cart.map(function (cartItem) {\n        total += parseFloat(cartItem.price);\n        data.push(\"Name: \" + cartItem.name);\n        data.push(\"Price: $\" + cartItem.price);\n        if (cartItem.description) {\n          data.push(\"\\x0A\");\n          data.push(cartItem.description);\n        }\n        if (cartItem.options) {\n          data.push(\"\\x0A\");\n          cartItem.options.map(function (option) {\n            data.push(option);\n            data.push(\"\\x0A\");\n          });\n        }\n        if (cartItem.extraDetails) {\n          data.push(cartItem.extraDetails);\n          data.push(\"\\x0A\");\n        }\n        data.push(\"\\x0A\" + \"\\x0A\");\n      });\n      total = total * 1.13;\n      total = total.toFixed(2);\n\n      data.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Customer Name: \" + name, \"\\x0A\" + \"\\x0A\", \"Customer Phone #:  \" + phone, \"\\x0A\" + \"\\x0A\", \"Customer Address #:  \" + address, \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x1D\" + \"\\x56\" + \"\\x30\");\n      fetch(\"http://localhost:8080/print\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          printData: data,\n          comSelected: storeDetails.comSelected\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (respData) {\n        console.log(respData);\n      }).catch(function (e) {\n        return alert(\"Error with printer\");\n      });\n      AddToList({\n        date: today,\n        transNum: transNum,\n        total: total,\n        method: \"deliveryOrder\",\n        cart: cart\n      });\n      setCartState([]);\n      setDeliveryModal(false);\n    } else if (method === \"pickupOrder\") {\n      var _total = 0;\n      var _today = new Date();\n      var _data = [\"\\x1B\" + \"\\x40\",\n      \"\\x1B\" + \"\\x61\" + \"\\x31\",\n      storeDetails.name, \"\\x0A\", storeDetails.address + \"\\x0A\", storeDetails.website + \"\\x0A\",\n      storeDetails.phoneNumber + \"\\x0A\",\n      _today.toLocaleDateString() + \" \" + _today.toLocaleTimeString() + \"\\x0A\", \"\\x0A\", \"Transaction # \" + transNum + \"\\x0A\", \"\\x0A\", \"Pickup Order\" + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\"];\n\n      cart.map(function (cartItem) {\n        _total += parseFloat(cartItem.price);\n        _data.push(\"Name: \" + cartItem.name);\n        _data.push(\"Price: $\" + cartItem.price);\n        if (cartItem.description) {\n          _data.push(\"\\x0A\");\n          _data.push(cartItem.description);\n        }\n        if (cartItem.options) {\n          _data.push(\"\\x0A\");\n          cartItem.options.map(function (option) {\n            _data.push(option);\n            _data.push(\"\\x0A\");\n          });\n        }\n        if (cartItem.extraDetails) {\n          _data.push(cartItem.extraDetails);\n          _data.push(\"\\x0A\");\n        }\n        _data.push(\"\\x0A\" + \"\\x0A\");\n      });\n      _total = _total * 1.13;\n      _total = _total.toFixed(2);\n\n      _data.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Customer Name: \" + name, \"\\x0A\" + \"\\x0A\", \"Customer Phone #:  \" + phone, \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + _total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x1D\" + \"\\x56\" + \"\\x30\");\n      fetch(\"http://localhost:8080/print\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          printData: _data,\n          comSelected: storeDetails.comSelected\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (respData) {\n        console.log(respData);\n      }).catch(function (e) {\n        return alert(\"Error with printer\");\n      });\n      AddToList({\n        date: _today,\n        transNum: transNum,\n        total: _total,\n        method: \"pickupOrder\",\n        cart: cart\n      });\n      setCartState([]);\n      setDeliveryModal(false);\n    } else {\n      var _total2 = 0;\n      var _today2 = new Date();\n      var _data2 = [\"\\x1B\" + \"\\x40\",\n      \"\\x1B\" + \"\\x61\" + \"\\x31\",\n      storeDetails.name, \"\\x0A\", storeDetails.address + \"\\x0A\", storeDetails.website + \"\\x0A\",\n      storeDetails.phoneNumber + \"\\x0A\",\n      _today2.toLocaleDateString() + \" \" + _today2.toLocaleTimeString() + \"\\x0A\", \"\\x0A\", \"Transaction # \" + transNum + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\"];\n\n      cart.map(function (cartItem) {\n        _total2 += parseFloat(cartItem.price);\n        _data2.push(\"Name: \" + cartItem.name);\n        _data2.push(\"\\x0A\");\n        _data2.push(\"Price: $\" + cartItem.price);\n        if (cartItem.description) {\n          _data2.push(\"\\x0A\");\n          _data2.push(cartItem.description);\n        }\n        if (cartItem.options) {\n          _data2.push(\"\\x0A\");\n          cartItem.options.map(function (option) {\n            _data2.push(option);\n            _data2.push(\"\\x0A\");\n          });\n        }\n        if (cartItem.extraDetails) {\n          _data2.push(cartItem.extraDetails);\n          _data2.push(\"\\x0A\");\n        }\n        _data2.push(\"\\x0A\" + \"\\x0A\");\n      });\n      _total2 = _total2 * 1.13;\n      _total2 = _total2.toFixed(2);\n      if (method === \"Cash\") {\n        _data2.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Payment Method: \" + method + \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + \"$\" + _total2 + \"\\x0A\" + \"\\x0A\", \"Change Due: \" + \"$\" + changeDue + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x1D\" + \"\\x56\" + \"\\x30\", \"\\x10\" + \"\\x14\" + \"\\x01\" + \"\\x00\" + \"\\x05\");\n      } else {\n        _data2.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Payment Method: \" + method + \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + \"$\" + _total2 + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x1D\" + \"\\x56\" + \"\\x30\");\n      }\n      fetch(\"http://localhost:8080/print\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          printData: _data2,\n          comSelected: storeDetails.comSelected\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (respData) {\n        console.log(respData);\n      }).catch(function (e) {\n        return alert(\"Error with printer\");\n      });\n      AddToList({\n        date: _today2,\n        transNum: transNum,\n        total: _total2,\n        method: method,\n        cart: cart\n      });\n    }\n    setCartState([]);\n  };\n  var DeliveryBtn = function DeliveryBtn() {\n    if (ongoingDelivery === null) {\n      return _jsx(Button, {\n        title: \"Phone Order\",\n        onPress: function onPress() {\n          return setDeliveryModal(true);\n        },\n        disabled: cart.length > 0,\n        style: {\n          marginBottom: 20\n        }\n      });\n    }\n    if (ongoingDelivery && cart.length > 0) {\n      return _jsx(Button, {\n        title: \"Complete\",\n        onPress: function onPress() {\n          Print(deliveryChecked ? \"deliveryOrder\" : \"pickupOrder\");\n          setOngoingDelivery(null);\n          setName(null);\n          setPhone(null);\n          setAddress(null);\n        },\n        style: {\n          marginBottom: 20\n        }\n      });\n    } else {\n      return _jsx(Button, {\n        title: \"Cancel\",\n        onPress: function onPress() {\n          return setOngoingDelivery(null);\n        },\n        style: {\n          marginBottom: 20\n        }\n      });\n    }\n  };\n  return _jsxs(View, {\n    style: styles({\n      height: height,\n      width: width\n    }).container,\n    children: [_jsxs(View, {\n      style: styles({\n        height: height,\n        width: width\n      }).cartHeader,\n      children: [_jsx(Text, {\n        children: \"Bill Total\"\n      }), _jsx(View, {\n        style: styles({\n          height: height,\n          width: width\n        }).iconContainer,\n        children: _jsx(TouchableOpacity, {\n          children: _jsx(Ionicons, {\n            name: \"person-add\",\n            size: 32,\n            color: \"white\"\n          })\n        })\n      }), _jsx(View, {\n        style: styles({\n          height: height,\n          width: width\n        }).iconContainer,\n        children: _jsx(TouchableOpacity, {\n          children: _jsx(Foundation, {\n            name: \"telephone\",\n            size: 32,\n            color: \"white\"\n          })\n        })\n      }), _jsx(View, {\n        style: styles({\n          height: height,\n          width: width\n        }).iconContainer,\n        children: _jsx(TouchableOpacity, {\n          children: _jsx(Ionicons, {\n            name: \"person-circle-outline\",\n            size: 32,\n            color: \"white\"\n          })\n        })\n      })]\n    }), _jsx(ScrollView, {\n      contentContainerStyle: styles({\n        height: height,\n        width: width\n      }).contentContainer,\n      children: _jsx(View, {\n        children: cart.map(function (cartItem, index) {\n          return _jsxs(View, {\n            style: {\n              marginBottom: 20\n            },\n            children: [_jsxs(Text, {\n              children: [\"Name: \", cartItem.name]\n            }), _jsxs(Text, {\n              children: [\"Price: \", cartItem.price]\n            }), cartItem.description && _jsxs(Text, {\n              children: [\"Description: \", cartItem.description]\n            }), cartItem.options && cartItem.options.map(function (option) {\n              return _jsx(Text, {\n                children: option\n              });\n            }), cartItem.extraDetails && _jsx(Text, {\n              children: cartItem.extraDetails\n            }), _jsx(Text, {\n              style: {\n                color: \"blue\"\n              },\n              onPress: function onPress() {\n                var local = structuredClone(cart);\n                local.splice(index, 1);\n                setCartState(local);\n              },\n              children: \"Remove\"\n            })]\n          });\n        })\n      })\n    }), _jsxs(View, {\n      style: styles({\n        height: height,\n        width: width\n      }).totalContainer,\n      children: [_jsxs(Text, {\n        children: [\"Sub: \", cartSub.toFixed(2)]\n      }), _jsxs(Text, {\n        children: [\"Total: \", (cartSub * 1.13).toFixed(2)]\n      }), _jsx(Button, {\n        title: \"Cash\",\n        onPress: function onPress() {\n          return setCashModal(true);\n        },\n        disabled: cart.length < 1 || ongoingDelivery,\n        style: {\n          marginBottom: 20\n        }\n      }), _jsx(Button, {\n        title: \"Card\",\n        onPress: function onPress() {\n          return Print(\"Card\");\n        },\n        disabled: cart.length < 1 || ongoingDelivery,\n        style: {\n          marginBottom: 20\n        }\n      }), _jsx(DeliveryBtn, {}), _jsx(Button, {\n        title: \"Change\",\n        onPress: function onPress() {\n          return setChangeModal(true);\n        },\n        disabled: cart.length > 0 || ongoingDelivery\n      })]\n    }), _jsx(Modal, {\n      visible: deliveryModal,\n      children: _jsx(DeliveryScreen, {\n        setDeliveryModal: setDeliveryModal,\n        setOngoingDelivery: setOngoingDelivery,\n        setName: setName,\n        setPhone: setPhone,\n        setAddress: setAddress,\n        name: name,\n        phone: phone,\n        address: address,\n        deliveryChecked: deliveryChecked,\n        setDeliveryChecked: setDeliveryChecked\n      })\n    }), _jsx(Modal, {\n      visible: cashModal,\n      children: _jsx(CashScreen, {\n        setCashModal: setCashModal,\n        GetTrans: function GetTrans() {\n          return Print(\"Cash\");\n        },\n        total: (cartSub * 1.13).toFixed(2),\n        setChangeDue: setChangeDue\n      })\n    }), _jsx(Modal, {\n      visible: changeModal,\n      children: _jsx(ChangeScreen, {\n        setChangeModal: setChangeModal\n      })\n    })]\n  });\n};\nexport default CartScreen;\nvar styles = function styles(props) {\n  return StyleSheet.create({\n    container: {\n      backgroundColor: \"lightgrey\",\n      height: props.height,\n      width: props.width * 0.3,\n      padding: 20\n    },\n    contentContainer: {\n      backgroundColor: \"lightgrey\",\n      height: props.height * 0.7,\n      justifyContent: \"space-between\",\n      width: \"100%\"\n    },\n    totalContainer: {\n      height: props.height * 0.3\n    },\n    cartHeader: {\n      height: props.height * 0.06,\n      justifyContent: \"space-between\",\n      width: \"100%\",\n      flexDirection: \"row\",\n      alignItems: \"center\"\n    },\n    iconContainer: {\n      backgroundColor: \"rgba(125,126,132,1)\",\n      borderRadius: 30,\n      width: 40,\n      height: 40,\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    }\n  });\n};","map":{"version":3,"names":["React","useEffect","useState","cartState","setCartState","storeDetailState","transListState","Button","DeliveryScreen","CashScreen","ChangeScreen","updateTransList","useWindowDimensions","Ionicons","Foundation","CartScreen","height","width","deliveryModal","setDeliveryModal","cashModal","setCashModal","changeModal","setChangeModal","ongoingDelivery","setOngoingDelivery","name","setName","phone","setPhone","address","setAddress","deliveryChecked","setDeliveryChecked","changeDue","setChangeDue","cart","use","transList","storeDetails","cartSub","setCartSub","length","newVal","i","parseFloat","price","AddToList","payload","local","structuredClone","console","log","push","Print","method","transNum","total","deliveryPrice","today","Date","data","website","phoneNumber","toLocaleDateString","toLocaleTimeString","map","cartItem","description","options","option","extraDetails","toFixed","fetch","headers","body","JSON","stringify","printData","comSelected","then","response","json","respData","catch","e","alert","date","DeliveryBtn","marginBottom","styles","container","cartHeader","iconContainer","contentContainer","index","color","splice","totalContainer","props","StyleSheet","create","backgroundColor","padding","justifyContent","flexDirection","alignItems","borderRadius"],"sources":["/Users/peterputros/Desktop/PosMate-1/screens/authed/CartScreen.tsx"],"sourcesContent":["import {\n  Modal,\n  ScrollView,\n  StyleSheet,\n  Text,\n  View,\n  Dimensions,\n  TouchableOpacity,\n} from \"react-native\";\nimport React, { useEffect, useState } from \"react\";\nimport {\n  cartState,\n  cartSubState,\n  setCartState,\n  setTransListState,\n  storeDetailState,\n  transListState,\n} from \"state/state\";\nimport { Button } from \"@react-native-material/core\";\nimport DeliveryScreen from \"components/DeliveryScreen\";\nimport CashScreen from \"components/CashScreen\";\nimport ChangeScreen from \"components/ChangeScreen\";\nimport { updateTransList } from \"state/firebaseFunctions\";\nimport useWindowDimensions from \"components/useWindowDimensions\";\nimport Ionicons from \"@expo/vector-icons/Ionicons\";\nimport Foundation from \"@expo/vector-icons/Foundation\";\n\nconst CartScreen = () => {\n  const { height, width } = useWindowDimensions();\n  const [deliveryModal, setDeliveryModal] = useState(false);\n  const [cashModal, setCashModal] = useState(false);\n  const [changeModal, setChangeModal] = useState(false);\n  const [ongoingDelivery, setOngoingDelivery] = useState(null);\n  const [name, setName] = useState();\n  const [phone, setPhone] = useState();\n  const [address, setAddress] = useState();\n  const [deliveryChecked, setDeliveryChecked] = useState(false);\n  const [changeDue, setChangeDue] = useState();\n  const cart = cartState.use();\n  const transList = transListState.use();\n  const storeDetails = storeDetailState.use();\n  const [cartSub, setCartSub] = useState(0);\n\n  useEffect(() => {\n    if (cart.length > 0) {\n      let newVal = 0;\n      for (var i = 0; i < cart.length; i++) {\n        newVal += parseFloat(cart[i].price);\n      }\n      setCartSub(newVal);\n    } else {\n      setCartSub(0);\n    }\n  }, [cart]);\n\n  const AddToList = async (payload) => {\n    const local = structuredClone(transList);\n    //local.unshift(payload);\n    console.log(\"trans: \", local);\n    console.log(\"Payload: \", payload);\n    local.push(payload);\n    updateTransList(local);\n    // setTransListState(local);\n  };\n\n  const Print = (method) => {\n    const transNum = transList?.length + 1;\n    if (method === \"deliveryOrder\") {\n      let total =\n        storeDetails.deliveryPrice > 0\n          ? parseFloat(storeDetails.deliveryPrice)\n          : 0;\n      const today = new Date();\n\n      let data = [\n        \"\\x1B\" + \"\\x40\", // init\n        \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n        storeDetails.name,\n        \"\\x0A\",\n        storeDetails.address + \"\\x0A\",\n        storeDetails.website + \"\\x0A\", // text and line break\n        storeDetails.phoneNumber + \"\\x0A\", // text and line break\n        today.toLocaleDateString() + \" \" + today.toLocaleTimeString() + \"\\x0A\",\n        \"\\x0A\",\n        `Transaction # ${transNum}` + \"\\x0A\",\n        \"\\x0A\",\n        `Delivery Order: $${storeDetails.deliveryPrice} Fee` + \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\n      ];\n\n      cart.map((cartItem) => {\n        total += parseFloat(cartItem.price);\n        data.push(`Name: ${cartItem.name}`);\n        data.push(`Price: $${cartItem.price}`);\n\n        if (cartItem.description) {\n          data.push(\"\\x0A\");\n          data.push(cartItem.description);\n        }\n\n        if (cartItem.options) {\n          data.push(\"\\x0A\");\n          cartItem.options.map((option) => {\n            data.push(option);\n            data.push(\"\\x0A\");\n          });\n        }\n\n        if (cartItem.extraDetails) {\n          data.push(cartItem.extraDetails);\n          data.push(\"\\x0A\");\n        }\n\n        data.push(\"\\x0A\" + \"\\x0A\");\n      });\n\n      total = total * 1.13;\n      total = total.toFixed(2);\n\n      //push ending\n      data.push(\n        \"\\x0A\",\n        \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n        \"\\x0A\" + \"\\x0A\",\n        \"Customer Name: \" + name,\n        \"\\x0A\" + \"\\x0A\",\n        \"Customer Phone #:  \" + phone,\n        \"\\x0A\" + \"\\x0A\",\n        \"Customer Address #:  \" + address,\n        \"\\x0A\" + \"\\x0A\",\n        \"Total Including (13% Tax): \" + total + \"\\x0A\" + \"\\x0A\",\n        \"------------------------------------------\" + \"\\x0A\",\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x1D\" + \"\\x56\" + \"\\x30\"\n      );\n      fetch(\"http://localhost:8080/print\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          printData: data,\n          comSelected: storeDetails.comSelected,\n        }),\n      })\n        .then((response) => response.json())\n        .then((respData) => {\n          console.log(respData);\n        })\n        .catch((e) => alert(\"Error with printer\"));\n\n      AddToList({\n        date: today,\n        transNum: transNum,\n        total: total,\n        method: \"deliveryOrder\",\n        cart: cart,\n      });\n\n      setCartState([]);\n      setDeliveryModal(false);\n    } else if (method === \"pickupOrder\") {\n      let total = 0;\n      const today = new Date();\n\n      let data = [\n        \"\\x1B\" + \"\\x40\", // init\n        \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n        storeDetails.name,\n        \"\\x0A\",\n        storeDetails.address + \"\\x0A\",\n        storeDetails.website + \"\\x0A\", // text and line break\n        storeDetails.phoneNumber + \"\\x0A\", // text and line break\n        today.toLocaleDateString() + \" \" + today.toLocaleTimeString() + \"\\x0A\",\n        \"\\x0A\",\n        `Transaction # ${transNum}` + \"\\x0A\",\n        \"\\x0A\",\n        \"Pickup Order\" + \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\n      ];\n\n      cart.map((cartItem) => {\n        total += parseFloat(cartItem.price);\n        data.push(`Name: ${cartItem.name}`);\n        data.push(`Price: $${cartItem.price}`);\n\n        if (cartItem.description) {\n          data.push(\"\\x0A\");\n          data.push(cartItem.description);\n        }\n\n        if (cartItem.options) {\n          data.push(\"\\x0A\");\n          cartItem.options.map((option) => {\n            data.push(option);\n            data.push(\"\\x0A\");\n          });\n        }\n\n        if (cartItem.extraDetails) {\n          data.push(cartItem.extraDetails);\n          data.push(\"\\x0A\");\n        }\n\n        data.push(\"\\x0A\" + \"\\x0A\");\n      });\n\n      total = total * 1.13;\n      total = total.toFixed(2);\n\n      //push ending\n      data.push(\n        \"\\x0A\",\n        \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n        \"\\x0A\" + \"\\x0A\",\n        \"Customer Name: \" + name,\n        \"\\x0A\" + \"\\x0A\",\n        \"Customer Phone #:  \" + phone,\n        \"\\x0A\" + \"\\x0A\",\n        \"Total Including (13% Tax): \" + total + \"\\x0A\" + \"\\x0A\",\n        \"------------------------------------------\" + \"\\x0A\",\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x1D\" + \"\\x56\" + \"\\x30\"\n      );\n      fetch(\"http://localhost:8080/print\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          printData: data,\n          comSelected: storeDetails.comSelected,\n        }),\n      })\n        .then((response) => response.json())\n        .then((respData) => {\n          console.log(respData);\n        })\n        .catch((e) => alert(\"Error with printer\"));\n\n      AddToList({\n        date: today,\n        transNum: transNum,\n        total: total,\n        method: \"pickupOrder\",\n        cart: cart,\n      });\n\n      setCartState([]);\n      setDeliveryModal(false);\n    } else {\n      let total = 0;\n      const today = new Date();\n\n      let data = [\n        \"\\x1B\" + \"\\x40\", // init\n        \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n        storeDetails.name,\n        \"\\x0A\",\n        storeDetails.address + \"\\x0A\",\n        storeDetails.website + \"\\x0A\", // text and line break\n        storeDetails.phoneNumber + \"\\x0A\", // text and line break\n        today.toLocaleDateString() + \" \" + today.toLocaleTimeString() + \"\\x0A\",\n        \"\\x0A\",\n        `Transaction # ${transNum}` + \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\n      ];\n\n      cart.map((cartItem) => {\n        total += parseFloat(cartItem.price);\n        data.push(`Name: ${cartItem.name}`);\n        data.push(\"\\x0A\");\n        data.push(`Price: $${cartItem.price}`);\n\n        if (cartItem.description) {\n          data.push(\"\\x0A\");\n          data.push(cartItem.description);\n        }\n\n        if (cartItem.options) {\n          data.push(\"\\x0A\");\n          cartItem.options.map((option) => {\n            data.push(option);\n            data.push(\"\\x0A\");\n          });\n        }\n\n        if (cartItem.extraDetails) {\n          data.push(cartItem.extraDetails);\n          data.push(\"\\x0A\");\n        }\n\n        data.push(\"\\x0A\" + \"\\x0A\");\n      });\n\n      total = total * 1.13;\n      total = total.toFixed(2);\n\n      if (method === \"Cash\") {\n        //push ending\n        data.push(\n          \"\\x0A\",\n          \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n          \"\\x0A\" + \"\\x0A\",\n          \"Payment Method: \" + method + \"\\x0A\" + \"\\x0A\",\n          \"Total Including (13% Tax): \" + \"$\" + total + \"\\x0A\" + \"\\x0A\",\n          \"Change Due: \" + \"$\" + changeDue + \"\\x0A\" + \"\\x0A\",\n          \"------------------------------------------\" + \"\\x0A\",\n          \"\\x0A\", // line break\n          \"\\x0A\", // line break\n          \"\\x0A\", // line break\n          \"\\x0A\", // line break\n          \"\\x0A\", // line break\n          \"\\x0A\", // line break\n          //\"\\x1D\" + \"\\x56\" + \"\\x00\",\n          \"\\x1D\" + \"\\x56\" + \"\\x30\",\n          \"\\x10\" + \"\\x14\" + \"\\x01\" + \"\\x00\" + \"\\x05\"\n        );\n      } else {\n        data.push(\n          \"\\x0A\",\n          \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n          \"\\x0A\" + \"\\x0A\",\n          \"Payment Method: \" + method + \"\\x0A\" + \"\\x0A\",\n          \"Total Including (13% Tax): \" + \"$\" + total + \"\\x0A\" + \"\\x0A\",\n          \"------------------------------------------\" + \"\\x0A\",\n          \"\\x0A\", // line break\n          \"\\x0A\", // line break\n          \"\\x0A\", // line break\n          \"\\x0A\", // line break\n          \"\\x0A\", // line break\n          \"\\x0A\", // line break\n          //\"\\x1D\" + \"\\x56\" + \"\\x00\",\n          \"\\x1D\" + \"\\x56\" + \"\\x30\"\n        );\n      }\n\n      fetch(\"http://localhost:8080/print\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          printData: data,\n          comSelected: storeDetails.comSelected,\n        }),\n      })\n        .then((response) => response.json())\n        .then((respData) => {\n          console.log(respData);\n        })\n        .catch((e) => alert(\"Error with printer\"));\n\n      AddToList({\n        date: today,\n        transNum: transNum,\n        total: total,\n        method: method,\n        cart: cart,\n      });\n    }\n\n    setCartState([]);\n  };\n\n  const DeliveryBtn = () => {\n    if (ongoingDelivery === null) {\n      return (\n        <Button\n          title=\"Phone Order\"\n          onPress={() => setDeliveryModal(true)}\n          disabled={cart.length > 0}\n          style={{ marginBottom: 20 }}\n        />\n      );\n    }\n    if (ongoingDelivery && cart.length > 0) {\n      return (\n        <Button\n          title=\"Complete\"\n          onPress={() => {\n            Print(deliveryChecked ? \"deliveryOrder\" : \"pickupOrder\");\n            setOngoingDelivery(null);\n            setName(null);\n            setPhone(null);\n            setAddress(null);\n          }}\n          style={{ marginBottom: 20 }}\n        />\n      );\n    } else {\n      return (\n        <Button\n          title=\"Cancel\"\n          onPress={() => setOngoingDelivery(null)}\n          style={{ marginBottom: 20 }}\n        />\n      );\n    }\n  };\n\n  return (\n    <View style={styles({ height, width }).container}>\n      <View style={styles({ height, width }).cartHeader}>\n        <Text>Bill Total</Text>\n        <View style={styles({ height, width }).iconContainer}>\n          <TouchableOpacity>\n            <Ionicons name=\"person-add\" size={32} color=\"white\" />\n          </TouchableOpacity>\n        </View>\n        <View style={styles({ height, width }).iconContainer}>\n          <TouchableOpacity>\n            <Foundation name=\"telephone\" size={32} color=\"white\" />\n          </TouchableOpacity>\n        </View>\n        <View style={styles({ height, width }).iconContainer}>\n          <TouchableOpacity>\n            <Ionicons name=\"person-circle-outline\" size={32} color=\"white\" />\n          </TouchableOpacity>\n        </View>\n      </View>\n      <ScrollView\n        contentContainerStyle={styles({ height, width }).contentContainer}\n      >\n        <View>\n          {cart.map((cartItem, index) => (\n            <View style={{ marginBottom: 20 }}>\n              <Text>Name: {cartItem.name}</Text>\n              <Text>Price: {cartItem.price}</Text>\n              {cartItem.description && (\n                <Text>Description: {cartItem.description}</Text>\n              )}\n              {cartItem.options &&\n                cartItem.options.map((option) => <Text>{option}</Text>)}\n              {cartItem.extraDetails && <Text>{cartItem.extraDetails}</Text>}\n              <Text\n                style={{ color: \"blue\" }}\n                onPress={() => {\n                  const local = structuredClone(cart);\n                  local.splice(index, 1);\n                  setCartState(local);\n                }}\n              >\n                Remove\n              </Text>\n            </View>\n          ))}\n        </View>\n      </ScrollView>\n      <View style={styles({ height, width }).totalContainer}>\n        <Text>Sub: {cartSub.toFixed(2)}</Text>\n        <Text>Total: {(cartSub * 1.13).toFixed(2)}</Text>\n        <Button\n          title=\"Cash\"\n          onPress={() => setCashModal(true)}\n          disabled={cart.length < 1 || ongoingDelivery}\n          style={{ marginBottom: 20 }}\n        />\n        <Button\n          title=\"Card\"\n          onPress={() => Print(\"Card\")}\n          disabled={cart.length < 1 || ongoingDelivery}\n          style={{ marginBottom: 20 }}\n        />\n        <DeliveryBtn />\n        <Button\n          title=\"Change\"\n          onPress={() => setChangeModal(true)}\n          disabled={cart.length > 0 || ongoingDelivery}\n        />\n      </View>\n      <Modal visible={deliveryModal}>\n        <DeliveryScreen\n          setDeliveryModal={setDeliveryModal}\n          setOngoingDelivery={setOngoingDelivery}\n          setName={setName}\n          setPhone={setPhone}\n          setAddress={setAddress}\n          name={name}\n          phone={phone}\n          address={address}\n          deliveryChecked={deliveryChecked}\n          setDeliveryChecked={setDeliveryChecked}\n        />\n      </Modal>\n      <Modal visible={cashModal}>\n        <CashScreen\n          setCashModal={setCashModal}\n          GetTrans={() => Print(\"Cash\")}\n          total={(cartSub * 1.13).toFixed(2)}\n          setChangeDue={setChangeDue}\n        />\n      </Modal>\n      <Modal visible={changeModal}>\n        <ChangeScreen setChangeModal={setChangeModal} />\n      </Modal>\n    </View>\n  );\n};\n\nexport default CartScreen;\n\nconst styles = (props) =>\n  StyleSheet.create({\n    container: {\n      backgroundColor: \"lightgrey\",\n      //flex: 1,\n      height: props.height,\n      width: props.width * 0.3,\n      padding: 20,\n    },\n    contentContainer: {\n      backgroundColor: \"lightgrey\",\n      //flex: 1,\n      height: props.height * 0.7,\n      justifyContent: \"space-between\",\n      width: \"100%\",\n    },\n    totalContainer: {\n      height: props.height * 0.3,\n    },\n    cartHeader: {\n      height: props.height * 0.06,\n      justifyContent: \"space-between\",\n      width: \"100%\",\n      flexDirection: \"row\",\n      alignItems: \"center\",\n    },\n    iconContainer: {\n      backgroundColor: \"rgba(125,126,132,1)\",\n      borderRadius: 30,\n      width: 40,\n      height: 40,\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    },\n  });\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}