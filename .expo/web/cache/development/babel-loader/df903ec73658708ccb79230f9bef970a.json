{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport React, { useEffect, useState } from \"react\";\nimport { cartState, setCartState } from \"../../state/state\";\nimport { Button } from \"@react-native-material/core\";\nimport DeliveryScreen from \"../../components/DeliveryScreen\";\nimport CashScreen from \"../../components/CashScreen\";\nimport ChangeScreen from \"../../components/ChangeScreen\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar sh = Dimensions.get('window').height;\nvar CartScreen = function CartScreen() {\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    deliveryModal = _useState2[0],\n    setDeliveryModal = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    cashModal = _useState4[0],\n    setCashModal = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    changeModal = _useState6[0],\n    setChangeModal = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    ongoingDelivery = _useState8[0],\n    setOngoingDelivery = _useState8[1];\n  var _useState9 = useState(),\n    _useState10 = _slicedToArray(_useState9, 2),\n    name = _useState10[0],\n    setName = _useState10[1];\n  var _useState11 = useState(),\n    _useState12 = _slicedToArray(_useState11, 2),\n    phone = _useState12[0],\n    setPhone = _useState12[1];\n  var _useState13 = useState(),\n    _useState14 = _slicedToArray(_useState13, 2),\n    address = _useState14[0],\n    setAddress = _useState14[1];\n  var _useState15 = useState(false),\n    _useState16 = _slicedToArray(_useState15, 2),\n    deliveryChecked = _useState16[0],\n    setDeliveryChecked = _useState16[1];\n  var _useState17 = useState(),\n    _useState18 = _slicedToArray(_useState17, 2),\n    changeDue = _useState18[0],\n    setChangeDue = _useState18[1];\n  var cart = cartState.use();\n  var _useState19 = useState(0),\n    _useState20 = _slicedToArray(_useState19, 2),\n    cartSub = _useState20[0],\n    setCartSub = _useState20[1];\n  useEffect(function () {\n    if (cart.length > 0) {\n      var newVal = 0;\n      for (var i = 0; i < cart.length; i++) {\n        newVal += parseFloat(cart[i].price);\n      }\n      setCartSub(newVal);\n    } else {\n      setCartSub(0);\n    }\n  }, [cart]);\n  var _GetTrans = function () {\n    var _ref = _asyncToGenerator(function* (method) {\n      var socket = io(\"http://localhost:8443\");\n      socket.emit(\"getTrans\");\n      socket.on(\"getTrans\", function (res) {\n        Print(method, parseInt(res.transList.length));\n      });\n    });\n    return function GetTrans(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var AddToList = function () {\n    var _ref2 = _asyncToGenerator(function* (payload) {\n      var socket = io(\"http://localhost:8443\");\n      socket.emit(\"addTrans\", payload);\n    });\n    return function AddToList(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var Print = function Print(method, transNum) {\n    if (method === 'deliveryOrder') {\n      var _total = 5.5;\n      var _qz = require(\"qz-tray\");\n      var _today = new Date();\n      var _data = [\"\\x1B\" + \"\\x40\",\n      \"\\x1B\" + \"\\x61\" + \"\\x31\",\n      \"Dream City Pizza\", \"\\x0A\", \"#B4-200 Preston Pkwy, Cambridge\" + \"\\x0A\", \"www.dreamcitypizza.com\" + \"\\x0A\",\n      \"(519) 650-0409\" + \"\\x0A\",\n      _today.toLocaleDateString() + \" \" + _today.toLocaleTimeString() + \"\\x0A\", \"\\x0A\", \"Transaction # \" + transNum + \"\\x0A\", \"\\x0A\", \"Delivery Order: $5.50 Fee\" + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\"];\n\n      cart.map(function (cartItem) {\n        _total += parseFloat(cartItem.price);\n        _data.push(\"Name: \" + cartItem.name);\n        _data.push(\"\\x0A\");\n        _data.push(\"Quantity: \" + cartItem.quantity);\n        _data.push(\"\\x0A\");\n        _data.push(\"Price: $\" + cartItem.price);\n        if (cartItem.options) {\n          _data.push(\"\\x0A\");\n          cartItem.options.map(function (option) {\n            _data.push(option);\n            _data.push(\"\\x0A\");\n          });\n        }\n        _data.push(\"\\x0A\" + \"\\x0A\");\n      });\n      _total = _total * 1.13;\n      _total = _total.toFixed(2);\n\n      _data.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Customer Name: \" + name, \"\\x0A\" + \"\\x0A\", \"Customer Phone #:  \" + phone, \"\\x0A\" + \"\\x0A\", \"Customer Address #:  \" + address, \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + _total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x1D\" + \"\\x56\" + \"\\x30\");\n      AddToList({\n        date: _today,\n        transNum: transNum,\n        total: _total,\n        method: \"deliveryOrder\",\n        cart: cart\n      });\n      _qz.websocket.connect().then(function () {\n        var config = _qz.configs.create(\"jZebra\");\n        return _qz.print(config, _data);\n      }).then(_qz.websocket.disconnect).catch(function (err) {\n        console.error(err);\n      });\n      setCartState([]);\n      setDeliveryModal(false);\n    }\n    if (method === 'pickupOrder') {\n      var _total2 = 0;\n      var _qz2 = require(\"qz-tray\");\n      var _today2 = new Date();\n      var _data2 = [\"\\x1B\" + \"\\x40\",\n      \"\\x1B\" + \"\\x61\" + \"\\x31\",\n      \"Dream City Pizza\", \"\\x0A\", \"#B4-200 Preston Pkwy, Cambridge\" + \"\\x0A\", \"www.dreamcitypizza.com\" + \"\\x0A\",\n      \"(519) 650-0409\" + \"\\x0A\",\n      _today2.toLocaleDateString() + \" \" + _today2.toLocaleTimeString() + \"\\x0A\", \"\\x0A\", \"Transaction # \" + transNum + \"\\x0A\", \"\\x0A\", \"Pickup Order\" + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\"];\n\n      cart.map(function (cartItem) {\n        _total2 += parseFloat(cartItem.price);\n        _data2.push(\"Name: \" + cartItem.name);\n        _data2.push(\"\\x0A\");\n        _data2.push(\"Quantity: \" + cartItem.quantity);\n        _data2.push(\"\\x0A\");\n        _data2.push(\"Price: $\" + cartItem.price);\n        if (cartItem.options) {\n          _data2.push(\"\\x0A\");\n          cartItem.options.map(function (option) {\n            _data2.push(option);\n            _data2.push(\"\\x0A\");\n          });\n        }\n        _data2.push(\"\\x0A\" + \"\\x0A\");\n      });\n      _total2 = _total2 * 1.13;\n      _total2 = _total2.toFixed(2);\n\n      _data2.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Customer Name: \" + name, \"\\x0A\" + \"\\x0A\", \"Customer Phone #:  \" + phone, \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + _total2 + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x1D\" + \"\\x56\" + \"\\x30\");\n      AddToList({\n        date: _today2,\n        transNum: transNum,\n        total: _total2,\n        method: \"pickupOrder\",\n        cart: cart\n      });\n      _qz2.websocket.connect().then(function () {\n        var config = _qz2.configs.create(\"jZebra\");\n        return _qz2.print(config, _data2);\n      }).then(_qz2.websocket.disconnect).catch(function (err) {\n        console.error(err);\n      });\n      setCartState([]);\n      setDeliveryModal(false);\n    }\n    var total = 0;\n    var qz = require(\"qz-tray\");\n    var today = new Date();\n    var data = [\"\\x1B\" + \"\\x40\",\n    \"\\x1B\" + \"\\x61\" + \"\\x31\",\n    \"Dream City Pizza\", \"\\x0A\", \"#B4-200 Preston Pkwy, Cambridge\" + \"\\x0A\", \"www.dreamcitypizza.com\" + \"\\x0A\",\n    \"(519) 650-0409\" + \"\\x0A\",\n    today.toLocaleDateString() + \" \" + today.toLocaleTimeString() + \"\\x0A\", \"\\x0A\", \"Transaction # \" + transNum + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\"];\n\n    cart.map(function (cartItem) {\n      total += parseFloat(cartItem.price);\n      data.push(\"Name: \" + cartItem.name);\n      data.push(\"\\x0A\");\n      data.push(\"Quantity: \" + cartItem.quantity);\n      data.push(\"\\x0A\");\n      data.push(\"Price: $\" + cartItem.price);\n      if (cartItem.options) {\n        data.push(\"\\x0A\");\n        cartItem.options.map(function (option) {\n          data.push(option);\n          data.push(\"\\x0A\");\n        });\n      }\n      data.push(\"\\x0A\" + \"\\x0A\");\n    });\n    total = total * 1.13;\n    total = total.toFixed(2);\n    if (method === \"Cash\") {\n      data.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Payment Method: \" + method + \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + \"$\" + total + \"\\x0A\" + \"\\x0A\", \"Change Due: \" + \"$\" + changeDue + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x1D\" + \"\\x56\" + \"\\x30\", \"\\x10\" + \"\\x14\" + \"\\x01\" + \"\\x00\" + \"\\x05\");\n    } else {\n      data.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Payment Method: \" + method + \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + \"$\" + total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x1D\" + \"\\x56\" + \"\\x30\");\n    }\n    AddToList({\n      date: today,\n      transNum: transNum,\n      total: total,\n      method: method,\n      cart: cart\n    });\n    qz.websocket.connect().then(function () {\n      var config = qz.configs.create(\"jZebra\");\n      return qz.print(config, data);\n    }).then(qz.websocket.disconnect).catch(function (err) {\n      console.error(err);\n    });\n    setCartState([]);\n  };\n  var DeliveryBtn = function DeliveryBtn() {\n    if (ongoingDelivery === null) {\n      return _jsx(Button, {\n        title: \"Phone Order\",\n        onPress: function onPress() {\n          return setDeliveryModal(true);\n        },\n        disabled: cart.length > 0,\n        style: {\n          marginBottom: 20\n        }\n      });\n    }\n    if (ongoingDelivery && cart.length > 0) {\n      return _jsx(Button, {\n        title: \"Complete\",\n        onPress: function onPress() {\n          _GetTrans(deliveryChecked ? 'deliveryOrder' : 'pickupOrder');\n          setOngoingDelivery(null);\n          setName(null);\n          setPhone(null);\n          setAddress(null);\n        },\n        style: {\n          marginBottom: 20\n        }\n      });\n    } else {\n      return _jsx(Button, {\n        title: \"Cancel\",\n        onPress: function onPress() {\n          return setOngoingDelivery(null);\n        },\n        style: {\n          marginBottom: 20\n        }\n      });\n    }\n  };\n  return _jsx(View, {\n    style: styles.container,\n    children: _jsxs(ScrollView, {\n      style: styles.container,\n      contentContainerStyle: styles.contentContainer,\n      children: [_jsx(View, {\n        children: cart.map(function (cartItem) {\n          return _jsxs(View, {\n            style: {\n              marginBottom: 20\n            },\n            children: [_jsxs(Text, {\n              children: [\"Name: \", cartItem.name]\n            }), _jsxs(Text, {\n              children: [\"Quantity: \", cartItem.quantity]\n            }), _jsxs(Text, {\n              children: [\"Price: \", cartItem.price]\n            }), cartItem.options && cartItem.options.map(function (option) {\n              return _jsx(Text, {\n                children: option\n              });\n            }), _jsx(Text, {\n              style: {\n                color: \"blue\"\n              },\n              onPress: function onPress() {\n                var newVal = cart.filter(function (e) {\n                  return e.name !== cartItem.name;\n                });\n                setCartState(newVal);\n              },\n              children: \"Remove\"\n            })]\n          });\n        })\n      }), _jsxs(View, {\n        children: [_jsxs(Text, {\n          children: [\"Sub: \", cartSub.toFixed(2)]\n        }), _jsxs(Text, {\n          children: [\"Total: \", (cartSub * 1.13).toFixed(2)]\n        }), _jsx(Button, {\n          title: \"Cash\",\n          onPress: function onPress() {\n            return setCashModal(true);\n          },\n          disabled: cart.length < 1 || ongoingDelivery,\n          style: {\n            marginBottom: 20\n          }\n        }), _jsx(Button, {\n          title: \"Card\",\n          onPress: function onPress() {\n            return _GetTrans(\"Card\");\n          },\n          disabled: cart.length < 1 || ongoingDelivery,\n          style: {\n            marginBottom: 20\n          }\n        }), _jsx(DeliveryBtn, {}), _jsx(Button, {\n          title: \"Change\",\n          onPress: function onPress() {\n            return setChangeModal(true);\n          },\n          disabled: cart.length > 0 || ongoingDelivery\n        })]\n      }), _jsx(Modal, {\n        visible: deliveryModal,\n        children: _jsx(DeliveryScreen, {\n          setDeliveryModal: setDeliveryModal,\n          setOngoingDelivery: setOngoingDelivery,\n          setName: setName,\n          setPhone: setPhone,\n          setAddress: setAddress,\n          name: name,\n          phone: phone,\n          address: address,\n          deliveryChecked: deliveryChecked,\n          setDeliveryChecked: setDeliveryChecked\n        })\n      }), _jsx(Modal, {\n        visible: cashModal,\n        children: _jsx(CashScreen, {\n          setCashModal: setCashModal,\n          GetTrans: function GetTrans() {\n            return _GetTrans(\"Cash\");\n          },\n          total: (cartSub * 1.13).toFixed(2),\n          setChangeDue: setChangeDue\n        })\n      }), _jsx(Modal, {\n        visible: changeModal,\n        children: _jsx(ChangeScreen, {\n          setChangeModal: setChangeModal\n        })\n      })]\n    })\n  });\n};\nexport default CartScreen;\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"lightgrey\",\n    flex: 1,\n    height: sh - 125\n  },\n  contentContainer: {\n    backgroundColor: \"lightgrey\",\n    flex: 1,\n    height: sh - 125,\n    justifyContent: \"space-between\",\n    padding: 20\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","cartState","setCartState","Button","DeliveryScreen","CashScreen","ChangeScreen","sh","Dimensions","get","height","CartScreen","deliveryModal","setDeliveryModal","cashModal","setCashModal","changeModal","setChangeModal","ongoingDelivery","setOngoingDelivery","name","setName","phone","setPhone","address","setAddress","deliveryChecked","setDeliveryChecked","changeDue","setChangeDue","cart","use","cartSub","setCartSub","length","newVal","i","parseFloat","price","GetTrans","method","socket","io","emit","on","res","Print","parseInt","transList","AddToList","payload","transNum","total","qz","require","today","Date","data","toLocaleDateString","toLocaleTimeString","map","cartItem","push","quantity","options","option","toFixed","date","websocket","connect","then","config","configs","create","print","disconnect","catch","err","console","error","DeliveryBtn","marginBottom","styles","container","contentContainer","color","filter","e","StyleSheet","backgroundColor","flex","justifyContent","padding"],"sources":["C:/Users/George With the Big/Documents/PosMate/screens/authed/CartScreen.tsx"],"sourcesContent":["import { Modal, ScrollView, StyleSheet, Text, View, Dimensions } from \"react-native\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { cartState, setCartState } from \"state/state\";\r\nimport { Button } from \"@react-native-material/core\";\r\nimport DeliveryScreen from \"components/DeliveryScreen\";\r\nimport CashScreen from \"components/CashScreen\";\r\nimport ChangeScreen from \"components/ChangeScreen\";\r\n\r\nconst sh = Dimensions.get('window').height\r\n\r\nconst CartScreen = () => {\r\n  const [deliveryModal, setDeliveryModal] = useState(false);\r\n  const [cashModal, setCashModal] = useState(false);\r\n  const [changeModal, setChangeModal] = useState(false);\r\n  const [ongoingDelivery, setOngoingDelivery] = useState(null);\r\n  const [name, setName] = useState();\r\n  const [phone, setPhone] = useState();\r\n  const [address, setAddress] = useState();\r\n  const [deliveryChecked, setDeliveryChecked] = useState(false);\r\n  const [changeDue, setChangeDue] = useState();\r\n  const cart = cartState.use();\r\n  const [cartSub, setCartSub] = useState(0);\r\n  \r\n    useEffect(\r\n      () => {\r\n  if(cart.length > 0){\r\n      let newVal = 0\r\n    for(var i = 0; i < cart.length; i++){\r\n      newVal += parseFloat(cart[i].price) ;\r\n    }\r\n    setCartSub(newVal)\r\n      } else {\r\n        setCartSub(0)\r\n      }\r\n      }\r\n    ,[cart])\r\n  \r\n    const GetTrans = async (method) => {\r\n      const socket = io(\"http://localhost:8443\");\r\n      socket.emit(\"getTrans\");\r\n      socket.on(\"getTrans\", (res) => {\r\n       Print(method, parseInt(res.transList.length));\r\n      });\r\n    };\r\n  \r\n    const AddToList = async (payload) => {\r\n      const socket = io(\"http://localhost:8443\");\r\n      socket.emit(\"addTrans\", payload);\r\n    };\r\n\r\n  const Print = (method, transNum) => {\r\n    if(method === 'deliveryOrder'){\r\n        let total = 5.5;\r\n        const qz = require(\"qz-tray\");\r\n        const today = new Date();\r\n    \r\n        let data = [\r\n          \"\\x1B\" + \"\\x40\", // init\r\n          \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\r\n          \"Dream City Pizza\",\r\n          \"\\x0A\",\r\n          \"#B4-200 Preston Pkwy, Cambridge\" + \"\\x0A\",\r\n          \"www.dreamcitypizza.com\" + \"\\x0A\", // text and line break\r\n          \"(519) 650-0409\" + \"\\x0A\", // text and line break\r\n          today.toLocaleDateString() + \" \" + today.toLocaleTimeString() + \"\\x0A\",\r\n          \"\\x0A\",\r\n          `Transaction # ${transNum}` + \"\\x0A\",\r\n          \"\\x0A\",\r\n          \"Delivery Order: $5.50 Fee\" + \"\\x0A\",\r\n          \"\\x0A\",\r\n          \"\\x0A\",\r\n          \"\\x0A\",\r\n          \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\r\n        ];\r\n    \r\n        cart.map((cartItem) => {\r\n          total += parseFloat(cartItem.price);\r\n          data.push(`Name: ${cartItem.name}`);\r\n          data.push(\"\\x0A\");\r\n          data.push(`Quantity: ${cartItem.quantity}`);\r\n          data.push(\"\\x0A\");\r\n          data.push(`Price: $${cartItem.price}`);\r\n    \r\n          if (cartItem.options) {\r\n            data.push(\"\\x0A\");\r\n            cartItem.options.map((option) => {\r\n              data.push(option);\r\n              data.push(\"\\x0A\");\r\n            });\r\n          }\r\n          data.push(\"\\x0A\" + \"\\x0A\");\r\n        });\r\n    \r\n        total = total * 1.13;\r\n        total = total.toFixed(2);\r\n    \r\n        //push ending\r\n        data.push(\r\n          \"\\x0A\",\r\n          \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\r\n          \"\\x0A\" + \"\\x0A\",\r\n          \"Customer Name: \" + name,\r\n          \"\\x0A\" + \"\\x0A\",\r\n          \"Customer Phone #:  \" + phone,\r\n          \"\\x0A\" + \"\\x0A\",\r\n          \"Customer Address #:  \" + address,\r\n          \"\\x0A\" + \"\\x0A\",\r\n          \"Total Including (13% Tax): \" + total + \"\\x0A\" + \"\\x0A\",\r\n          \"------------------------------------------\" + \"\\x0A\",\r\n          \"\\x0A\", // line break\r\n          \"\\x0A\", // line break\r\n          \"\\x0A\", // line break\r\n          \"\\x0A\", // line break\r\n          \"\\x0A\", // line break\r\n          \"\\x0A\", // line break\r\n          \"\\x1D\" + \"\\x56\" + \"\\x30\"\r\n        );\r\n    \r\n        AddToList({\r\n\r\n            date: today,\r\n            transNum: transNum,\r\n            total: total,\r\n            method: \"deliveryOrder\",\r\n            cart: cart,\r\n        \r\n        });\r\n    \r\n        qz.websocket\r\n          .connect()\r\n          .then(function () {\r\n            let config = qz.configs.create(\"jZebra\");\r\n            return qz.print(config, data);\r\n          })\r\n          .then(qz.websocket.disconnect)\r\n          .catch(function (err) {\r\n            console.error(err);\r\n          });\r\n        setCartState([]);\r\n        setDeliveryModal(false);\r\n    }\r\n    if(method === 'pickupOrder'){\r\n      let total = 0;\r\n      const qz = require(\"qz-tray\");\r\n      const today = new Date();\r\n  \r\n      let data = [\r\n        \"\\x1B\" + \"\\x40\", // init\r\n        \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\r\n        \"Dream City Pizza\",\r\n        \"\\x0A\",\r\n        \"#B4-200 Preston Pkwy, Cambridge\" + \"\\x0A\",\r\n        \"www.dreamcitypizza.com\" + \"\\x0A\", // text and line break\r\n        \"(519) 650-0409\" + \"\\x0A\", // text and line break\r\n        today.toLocaleDateString() + \" \" + today.toLocaleTimeString() + \"\\x0A\",\r\n        \"\\x0A\",\r\n        `Transaction # ${transNum}` + \"\\x0A\",\r\n        \"\\x0A\",\r\n        \"Pickup Order\" + \"\\x0A\",\r\n        \"\\x0A\",\r\n        \"\\x0A\",\r\n        \"\\x0A\",\r\n        \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\r\n      ];\r\n  \r\n      cart.map((cartItem) => {\r\n        total += parseFloat(cartItem.price);\r\n        data.push(`Name: ${cartItem.name}`);\r\n        data.push(\"\\x0A\");\r\n        data.push(`Quantity: ${cartItem.quantity}`);\r\n        data.push(\"\\x0A\");\r\n        data.push(`Price: $${cartItem.price}`);\r\n  \r\n        if (cartItem.options) {\r\n          data.push(\"\\x0A\");\r\n          cartItem.options.map((option) => {\r\n            data.push(option);\r\n            data.push(\"\\x0A\");\r\n          });\r\n        }\r\n        data.push(\"\\x0A\" + \"\\x0A\");\r\n      });\r\n  \r\n      total = total * 1.13;\r\n      total = total.toFixed(2);\r\n  \r\n      //push ending\r\n      data.push(\r\n        \"\\x0A\",\r\n        \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\r\n        \"\\x0A\" + \"\\x0A\",\r\n        \"Customer Name: \" + name,\r\n        \"\\x0A\" + \"\\x0A\",\r\n        \"Customer Phone #:  \" + phone,\r\n        \"\\x0A\" + \"\\x0A\",\r\n        \"Total Including (13% Tax): \" + total + \"\\x0A\" + \"\\x0A\",\r\n        \"------------------------------------------\" + \"\\x0A\",\r\n        \"\\x0A\", // line break\r\n        \"\\x0A\", // line break\r\n        \"\\x0A\", // line break\r\n        \"\\x0A\", // line break\r\n        \"\\x0A\", // line break\r\n        \"\\x0A\", // line break\r\n        \"\\x1D\" + \"\\x56\" + \"\\x30\"\r\n      );\r\n  \r\n      AddToList({\r\n    \r\n          date: today,\r\n          transNum: transNum,\r\n          total: total,\r\n          method: \"pickupOrder\",\r\n          cart: cart,\r\n  \r\n      });\r\n  \r\n      qz.websocket\r\n        .connect()\r\n        .then(function () {\r\n          let config = qz.configs.create(\"jZebra\");\r\n          return qz.print(config, data);\r\n        })\r\n        .then(qz.websocket.disconnect)\r\n        .catch(function (err) {\r\n          console.error(err);\r\n        });\r\n      setCartState([]);\r\n      setDeliveryModal(false);\r\n  }\r\n\r\n    let total = 0;\r\n    const qz = require(\"qz-tray\");\r\n    const today = new Date();\r\n\r\n    let data = [\r\n      \"\\x1B\" + \"\\x40\", // init\r\n      \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\r\n      \"Dream City Pizza\",\r\n      \"\\x0A\",\r\n      \"#B4-200 Preston Pkwy, Cambridge\" + \"\\x0A\",\r\n      \"www.dreamcitypizza.com\" + \"\\x0A\", // text and line break\r\n      \"(519) 650-0409\" + \"\\x0A\", // text and line break\r\n      today.toLocaleDateString() + \" \" + today.toLocaleTimeString() + \"\\x0A\",\r\n      \"\\x0A\",\r\n      `Transaction # ${transNum}` + \"\\x0A\",\r\n      \"\\x0A\",\r\n      \"\\x0A\",\r\n      \"\\x0A\",\r\n      \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\r\n    ];\r\n\r\n    cart.map((cartItem) => {\r\n      total += parseFloat(cartItem.price);\r\n      data.push(`Name: ${cartItem.name}`);\r\n      data.push(\"\\x0A\");\r\n      data.push(`Quantity: ${cartItem.quantity}`);\r\n      data.push(\"\\x0A\");\r\n      data.push(`Price: $${cartItem.price}`);\r\n\r\n      if (cartItem.options) {\r\n        data.push(\"\\x0A\");\r\n        cartItem.options.map((option) => {\r\n          data.push(option);\r\n          data.push(\"\\x0A\");\r\n        });\r\n      }\r\n      data.push(\"\\x0A\" + \"\\x0A\");\r\n    });\r\n\r\n    total = total * 1.13;\r\n    total = total.toFixed(2);\r\n\r\n    if (method === \"Cash\") {\r\n      //push ending\r\n      data.push(\r\n        \"\\x0A\",\r\n        \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\r\n        \"\\x0A\" + \"\\x0A\",\r\n        \"Payment Method: \" + method + \"\\x0A\" + \"\\x0A\",\r\n        \"Total Including (13% Tax): \" + \"$\" + total + \"\\x0A\" + \"\\x0A\",\r\n        \"Change Due: \" + \"$\" + changeDue + \"\\x0A\" + \"\\x0A\",\r\n        \"------------------------------------------\" + \"\\x0A\",\r\n        \"\\x0A\", // line break\r\n        \"\\x0A\", // line break\r\n        \"\\x0A\", // line break\r\n        \"\\x0A\", // line break\r\n        \"\\x0A\", // line break\r\n        \"\\x0A\", // line break\r\n        //\"\\x1D\" + \"\\x56\" + \"\\x00\",\r\n        \"\\x1D\" + \"\\x56\" + \"\\x30\",\r\n        \"\\x10\" + \"\\x14\" + \"\\x01\" + \"\\x00\" + \"\\x05\"\r\n      );\r\n    } else {\r\n      data.push(\r\n        \"\\x0A\",\r\n        \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\r\n        \"\\x0A\" + \"\\x0A\",\r\n        \"Payment Method: \" + method + \"\\x0A\" + \"\\x0A\",\r\n        \"Total Including (13% Tax): \" + \"$\" + total + \"\\x0A\" + \"\\x0A\",\r\n        \"------------------------------------------\" + \"\\x0A\",\r\n        \"\\x0A\", // line break\r\n        \"\\x0A\", // line break\r\n        \"\\x0A\", // line break\r\n        \"\\x0A\", // line break\r\n        \"\\x0A\", // line break\r\n        \"\\x0A\", // line break\r\n        //\"\\x1D\" + \"\\x56\" + \"\\x00\",\r\n        \"\\x1D\" + \"\\x56\" + \"\\x30\"\r\n      );\r\n    }\r\n\r\n    AddToList({\r\n  \r\n        date: today,\r\n        transNum: transNum,\r\n        total: total,\r\n        method: method,\r\n        cart: cart,\r\n   \r\n    });\r\n\r\n    qz.websocket\r\n      .connect()\r\n      .then(function () {\r\n        let config = qz.configs.create(\"jZebra\");\r\n        return qz.print(config, data);\r\n      })\r\n      .then(qz.websocket.disconnect)\r\n      .catch(function (err) {\r\n        console.error(err);\r\n      });\r\n    setCartState([]);\r\n  };\r\n\r\n  const DeliveryBtn = () => {\r\n    if(ongoingDelivery === null) {\r\n      return <Button\r\n          title=\"Phone Order\"\r\n          onPress={() => setDeliveryModal(true)}\r\n          disabled={cart.length > 0}\r\n          style={{marginBottom: 20}}\r\n        />\r\n    }\r\n    if(ongoingDelivery && cart.length > 0){\r\n      return <Button\r\n      title=\"Complete\"\r\n      onPress={() => {\r\n        GetTrans(deliveryChecked ? 'deliveryOrder' : 'pickupOrder');\r\n         setOngoingDelivery(null); \r\n         setName(null);\r\n          setPhone(null);\r\n           setAddress(null);\r\n          }}\r\n          style={{marginBottom: 20}}\r\n    />\r\n    } else {\r\n      return <Button\r\n      title= \"Cancel\"\r\n      onPress={() => setOngoingDelivery(null)}\r\n      style={{marginBottom: 20}}\r\n    />\r\n    }\r\n  }\r\n\r\n  return (\r\n      <View style={styles.container}>\r\n        <ScrollView\r\n      style={styles.container}\r\n      contentContainerStyle={styles.contentContainer}\r\n    >\r\n      <View>\r\n        {cart.map((cartItem) => (\r\n          <View style={{ marginBottom: 20 }}>\r\n            <Text>Name: {cartItem.name}</Text>\r\n            <Text>Quantity: {cartItem.quantity}</Text>\r\n            <Text>Price: {cartItem.price}</Text>\r\n            {cartItem.options &&\r\n              cartItem.options.map((option) => <Text>{option}</Text>)}\r\n            <Text\r\n              style={{ color: \"blue\" }}\r\n              onPress={() =>{\r\n                const newVal = cart.filter((e) => e.name !== cartItem.name)\r\n                setCartState(newVal)\r\n              }\r\n              }\r\n            >\r\n              Remove\r\n            </Text>\r\n          </View>\r\n        ))}\r\n      </View>\r\n      <View>\r\n      <Text>Sub: {cartSub.toFixed(2)}</Text>\r\n      <Text>Total: {(cartSub * 1.13).toFixed(2)}</Text>\r\n        <Button\r\n          title=\"Cash\"\r\n          onPress={() => setCashModal(true)}\r\n          disabled={cart.length < 1 || ongoingDelivery}\r\n          style={{ marginBottom: 20 }}\r\n        />\r\n        <Button\r\n          title=\"Card\"\r\n          onPress={() => GetTrans(\"Card\")}\r\n          disabled={cart.length < 1 || ongoingDelivery}\r\n          style={{ marginBottom: 20 }}\r\n        />\r\n<DeliveryBtn />\r\n<Button\r\n          title=\"Change\"\r\n          onPress={() => setChangeModal(true)}\r\n          disabled={cart.length > 0 || ongoingDelivery}\r\n        />\r\n      </View>\r\n      <Modal visible={deliveryModal}>\r\n        <DeliveryScreen setDeliveryModal={setDeliveryModal} setOngoingDelivery={setOngoingDelivery} setName={setName} setPhone={setPhone}  setAddress={setAddress} name={name} phone={phone} address={address} deliveryChecked={deliveryChecked} setDeliveryChecked={setDeliveryChecked} />\r\n      </Modal>\r\n      <Modal visible={cashModal}>\r\n        <CashScreen setCashModal={setCashModal} GetTrans={() => GetTrans(\"Cash\")} total={(cartSub * 1.13).toFixed(2)} setChangeDue={setChangeDue} />\r\n      </Modal>\r\n      <Modal visible={changeModal}>\r\n        <ChangeScreen setChangeModal={setChangeModal} />\r\n      </Modal>\r\n    </ScrollView>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default CartScreen;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    backgroundColor: \"lightgrey\",\r\n    flex: 1,\r\n    height: sh - 125,\r\n  },\r\n  contentContainer: {\r\n    backgroundColor: \"lightgrey\",\r\n    flex: 1,\r\n    height: sh - 125,\r\n    justifyContent: \"space-between\",\r\n    padding: 20,\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}