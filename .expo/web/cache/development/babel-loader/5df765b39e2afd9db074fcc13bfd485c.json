{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Button, TextInput } from \"@react-native-material/core\";\nimport { customersList, setCustomersList, storeDetailState } from \"../state/state\";\nimport { Switch } from \"react-native-gesture-handler\";\nimport MaterialCommunityIcons from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport GooglePlacesAutocomplete from \"react-google-places-autocomplete\";\nimport { addCustomerDetailsToDb } from \"../state/firebaseFunctions\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar GOOGLE_API_KEY = \"AIzaSyDjx4LBIEDNRYKEt-0_TJ6jUcst4a2YON4\";\nvar DeliveryScreen = function DeliveryScreen(_ref) {\n  var setDeliveryModal = _ref.setDeliveryModal,\n    setOngoingDelivery = _ref.setOngoingDelivery,\n    setName = _ref.setName,\n    setPhone = _ref.setPhone,\n    setAddress = _ref.setAddress,\n    name = _ref.name,\n    phone = _ref.phone,\n    address = _ref.address,\n    deliveryChecked = _ref.deliveryChecked,\n    setDeliveryChecked = _ref.setDeliveryChecked,\n    setsavedCustomerDetails = _ref.setsavedCustomerDetails,\n    ongoingDelivery = _ref.ongoingDelivery,\n    setsaveCustomerModal = _ref.setsaveCustomerModal;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    localAddress = _useState2[0],\n    setlocalAddress = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    saveCustomerChecked = _useState4[0],\n    setsaveCustomerChecked = _useState4[1];\n  var customers = customersList.use();\n  var storeDetails = storeDetailState.use();\n  var innerBoxRef = useRef(null);\n  var children = function children() {\n    return _jsxs(View, {\n      children: [_jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          marginBottom: 15\n        },\n        children: [_jsx(MaterialCommunityIcons, {\n          onPress: function onPress() {\n            return setDeliveryModal(false);\n          },\n          name: \"close\",\n          size: 26,\n          color: \"rgba(74,74,74,1)\"\n        }), _jsx(Text, {\n          style: {\n            margin: 25,\n            fontSize: 20,\n            fontWeight: \"600\",\n            textAlign: \"center\"\n          },\n          children: \"Apply Discount\"\n        }), _jsx(MaterialCommunityIcons, {\n          onPress: function onPress() {\n            return setsaveCustomerModal(true);\n          },\n          name: \"history\",\n          size: 26,\n          color: \"rgba(74,74,74,1)\"\n        })]\n      }), _jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          backgroundColor: \"rgba(243,243,243,1)\",\n          borderRadius: 30,\n          height: 60,\n          marginBottom: 25\n        },\n        children: [_jsx(View, {\n          style: {\n            width: 60,\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            backgroundColor: \"rgba(218,216,216,1)\",\n            borderRadius: 30,\n            height: 60\n          },\n          children: _jsx(MaterialCommunityIcons, {\n            name: \"account\",\n            size: 32,\n            color: \"rgba(71,106,229,1)\"\n          })\n        }), _jsx(TextInput, {\n          color: \"black\",\n          placeholder: \"Enter name\",\n          style: {\n            width: \"80%\"\n          },\n          inputStyle: {\n            backgroundColor: \"rgba(243,243,243,1)\"\n          },\n          value: name,\n          onChangeText: function onChangeText(val) {\n            return setName(val);\n          },\n          autoCorrect: false,\n          textContentType: \"name\"\n        })]\n      }), _jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          backgroundColor: \"rgba(243,243,243,1)\",\n          borderRadius: 30,\n          height: 60,\n          marginBottom: 25\n        },\n        children: [_jsx(View, {\n          style: {\n            width: 60,\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            backgroundColor: \"rgba(218,216,216,1)\",\n            borderRadius: 30,\n            height: 60\n          },\n          children: _jsx(MaterialCommunityIcons, {\n            name: \"phone\",\n            size: 32,\n            color: \"rgba(74,74,74,1)\"\n          })\n        }), _jsx(TextInput, {\n          color: \"black\",\n          placeholder: \"Enter Phone #\",\n          style: {\n            width: \"80%\"\n          },\n          inputStyle: {\n            backgroundColor: \"rgba(243,243,243,1)\"\n          },\n          value: phone,\n          onChangeText: function onChangeText(val) {\n            return setPhone(val);\n          }\n        })]\n      }), _jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          marginBottom: 25\n        },\n        children: [_jsx(Text, {\n          style: {\n            fontWeight: \"400\",\n            marginRight: 20,\n            marginLeft: 30\n          },\n          children: \"Would you like to save customer?\"\n        }), _jsx(Switch, {\n          value: saveCustomerChecked,\n          onValueChange: function onValueChange() {\n            setsaveCustomerChecked(!saveCustomerChecked);\n          }\n        })]\n      }), storeDetails.acceptDelivery && _jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          marginBottom: 25\n        },\n        children: [_jsx(Text, {\n          style: {\n            fontWeight: \"400\",\n            marginRight: 20,\n            marginLeft: 30\n          },\n          children: \"Delivery Included?\"\n        }), _jsx(Switch, {\n          value: deliveryChecked,\n          onValueChange: function onValueChange() {\n            setDeliveryChecked(!deliveryChecked);\n          }\n        })]\n      }), deliveryChecked && _jsx(GooglePlacesAutocomplete, {\n        apiOptions: {\n          region: \"CA\"\n        },\n        debounce: 800,\n        apiKey: GOOGLE_API_KEY\n        ,\n        selectProps: {\n          localAddress: localAddress,\n          onChange: setlocalAddress,\n          placeholder: \"Enter customer address\",\n          defaultValue: address,\n          menuPortalTarget: document.body,\n          styles: {\n            menuPortal: function menuPortal(base) {\n              return _objectSpread(_objectSpread({}, base), {}, {\n                zIndex: 9999\n              });\n            }\n          }\n        },\n        renderSuggestions: function renderSuggestions(active, suggestions, onSelectSuggestion) {\n          return _jsx(\"div\", {\n            style: {\n              width: \"80%\"\n            },\n            children: suggestions.map(function (suggestion) {\n              return _jsx(\"div\", {\n                className: \"suggestion\",\n                onClick: function onClick(event) {\n                  onSelectSuggestion(suggestion, event);\n                },\n                children: suggestion.description\n              });\n            })\n          });\n        }\n      }), _jsx(Button, {\n        title: ongoingDelivery ? \"Update\" : \"Order\"\n        ,\n        onPress: function onPress() {\n          if (name && phone) {\n            setDeliveryModal(false);\n            setOngoingDelivery(true);\n            if (saveCustomerChecked) {\n              SaveCustomer();\n            }\n          }\n        },\n        contentContainerStyle: styles.btn,\n        style: {\n          margin: 25,\n          backgroundColor: \"#4050B5\"\n        }\n      }), _jsx(Button, {\n        disabled: ongoingDelivery,\n        title: \"Cancel\",\n        onPress: function onPress() {\n          setDeliveryModal(false);\n          setOngoingDelivery(null);\n          setName(null);\n          setPhone(null);\n          setAddress(null);\n        },\n        contentContainerStyle: styles.btn,\n        style: {\n          margin: 25,\n          backgroundColor: \"#4050B5\"\n        }\n      })]\n    });\n  };\n  useEffect(function () {\n    if (innerBoxRef.current) {\n      innerBoxRef.current.measure(function (fx, fy, width, height, px, py) {\n      });\n    }\n  }, [children]);\n  var handlePressOutside = function handlePressOutside(event) {\n    if (!innerBoxRef.current) return;\n    var _event$nativeEvent = event.nativeEvent,\n      locationX = _event$nativeEvent.locationX,\n      locationY = _event$nativeEvent.locationY;\n    innerBoxRef.current.measure(function (fx, fy, width, height, px, py) {\n      if (locationX < px || locationY < py || locationX > px + width || locationY > py + height) {\n        setDeliveryModal(false);\n      }\n    });\n  };\n\n  function calculateDistance(lat1, lon1, lat2, lon2) {\n    var R = 6371;\n    var dLat = (lat2 - lat1) * (Math.PI / 180);\n    var dLon = (lon2 - lon1) * (Math.PI / 180);\n    var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(lat1 * (Math.PI / 180)) * Math.cos(lat2 * (Math.PI / 180)) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    var distance = R * c;\n    return distance;\n  }\n\n  function getLatLng(_x) {\n    return _getLatLng.apply(this, arguments);\n  }\n  function _getLatLng() {\n    _getLatLng = _asyncToGenerator(function* (placeId) {\n      var response = yield fetch(\"https://us-central1-posmate-5fc0a.cloudfunctions.net/getLatLng\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          placeId: placeId\n        })\n      });\n      try {\n        var responseData = yield response.json();\n        if (response.ok && responseData.success) {\n          console.log(\"Success!\");\n          return responseData.data;\n        } else {\n          console.error(responseData.message);\n        }\n      } catch (jsonError) {\n        console.error(\"Error parsing JSON response:\", jsonError);\n      }\n    });\n    return _getLatLng.apply(this, arguments);\n  }\n  function calculateDistanceBetweenAddresses(_x2, _x3) {\n    return _calculateDistanceBetweenAddresses.apply(this, arguments);\n  }\n  function _calculateDistanceBetweenAddresses() {\n    _calculateDistanceBetweenAddresses = _asyncToGenerator(function* (address1, address2) {\n      try {\n        var _yield$getLatLng = yield getLatLng(address1),\n          lat1 = _yield$getLatLng.lat,\n          lon1 = _yield$getLatLng.lng;\n        var _yield$getLatLng2 = yield getLatLng(address2),\n          lat2 = _yield$getLatLng2.lat,\n          lon2 = _yield$getLatLng2.lng;\n        var distance = calculateDistance(lat1, lon1, lat2, lon2);\n        return distance;\n      } catch (error) {\n        console.error(\"Error calculating distance:\", error);\n        return null;\n      }\n    });\n    return _calculateDistanceBetweenAddresses.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    if (address) {\n      console.log(\"Set address: \", address);\n      setlocalAddress(address);\n      calculateDistanceBetweenAddresses(storeDetails.address.value.reference, address.address.value.reference).then(function (distance) {\n        if (distance !== null) {\n          console.log(\"Distance between addresses: \" + distance.toFixed(2) + \" km\");\n          if (storeDetails.deliveryRange) {\n            if (distance > parseFloat(storeDetails.deliveryRange)) {\n              alert(\"The delivery address is out of range\");\n            }\n          }\n        }\n      });\n    }\n  }, []);\n  useEffect(function () {\n    if (localAddress) {\n      setAddress(localAddress);\n      calculateDistanceBetweenAddresses(storeDetails.address.value.reference, localAddress.value.reference).then(function (distance) {\n        if (distance !== null) {\n          console.log(\"Distance between addresses: \" + distance.toFixed(2) + \" km\");\n          if (storeDetails.deliveryRange) {\n            if (distance > parseFloat(storeDetails.deliveryRange)) {\n              alert(\"The delivery address is out of range\");\n            }\n          }\n        }\n      });\n    }\n  }, [localAddress]);\n  var SaveCustomer = function SaveCustomer() {\n    addCustomerDetailsToDb({\n      name: name,\n      phone: phone,\n      address: address ? address : null,\n      orders: []\n    }).then(function (docRef) {\n      setsavedCustomerDetails({\n        name: name,\n        phone: phone,\n        address: address ? address : null,\n        orders: [],\n        id: docRef.id\n      });\n      setCustomersList([].concat(_toConsumableArray(customers), [{\n        name: name,\n        phone: phone,\n        address: address ? address : null,\n        orders: [],\n        id: docRef.id\n      }]));\n    });\n  };\n  return _jsx(TouchableOpacity, {\n    onPress: handlePressOutside,\n    style: {\n      backgroundColor: \"rgba(0, 0, 0, 0.3)\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      flex: 1\n    },\n    children: _jsx(View, {\n      ref: innerBoxRef,\n      style: {\n        padding: 50,\n        backgroundColor: \"rgba(255,255,255,1)\",\n        borderRadius: 30,\n        shadowColor: \"rgba(0,0,0,1)\",\n        shadowOffset: {\n          width: 3,\n          height: 3\n        },\n        elevation: 30,\n        shadowOpacity: 0.57,\n        shadowRadius: 10\n      },\n      children: children\n    })\n  });\n};\nexport default DeliveryScreen;\nvar styles = StyleSheet.create({\n  sizeRow: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginBottom: 25\n  },\n  halfRow: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    width: \"50%\"\n  },\n  toppingsContainer: {\n    flex: 1,\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-between\",\n    marginBottom: 25,\n    marginTop: 25\n  },\n  touchable: {\n    margin: 25,\n    width: 300\n  },\n  modalContainer: {\n    padding: 50,\n    backgroundColor: \"rgba(255,255,255,1)\",\n    borderRadius: 30,\n    shadowColor: \"rgba(0,0,0,1)\",\n    shadowOffset: {\n      width: 3,\n      height: 3\n    },\n    elevation: 30,\n    shadowOpacity: 0.57,\n    shadowRadius: 10,\n    width: \"35%\"\n  },\n  btn: {\n    height: 40,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  input: {\n    marginTop: 25,\n    marginBottom: 25\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","useRef","Button","TextInput","customersList","setCustomersList","storeDetailState","Switch","MaterialCommunityIcons","GooglePlacesAutocomplete","addCustomerDetailsToDb","GOOGLE_API_KEY","DeliveryScreen","setDeliveryModal","setOngoingDelivery","setName","setPhone","setAddress","name","phone","address","deliveryChecked","setDeliveryChecked","setsavedCustomerDetails","ongoingDelivery","setsaveCustomerModal","localAddress","setlocalAddress","saveCustomerChecked","setsaveCustomerChecked","customers","use","storeDetails","innerBoxRef","children","flexDirection","justifyContent","alignItems","marginBottom","margin","fontSize","fontWeight","textAlign","backgroundColor","borderRadius","height","width","val","marginRight","marginLeft","acceptDelivery","region","onChange","placeholder","defaultValue","menuPortalTarget","document","body","styles","menuPortal","base","zIndex","active","suggestions","onSelectSuggestion","map","suggestion","event","description","SaveCustomer","btn","current","measure","fx","fy","px","py","handlePressOutside","nativeEvent","locationX","locationY","calculateDistance","lat1","lon1","lat2","lon2","R","dLat","Math","PI","dLon","a","sin","cos","c","atan2","sqrt","distance","getLatLng","placeId","response","fetch","method","headers","JSON","stringify","responseData","json","ok","success","console","log","data","error","message","jsonError","calculateDistanceBetweenAddresses","address1","address2","lat","lng","value","reference","then","toFixed","deliveryRange","parseFloat","alert","orders","docRef","id","flex","padding","shadowColor","shadowOffset","elevation","shadowOpacity","shadowRadius","StyleSheet","create","sizeRow","halfRow","toppingsContainer","flexWrap","marginTop","touchable","modalContainer","input"],"sources":["/Users/peterputros/Desktop/PosMate/components/DeliveryScreen.tsx"],"sourcesContent":["import {\n  ScrollView,\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  View,\n} from \"react-native\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Button, TextInput } from \"@react-native-material/core\";\nimport {\n  cartState,\n  customersList,\n  setCartState,\n  setCustomersList,\n  storeDetailState,\n} from \"state/state\";\nimport { Switch } from \"react-native-gesture-handler\";\nimport MaterialCommunityIcons from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport GooglePlacesAutocomplete from \"react-google-places-autocomplete\";\nimport { addCustomerDetailsToDb } from \"state/firebaseFunctions\";\n\nconst GOOGLE_API_KEY = \"AIzaSyDjx4LBIEDNRYKEt-0_TJ6jUcst4a2YON4\";\n\nconst DeliveryScreen = ({\n  setDeliveryModal,\n  setOngoingDelivery,\n  setName,\n  setPhone,\n  setAddress,\n  name,\n  phone,\n  address,\n  deliveryChecked,\n  setDeliveryChecked,\n  setsavedCustomerDetails,\n  ongoingDelivery,\n  setsaveCustomerModal,\n}) => {\n  const [localAddress, setlocalAddress] = useState(null);\n  const [saveCustomerChecked, setsaveCustomerChecked] = useState(false);\n  const customers = customersList.use();\n  const storeDetails = storeDetailState.use();\n  const innerBoxRef = useRef(null);\n\n  const children = () => (\n    <View>\n      <View\n        style={{\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          marginBottom: 15,\n        }}\n      >\n        <MaterialCommunityIcons\n          onPress={() => setDeliveryModal(false)}\n          name=\"close\"\n          size={26}\n          color=\"rgba(74,74,74,1)\"\n        />\n        <Text\n          style={{\n            margin: 25,\n            fontSize: 20,\n            fontWeight: \"600\",\n            textAlign: \"center\",\n          }}\n        >\n          Apply Discount\n        </Text>\n        <MaterialCommunityIcons\n          onPress={() => setsaveCustomerModal(true)}\n          name=\"history\"\n          size={26}\n          color=\"rgba(74,74,74,1)\"\n        />\n      </View>\n      <View\n        style={{\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          backgroundColor: \"rgba(243,243,243,1)\",\n          borderRadius: 30,\n          height: 60,\n          marginBottom: 25,\n        }}\n      >\n        <View\n          style={{\n            width: 60,\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            backgroundColor: \"rgba(218,216,216,1)\",\n            borderRadius: 30,\n            height: 60,\n          }}\n        >\n          <MaterialCommunityIcons\n            name=\"account\"\n            size={32}\n            color=\"rgba(71,106,229,1)\"\n          />\n        </View>\n        <TextInput\n          color=\"black\"\n          placeholder=\"Enter name\"\n          style={{ width: \"80%\" }}\n          inputStyle={{ backgroundColor: \"rgba(243,243,243,1)\" }}\n          value={name}\n          onChangeText={(val) => setName(val)}\n          autoCorrect={false}\n          textContentType={\"name\"}\n        />\n      </View>\n      <View\n        style={{\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          backgroundColor: \"rgba(243,243,243,1)\",\n          borderRadius: 30,\n          height: 60,\n          marginBottom: 25,\n        }}\n      >\n        <View\n          style={{\n            width: 60,\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            backgroundColor: \"rgba(218,216,216,1)\",\n            borderRadius: 30,\n            height: 60,\n          }}\n        >\n          <MaterialCommunityIcons\n            name=\"phone\"\n            size={32}\n            color=\"rgba(74,74,74,1)\"\n          />\n        </View>\n        <TextInput\n          color=\"black\"\n          placeholder=\"Enter Phone #\"\n          style={{ width: \"80%\" }}\n          inputStyle={{ backgroundColor: \"rgba(243,243,243,1)\" }}\n          value={phone}\n          onChangeText={(val) => setPhone(val)}\n        />\n      </View>\n      <View\n        style={{\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          marginBottom: 25,\n        }}\n      >\n        <Text style={{ fontWeight: \"400\", marginRight: 20, marginLeft: 30 }}>\n          Would you like to save customer?\n        </Text>\n        <Switch\n          value={saveCustomerChecked}\n          onValueChange={() => {\n            setsaveCustomerChecked(!saveCustomerChecked);\n          }}\n        />\n      </View>\n      {storeDetails.acceptDelivery && (\n        <View\n          style={{\n            flexDirection: \"row\",\n            alignItems: \"center\",\n            marginBottom: 25,\n          }}\n        >\n          <Text style={{ fontWeight: \"400\", marginRight: 20, marginLeft: 30 }}>\n            Delivery Included?\n          </Text>\n          <Switch\n            value={deliveryChecked}\n            onValueChange={() => {\n              setDeliveryChecked(!deliveryChecked);\n            }}\n          />\n        </View>\n      )}\n      {deliveryChecked && (\n        <GooglePlacesAutocomplete\n          apiOptions={{\n            region: \"CA\",\n          }}\n          debounce={800}\n          apiKey={GOOGLE_API_KEY}\n          // onSelect={handleAddress}\n          selectProps={{\n            localAddress,\n            onChange: setlocalAddress,\n            placeholder: \"Enter customer address\",\n            defaultValue: address,\n            menuPortalTarget: document.body,\n            styles: { menuPortal: (base) => ({ ...base, zIndex: 9999 }) },\n          }}\n          renderSuggestions={(active, suggestions, onSelectSuggestion) => (\n            <div style={{ width: \"80%\" }}>\n              {suggestions.map((suggestion) => (\n                <div\n                  className=\"suggestion\"\n                  onClick={(event) => {\n                    onSelectSuggestion(suggestion, event);\n                  }}\n                >\n                  {suggestion.description}\n                </div>\n              ))}\n            </div>\n          )}\n        />\n      )}\n      {/* <Text>ADDRESS: {address}</Text> */}\n      <Button\n        title={ongoingDelivery ? \"Update\" : \"Order\"}\n        // onPress={GetTrans}\n        onPress={() => {\n          if (name && phone) {\n            setDeliveryModal(false);\n            setOngoingDelivery(true);\n            if (saveCustomerChecked) {\n              SaveCustomer();\n            }\n          }\n        }}\n        contentContainerStyle={styles.btn}\n        style={{ margin: 25, backgroundColor: \"#4050B5\" }}\n      />\n      <Button\n        disabled={ongoingDelivery}\n        title=\"Cancel\"\n        onPress={() => {\n          setDeliveryModal(false);\n          setOngoingDelivery(null);\n          setName(null);\n          setPhone(null);\n          setAddress(null);\n        }}\n        contentContainerStyle={styles.btn}\n        style={{ margin: 25, backgroundColor: \"#4050B5\" }}\n      />\n    </View>\n  );\n\n  useEffect(() => {\n    if (innerBoxRef.current) {\n      innerBoxRef.current.measure((fx, fy, width, height, px, py) => {\n        // Here, you can get the measured width and height of the inner box\n        // You can use this information to perform actions accordingly\n      });\n    }\n  }, [children]);\n\n  const handlePressOutside = (event) => {\n    if (!innerBoxRef.current) return;\n\n    const { locationX, locationY } = event.nativeEvent;\n\n    innerBoxRef.current.measure((fx, fy, width, height, px, py) => {\n      if (\n        locationX < px ||\n        locationY < py ||\n        locationX > px + width ||\n        locationY > py + height\n      ) {\n        setDeliveryModal(false);\n      }\n    });\n  };\n\n  //\n\n  // Function to calculate distance between two points using Haversine formula\n  function calculateDistance(lat1, lon1, lat2, lon2) {\n    const R = 6371; // Radius of the Earth in km\n    const dLat = (lat2 - lat1) * (Math.PI / 180); // Convert degrees to radians\n    const dLon = (lon2 - lon1) * (Math.PI / 180);\n    const a =\n      Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n      Math.cos(lat1 * (Math.PI / 180)) *\n        Math.cos(lat2 * (Math.PI / 180)) *\n        Math.sin(dLon / 2) *\n        Math.sin(dLon / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    const distance = R * c; // Distance in km\n    return distance;\n  }\n\n  // Function to get the latitude and longitude of an address using the Google Maps Geocoding API\n  async function getLatLng(placeId) {\n    const response = await fetch(\n      \"https://us-central1-posmate-5fc0a.cloudfunctions.net/getLatLng\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          placeId: placeId,\n        }),\n      }\n    );\n\n    try {\n      const responseData = await response.json();\n\n      if (response.ok && responseData.success) {\n        console.log(\"Success!\");\n        return responseData.data;\n      } else {\n        console.error(responseData.message);\n      }\n    } catch (jsonError) {\n      console.error(\"Error parsing JSON response:\", jsonError);\n    }\n  }\n\n  // Function to calculate distance between two addresses using Google Places API\n  async function calculateDistanceBetweenAddresses(address1, address2) {\n    try {\n      const { lat: lat1, lng: lon1 } = await getLatLng(address1);\n      const { lat: lat2, lng: lon2 } = await getLatLng(address2);\n      const distance = calculateDistance(lat1, lon1, lat2, lon2);\n      return distance;\n    } catch (error) {\n      console.error(\"Error calculating distance:\", error);\n      return null;\n    }\n  }\n\n  //\n\n  useEffect(() => {\n    if (address) {\n      console.log(\"Set address: \", address);\n      setlocalAddress(address);\n      calculateDistanceBetweenAddresses(\n        storeDetails.address.value.reference,\n        address.address.value.reference\n      ).then((distance) => {\n        if (distance !== null) {\n          console.log(`Distance between addresses: ${distance.toFixed(2)} km`);\n          if (storeDetails.deliveryRange) {\n            if (distance > parseFloat(storeDetails.deliveryRange)) {\n              alert(\"The delivery address is out of range\");\n            }\n            // else {\n            //   setpage(2);\n            // }\n          }\n          // else {\n          //   setpage(2);\n          // }\n        }\n        // else {\n        //   alert(\n        //     \"Distance calculation between the store and your location failed. Please refresh page.\"\n        //   );\n        // }\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    if (localAddress) {\n      setAddress(localAddress);\n      calculateDistanceBetweenAddresses(\n        storeDetails.address.value.reference,\n        localAddress.value.reference\n      ).then((distance) => {\n        if (distance !== null) {\n          console.log(`Distance between addresses: ${distance.toFixed(2)} km`);\n          if (storeDetails.deliveryRange) {\n            if (distance > parseFloat(storeDetails.deliveryRange)) {\n              alert(\"The delivery address is out of range\");\n            }\n            // else {\n            //   setpage(2);\n            // }\n          }\n          // else {\n          //   setpage(2);\n          // }\n        }\n        // else {\n        //   alert(\n        //     \"Distance calculation between the store and your location failed. Please refresh page.\"\n        //   );\n        // }\n      });\n    }\n  }, [localAddress]);\n\n  const SaveCustomer = () => {\n    addCustomerDetailsToDb({\n      name: name,\n      phone: phone,\n      address: address ? address : null,\n      orders: [],\n    }).then((docRef) => {\n      setsavedCustomerDetails({\n        name: name,\n        phone: phone,\n        address: address ? address : null,\n        orders: [],\n        id: docRef.id,\n      });\n\n      setCustomersList([\n        ...customers,\n        {\n          name: name,\n          phone: phone,\n          address: address ? address : null,\n          orders: [],\n          id: docRef.id,\n        },\n      ]);\n    });\n  };\n\n  return (\n    <TouchableOpacity\n      onPress={handlePressOutside}\n      style={{\n        backgroundColor: \"rgba(0, 0, 0, 0.3)\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        flex: 1,\n      }}\n    >\n      <View\n        ref={innerBoxRef}\n        style={{\n          padding: 50,\n          backgroundColor: \"rgba(255,255,255,1)\",\n          borderRadius: 30,\n          shadowColor: \"rgba(0,0,0,1)\",\n          shadowOffset: {\n            width: 3,\n            height: 3,\n          },\n          elevation: 30,\n          shadowOpacity: 0.57,\n          shadowRadius: 10,\n        }}\n      >\n        {children}\n      </View>\n    </TouchableOpacity>\n  );\n};\n\nexport default DeliveryScreen;\n\nconst styles = StyleSheet.create({\n  sizeRow: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginBottom: 25,\n  },\n  halfRow: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    width: \"50%\",\n  },\n  toppingsContainer: {\n    flex: 1,\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-between\",\n    marginBottom: 25,\n    marginTop: 25,\n  },\n  touchable: {\n    margin: 25,\n    width: 300,\n  },\n  modalContainer: {\n    padding: 50,\n    backgroundColor: \"rgba(255,255,255,1)\",\n    borderRadius: 30,\n    shadowColor: \"rgba(0,0,0,1)\",\n    shadowOffset: {\n      width: 3,\n      height: 3,\n    },\n    elevation: 30,\n    shadowOpacity: 0.57,\n    shadowRadius: 10,\n    width: \"35%\",\n  },\n  btn: {\n    height: 40,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  input: {\n    marginTop: 25,\n    marginBottom: 25,\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}