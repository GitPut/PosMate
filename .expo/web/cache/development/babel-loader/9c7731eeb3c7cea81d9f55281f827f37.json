{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState } from \"react\";\nvar tz = require(\"moment-timezone\");\nvar CleanupOps = function CleanupOps(metaList) {\n  var opsArray = [];\n  metaList.forEach(function (op) {\n    var arrContaingMe = opsArray.filter(function (filterOp) {\n      return filterOp.key === op.key;\n    });\n    if (arrContaingMe.length > 0) {\n      opsArray.forEach(function (opsArrItem, index) {\n        if (opsArrItem.key === op.key) {\n          opsArray[index].vals.push(op.value);\n        }\n      });\n    } else {\n      opsArray.push({\n        key: op.key,\n        vals: [op.value]\n      });\n    }\n  });\n  return opsArray;\n};\nfunction parseDate(input) {\n  if (Object.prototype.toString.call(input) === \"[object Date]\") {\n    if (!isNaN(input.getTime())) {\n      return input;\n    }\n  }\n\n  if (typeof input === \"string\") {\n    var dateObject = new Date(input);\n\n    if (!isNaN(dateObject.getTime())) {\n      return dateObject;\n    }\n  }\n\n  return null;\n}\nvar ReceiptPrint = function ReceiptPrint(element, storeDetails) {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setdata = _useState2[1];\n  var date;\n  if (element.date_created) {\n    var _storeDetails$address, _element$line_items;\n    var dateString = element.date_created;\n    var newDate = new Date(dateString + \"Z\");\n    var targetTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n    var result = tz(newDate).tz(targetTimezone, true).format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n    date = result;\n    setdata([\"\\x1B\" + \"\\x40\",\n    \"\\x1B\" + \"\\x61\" + \"\\x31\",\n    storeDetails.name, \"\\x0A\", ((_storeDetails$address = storeDetails.address) == null ? void 0 : _storeDetails$address.label) + \"\\x0A\", storeDetails.website + \"\\x0A\",\n    storeDetails.phoneNumber + \"\\x0A\",\n    date + \"\\x0A\", \"\\x0A\", \"Online Order\" + \"\\x0A\",\n    \"Transaction ID \" + element.number + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\"]);\n\n    (_element$line_items = element.line_items) == null ? void 0 : _element$line_items.map(function (cartItem) {\n      setdata(function (prev) {\n        return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n      });\n      setdata(function (prev) {\n        return [].concat(_toConsumableArray(prev), [\"Name: \" + cartItem.name]);\n      });\n      setdata(function (prev) {\n        return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n      });\n      setdata(function (prev) {\n        return [].concat(_toConsumableArray(prev), [\"Quantity: \" + cartItem.quantity]);\n      });\n      setdata(function (prev) {\n        return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n      });\n      setdata(function (prev) {\n        return [].concat(_toConsumableArray(prev), [\"Price: $\" + cartItem.price]);\n      });\n      setdata(function (prev) {\n        return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n      });\n      if (cartItem.meta) {\n        CleanupOps(cartItem.meta).map(function (returnedItem) {\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [returnedItem.key + \" : \"]);\n          });\n          returnedItem.vals.map(function (val, index) {\n            setdata(function (prev) {\n              return [].concat(_toConsumableArray(prev), [\"\" + val]);\n            });\n            if (index >= 0 && index < returnedItem.vals.length - 1) {\n              setdata(function (prev) {\n                return [].concat(_toConsumableArray(prev), [\", \"]);\n              });\n            }\n          });\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n          });\n        });\n      } else {\n        setdata(function (prev) {\n          return [].concat(_toConsumableArray(prev), [\"\\x0A\" + \"\\x0A\"]);\n        });\n      }\n    });\n    setdata(function (prev) {\n      return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n    });\n    setdata(function (prev) {\n      return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n    });\n    setdata(function (prev) {\n      return [].concat(_toConsumableArray(prev), [\"Customer Details:\"]);\n    });\n    setdata(function (prev) {\n      return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n    });\n    setdata(function (prev) {\n      return [].concat(_toConsumableArray(prev), [\"Address: \" + element.shipping.address_1]);\n    });\n    setdata(function (prev) {\n      return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n    });\n    setdata(function (prev) {\n      return [].concat(_toConsumableArray(prev), [\"City: \" + element.shipping.city]);\n    });\n    setdata(function (prev) {\n      return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n    });\n    setdata(function (prev) {\n      return [].concat(_toConsumableArray(prev), [\"Zip/Postal Code: \" + element.shipping.postcode]);\n    });\n    setdata(function (prev) {\n      return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n    });\n    setdata(function (prev) {\n      return [].concat(_toConsumableArray(prev), [\"Province/State: \" + element.shipping.state]);\n    });\n    setdata(function (prev) {\n      return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n    });\n    setdata(function (prev) {\n      return [].concat(_toConsumableArray(prev), [\"Name: \" + element.shipping.first_name + \" \" + element.shipping.last_name]);\n    });\n    setdata(function (prev) {\n      return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n    });\n    element.shipping_lines.map(function (line) {\n      setdata(function (prev) {\n        return [].concat(_toConsumableArray(prev), [\"Shipping Method: \" + line.method_title]);\n      });\n      setdata(function (prev) {\n        return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n      });\n    });\n    if (element.billing) {\n      setdata(function (prev) {\n        return [].concat(_toConsumableArray(prev), [\"Phone Number: \" + element.billing.phone]);\n      });\n      setdata(function (prev) {\n        return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n      });\n    }\n    if (element.customer_note) {\n      setdata(function (prev) {\n        return [].concat(_toConsumableArray(prev), [\"Customer Note: \" + element.customer_note]);\n      });\n      setdata(function (prev) {\n        return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n      });\n    }\n    setdata(function (prev) {\n      return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n    });\n    setdata(function (prev) {\n      return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n    });\n    setdata(function (prev) {\n      return [].concat(_toConsumableArray(prev), [\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Payment Method: \" + element.payment_method_title + \"\\x0A\" + \"\\x0A\", \"Total Including (\" + (storeDetails.taxRate ? storeDetails.taxRate : \"13\") + \"% Tax): \" + \"$\" + element.total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\"]);\n    });\n\n    setdata(function (prev) {\n      return [].concat(_toConsumableArray(prev), [\"\\x1D\" + \"\\x56\" + \"\\x00\"]);\n    });\n    return data;\n  } else {\n    var total = 0;\n    console.log(\"Date: \", element.date);\n    if (element.online) {\n      var localDate = parseDate(element.date);\n      date = localDate.toLocaleString(\"en-US\", {\n        year: \"numeric\",\n        month: \"short\",\n        day: \"numeric\",\n        hour: \"numeric\",\n        minute: \"numeric\"\n      });\n    } else if (element.date.seconds) {\n      var _localDate = new Date(element.date.seconds * 1000);\n      date = _localDate.toLocaleString(\"en-US\", {\n        year: \"numeric\",\n        month: \"short\",\n        day: \"numeric\",\n        hour: \"numeric\",\n        minute: \"numeric\"\n      });\n    } else {\n      var _localDate2 = element.date;\n      date = _localDate2.toLocaleString(\"en-US\", {\n        year: \"numeric\",\n        month: \"short\",\n        day: \"numeric\",\n        hour: \"numeric\",\n        minute: \"numeric\"\n      });\n    }\n    if (element.method === \"deliveryOrder\") {\n      total += parseFloat(storeDetails.deliveryPrice);\n      if (element.online) {\n        var _storeDetails$address2;\n        setdata([\"\\x1B\" + \"\\x40\",\n        \"\\x1B\" + \"\\x61\" + \"\\x31\",\n        storeDetails.name, \"\\x0A\", ((_storeDetails$address2 = storeDetails.address) == null ? void 0 : _storeDetails$address2.label) + \"\\x0A\", storeDetails.website + \"\\x0A\",\n        storeDetails.phoneNumber + \"\\x0A\",\n        date + \"\\x0A\", \"\\x0A\", element.online && \"Online Order\" + \"\\x0A\",\n        \"Transaction ID \" + element.transNum + \"\\x0A\", \"\\x0A\", \"Delivery Order: $\" + (storeDetails.deliveryPrice ? storeDetails.deliveryPrice : \"0\") + \" Fee\" + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\"]);\n      } else {\n        var _storeDetails$address3;\n        setdata([\"\\x1B\" + \"\\x40\",\n        \"\\x1B\" + \"\\x61\" + \"\\x31\",\n        storeDetails.name, \"\\x0A\", ((_storeDetails$address3 = storeDetails.address) == null ? void 0 : _storeDetails$address3.label) + \"\\x0A\", storeDetails.website + \"\\x0A\",\n        storeDetails.phoneNumber + \"\\x0A\",\n        date + \"\\x0A\", \"\\x0A\", \"Transaction ID \" + element.transNum + \"\\x0A\", \"\\x0A\", \"Delivery Order: $\" + (storeDetails.deliveryPrice ? storeDetails.deliveryPrice : \"0\") + \" Fee\" + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\"]);\n      }\n\n      element.cart.map(function (cartItem) {\n        setdata(function (prev) {\n          return [].concat(_toConsumableArray(prev), [\"Name: \" + cartItem.name]);\n        });\n        setdata(function (prev) {\n          return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n        });\n        if (cartItem.quantity > 1) {\n          total += parseFloat(cartItem.price) * cartItem.quantity;\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [\"Quantity: \" + cartItem.quantity]);\n          });\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n          });\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [\"Price: $\" + cartItem.price * cartItem.quantity]);\n          });\n        } else {\n          total += parseFloat(cartItem.price);\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [\"Price: $\" + cartItem.price]);\n          });\n        }\n        if (cartItem.description) {\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n          });\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [cartItem.description]);\n          });\n        }\n        if (cartItem.options) {\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n          });\n          cartItem.options.map(function (option) {\n            setdata(function (prev) {\n              return [].concat(_toConsumableArray(prev), [option]);\n            });\n            setdata(function (prev) {\n              return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n            });\n          });\n        }\n        if (cartItem.extraDetails) {\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [cartItem.extraDetails]);\n          });\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n          });\n        }\n        setdata(function (prev) {\n          return [].concat(_toConsumableArray(prev), [\"\\x0A\" + \"\\x0A\"]);\n        });\n      });\n      total = storeDetails.taxRate ? total * (1 + storeDetails.taxRate / 100) : total * 1.13;\n      total = total.toFixed(2);\n\n      setdata(function (prev) {\n        var _element$customer, _element$customer2, _element$customer3, _element$customer3$ad;\n        return [].concat(_toConsumableArray(prev), [\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Customer Name: \" + ((_element$customer = element.customer) == null ? void 0 : _element$customer.name), \"\\x0A\" + \"\\x0A\", \"Customer Phone #:  \" + ((_element$customer2 = element.customer) == null ? void 0 : _element$customer2.phone), \"\\x0A\" + \"\\x0A\", \"Customer Address: \" + ((_element$customer3 = element.customer) == null ? void 0 : (_element$customer3$ad = _element$customer3.address) == null ? void 0 : _element$customer3$ad.label), \"\\x0A\" + \"\\x0A\", \"Total Including (\" + (storeDetails.taxRate ? storeDetails.taxRate : \"13\") + \"% Tax): \" + total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x1D\" + \"\\x56\" + \"\\x30\"]);\n      });\n    } else if (element.method === \"pickupOrder\") {\n      if (element.online) {\n        var _storeDetails$address4;\n        setdata([\"\\x1B\" + \"\\x40\",\n        \"\\x1B\" + \"\\x61\" + \"\\x31\",\n        storeDetails.name, \"\\x0A\", ((_storeDetails$address4 = storeDetails.address) == null ? void 0 : _storeDetails$address4.label) + \"\\x0A\", storeDetails.website + \"\\x0A\",\n        storeDetails.phoneNumber + \"\\x0A\",\n        date + \"\\x0A\", \"\\x0A\", element.online && \"Online Order\" + \"\\x0A\",\n        \"Transaction ID \" + element.transNum + \"\\x0A\", \"                                \", \"\\x0A\", \"Pickup Order\" + \"\\x0A\",\n        \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\"]);\n      } else {\n        var _storeDetails$address5;\n        setdata([\"\\x1B\" + \"\\x40\",\n        \"\\x1B\" + \"\\x61\" + \"\\x31\",\n        storeDetails.name, \"\\x0A\", ((_storeDetails$address5 = storeDetails.address) == null ? void 0 : _storeDetails$address5.label) + \"\\x0A\", storeDetails.website + \"\\x0A\",\n        storeDetails.phoneNumber + \"\\x0A\",\n        date + \"\\x0A\", \"\\x0A\", \"Transaction ID \" + element.transNum + \"\\x0A\", \"                                \", \"\\x0A\", \"Pickup Order\" + \"\\x0A\",\n        \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\"]);\n      }\n\n      element.cart.map(function (cartItem) {\n        setdata(function (prev) {\n          return [].concat(_toConsumableArray(prev), [\"Name: \" + cartItem.name]);\n        });\n        setdata(function (prev) {\n          return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n        });\n        if (cartItem.quantity > 1) {\n          total += parseFloat(cartItem.price) * cartItem.quantity;\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [\"Quantity: \" + cartItem.quantity]);\n          });\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n          });\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [\"Price: $\" + cartItem.price * cartItem.quantity]);\n          });\n        } else {\n          total += parseFloat(cartItem.price);\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [\"Price: $\" + cartItem.price]);\n          });\n        }\n        if (cartItem.description) {\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n          });\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [cartItem.description]);\n          });\n        }\n        if (cartItem.options) {\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n          });\n          cartItem.options.map(function (option) {\n            setdata(function (prev) {\n              return [].concat(_toConsumableArray(prev), [option]);\n            });\n            setdata(function (prev) {\n              return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n            });\n          });\n        }\n        if (cartItem.extraDetails) {\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [cartItem.extraDetails]);\n          });\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n          });\n        }\n        setdata(function (prev) {\n          return [].concat(_toConsumableArray(prev), [\"\\x0A\" + \"\\x0A\"]);\n        });\n      });\n      total = storeDetails.taxRate ? total * (1 + storeDetails.taxRate / 100) : total * 1.13;\n      total = total.toFixed(2);\n\n      setdata(function (prev) {\n        var _element$customer4, _element$customer5;\n        return [].concat(_toConsumableArray(prev), [\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Customer Name: \" + ((_element$customer4 = element.customer) == null ? void 0 : _element$customer4.name), \"\\x0A\" + \"\\x0A\", \"Customer Phone #:  \" + ((_element$customer5 = element.customer) == null ? void 0 : _element$customer5.phone), \"\\x0A\" + \"\\x0A\", \"Customer Address: N/A                            \", \"\\x0A\", \"Total Including (\" + (storeDetails.taxRate ? storeDetails.taxRate : \"13\") + \"% Tax): \" + total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x1D\" + \"\\x56\" + \"\\x30\"]);\n      });\n    } else {\n      var _storeDetails$address6;\n      setdata([\"\\x1B\" + \"\\x40\",\n      \"\\x1B\" + \"\\x61\" + \"\\x31\",\n      storeDetails.name, \"\\x0A\", ((_storeDetails$address6 = storeDetails.address) == null ? void 0 : _storeDetails$address6.label) + \"\\x0A\", storeDetails.website + \"\\x0A\",\n      storeDetails.phoneNumber + \"\\x0A\",\n      date + \"\\x0A\", \"\\x0A\", \"Transaction ID \" + element.transNum + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\"]);\n\n      element.cart.map(function (cartItem) {\n        setdata(function (prev) {\n          return [].concat(_toConsumableArray(prev), [\"Name: \" + cartItem.name]);\n        });\n        setdata(function (prev) {\n          return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n        });\n        if (cartItem.quantity > 1) {\n          total += parseFloat(cartItem.price) * cartItem.quantity;\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [\"Quantity: \" + cartItem.quantity]);\n          });\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n          });\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [\"Price: $\" + cartItem.price * cartItem.quantity]);\n          });\n        } else {\n          total += parseFloat(cartItem.price);\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [\"Price: $\" + cartItem.price]);\n          });\n        }\n        if (cartItem.description) {\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n          });\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [cartItem.description]);\n          });\n        }\n        if (cartItem.options) {\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n          });\n          cartItem.options.map(function (option) {\n            setdata(function (prev) {\n              return [].concat(_toConsumableArray(prev), [option]);\n            });\n            setdata(function (prev) {\n              return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n            });\n          });\n        }\n        if (cartItem.extraDetails) {\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [cartItem.extraDetails]);\n          });\n          setdata(function (prev) {\n            return [].concat(_toConsumableArray(prev), [\"\\x0A\"]);\n          });\n        }\n        setdata(function (prev) {\n          return [].concat(_toConsumableArray(prev), [\"\\x0A\" + \"\\x0A\"]);\n        });\n      });\n      total = total * 1.13;\n      total = total.toFixed(2);\n      if (element.paymentMethod === \"Cash\") {\n        setdata(function (prev) {\n          return [].concat(_toConsumableArray(prev), [\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Payment Method: \" + element.method + \"\\x0A\" + \"\\x0A\", \"Total Including (\" + (storeDetails.taxRate ? storeDetails.taxRate : \"13\") + \"% Tax): \" + \"$\" + total + \"\\x0A\" + \"\\x0A\", \"Change Due: \" + \"$\" + element.changeDue + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n          \"\\x0A\",\n          \"\\x0A\",\n          \"\\x0A\",\n          \"\\x0A\",\n          \"\\x0A\",\n          \"\\x1D\" + \"\\x56\" + \"\\x30\" + \"\\x10\" + \"\\x14\" + \"\\x01\" + \"\\x00\" + \"\\x05\"]);\n        });\n      } else {\n        setdata(function (prev) {\n          return [].concat(_toConsumableArray(prev), [\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Payment Method: \" + element.paymentMethod + \"\\x0A\" + \"\\x0A\", \"Total Including (\" + (storeDetails.taxRate ? storeDetails.taxRate : \"13\") + \"% Tax): \" + \"$\" + total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n          \"\\x0A\",\n          \"\\x0A\",\n          \"\\x0A\",\n          \"\\x0A\",\n          \"\\x0A\",\n          \"\\x1D\" + \"\\x56\" + \"\\x30\"]);\n        });\n      }\n    }\n  }\n  var qz = require(\"qz-tray\");\n  qz.websocket.connect().then(function () {\n    var config = qz.configs.create(myDeviceDetails.printToPrinter);\n    return qz.print(config, data.data);\n  }).then(qz.websocket.disconnect).catch(function (err) {\n    console.error(err);\n  });\n};\nexport default ReceiptPrint;","map":{"version":3,"names":["useState","tz","require","CleanupOps","metaList","opsArray","forEach","op","arrContaingMe","filter","filterOp","key","length","opsArrItem","index","vals","push","value","parseDate","input","Object","prototype","toString","call","isNaN","getTime","dateObject","Date","ReceiptPrint","element","storeDetails","data","setdata","date","date_created","dateString","newDate","targetTimezone","Intl","DateTimeFormat","resolvedOptions","timeZone","result","format","name","address","label","website","phoneNumber","number","line_items","map","cartItem","prev","quantity","price","meta","returnedItem","val","shipping","address_1","city","postcode","state","first_name","last_name","shipping_lines","line","method_title","billing","phone","customer_note","payment_method_title","taxRate","total","console","log","online","localDate","toLocaleString","year","month","day","hour","minute","seconds","method","parseFloat","deliveryPrice","transNum","cart","description","options","option","extraDetails","toFixed","customer","paymentMethod","changeDue","qz","websocket","connect","then","config","configs","create","myDeviceDetails","printToPrinter","print","disconnect","catch","err","error"],"sources":["/Users/peterputros/Desktop/PosMate/components/ReceiptPrint.tsx"],"sourcesContent":["import { View, Text } from \"react-native\";\nimport React, { useState } from \"react\";\nconst tz = require(\"moment-timezone\");\n\nconst CleanupOps = (metaList) => {\n  const opsArray = [];\n\n  metaList.forEach((op) => {\n    const arrContaingMe = opsArray.filter(\n      (filterOp) => filterOp.key === op.key\n    );\n\n    if (arrContaingMe.length > 0) {\n      opsArray.forEach((opsArrItem, index) => {\n        if (opsArrItem.key === op.key) {\n          opsArray[index].vals.push(op.value);\n        }\n      });\n    } else {\n      opsArray.push({ key: op.key, vals: [op.value] });\n    }\n  });\n  return opsArray;\n};\n\nfunction parseDate(input) {\n  // Check if the input is a Date object\n  if (Object.prototype.toString.call(input) === \"[object Date]\") {\n    if (!isNaN(input.getTime())) {\n      // It's a valid Date object, return it\n      return input;\n    }\n  }\n\n  // Check if the input is a string\n  if (typeof input === \"string\") {\n    const dateObject = new Date(input);\n\n    // Check if the dateObject is a valid Date\n    if (!isNaN(dateObject.getTime())) {\n      // It's a valid Date object, return it\n      return dateObject;\n    }\n  }\n\n  // If neither a Date object nor a valid date string, return null or handle accordingly\n  return null;\n}\n\nconst ReceiptPrint = (element, storeDetails) => {\n  const [data, setdata] = useState([]);\n\n  let date;\n  //If woo order\n  if (element.date_created) {\n    const dateString = element.date_created;\n\n    const newDate = new Date(dateString + \"Z\");\n\n    const targetTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n    const result = tz(newDate)\n      .tz(targetTimezone, true)\n      .format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n\n    date = result;\n\n    setdata([\n      \"\\x1B\" + \"\\x40\", // init\n      \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n      storeDetails.name,\n      \"\\x0A\",\n      storeDetails.address?.label + \"\\x0A\",\n      storeDetails.website + \"\\x0A\", // text and line break\n      storeDetails.phoneNumber + \"\\x0A\", // text and line break\n      date + \"\\x0A\",\n      \"\\x0A\",\n      \"Online Order\" + \"\\x0A\", // text and line break\n      `Transaction ID ${element.number}` + \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\n    ]);\n\n    element.line_items?.map((cartItem) => {\n      setdata((prev) => [...prev, \"\\x0A\"]);\n      setdata((prev) => [...prev, `Name: ${cartItem.name}`]);\n      setdata((prev) => [...prev, \"\\x0A\"]);\n      setdata((prev) => [...prev, `Quantity: ${cartItem.quantity}`]);\n      setdata((prev) => [...prev, \"\\x0A\"]);\n      setdata((prev) => [...prev, `Price: $${cartItem.price}`]);\n      setdata((prev) => [...prev, \"\\x0A\"]);\n\n      if (cartItem.meta) {\n        CleanupOps(cartItem.meta).map((returnedItem) => {\n          setdata((prev) => [...prev, `${returnedItem.key} : `]);\n          returnedItem.vals.map((val, index) => {\n            setdata((prev) => [...prev, `${val}`]);\n            if (index >= 0 && index < returnedItem.vals.length - 1) {\n              setdata((prev) => [...prev, \", \"]);\n            }\n          });\n          setdata((prev) => [...prev, \"\\x0A\"]);\n        });\n      } else {\n        setdata((prev) => [...prev, \"\\x0A\" + \"\\x0A\"]);\n      }\n    });\n\n    setdata((prev) => [...prev, \"\\x0A\"]);\n    setdata((prev) => [...prev, \"\\x0A\"]);\n    setdata((prev) => [...prev, `Customer Details:`]);\n    setdata((prev) => [...prev, \"\\x0A\"]);\n    setdata((prev) => [...prev, `Address: ${element.shipping.address_1}`]);\n    setdata((prev) => [...prev, \"\\x0A\"]);\n    setdata((prev) => [...prev, `City: ${element.shipping.city}`]);\n    setdata((prev) => [...prev, \"\\x0A\"]);\n    setdata((prev) => [\n      ...prev,\n      `Zip/Postal Code: ${element.shipping.postcode}`,\n    ]);\n    setdata((prev) => [...prev, \"\\x0A\"]);\n    setdata((prev) => [...prev, `Province/State: ${element.shipping.state}`]);\n    setdata((prev) => [...prev, \"\\x0A\"]);\n    setdata((prev) => [\n      ...prev,\n      `Name: ${element.shipping.first_name} ${element.shipping.last_name}`,\n    ]);\n    setdata((prev) => [...prev, \"\\x0A\"]);\n    element.shipping_lines.map((line) => {\n      setdata((prev) => [...prev, `Shipping Method: ${line.method_title}`]);\n      setdata((prev) => [...prev, \"\\x0A\"]);\n    });\n    if (element.billing) {\n      setdata((prev) => [...prev, `Phone Number: ${element.billing.phone}`]);\n      setdata((prev) => [...prev, \"\\x0A\"]);\n    }\n    if (element.customer_note) {\n      setdata((prev) => [...prev, `Customer Note: ${element.customer_note}`]);\n      setdata((prev) => [...prev, \"\\x0A\"]);\n    }\n    setdata((prev) => [...prev, \"\\x0A\"]);\n    setdata((prev) => [...prev, \"\\x0A\"]);\n\n    setdata((prev) => [\n      ...prev,\n      \"\\x0A\",\n      \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n      \"\\x0A\" + \"\\x0A\",\n      \"Payment Method: \" + element.payment_method_title + \"\\x0A\" + \"\\x0A\",\n      `Total Including (${\n        storeDetails.taxRate ? storeDetails.taxRate : \"13\"\n      }% Tax): ` +\n        \"$\" +\n        element.total +\n        \"\\x0A\" +\n        \"\\x0A\",\n      \"------------------------------------------\" + \"\\x0A\",\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n    ]);\n\n    setdata((prev) => [...prev, \"\\x1D\" + \"\\x56\" + \"\\x00\"]);\n\n    return data;\n  } else {\n    //end of woo order\n    let total = 0;\n\n    console.log(\"Date: \", element.date);\n    if (element.online) {\n      const localDate = parseDate(element.date);\n      // Convert to a nice date and time format\n      date = localDate.toLocaleString(\"en-US\", {\n        year: \"numeric\",\n        month: \"short\",\n        day: \"numeric\",\n        hour: \"numeric\",\n        minute: \"numeric\",\n      });\n    } else if (element.date.seconds) {\n      const localDate = new Date(element.date.seconds * 1000);\n      // Convert to a nice date and time format\n      date = localDate.toLocaleString(\"en-US\", {\n        year: \"numeric\",\n        month: \"short\",\n        day: \"numeric\",\n        hour: \"numeric\",\n        minute: \"numeric\",\n      });\n    } else {\n      const localDate = element.date;\n      // Convert to a nice date and time format\n      date = localDate.toLocaleString(\"en-US\", {\n        year: \"numeric\",\n        month: \"short\",\n        day: \"numeric\",\n        hour: \"numeric\",\n        minute: \"numeric\",\n      });\n    }\n\n    if (element.method === \"deliveryOrder\") {\n      total += parseFloat(storeDetails.deliveryPrice);\n\n      if (element.online) {\n        setdata([\n          \"\\x1B\" + \"\\x40\", // init\n          \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n          storeDetails.name,\n          \"\\x0A\",\n          storeDetails.address?.label + \"\\x0A\",\n          storeDetails.website + \"\\x0A\", // text and line break\n          storeDetails.phoneNumber + \"\\x0A\", // text and line break\n          date + \"\\x0A\",\n          \"\\x0A\",\n          element.online && \"Online Order\" + \"\\x0A\", // text and line break\n          `Transaction ID ${element.transNum}` + \"\\x0A\",\n          \"\\x0A\",\n          `Delivery Order: $${\n            storeDetails.deliveryPrice ? storeDetails.deliveryPrice : \"0\"\n          } Fee` + \"\\x0A\",\n          \"\\x0A\",\n          \"\\x0A\",\n          \"\\x0A\",\n          \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\n        ]);\n      } else {\n        setdata([\n          \"\\x1B\" + \"\\x40\", // init\n          \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n          storeDetails.name,\n          \"\\x0A\",\n          storeDetails.address?.label + \"\\x0A\",\n          storeDetails.website + \"\\x0A\", // text and line break\n          storeDetails.phoneNumber + \"\\x0A\", // text and line break\n          date + \"\\x0A\",\n          \"\\x0A\",\n          `Transaction ID ${element.transNum}` + \"\\x0A\",\n          \"\\x0A\",\n          `Delivery Order: $${\n            storeDetails.deliveryPrice ? storeDetails.deliveryPrice : \"0\"\n          } Fee` + \"\\x0A\",\n          \"\\x0A\",\n          \"\\x0A\",\n          \"\\x0A\",\n          \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\n        ]);\n      }\n\n      element.cart.map((cartItem) => {\n        setdata((prev) => [...prev, `Name: ${cartItem.name}`]);\n        setdata((prev) => [...prev, \"\\x0A\"]);\n\n        if (cartItem.quantity > 1) {\n          total += parseFloat(cartItem.price) * cartItem.quantity;\n          setdata((prev) => [...prev, `Quantity: ${cartItem.quantity}`]);\n          setdata((prev) => [...prev, \"\\x0A\"]);\n          setdata((prev) => [\n            ...prev,\n            `Price: $${cartItem.price * cartItem.quantity}`,\n          ]);\n        } else {\n          total += parseFloat(cartItem.price);\n          setdata((prev) => [...prev, `Price: $${cartItem.price}`]);\n        }\n\n        if (cartItem.description) {\n          setdata((prev) => [...prev, \"\\x0A\"]);\n          setdata((prev) => [...prev, cartItem.description]);\n        }\n\n        if (cartItem.options) {\n          setdata((prev) => [...prev, \"\\x0A\"]);\n          cartItem.options.map((option) => {\n            setdata((prev) => [...prev, option]);\n            setdata((prev) => [...prev, \"\\x0A\"]);\n          });\n        }\n\n        if (cartItem.extraDetails) {\n          setdata((prev) => [...prev, cartItem.extraDetails]);\n          setdata((prev) => [...prev, \"\\x0A\"]);\n        }\n\n        setdata((prev) => [...prev, \"\\x0A\" + \"\\x0A\"]);\n      });\n\n      total = storeDetails.taxRate\n        ? total * (1 + storeDetails.taxRate / 100)\n        : total * 1.13;\n      total = total.toFixed(2);\n\n      //push ending\n      setdata((prev) => [\n        ...prev,\n        \"\\x0A\",\n        \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n        \"\\x0A\" + \"\\x0A\",\n        \"Customer Name: \" + element.customer?.name,\n        \"\\x0A\" + \"\\x0A\",\n        \"Customer Phone #:  \" + element.customer?.phone,\n        \"\\x0A\" + \"\\x0A\",\n        \"Customer Address: \" + element.customer?.address?.label,\n        \"\\x0A\" + \"\\x0A\",\n        `Total Including (${\n          storeDetails.taxRate ? storeDetails.taxRate : \"13\"\n        }% Tax): ` +\n          total +\n          \"\\x0A\" +\n          \"\\x0A\",\n        \"------------------------------------------\" + \"\\x0A\",\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x1D\" + \"\\x56\" + \"\\x30\",\n      ]);\n    } else if (element.method === \"pickupOrder\") {\n      if (element.online) {\n        setdata([\n          \"\\x1B\" + \"\\x40\", // init\n          \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n          storeDetails.name,\n          \"\\x0A\",\n          storeDetails.address?.label + \"\\x0A\",\n          storeDetails.website + \"\\x0A\", // text and line break\n          storeDetails.phoneNumber + \"\\x0A\", // text and line break\n          date + \"\\x0A\",\n          \"\\x0A\",\n          element.online && \"Online Order\" + \"\\x0A\", // text and line break\n          `Transaction ID ${element.transNum}` + \"\\x0A\",\n          `                                `,\n          \"\\x0A\",\n          \"Pickup Order\" + \"\\x0A\", // text and line break\n          \"\\x0A\",\n          \"\\x0A\",\n          \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\n        ]);\n      } else {\n        setdata([\n          \"\\x1B\" + \"\\x40\", // init\n          \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n          storeDetails.name,\n          \"\\x0A\",\n          storeDetails.address?.label + \"\\x0A\",\n          storeDetails.website + \"\\x0A\", // text and line break\n          storeDetails.phoneNumber + \"\\x0A\", // text and line break\n          date + \"\\x0A\",\n          \"\\x0A\",\n          `Transaction ID ${element.transNum}` + \"\\x0A\",\n          `                                `,\n          \"\\x0A\",\n          \"Pickup Order\" + \"\\x0A\", // text and line break\n          \"\\x0A\",\n          \"\\x0A\",\n          \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\n        ]);\n      }\n\n      element.cart.map((cartItem) => {\n        setdata((prev) => [...prev, `Name: ${cartItem.name}`]);\n        setdata((prev) => [...prev, \"\\x0A\"]);\n\n        if (cartItem.quantity > 1) {\n          total += parseFloat(cartItem.price) * cartItem.quantity;\n          setdata((prev) => [...prev, `Quantity: ${cartItem.quantity}`]);\n          setdata((prev) => [...prev, \"\\x0A\"]);\n          setdata((prev) => [\n            ...prev,\n            `Price: $${cartItem.price * cartItem.quantity}`,\n          ]);\n        } else {\n          total += parseFloat(cartItem.price);\n          setdata((prev) => [...prev, `Price: $${cartItem.price}`]);\n        }\n\n        if (cartItem.description) {\n          setdata((prev) => [...prev, \"\\x0A\"]);\n          setdata((prev) => [...prev, cartItem.description]);\n        }\n\n        if (cartItem.options) {\n          setdata((prev) => [...prev, \"\\x0A\"]);\n          cartItem.options.map((option) => {\n            setdata((prev) => [...prev, option]);\n            setdata((prev) => [...prev, \"\\x0A\"]);\n          });\n        }\n\n        if (cartItem.extraDetails) {\n          setdata((prev) => [...prev, cartItem.extraDetails]);\n          setdata((prev) => [...prev, \"\\x0A\"]);\n        }\n\n        setdata((prev) => [...prev, \"\\x0A\" + \"\\x0A\"]);\n      });\n\n      total = storeDetails.taxRate\n        ? total * (1 + storeDetails.taxRate / 100)\n        : total * 1.13;\n      total = total.toFixed(2);\n\n      //push ending\n      setdata((prev) => [\n        ...prev,\n        \"\\x0A\",\n        \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n        \"\\x0A\" + \"\\x0A\",\n        \"Customer Name: \" + element.customer?.name,\n        \"\\x0A\" + \"\\x0A\",\n        \"Customer Phone #:  \" + element.customer?.phone,\n        \"\\x0A\" + \"\\x0A\",\n        \"Customer Address: N/A                            \",\n        \"\\x0A\",\n        `Total Including (${\n          storeDetails.taxRate ? storeDetails.taxRate : \"13\"\n        }% Tax): ` +\n          total +\n          \"\\x0A\" +\n          \"\\x0A\",\n        \"------------------------------------------\" + \"\\x0A\",\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x1D\" + \"\\x56\" + \"\\x30\",\n      ]);\n    } else {\n      setdata([\n        \"\\x1B\" + \"\\x40\", // init\n        \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n        storeDetails.name,\n        \"\\x0A\",\n        storeDetails.address?.label + \"\\x0A\",\n        storeDetails.website + \"\\x0A\", // text and line break\n        storeDetails.phoneNumber + \"\\x0A\", // text and line break\n        date + \"\\x0A\",\n        \"\\x0A\",\n        `Transaction ID ${element.transNum}` + \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x0A\",\n        \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\n      ]);\n\n      element.cart.map((cartItem) => {\n        setdata((prev) => [...prev, `Name: ${cartItem.name}`]);\n        setdata((prev) => [...prev, \"\\x0A\"]);\n\n        if (cartItem.quantity > 1) {\n          total += parseFloat(cartItem.price) * cartItem.quantity;\n          setdata((prev) => [...prev, `Quantity: ${cartItem.quantity}`]);\n          setdata((prev) => [...prev, \"\\x0A\"]);\n          setdata((prev) => [\n            ...prev,\n            `Price: $${cartItem.price * cartItem.quantity}`,\n          ]);\n        } else {\n          total += parseFloat(cartItem.price);\n          setdata((prev) => [...prev, `Price: $${cartItem.price}`]);\n        }\n\n        if (cartItem.description) {\n          setdata((prev) => [...prev, \"\\x0A\"]);\n          setdata((prev) => [...prev, cartItem.description]);\n        }\n\n        if (cartItem.options) {\n          setdata((prev) => [...prev, \"\\x0A\"]);\n          cartItem.options.map((option) => {\n            setdata((prev) => [...prev, option]);\n            setdata((prev) => [...prev, \"\\x0A\"]);\n          });\n        }\n\n        if (cartItem.extraDetails) {\n          setdata((prev) => [...prev, cartItem.extraDetails]);\n          setdata((prev) => [...prev, \"\\x0A\"]);\n        }\n\n        setdata((prev) => [...prev, \"\\x0A\" + \"\\x0A\"]);\n      });\n\n      total = total * 1.13;\n      total = total.toFixed(2);\n\n      if (element.paymentMethod === \"Cash\") {\n        //push ending\n        setdata((prev) => [\n          ...prev,\n          \"\\x0A\",\n          \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n          \"\\x0A\" + \"\\x0A\",\n          \"Payment Method: \" + element.method + \"\\x0A\" + \"\\x0A\",\n          `Total Including (${\n            storeDetails.taxRate ? storeDetails.taxRate : \"13\"\n          }% Tax): ` +\n            \"$\" +\n            total +\n            \"\\x0A\" +\n            \"\\x0A\",\n          \"Change Due: \" + \"$\" + element.changeDue + \"\\x0A\" + \"\\x0A\",\n          \"------------------------------------------\" + \"\\x0A\",\n          \"\\x0A\", // line break\n          \"\\x0A\", // line break\n          \"\\x0A\", // line break\n          \"\\x0A\", // line break\n          \"\\x0A\", // line break\n          \"\\x0A\", // line break\n          //\"\\x1D\" + \"\\x56\" + \"\\x00\",\n          \"\\x1D\" + \"\\x56\" + \"\\x30\" + \"\\x10\" + \"\\x14\" + \"\\x01\" + \"\\x00\" + \"\\x05\",\n        ]);\n      } else {\n        setdata((prev) => [\n          ...prev,\n          \"\\x0A\",\n          \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n          \"\\x0A\" + \"\\x0A\",\n          \"Payment Method: \" + element.paymentMethod + \"\\x0A\" + \"\\x0A\",\n          `Total Including (${\n            storeDetails.taxRate ? storeDetails.taxRate : \"13\"\n          }% Tax): ` +\n            \"$\" +\n            total +\n            \"\\x0A\" +\n            \"\\x0A\",\n          \"------------------------------------------\" + \"\\x0A\",\n          \"\\x0A\", // line break\n          \"\\x0A\", // line break\n          \"\\x0A\", // line break\n          \"\\x0A\", // line break\n          \"\\x0A\", // line break\n          \"\\x0A\", // line break\n          //\"\\x1D\" + \"\\x56\" + \"\\x00\",\n          \"\\x1D\" + \"\\x56\" + \"\\x30\",\n        ]);\n      }\n    }\n  }\n  const qz = require(\"qz-tray\");\n  qz.websocket\n    .connect()\n    .then(function () {\n      const config = qz.configs.create(myDeviceDetails.printToPrinter);\n      return qz.print(config, data.data);\n    })\n    .then(qz.websocket.disconnect)\n    .catch(function (err) {\n      console.error(err);\n    });\n};\n\nexport default ReceiptPrint;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}