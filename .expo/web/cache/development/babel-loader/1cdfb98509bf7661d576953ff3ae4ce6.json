{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport React, { Component } from 'react';\nvar ConnectedCopilotStep = function (_Component) {\n  _inherits(ConnectedCopilotStep, _Component);\n  var _super = _createSuper(ConnectedCopilotStep);\n  function ConnectedCopilotStep() {\n    _classCallCheck(this, ConnectedCopilotStep);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ConnectedCopilotStep, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.active) {\n        this.register();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.active !== prevProps.active) {\n        if (this.props.active) {\n          this.register();\n        } else {\n          this.unregister();\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.unregister();\n    }\n  }, {\n    key: \"setNativeProps\",\n    value: function setNativeProps(obj) {\n      this.wrapper.setNativeProps(obj);\n    }\n  }, {\n    key: \"register\",\n    value: function register() {\n      this.props._copilot.registerStep({\n        name: this.props.name,\n        text: this.props.text,\n        order: this.props.order,\n        target: this,\n        wrapper: this.wrapper\n      });\n    }\n  }, {\n    key: \"unregister\",\n    value: function unregister() {\n      this.props._copilot.unregisterStep(this.props.name);\n    }\n  }, {\n    key: \"measure\",\n    value: function measure() {\n      var _this = this;\n      if (typeof __TEST__ !== 'undefined' && __TEST__) {\n        return new Promise(function (resolve) {\n          return resolve({\n            x: 0,\n            y: 0,\n            width: 0,\n            height: 0\n          });\n        });\n      }\n      return new Promise(function (resolve, reject) {\n        var measure = function measure() {\n          if (_this.wrapper && _this.wrapper.measure) {\n            _this.wrapper.measure(function (ox, oy, width, height, x, y) {\n              return resolve({\n                x: x,\n                y: y,\n                width: width,\n                height: height\n              });\n            }, reject);\n          } else {\n            requestAnimationFrame(measure);\n          }\n        };\n        requestAnimationFrame(measure);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var copilot = {\n        ref: function ref(wrapper) {\n          _this2.wrapper = wrapper;\n        },\n        onLayout: function onLayout() {}\n      };\n\n      return React.cloneElement(this.props.children, {\n        copilot: copilot\n      });\n    }\n  }]);\n  return ConnectedCopilotStep;\n}(Component);\nConnectedCopilotStep.defaultProps = {\n  active: true\n};\nexport default ConnectedCopilotStep;","map":{"version":3,"names":["React","Component","ConnectedCopilotStep","props","active","register","prevProps","unregister","obj","wrapper","setNativeProps","_copilot","registerStep","name","text","order","target","unregisterStep","__TEST__","Promise","resolve","x","y","width","height","reject","measure","ox","oy","requestAnimationFrame","copilot","ref","onLayout","cloneElement","children","defaultProps"],"sources":["/Users/peterputros/Desktop/PosMate/node_modules/react-native-copilot/src/components/ConnectedCopilotStep.js"],"sourcesContent":["// @flow\nimport React, { Component } from 'react';\n\nimport type { CopilotContext } from '../types';\n\ntype Props = {\n  name: string,\n  text: string,\n  order: number,\n  active?: boolean,\n  _copilot: CopilotContext,\n  children: React$Element\n};\n\nclass ConnectedCopilotStep extends Component<Props> {\n  static defaultProps = {\n    active: true,\n  };\n\n  componentDidMount() {\n    if (this.props.active) {\n      this.register();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.active !== prevProps.active) {\n      if (this.props.active) {\n        this.register();\n      } else {\n        this.unregister();\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.unregister();\n  }\n\n  setNativeProps(obj) {\n    this.wrapper.setNativeProps(obj);\n  }\n\n  register() {\n    this.props._copilot.registerStep({\n      name: this.props.name,\n      text: this.props.text,\n      order: this.props.order,\n      target: this,\n      wrapper: this.wrapper,\n    });\n  }\n\n  unregister() {\n    this.props._copilot.unregisterStep(this.props.name);\n  }\n\n  measure() {\n    if (typeof __TEST__ !== 'undefined' && __TEST__) { // eslint-disable-line no-undef\n      return new Promise(resolve => resolve({\n        x: 0, y: 0, width: 0, height: 0,\n      }));\n    }\n\n    return new Promise((resolve, reject) => {\n      const measure = () => {\n        // Wait until the wrapper element appears\n        if (this.wrapper && this.wrapper.measure) {\n          this.wrapper.measure(\n            (ox, oy, width, height, x, y) => resolve({\n              x, y, width, height,\n            }),\n            reject,\n          );\n        } else {\n          requestAnimationFrame(measure);\n        }\n      };\n\n      requestAnimationFrame(measure);\n    });\n  }\n\n  render() {\n    const copilot = {\n      ref: (wrapper) => { this.wrapper = wrapper; },\n      onLayout: () => { }, // Android hack\n    };\n\n    return React.cloneElement(this.props.children, { copilot });\n  }\n}\n\nexport default ConnectedCopilotStep;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}