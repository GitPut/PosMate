{"ast":null,"code":"var tz = require(\"moment-timezone\");\nvar CleanupOps = function CleanupOps(metaList) {\n  var opsArray = [];\n  metaList.forEach(function (op) {\n    var arrContaingMe = opsArray.filter(function (filterOp) {\n      return filterOp.key === op.key;\n    });\n    if (arrContaingMe.length > 0) {\n      opsArray.forEach(function (opsArrItem, index) {\n        if (opsArrItem.key === op.key) {\n          opsArray[index].vals.push(op.value);\n        }\n      });\n    } else {\n      opsArray.push({\n        key: op.key,\n        vals: [op.value]\n      });\n    }\n  });\n  return opsArray;\n};\nfunction parseDate(input) {\n  if (Object.prototype.toString.call(input) === \"[object Date]\") {\n    if (!isNaN(input.getTime())) {\n      return input;\n    }\n  }\n\n  if (typeof input === \"string\") {\n    var dateObject = new Date(input);\n\n    if (!isNaN(dateObject.getTime())) {\n      return dateObject;\n    }\n  }\n\n  return null;\n}\nvar ReceiptPrint = function ReceiptPrint(element, storeDetails) {\n  var data = [];\n  var date;\n  if (element.date_created) {\n    var dateString = element.date_created;\n    var newDate = new Date(dateString + \"Z\");\n    var targetTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n    var result = tz(newDate).tz(targetTimezone, true).format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n    date = result;\n  }\n\n  if (!element.online && element.date) {\n    var _newDate = new Date(element.date.seconds * 1000);\n    var _targetTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n    var _result = tz(_newDate).tz(_targetTimezone, true).format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n    date = _result;\n  } else if (element.online) {\n    date = parseDate(element.date);\n  }\n  if (element.method === \"deliveryOrder\") {\n    var _storeDetails$address, _element$customer$add;\n    data.push(\"\\x1B\" + \"\\x40\",\n    \"\\x1B\" + \"\\x61\" + \"\\x31\",\n    storeDetails.name, \"\\x0A\", ((_storeDetails$address = storeDetails.address) == null ? void 0 : _storeDetails$address.label) + \"\\x0A\", storeDetails.website + \"\\x0A\",\n    storeDetails.phoneNumber + \"\\x0A\",\n    date + \"\\x0A\", \"\\x0A\", \"Transaction ID \" + element.transNum + \"\\x0A\", \"\\x0A\", \"Delivery Order: $\" + (storeDetails.deliveryPrice ? storeDetails.deliveryPrice : \"0\") + \" Fee\" + \"\\x0A\", element.online ? \"ONLINE ORDER\" + \"\\x0A\" + \"\\x0A\" + \"\\x0A\" : \"\\x0A\" + \"\\x0A\" + \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\");\n\n    element.cart.map(function (cartItem) {\n      data.push(\"Name: \" + cartItem.name);\n      data.push(\"\\x0A\");\n      if (cartItem.quantity > 1) {\n        data.push(\"Quantity: \" + cartItem.quantity);\n        data.push(\"\\x0A\");\n        data.push(\"Price: $\" + cartItem.price * cartItem.quantity);\n      } else {\n        data.push(\"Price: $\" + cartItem.price);\n      }\n      if (cartItem.description) {\n        data.push(\"\\x0A\");\n        data.push(cartItem.description);\n      }\n      if (cartItem.options) {\n        data.push(\"\\x0A\");\n        cartItem.options.map(function (option) {\n          data.push(option);\n          data.push(\"\\x0A\");\n        });\n      }\n      if (cartItem.extraDetails) {\n        data.push(cartItem.extraDetails);\n        data.push(\"\\x0A\");\n      }\n      data.push(\"\\x0A\" + \"\\x0A\");\n    });\n\n    data.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Customer Name: \" + element.customer.name, \"\\x0A\" + \"\\x0A\", \"Customer Phone #:  \" + element.customer.phone, \"\\x0A\" + \"\\x0A\", \"Customer Address #:  \" + ((_element$customer$add = element.customer.address) == null ? void 0 : _element$customer$add.label), \"\\x0A\" + \"\\x0A\", \"Total Including (\" + (storeDetails.taxRate ? storeDetails.taxRate : \"13\") + \"% Tax): \" + element.total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n    \"\\x0A\",\n    \"\\x0A\",\n    \"\\x0A\",\n    \"\\x0A\",\n    \"\\x0A\",\n    \"\\x1D\" + \"\\x56\" + \"\\x30\");\n  } else if (element.method === \"pickupOrder\") {\n    var _storeDetails$address2;\n    data.push(\"\\x1B\" + \"\\x40\",\n    \"\\x1B\" + \"\\x61\" + \"\\x31\",\n    storeDetails.name, \"\\x0A\", ((_storeDetails$address2 = storeDetails.address) == null ? void 0 : _storeDetails$address2.label) + \"\\x0A\", storeDetails.website + \"\\x0A\",\n    storeDetails.phoneNumber + \"\\x0A\",\n    date + \"\\x0A\", \"\\x0A\", \"Transaction ID \" + element.transNum + \"\\x0A\", \"\\x0A\", \"Pickup Order\" + \"\\x0A\", element.online ? \"ONLINE ORDER\" + \"\\x0A\" + \"\\x0A\" + \"\\x0A\" : \"\\x0A\" + \"\\x0A\" + \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\");\n\n    element.cart.map(function (cartItem) {\n      data.push(\"Name: \" + cartItem.name);\n      data.push(\"\\x0A\");\n      if (cartItem.quantity > 1) {\n        data.push(\"Quantity: \" + cartItem.quantity);\n        data.push(\"\\x0A\");\n        data.push(\"Price: $\" + cartItem.price * cartItem.quantity);\n      } else {\n        data.push(\"Price: $\" + cartItem.price);\n      }\n      if (cartItem.description) {\n        data.push(\"\\x0A\");\n        data.push(cartItem.description);\n      }\n      if (cartItem.options) {\n        data.push(\"\\x0A\");\n        cartItem.options.map(function (option) {\n          data.push(option);\n          data.push(\"\\x0A\");\n        });\n      }\n      if (cartItem.extraDetails) {\n        data.push(cartItem.extraDetails);\n        data.push(\"\\x0A\");\n      }\n      data.push(\"\\x0A\" + \"\\x0A\");\n    });\n\n    data.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Customer Name: \" + element.customer.name, \"\\x0A\" + \"\\x0A\", \"Customer Phone #:  \" + element.customer.phone, \"\\x0A\" + \"\\x0A\", \"Total Including (\" + (storeDetails.taxRate ? storeDetails.taxRate : \"13\") + \"% Tax): \" + element.total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n    \"\\x0A\",\n    \"\\x0A\",\n    \"\\x0A\",\n    \"\\x0A\",\n    \"\\x0A\",\n    \"\\x1D\" + \"\\x56\" + \"\\x30\");\n  } else if (element.cart_hash) {} else {\n    var _storeDetails$address3;\n    data = [\"\\x1B\" + \"\\x40\",\n    \"\\x1B\" + \"\\x61\" + \"\\x31\",\n    storeDetails.name, \"\\x0A\", ((_storeDetails$address3 = storeDetails.address) == null ? void 0 : _storeDetails$address3.label) + \"\\x0A\", storeDetails.website + \"\\x0A\",\n    storeDetails.phoneNumber + \"\\x0A\",\n    date + \"\\x0A\", \"\\x0A\", \"Transaction ID \" + element.transNum + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\"];\n\n    element.cart.map(function (cartItem) {\n      data.push(\"Name: \" + cartItem.name);\n      data.push(\"\\x0A\");\n      if (cartItem.quantity > 1) {\n        data.push(\"Quantity: \" + cartItem.quantity);\n        data.push(\"\\x0A\");\n        data.push(\"Price: $\" + cartItem.price * cartItem.quantity);\n      } else {\n        data.push(\"Price: $\" + cartItem.price);\n      }\n      if (cartItem.description) {\n        data.push(\"\\x0A\");\n        data.push(cartItem.description);\n      }\n      if (cartItem.options) {\n        data.push(\"\\x0A\");\n        cartItem.options.map(function (option) {\n          data.push(option);\n          data.push(\"\\x0A\");\n        });\n      }\n      if (cartItem.extraDetails) {\n        data.push(cartItem.extraDetails);\n        data.push(\"\\x0A\");\n      }\n      data.push(\"\\x0A\" + \"\\x0A\");\n    });\n    if (element.method === \"Cash\") {\n      data.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Payment method: \" + element.method + \"\\x0A\" + \"\\x0A\", \"Total Including (\" + (storeDetails.taxRate ? storeDetails.taxRate : \"13\") + \"% Tax): \" + \"$\" + element.total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x1D\" + \"\\x56\" + \"\\x30\");\n    } else {\n      data.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Payment method: \" + element.method + \"\\x0A\" + \"\\x0A\", \"Total Including (\" + (storeDetails.taxRate ? storeDetails.taxRate : \"13\") + \"% Tax): \" + \"$\" + element.total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x1D\" + \"\\x56\" + \"\\x30\");\n    }\n  }\n  console.log(\"DATA TO RETURN TO PRINTER: \", data);\n  return data;\n};\nexport default ReceiptPrint;","map":{"version":3,"names":["tz","require","CleanupOps","metaList","opsArray","forEach","op","arrContaingMe","filter","filterOp","key","length","opsArrItem","index","vals","push","value","parseDate","input","Object","prototype","toString","call","isNaN","getTime","dateObject","Date","ReceiptPrint","element","storeDetails","data","date","date_created","dateString","newDate","targetTimezone","Intl","DateTimeFormat","resolvedOptions","timeZone","result","format","online","seconds","method","name","address","label","website","phoneNumber","transNum","deliveryPrice","cart","map","cartItem","quantity","price","description","options","option","extraDetails","customer","phone","taxRate","total","cart_hash","console","log"],"sources":["/Users/peterputros/Desktop/PosMate/components/ReceiptPrint.tsx"],"sourcesContent":["import { View, Text } from \"react-native\";\nimport React from \"react\";\nconst tz = require(\"moment-timezone\");\n\nconst CleanupOps = (metaList) => {\n  const opsArray = [];\n\n  metaList.forEach((op) => {\n    const arrContaingMe = opsArray.filter(\n      (filterOp) => filterOp.key === op.key\n    );\n\n    if (arrContaingMe.length > 0) {\n      opsArray.forEach((opsArrItem, index) => {\n        if (opsArrItem.key === op.key) {\n          opsArray[index].vals.push(op.value);\n        }\n      });\n    } else {\n      opsArray.push({ key: op.key, vals: [op.value] });\n    }\n  });\n  return opsArray;\n};\n\nfunction parseDate(input) {\n  // Check if the input is a Date object\n  if (Object.prototype.toString.call(input) === \"[object Date]\") {\n    if (!isNaN(input.getTime())) {\n      // It's a valid Date object, return it\n      return input;\n    }\n  }\n\n  // Check if the input is a string\n  if (typeof input === \"string\") {\n    const dateObject = new Date(input);\n\n    // Check if the dateObject is a valid Date\n    if (!isNaN(dateObject.getTime())) {\n      // It's a valid Date object, return it\n      return dateObject;\n    }\n  }\n\n  // If neither a Date object nor a valid date string, return null or handle accordingly\n  return null;\n}\n\nconst ReceiptPrint = (element, storeDetails) => {\n    let data = [];\n\n    let date;\n  //If woo order\n  if (element.date_created) {\n    const dateString = element.date_created;\n    \n    const newDate = new Date(dateString + \"Z\");\n    \n    const targetTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n    \n    const result = tz(newDate)\n    .tz(targetTimezone, true)\n    .format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n    \n    date = result;\n\n\n  }\n//end of woo order\n  \n  if (!element.online && element.date) {\n    const newDate = new Date(element.date.seconds * 1000);\n    const targetTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n    \n    const result = tz(newDate)\n    .tz(targetTimezone, true)\n    .format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n    \n    date = result;\n  } else if (element.online) {\n    date = parseDate(element.date);\n  }\n\n  if (element.method === \"deliveryOrder\") {\n    data.push(\n      \"\\x1B\" + \"\\x40\", // init\n      \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n      storeDetails.name,\n      \"\\x0A\",\n      storeDetails.address?.label + \"\\x0A\",\n      storeDetails.website + \"\\x0A\", // text and line break\n      storeDetails.phoneNumber + \"\\x0A\", // text and line break\n      date + \"\\x0A\",\n      \"\\x0A\",\n      `Transaction ID ${element.transNum}` + \"\\x0A\",\n      \"\\x0A\",\n      `Delivery Order: $${\n        storeDetails.deliveryPrice ? storeDetails.deliveryPrice : \"0\"\n      } Fee` + \"\\x0A\",\n      element.online\n        ? \"ONLINE ORDER\" + \"\\x0A\" + \"\\x0A\" + \"\\x0A\"\n        : \"\\x0A\" + \"\\x0A\" + \"\\x0A\",\n      \"\\x1B\" + \"\\x61\" + \"\\x30\" // left align\n    );\n\n    element.cart.map((cartItem) => {\n      data.push(`Name: ${cartItem.name}`);\n      data.push(\"\\x0A\");\n\n      if (cartItem.quantity > 1) {\n        data.push(`Quantity: ${cartItem.quantity}`);\n        data.push(\"\\x0A\");\n        data.push(`Price: $${cartItem.price * cartItem.quantity}`);\n      } else {\n        data.push(`Price: $${cartItem.price}`);\n      }\n\n      if (cartItem.description) {\n        data.push(\"\\x0A\");\n        data.push(cartItem.description);\n      }\n\n      if (cartItem.options) {\n        data.push(\"\\x0A\");\n        cartItem.options.map((option) => {\n          data.push(option);\n          data.push(\"\\x0A\");\n        });\n      }\n\n      if (cartItem.extraDetails) {\n        data.push(cartItem.extraDetails);\n        data.push(\"\\x0A\");\n      }\n\n      data.push(\"\\x0A\" + \"\\x0A\");\n    });\n\n    //push ending\n    data.push(\n      \"\\x0A\",\n      \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n      \"\\x0A\" + \"\\x0A\",\n      \"Customer Name: \" + element.customer.name,\n      \"\\x0A\" + \"\\x0A\",\n      \"Customer Phone #:  \" + element.customer.phone,\n      \"\\x0A\" + \"\\x0A\",\n      \"Customer Address #:  \" + element.customer.address?.label,\n      \"\\x0A\" + \"\\x0A\",\n      `Total Including (${\n        storeDetails.taxRate ? storeDetails.taxRate : \"13\"\n      }% Tax): ` +\n        element.total +\n        \"\\x0A\" +\n        \"\\x0A\",\n      \"------------------------------------------\" + \"\\x0A\",\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x1D\" + \"\\x56\" + \"\\x30\"\n    );\n  } else if (element.method === \"pickupOrder\") {\n    data.push(\n      \"\\x1B\" + \"\\x40\", // init\n      \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n      storeDetails.name,\n      \"\\x0A\",\n      storeDetails.address?.label + \"\\x0A\",\n      storeDetails.website + \"\\x0A\", // text and line break\n      storeDetails.phoneNumber + \"\\x0A\", // text and line break\n      date + \"\\x0A\",\n      \"\\x0A\",\n      `Transaction ID ${element.transNum}` + \"\\x0A\",\n      \"\\x0A\",\n      \"Pickup Order\" + \"\\x0A\",\n      element.online\n        ? \"ONLINE ORDER\" + \"\\x0A\" + \"\\x0A\" + \"\\x0A\"\n        : \"\\x0A\" + \"\\x0A\" + \"\\x0A\",\n      \"\\x1B\" + \"\\x61\" + \"\\x30\" // left align\n    );\n\n    element.cart.map((cartItem) => {\n      data.push(`Name: ${cartItem.name}`);\n      data.push(\"\\x0A\");\n\n      if (cartItem.quantity > 1) {\n        data.push(`Quantity: ${cartItem.quantity}`);\n        data.push(\"\\x0A\");\n        data.push(`Price: $${cartItem.price * cartItem.quantity}`);\n      } else {\n        data.push(`Price: $${cartItem.price}`);\n      }\n\n      if (cartItem.description) {\n        data.push(\"\\x0A\");\n        data.push(cartItem.description);\n      }\n\n      if (cartItem.options) {\n        data.push(\"\\x0A\");\n        cartItem.options.map((option) => {\n          data.push(option);\n          data.push(\"\\x0A\");\n        });\n      }\n\n      if (cartItem.extraDetails) {\n        data.push(cartItem.extraDetails);\n        data.push(\"\\x0A\");\n      }\n\n      data.push(\"\\x0A\" + \"\\x0A\");\n    });\n\n    //push ending\n    data.push(\n      \"\\x0A\",\n      \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n      \"\\x0A\" + \"\\x0A\",\n      \"Customer Name: \" + element.customer.name,\n      \"\\x0A\" + \"\\x0A\",\n      \"Customer Phone #:  \" + element.customer.phone,\n      \"\\x0A\" + \"\\x0A\",\n      `Total Including (${\n        storeDetails.taxRate ? storeDetails.taxRate : \"13\"\n      }% Tax): ` +\n        element.total +\n        \"\\x0A\" +\n        \"\\x0A\",\n      \"------------------------------------------\" + \"\\x0A\",\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x1D\" + \"\\x56\" + \"\\x30\"\n    );\n  } else if (element.cart_hash) {\n  } else {\n    data = [\n      \"\\x1B\" + \"\\x40\", // init\n      \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n      storeDetails.name,\n      \"\\x0A\",\n      storeDetails.address?.label + \"\\x0A\",\n      storeDetails.website + \"\\x0A\", // text and line break\n      storeDetails.phoneNumber + \"\\x0A\", // text and line break\n      date + \"\\x0A\",\n      \"\\x0A\",\n      `Transaction ID ${element.transNum}` + \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\n    ];\n\n    element.cart.map((cartItem) => {\n      data.push(`Name: ${cartItem.name}`);\n      data.push(\"\\x0A\");\n\n      if (cartItem.quantity > 1) {\n        data.push(`Quantity: ${cartItem.quantity}`);\n        data.push(\"\\x0A\");\n        data.push(`Price: $${cartItem.price * cartItem.quantity}`);\n      } else {\n        data.push(`Price: $${cartItem.price}`);\n      }\n\n      if (cartItem.description) {\n        data.push(\"\\x0A\");\n        data.push(cartItem.description);\n      }\n\n      if (cartItem.options) {\n        data.push(\"\\x0A\");\n        cartItem.options.map((option) => {\n          data.push(option);\n          data.push(\"\\x0A\");\n        });\n      }\n\n      if (cartItem.extraDetails) {\n        data.push(cartItem.extraDetails);\n        data.push(\"\\x0A\");\n      }\n\n      data.push(\"\\x0A\" + \"\\x0A\");\n    });\n\n    if (element.method === \"Cash\") {\n      //push ending\n      data.push(\n        \"\\x0A\",\n        \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n        \"\\x0A\" + \"\\x0A\",\n        \"Payment method: \" + element.method + \"\\x0A\" + \"\\x0A\",\n        `Total Including (${\n          storeDetails.taxRate ? storeDetails.taxRate : \"13\"\n        }% Tax): ` +\n          \"$\" +\n          element.total +\n          \"\\x0A\" +\n          \"\\x0A\",\n        \"------------------------------------------\" + \"\\x0A\",\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        //\"\\x1D\" + \"\\x56\" + \"\\x00\",\n        \"\\x1D\" + \"\\x56\" + \"\\x30\"\n      );\n    } else {\n      data.push(\n        \"\\x0A\",\n        \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n        \"\\x0A\" + \"\\x0A\",\n        \"Payment method: \" + element.method + \"\\x0A\" + \"\\x0A\",\n        `Total Including (${\n          storeDetails.taxRate ? storeDetails.taxRate : \"13\"\n        }% Tax): ` +\n          \"$\" +\n          element.total +\n          \"\\x0A\" +\n          \"\\x0A\",\n        \"------------------------------------------\" + \"\\x0A\",\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        \"\\x0A\", // line break\n        //\"\\x1D\" + \"\\x56\" + \"\\x00\",\n        \"\\x1D\" + \"\\x56\" + \"\\x30\"\n      );\n    }\n  }\n  console.log(\"DATA TO RETURN TO PRINTER: \", data);\n  return data;\n};\n\nexport default ReceiptPrint;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}