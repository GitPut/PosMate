{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport MainAuthed from \"./authed/MainAuthed\";\nimport { setStoreDetailState, setTransListState, setUserState, setUserStoreState, setWoocommerceState, storeDetailState, transListState, userState, woocommerceState } from \"../state/state\";\nimport MainNonAuth from \"./non-authed/MainNonAuth\";\nimport { auth, db } from \"../state/firebaseConfig\";\nimport Spinner from \"../components/Spinner\";\nimport { updateTransList } from \"../state/firebaseFunctions\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar RouteManager = function RouteManager() {\n  var userS = userState.use();\n  var wooCredentials = woocommerceState.use();\n  var transList = transListState.use();\n  var storeDetails = storeDetailState.use();\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setloading = _useState2[1];\n  useEffect(function () {\n    auth.onAuthStateChanged(function (user) {\n      if (user) {\n        setUserState(user);\n        db.collection(\"users\").doc(user.uid).get().then(function (doc) {\n          setUserStoreState({\n            products: doc.data().products,\n            categories: doc.data().categories\n          });\n          if (doc.data().transList) {\n            setTransListState(doc.data().transList);\n          }\n          if (doc.data().wooCredentials) {\n            setWoocommerceState(doc.data().wooCredentials);\n          }\n          if (doc.data().storeDetails) {\n            setStoreDetailState(doc.data().storeDetails);\n          }\n        });\n        setTimeout(function () {\n          setloading(false);\n        }, 1);\n      } else {\n        setUserState(null);\n        setUserStoreState({\n          products: null,\n          categories: null\n        });\n        setTimeout(function () {\n          setloading(false);\n        }, 1);\n      }\n    });\n  }, []);\n  useEffect(function () {\n    if (userS) {\n      var unsub = db.collection(\"users\").doc(userS.uid).onSnapshot(function (doc) {\n        setloading(true);\n        setUserStoreState({\n          products: doc.data().products,\n          categories: doc.data().categories\n        });\n        if (doc.data().transList) {\n          setTransListState(doc.data().transList);\n        }\n        if (doc.data().wooCredentials) {\n          setWoocommerceState(doc.data().wooCredentials);\n        }\n        if (doc.data().storeDetails) {\n          setStoreDetailState(doc.data().storeDetails);\n        }\n        setTimeout(function () {\n          setloading(false);\n        }, 1);\n      });\n      return function () {\n        return unsub();\n      };\n    }\n  }, [userS]);\n  useEffect(function () {\n    if (wooCredentials.useWoocommerce === true) {\n      var interval = setInterval(function () {\n        var WooCommerceAPI = require(\"woocommerce-api\");\n        var WooCommerce = new WooCommerceAPI({\n          url: wooCredentials.apiUrl,\n          consumerKey: wooCredentials.ck,\n          consumerSecret: wooCredentials.cs,\n          wpAPI: true,\n          version: \"wc/v1\"\n        });\n        var page = 1;\n        var orders = [];\n        var getOrders = function () {\n          var _ref = _asyncToGenerator(function* () {\n            var response = yield WooCommerce.getAsync(\"orders?page=\" + page + \"&per_page=100\");\n            var data = JSON.parse(response.body);\n            orders = [].concat(_toConsumableArray(orders), _toConsumableArray(data));\n            if (data.length === 100) {\n              page++;\n              getOrders();\n            } else {\n              console.log(orders);\n            }\n          });\n          return function getOrders() {\n            return _ref.apply(this, arguments);\n          };\n        }();\n        getOrders().then(function () {\n          var array1 = transList;\n          var array2 = orders;\n          var newArray = [];\n          array1.concat(array2).reduce(function (acc, curr) {\n            if (!acc.includes(curr.id)) {\n              acc.push(curr.id);\n              newArray.push(curr);\n            }\n            return acc;\n          }, []);\n          if (newArray.length > transList.length) {\n            var newItems = structuredClone(newArray).splice(transList.length, newArray.length - transList.length);\n            updateTransList(newArray);\n            if (newItems.length > 1) {\n              newItems.forEach(function (e) {\n                var _e$line_items;\n                var printData = [];\n                var dateString = e.date_created;\n                var newDate = new Date(dateString + \"Z\");\n                var targetTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n                var result = tz(newDate).tz(targetTimezone, true).format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n                printData.push(\"\\x1B\\x40\",\n                \"\\x1B\" + \"\\x61\" + \"\\x31\",\n                storeDetails.name, \"\\x0A\", storeDetails.address + \"\\x0A\", storeDetails.website + \"\\x0A\",\n                storeDetails.phoneNumber + \"\\x0A\",\n                e.date_created + \"\\x0A\", \"\\x0A\", \"Online Order\" + \"\\x0A\",\n                \"Transaction # \" + e.number + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\");\n\n                (_e$line_items = e.line_items) == null ? void 0 : _e$line_items.map(function (cartItem) {\n                  printData.push(\"\\x0A\");\n                  printData.push(\"Name: \" + cartItem.name);\n                  printData.push(\"\\x0A\");\n                  printData.push(\"Quantity: \" + cartItem.quantity);\n                  printData.push(\"\\x0A\");\n                  printData.push(\"Price: $\" + cartItem.price);\n                  printData.push(\"\\x0A\");\n                  if (cartItem.meta) {\n                    var _cartItem$meta;\n                    (_cartItem$meta = cartItem.meta) == null ? void 0 : _cartItem$meta.map(function (meta, index) {\n                      if (index === 0) {\n                        printData.push(meta.key + \" : \" + meta.value);\n                        if (cartItem.meta[index + 1].key !== meta.key) {\n                          printData.push(\"\\x0A\");\n                        }\n                      } else {\n                        if (index !== cartItem.meta.length - 1) {\n                          if (cartItem.meta[index - 1].key === meta.key) {\n                            printData.push(\" , \" + meta.value);\n                          } else {\n                            printData.push(meta.key + \" : \" + meta.value);\n                          }\n                          if (cartItem.meta[index + 1].key !== meta.key) {\n                            printData.push(\"\\x0A\");\n                          }\n                        }\n                      }\n                    });\n                  } else {\n                    printData.push(\"\\x0A\" + \"\\x0A\");\n                  }\n                });\n                printData.push(\"\\x0A\");\n                printData.push(\"\\x0A\");\n                printData.push(\"Customer Details:\");\n                printData.push(\"\\x0A\");\n                printData.push(\"Address: \" + e.shipping.address_1);\n                printData.push(\"\\x0A\");\n                printData.push(\"City: \" + e.shipping.city);\n                printData.push(\"\\x0A\");\n                printData.push(\"Zip/Postal Code: \" + e.shipping.postcode);\n                printData.push(\"\\x0A\");\n                printData.push(\"Province/State: \" + e.shipping.state);\n                printData.push(\"\\x0A\");\n                printData.push(\"Name: \" + e.shipping.first_name + \" \" + e.shipping.last_name);\n                printData.push(\"\\x0A\");\n                printData.push(\"Phone Number: \" + e.billing.phone);\n                printData.push(\"\\x0A\");\n                e.shipping_lines.map(function (line) {\n                  return printData.push(\"Shipping Method: \" + line.method_title);\n                });\n                if (e.customer_note) {\n                  printData.push(\"Customer Note: \" + e.customer_note);\n                  printData.push(\"\\x0A\");\n                }\n                printData.push(\"\\x0A\");\n                printData.push(\"\\x0A\");\n                printData.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Payment Method: \" + e.payment_method_title + \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + \"$\" + e.total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n                \"\\x0A\",\n                \"\\x0A\",\n                \"\\x0A\",\n                \"\\x0A\",\n                \"\\x0A\");\n\n                printData.push(\"\\x1D\" + \"\\x56\" + \"\\x00\");\n                var qz = require(\"qz-tray\");\n                qz.websocket.connect().then(function () {\n                  var config = qz.configs.create(\"storeDetails.comSelected\");\n                  return qz.print(config, printData);\n                }).then(qz.websocket.disconnect).catch(function (err) {\n                  console.error(err);\n                });\n              });\n            } else {\n              var _e$line_items2;\n              var e = newItems[0];\n              var printData = [];\n              printData.push(\"\\x1B\" + \"\\x40\",\n              \"\\x1B\" + \"\\x61\" + \"\\x31\",\n              storeDetails.name, \"\\x0A\", storeDetails.address + \"\\x0A\", storeDetails.website + \"\\x0A\",\n              storeDetails.phoneNumber + \"\\x0A\",\n              e.date_created + \"\\x0A\", \"\\x0A\", \"Online Order\" + \"\\x0A\",\n              \"Transaction # \" + e.number + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\");\n\n              (_e$line_items2 = e.line_items) == null ? void 0 : _e$line_items2.map(function (cartItem) {\n                printData.push(\"\\x0A\");\n                printData.push(\"Name: \" + cartItem.name);\n                printData.push(\"\\x0A\");\n                printData.push(\"Quantity: \" + cartItem.quantity);\n                printData.push(\"\\x0A\");\n                printData.push(\"Price: $\" + cartItem.price);\n                printData.push(\"\\x0A\");\n                if (cartItem.meta) {\n                  var _cartItem$meta2;\n                  (_cartItem$meta2 = cartItem.meta) == null ? void 0 : _cartItem$meta2.map(function (meta, index) {\n                    if (index === 0) {\n                      printData.push(meta.key + \" : \" + meta.value);\n                      if (cartItem.meta[index + 1].key !== meta.key) {\n                        printData.push(\"\\x0A\");\n                      }\n                    } else {\n                      if (index !== cartItem.meta.length - 1) {\n                        if (cartItem.meta[index - 1].key === meta.key) {\n                          printData.push(\" , \" + meta.value);\n                        } else {\n                          printData.push(meta.key + \" : \" + meta.value);\n                        }\n                        if (cartItem.meta[index + 1].key !== meta.key) {\n                          printData.push(\"\\x0A\");\n                        }\n                      }\n                    }\n                  });\n                } else {\n                  printData.push(\"\\x0A\" + \"\\x0A\");\n                }\n              });\n              printData.push(\"\\x0A\");\n              printData.push(\"\\x0A\");\n              printData.push(\"Customer Details:\");\n              printData.push(\"\\x0A\");\n              printData.push(\"Address: \" + e.shipping.address_1);\n              printData.push(\"\\x0A\");\n              printData.push(\"City: \" + e.shipping.city);\n              printData.push(\"\\x0A\");\n              printData.push(\"Zip/Postal Code: \" + e.shipping.postcode);\n              printData.push(\"\\x0A\");\n              printData.push(\"Province/State: \" + e.shipping.state);\n              printData.push(\"\\x0A\");\n              printData.push(\"Name: \" + e.shipping.first_name + \" \" + e.shipping.last_name);\n              printData.push(\"\\x0A\");\n              printData.push(\"Phone Number: \" + e.billing.phone);\n              printData.push(\"\\x0A\");\n              e.shipping_lines.map(function (line) {\n                return printData.push(\"Shipping Method: \" + line.method_title);\n              });\n              if (e.customer_note) {\n                printData.push(\"Customer Note: \" + e.customer_note);\n                printData.push(\"\\x0A\");\n              }\n              printData.push(\"\\x0A\");\n              printData.push(\"\\x0A\");\n              printData.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Payment Method: \" + e.payment_method_title + \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + \"$\" + e.total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n              \"\\x0A\",\n              \"\\x0A\",\n              \"\\x0A\",\n              \"\\x0A\",\n              \"\\x0A\");\n\n              printData.push(\"\\x1D\" + \"\\x56\" + \"\\x00\");\n              var qz = require(\"qz-tray\");\n              qz.websocket.connect().then(function () {\n                var config = qz.configs.create(\"storeDetails.comSelected\");\n                return qz.print(config, printData);\n              }).then(qz.websocket.disconnect).catch(function (err) {\n                console.error(err);\n              });\n            }\n          }\n        });\n      }, 5000);\n      return function () {\n        return clearInterval(interval);\n      };\n    }\n  }, [wooCredentials, transList]);\n  return _jsx(NavigationContainer, {\n    children: loading ? _jsx(Spinner, {\n      isModalVisible: true\n    }) : _jsx(_Fragment, {\n      children: userS ? _jsx(MainAuthed, {}) : _jsx(MainNonAuth, {})\n    })\n  });\n};\nexport default RouteManager;","map":{"version":3,"names":["React","useEffect","useState","NavigationContainer","MainAuthed","setStoreDetailState","setTransListState","setUserState","setUserStoreState","setWoocommerceState","storeDetailState","transListState","userState","woocommerceState","MainNonAuth","auth","db","Spinner","updateTransList","RouteManager","userS","use","wooCredentials","transList","storeDetails","loading","setloading","onAuthStateChanged","user","collection","doc","uid","get","then","products","data","categories","setTimeout","unsub","onSnapshot","useWoocommerce","interval","setInterval","WooCommerceAPI","require","WooCommerce","url","apiUrl","consumerKey","ck","consumerSecret","cs","wpAPI","version","page","orders","getOrders","response","getAsync","JSON","parse","body","length","console","log","array1","array2","newArray","concat","reduce","acc","curr","includes","id","push","newItems","structuredClone","splice","forEach","e","printData","dateString","date_created","newDate","Date","targetTimezone","Intl","DateTimeFormat","resolvedOptions","timeZone","result","tz","format","name","address","website","phoneNumber","number","line_items","map","cartItem","quantity","price","meta","index","key","value","shipping","address_1","city","postcode","state","first_name","last_name","billing","phone","shipping_lines","line","method_title","customer_note","payment_method_title","total","qz","websocket","connect","config","configs","create","print","disconnect","catch","err","error","clearInterval"],"sources":["/Users/peterputros/Desktop/PosMate/navigation/RouteManager.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport MainAuthed from \"./authed/MainAuthed\";\nimport {\n  setStoreDetailState,\n  setTransListState,\n  setUserState,\n  setUserStoreState,\n  setWoocommerceState,\n  storeDetailState,\n  transListState,\n  userState,\n  woocommerceState,\n} from \"state/state\";\nimport MainNonAuth from \"./non-authed/MainNonAuth\";\nimport { auth, db } from \"state/firebaseConfig\";\nimport Spinner from \"components/Spinner\";\nimport { updateTransList } from \"state/firebaseFunctions\";\n\nconst RouteManager = () => {\n  const userS = userState.use();\n  const wooCredentials = woocommerceState.use();\n  const transList = transListState.use();\n  const storeDetails = storeDetailState.use();\n  const [loading, setloading] = useState(true);\n\n  useEffect(() => {\n    auth.onAuthStateChanged((user) => {\n      if (user) {\n        setUserState(user);\n        db.collection(\"users\")\n          .doc(user.uid)\n          .get()\n          .then((doc) => {\n            setUserStoreState({\n              products: doc.data().products,\n              categories: doc.data().categories,\n            });\n            if (doc.data().transList) {\n              setTransListState(doc.data().transList);\n            }\n            if (doc.data().wooCredentials) {\n              setWoocommerceState(doc.data().wooCredentials);\n            }\n            if (doc.data().storeDetails) {\n              setStoreDetailState(doc.data().storeDetails);\n            }\n          });\n        setTimeout(() => {\n          setloading(false);\n        }, 1);\n      } else {\n        setUserState(null);\n        setUserStoreState({ products: null, categories: null });\n        setTimeout(() => {\n          setloading(false);\n        }, 1);\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    if (userS) {\n      const unsub = db\n        .collection(\"users\")\n        .doc(userS.uid)\n        .onSnapshot((doc) => {\n          setloading(true);\n          setUserStoreState({\n            products: doc.data().products,\n            categories: doc.data().categories,\n          });\n          if (doc.data().transList) {\n            setTransListState(doc.data().transList);\n          }\n          if (doc.data().wooCredentials) {\n            setWoocommerceState(doc.data().wooCredentials);\n          }\n          if (doc.data().storeDetails) {\n            setStoreDetailState(doc.data().storeDetails);\n          }\n          setTimeout(() => {\n            setloading(false);\n          }, 1);\n        });\n      return () => unsub();\n    }\n  }, [userS]);\n\n  useEffect(() => {\n    if (wooCredentials.useWoocommerce === true) {\n      const interval = setInterval(() => {\n        const WooCommerceAPI = require(\"woocommerce-api\");\n\n        const WooCommerce = new WooCommerceAPI({\n          url: wooCredentials.apiUrl,\n          consumerKey: wooCredentials.ck,\n          consumerSecret: wooCredentials.cs,\n          wpAPI: true,\n          version: \"wc/v1\",\n        });\n\n        let page = 1;\n        let orders = [];\n\n        const getOrders = async () => {\n          const response = await WooCommerce.getAsync(\n            `orders?page=${page}&per_page=100`\n          );\n          const data = JSON.parse(response.body);\n          orders = [...orders, ...data];\n          if (data.length === 100) {\n            page++;\n            getOrders();\n          } else {\n            console.log(orders);\n          }\n        };\n\n        getOrders().then(() => {\n          const array1 = transList;\n          const array2 = orders;\n\n          const newArray = [];\n\n          array1.concat(array2).reduce(function (acc, curr) {\n            if (!acc.includes(curr.id)) {\n              acc.push(curr.id);\n              newArray.push(curr);\n            }\n            return acc;\n          }, []);\n\n          if (newArray.length > transList.length) {\n            const newItems = structuredClone(newArray).splice(\n              transList.length,\n              newArray.length - transList.length\n            );\n            updateTransList(newArray);\n\n            if (newItems.length > 1) {\n              newItems.forEach((e) => {\n                const printData = [];\n                 const dateString = e.date_created;\n                 const newDate = new Date(dateString + \"Z\");\n\n                 const targetTimezone =\n                   Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n                 const result = tz(newDate)\n                   .tz(targetTimezone, true)\n                   .format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n\n                printData.push(\n                  \"\\x1B\\x40\", // init\n                  \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n                  storeDetails.name,\n                  \"\\x0A\",\n                  storeDetails.address + \"\\x0A\",\n                  storeDetails.website + \"\\x0A\", // text and line break\n                  storeDetails.phoneNumber + \"\\x0A\", // text and line break\n                  e.date_created + \"\\x0A\",\n                  \"\\x0A\",\n                  \"Online Order\" + \"\\x0A\", // text and line break\n                  `Transaction # ${e.number}` + \"\\x0A\",\n                  \"\\x0A\",\n                  \"\\x0A\",\n                  \"\\x0A\",\n                  \"\\x1B\" + \"\\x61\" + \"\\x30\" // left align\n                );\n\n                e.line_items?.map((cartItem) => {\n                  printData.push(\"\\x0A\");\n                  printData.push(`Name: ${cartItem.name}`);\n                  printData.push(\"\\x0A\");\n                  printData.push(`Quantity: ${cartItem.quantity}`);\n                  printData.push(\"\\x0A\");\n                  printData.push(`Price: $${cartItem.price}`);\n                  printData.push(\"\\x0A\");\n\n                  if (cartItem.meta) {\n                    cartItem.meta?.map((meta, index) => {\n                      if (index === 0) {\n                        printData.push(`${meta.key} : ${meta.value}`);\n                        if (cartItem.meta[index + 1].key !== meta.key) {\n                          printData.push(\"\\x0A\");\n                        }\n                      } else {\n                        if (index !== cartItem.meta.length - 1) {\n                          if (cartItem.meta[index - 1].key === meta.key) {\n                            printData.push(` , ${meta.value}`);\n                          } else {\n                            printData.push(`${meta.key} : ${meta.value}`);\n                          }\n\n                          if (cartItem.meta[index + 1].key !== meta.key) {\n                            printData.push(\"\\x0A\");\n                          }\n                        }\n                      }\n                    });\n                  } else {\n                    printData.push(\"\\x0A\" + \"\\x0A\");\n                  }\n                });\n\n                printData.push(\"\\x0A\");\n                printData.push(\"\\x0A\");\n                printData.push(`Customer Details:`);\n                printData.push(\"\\x0A\");\n                printData.push(`Address: ${e.shipping.address_1}`);\n                printData.push(\"\\x0A\");\n                printData.push(`City: ${e.shipping.city}`);\n                printData.push(\"\\x0A\");\n                printData.push(`Zip/Postal Code: ${e.shipping.postcode}`);\n                printData.push(\"\\x0A\");\n                printData.push(`Province/State: ${e.shipping.state}`);\n                printData.push(\"\\x0A\");\n                printData.push(\n                  `Name: ${e.shipping.first_name} ${e.shipping.last_name}`\n                );\n                printData.push(\"\\x0A\");\n                printData.push(`Phone Number: ${e.billing.phone}`);\n                printData.push(\"\\x0A\");\n                e.shipping_lines.map((line) =>\n                  printData.push(`Shipping Method: ${line.method_title}`)\n                );\n                if (e.customer_note) {\n                  printData.push(`Customer Note: ${e.customer_note}`);\n                  printData.push(\"\\x0A\");\n                }\n                printData.push(\"\\x0A\");\n                printData.push(\"\\x0A\");\n\n                printData.push(\n                  \"\\x0A\",\n                  \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n                  \"\\x0A\" + \"\\x0A\",\n                  \"Payment Method: \" + e.payment_method_title + \"\\x0A\" + \"\\x0A\",\n                  \"Total Including (13% Tax): \" +\n                    \"$\" +\n                    e.total +\n                    \"\\x0A\" +\n                    \"\\x0A\",\n                  \"------------------------------------------\" + \"\\x0A\",\n                  \"\\x0A\", // line break\n                  \"\\x0A\", // line break\n                  \"\\x0A\", // line break\n                  \"\\x0A\", // line break\n                  \"\\x0A\", // line break\n                  \"\\x0A\" // line break\n                );\n\n                printData.push(\"\\x1D\" + \"\\x56\" + \"\\x00\");\n\n                const qz = require(\"qz-tray\");\n                qz.websocket\n                  .connect()\n                  .then(function () {\n                    let config = qz.configs.create(\"storeDetails.comSelected\");\n                    return qz.print(config, printData);\n                  })\n                  .then(qz.websocket.disconnect)\n                  .catch(function (err) {\n                    console.error(err);\n                  });\n                // async () =>\n                //   await fetch(\"http://localhost:8080/print\", {\n                //     method: \"POST\",\n                //     headers: {\n                //       \"Content-Type\": \"application/json\",\n                //     },\n                //     body: JSON.stringify({\n                //       printData: printData,\n                //       comSelected: storeDetails.comSelected,\n                //     }),\n                //   })\n                //     .then((response) => response.json())\n                //     .then((respData) => {\n                //       console.log(respData);\n                //     })\n                //     .catch((e) => console.log(\"Error with printer\"));\n              });\n            } else {\n              const e = newItems[0];\n              const printData = [];\n\n              printData.push(\n                \"\\x1B\" + \"\\x40\", // init\n                \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n                storeDetails.name,\n                \"\\x0A\",\n                storeDetails.address + \"\\x0A\",\n                storeDetails.website + \"\\x0A\", // text and line break\n                storeDetails.phoneNumber + \"\\x0A\", // text and line break\n                e.date_created + \"\\x0A\",\n                \"\\x0A\",\n                \"Online Order\" + \"\\x0A\", // text and line break\n                `Transaction # ${e.number}` + \"\\x0A\",\n                \"\\x0A\",\n                \"\\x0A\",\n                \"\\x0A\",\n                \"\\x1B\" + \"\\x61\" + \"\\x30\" // left align\n              );\n\n              e.line_items?.map((cartItem) => {\n                printData.push(\"\\x0A\");\n                printData.push(`Name: ${cartItem.name}`);\n                printData.push(\"\\x0A\");\n                printData.push(`Quantity: ${cartItem.quantity}`);\n                printData.push(\"\\x0A\");\n                printData.push(`Price: $${cartItem.price}`);\n                printData.push(\"\\x0A\");\n\n                if (cartItem.meta) {\n                  cartItem.meta?.map((meta, index) => {\n                    if (index === 0) {\n                      printData.push(`${meta.key} : ${meta.value}`);\n                      if (cartItem.meta[index + 1].key !== meta.key) {\n                        printData.push(\"\\x0A\");\n                      }\n                    } else {\n                      if (index !== cartItem.meta.length - 1) {\n                        if (cartItem.meta[index - 1].key === meta.key) {\n                          printData.push(` , ${meta.value}`);\n                        } else {\n                          printData.push(`${meta.key} : ${meta.value}`);\n                        }\n\n                        if (cartItem.meta[index + 1].key !== meta.key) {\n                          printData.push(\"\\x0A\");\n                        }\n                      }\n                    }\n                  });\n                } else {\n                  printData.push(\"\\x0A\" + \"\\x0A\");\n                }\n              });\n\n              printData.push(\"\\x0A\");\n              printData.push(\"\\x0A\");\n              printData.push(`Customer Details:`);\n              printData.push(\"\\x0A\");\n              printData.push(`Address: ${e.shipping.address_1}`);\n              printData.push(\"\\x0A\");\n              printData.push(`City: ${e.shipping.city}`);\n              printData.push(\"\\x0A\");\n              printData.push(`Zip/Postal Code: ${e.shipping.postcode}`);\n              printData.push(\"\\x0A\");\n              printData.push(`Province/State: ${e.shipping.state}`);\n              printData.push(\"\\x0A\");\n              printData.push(\n                `Name: ${e.shipping.first_name} ${e.shipping.last_name}`\n              );\n              printData.push(\"\\x0A\");\n              printData.push(`Phone Number: ${e.billing.phone}`);\n              printData.push(\"\\x0A\");\n              e.shipping_lines.map((line) =>\n                printData.push(`Shipping Method: ${line.method_title}`)\n              );\n              if (e.customer_note) {\n                printData.push(`Customer Note: ${e.customer_note}`);\n                printData.push(\"\\x0A\");\n              }\n              printData.push(\"\\x0A\");\n              printData.push(\"\\x0A\");\n\n              printData.push(\n                \"\\x0A\",\n                \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n                \"\\x0A\" + \"\\x0A\",\n                \"Payment Method: \" + e.payment_method_title + \"\\x0A\" + \"\\x0A\",\n                \"Total Including (13% Tax): \" + \"$\" + e.total + \"\\x0A\" + \"\\x0A\",\n                \"------------------------------------------\" + \"\\x0A\",\n                \"\\x0A\", // line break\n                \"\\x0A\", // line break\n                \"\\x0A\", // line break\n                \"\\x0A\", // line break\n                \"\\x0A\", // line break\n                \"\\x0A\" // line break\n              );\n\n              printData.push(\"\\x1D\" + \"\\x56\" + \"\\x00\");\n\n              const qz = require(\"qz-tray\");\n              qz.websocket\n                .connect()\n                .then(function () {\n                  let config = qz.configs.create(\"storeDetails.comSelected\");\n                  return qz.print(config, printData);\n                })\n                .then(qz.websocket.disconnect)\n                .catch(function (err) {\n                  console.error(err);\n                });\n              // fetch(\"http://localhost:8080/print\", {\n              //   method: \"POST\",\n              //   headers: {\n              //     \"Content-Type\": \"application/json\",\n              //   },\n              //   body: JSON.stringify({\n              //     printData: printData,\n              //     comSelected: storeDetails.comSelected,\n              //   }),\n              // })\n              //   .then((response) => response.json())\n              //   .then((respData) => {\n              //     console.log(respData);\n              //   })\n              //   .catch((e) => alert(\"Error with printer\"));\n            }\n          }\n        });\n      }, 5000); // this will check for new orders every minute\n      return () => clearInterval(interval);\n    }\n  }, [wooCredentials, transList]);\n\n  return (\n    <NavigationContainer>\n      {loading ? (\n        <Spinner isModalVisible={true} />\n      ) : (\n        <>{userS ? <MainAuthed /> : <MainNonAuth />}</>\n      )}\n    </NavigationContainer>\n  );\n};\n\nexport default RouteManager;\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,mBAAmB,QAAQ,0BAA0B;AAC9D,OAAOC,UAAU;AACjB,SACEC,mBAAmB,EACnBC,iBAAiB,EACjBC,YAAY,EACZC,iBAAiB,EACjBC,mBAAmB,EACnBC,gBAAgB,EAChBC,cAAc,EACdC,SAAS,EACTC,gBAAgB;AAElB,OAAOC,WAAW;AAClB,SAASC,IAAI,EAAEC,EAAE;AACjB,OAAOC,OAAO;AACd,SAASC,eAAe;AAAkC;AAAA;AAE1D,IAAMC,YAAY,GAAG,SAAfA,YAAY,GAAS;EACzB,IAAMC,KAAK,GAAGR,SAAS,CAACS,GAAG,EAAE;EAC7B,IAAMC,cAAc,GAAGT,gBAAgB,CAACQ,GAAG,EAAE;EAC7C,IAAME,SAAS,GAAGZ,cAAc,CAACU,GAAG,EAAE;EACtC,IAAMG,YAAY,GAAGd,gBAAgB,CAACW,GAAG,EAAE;EAC3C,gBAA8BnB,QAAQ,CAAC,IAAI,CAAC;IAAA;IAArCuB,OAAO;IAAEC,UAAU;EAE1BzB,SAAS,CAAC,YAAM;IACdc,IAAI,CAACY,kBAAkB,CAAC,UAACC,IAAI,EAAK;MAChC,IAAIA,IAAI,EAAE;QACRrB,YAAY,CAACqB,IAAI,CAAC;QAClBZ,EAAE,CAACa,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,CAACF,IAAI,CAACG,GAAG,CAAC,CACbC,GAAG,EAAE,CACLC,IAAI,CAAC,UAACH,GAAG,EAAK;UACbtB,iBAAiB,CAAC;YAChB0B,QAAQ,EAAEJ,GAAG,CAACK,IAAI,EAAE,CAACD,QAAQ;YAC7BE,UAAU,EAAEN,GAAG,CAACK,IAAI,EAAE,CAACC;UACzB,CAAC,CAAC;UACF,IAAIN,GAAG,CAACK,IAAI,EAAE,CAACZ,SAAS,EAAE;YACxBjB,iBAAiB,CAACwB,GAAG,CAACK,IAAI,EAAE,CAACZ,SAAS,CAAC;UACzC;UACA,IAAIO,GAAG,CAACK,IAAI,EAAE,CAACb,cAAc,EAAE;YAC7Bb,mBAAmB,CAACqB,GAAG,CAACK,IAAI,EAAE,CAACb,cAAc,CAAC;UAChD;UACA,IAAIQ,GAAG,CAACK,IAAI,EAAE,CAACX,YAAY,EAAE;YAC3BnB,mBAAmB,CAACyB,GAAG,CAACK,IAAI,EAAE,CAACX,YAAY,CAAC;UAC9C;QACF,CAAC,CAAC;QACJa,UAAU,CAAC,YAAM;UACfX,UAAU,CAAC,KAAK,CAAC;QACnB,CAAC,EAAE,CAAC,CAAC;MACP,CAAC,MAAM;QACLnB,YAAY,CAAC,IAAI,CAAC;QAClBC,iBAAiB,CAAC;UAAE0B,QAAQ,EAAE,IAAI;UAAEE,UAAU,EAAE;QAAK,CAAC,CAAC;QACvDC,UAAU,CAAC,YAAM;UACfX,UAAU,CAAC,KAAK,CAAC;QACnB,CAAC,EAAE,CAAC,CAAC;MACP;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAENzB,SAAS,CAAC,YAAM;IACd,IAAImB,KAAK,EAAE;MACT,IAAMkB,KAAK,GAAGtB,EAAE,CACba,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,CAACV,KAAK,CAACW,GAAG,CAAC,CACdQ,UAAU,CAAC,UAACT,GAAG,EAAK;QACnBJ,UAAU,CAAC,IAAI,CAAC;QAChBlB,iBAAiB,CAAC;UAChB0B,QAAQ,EAAEJ,GAAG,CAACK,IAAI,EAAE,CAACD,QAAQ;UAC7BE,UAAU,EAAEN,GAAG,CAACK,IAAI,EAAE,CAACC;QACzB,CAAC,CAAC;QACF,IAAIN,GAAG,CAACK,IAAI,EAAE,CAACZ,SAAS,EAAE;UACxBjB,iBAAiB,CAACwB,GAAG,CAACK,IAAI,EAAE,CAACZ,SAAS,CAAC;QACzC;QACA,IAAIO,GAAG,CAACK,IAAI,EAAE,CAACb,cAAc,EAAE;UAC7Bb,mBAAmB,CAACqB,GAAG,CAACK,IAAI,EAAE,CAACb,cAAc,CAAC;QAChD;QACA,IAAIQ,GAAG,CAACK,IAAI,EAAE,CAACX,YAAY,EAAE;UAC3BnB,mBAAmB,CAACyB,GAAG,CAACK,IAAI,EAAE,CAACX,YAAY,CAAC;QAC9C;QACAa,UAAU,CAAC,YAAM;UACfX,UAAU,CAAC,KAAK,CAAC;QACnB,CAAC,EAAE,CAAC,CAAC;MACP,CAAC,CAAC;MACJ,OAAO;QAAA,OAAMY,KAAK,EAAE;MAAA;IACtB;EACF,CAAC,EAAE,CAAClB,KAAK,CAAC,CAAC;EAEXnB,SAAS,CAAC,YAAM;IACd,IAAIqB,cAAc,CAACkB,cAAc,KAAK,IAAI,EAAE;MAC1C,IAAMC,QAAQ,GAAGC,WAAW,CAAC,YAAM;QACjC,IAAMC,cAAc,GAAGC,OAAO,CAAC,iBAAiB,CAAC;QAEjD,IAAMC,WAAW,GAAG,IAAIF,cAAc,CAAC;UACrCG,GAAG,EAAExB,cAAc,CAACyB,MAAM;UAC1BC,WAAW,EAAE1B,cAAc,CAAC2B,EAAE;UAC9BC,cAAc,EAAE5B,cAAc,CAAC6B,EAAE;UACjCC,KAAK,EAAE,IAAI;UACXC,OAAO,EAAE;QACX,CAAC,CAAC;QAEF,IAAIC,IAAI,GAAG,CAAC;QACZ,IAAIC,MAAM,GAAG,EAAE;QAEf,IAAMC,SAAS;UAAA,6BAAG,aAAY;YAC5B,IAAMC,QAAQ,SAASZ,WAAW,CAACa,QAAQ,kBAC1BJ,IAAI,mBACpB;YACD,IAAMnB,IAAI,GAAGwB,IAAI,CAACC,KAAK,CAACH,QAAQ,CAACI,IAAI,CAAC;YACtCN,MAAM,gCAAOA,MAAM,sBAAKpB,IAAI,EAAC;YAC7B,IAAIA,IAAI,CAAC2B,MAAM,KAAK,GAAG,EAAE;cACvBR,IAAI,EAAE;cACNE,SAAS,EAAE;YACb,CAAC,MAAM;cACLO,OAAO,CAACC,GAAG,CAACT,MAAM,CAAC;YACrB;UACF,CAAC;UAAA,gBAZKC,SAAS;YAAA;UAAA;QAAA,GAYd;QAEDA,SAAS,EAAE,CAACvB,IAAI,CAAC,YAAM;UACrB,IAAMgC,MAAM,GAAG1C,SAAS;UACxB,IAAM2C,MAAM,GAAGX,MAAM;UAErB,IAAMY,QAAQ,GAAG,EAAE;UAEnBF,MAAM,CAACG,MAAM,CAACF,MAAM,CAAC,CAACG,MAAM,CAAC,UAAUC,GAAG,EAAEC,IAAI,EAAE;YAChD,IAAI,CAACD,GAAG,CAACE,QAAQ,CAACD,IAAI,CAACE,EAAE,CAAC,EAAE;cAC1BH,GAAG,CAACI,IAAI,CAACH,IAAI,CAACE,EAAE,CAAC;cACjBN,QAAQ,CAACO,IAAI,CAACH,IAAI,CAAC;YACrB;YACA,OAAOD,GAAG;UACZ,CAAC,EAAE,EAAE,CAAC;UAEN,IAAIH,QAAQ,CAACL,MAAM,GAAGvC,SAAS,CAACuC,MAAM,EAAE;YACtC,IAAMa,QAAQ,GAAGC,eAAe,CAACT,QAAQ,CAAC,CAACU,MAAM,CAC/CtD,SAAS,CAACuC,MAAM,EAChBK,QAAQ,CAACL,MAAM,GAAGvC,SAAS,CAACuC,MAAM,CACnC;YACD5C,eAAe,CAACiD,QAAQ,CAAC;YAEzB,IAAIQ,QAAQ,CAACb,MAAM,GAAG,CAAC,EAAE;cACvBa,QAAQ,CAACG,OAAO,CAAC,UAACC,CAAC,EAAK;gBAAA;gBACtB,IAAMC,SAAS,GAAG,EAAE;gBACnB,IAAMC,UAAU,GAAGF,CAAC,CAACG,YAAY;gBACjC,IAAMC,OAAO,GAAG,IAAIC,IAAI,CAACH,UAAU,GAAG,GAAG,CAAC;gBAE1C,IAAMI,cAAc,GAClBC,IAAI,CAACC,cAAc,EAAE,CAACC,eAAe,EAAE,CAACC,QAAQ;gBAElD,IAAMC,MAAM,GAAGC,EAAE,CAACR,OAAO,CAAC,CACvBQ,EAAE,CAACN,cAAc,EAAE,IAAI,CAAC,CACxBO,MAAM,CAAC,iCAAiC,CAAC;gBAE7CZ,SAAS,CAACN,IAAI,CACZ,UAAU;gBACV,MAAM,GAAG,MAAM,GAAG,MAAM;gBACxBlD,YAAY,CAACqE,IAAI,EACjB,MAAM,EACNrE,YAAY,CAACsE,OAAO,GAAG,MAAM,EAC7BtE,YAAY,CAACuE,OAAO,GAAG,MAAM;gBAC7BvE,YAAY,CAACwE,WAAW,GAAG,MAAM;gBACjCjB,CAAC,CAACG,YAAY,GAAG,MAAM,EACvB,MAAM,EACN,cAAc,GAAG,MAAM;gBACvB,mBAAiBH,CAAC,CAACkB,MAAM,GAAK,MAAM,EACpC,MAAM,EACN,MAAM,EACN,MAAM,EACN,MAAM,GAAG,MAAM,GAAG,MAAM,CACzB;;gBAED,iBAAAlB,CAAC,CAACmB,UAAU,qBAAZ,cAAcC,GAAG,CAAC,UAACC,QAAQ,EAAK;kBAC9BpB,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;kBACtBM,SAAS,CAACN,IAAI,YAAU0B,QAAQ,CAACP,IAAI,CAAG;kBACxCb,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;kBACtBM,SAAS,CAACN,IAAI,gBAAc0B,QAAQ,CAACC,QAAQ,CAAG;kBAChDrB,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;kBACtBM,SAAS,CAACN,IAAI,cAAY0B,QAAQ,CAACE,KAAK,CAAG;kBAC3CtB,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;kBAEtB,IAAI0B,QAAQ,CAACG,IAAI,EAAE;oBAAA;oBACjB,kBAAAH,QAAQ,CAACG,IAAI,qBAAb,eAAeJ,GAAG,CAAC,UAACI,IAAI,EAAEC,KAAK,EAAK;sBAClC,IAAIA,KAAK,KAAK,CAAC,EAAE;wBACfxB,SAAS,CAACN,IAAI,CAAI6B,IAAI,CAACE,GAAG,WAAMF,IAAI,CAACG,KAAK,CAAG;wBAC7C,IAAIN,QAAQ,CAACG,IAAI,CAACC,KAAK,GAAG,CAAC,CAAC,CAACC,GAAG,KAAKF,IAAI,CAACE,GAAG,EAAE;0BAC7CzB,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;wBACxB;sBACF,CAAC,MAAM;wBACL,IAAI8B,KAAK,KAAKJ,QAAQ,CAACG,IAAI,CAACzC,MAAM,GAAG,CAAC,EAAE;0BACtC,IAAIsC,QAAQ,CAACG,IAAI,CAACC,KAAK,GAAG,CAAC,CAAC,CAACC,GAAG,KAAKF,IAAI,CAACE,GAAG,EAAE;4BAC7CzB,SAAS,CAACN,IAAI,SAAO6B,IAAI,CAACG,KAAK,CAAG;0BACpC,CAAC,MAAM;4BACL1B,SAAS,CAACN,IAAI,CAAI6B,IAAI,CAACE,GAAG,WAAMF,IAAI,CAACG,KAAK,CAAG;0BAC/C;0BAEA,IAAIN,QAAQ,CAACG,IAAI,CAACC,KAAK,GAAG,CAAC,CAAC,CAACC,GAAG,KAAKF,IAAI,CAACE,GAAG,EAAE;4BAC7CzB,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;0BACxB;wBACF;sBACF;oBACF,CAAC,CAAC;kBACJ,CAAC,MAAM;oBACLM,SAAS,CAACN,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;kBACjC;gBACF,CAAC,CAAC;gBAEFM,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;gBACtBM,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;gBACtBM,SAAS,CAACN,IAAI,qBAAqB;gBACnCM,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;gBACtBM,SAAS,CAACN,IAAI,eAAaK,CAAC,CAAC4B,QAAQ,CAACC,SAAS,CAAG;gBAClD5B,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;gBACtBM,SAAS,CAACN,IAAI,YAAUK,CAAC,CAAC4B,QAAQ,CAACE,IAAI,CAAG;gBAC1C7B,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;gBACtBM,SAAS,CAACN,IAAI,uBAAqBK,CAAC,CAAC4B,QAAQ,CAACG,QAAQ,CAAG;gBACzD9B,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;gBACtBM,SAAS,CAACN,IAAI,sBAAoBK,CAAC,CAAC4B,QAAQ,CAACI,KAAK,CAAG;gBACrD/B,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;gBACtBM,SAAS,CAACN,IAAI,YACHK,CAAC,CAAC4B,QAAQ,CAACK,UAAU,SAAIjC,CAAC,CAAC4B,QAAQ,CAACM,SAAS,CACvD;gBACDjC,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;gBACtBM,SAAS,CAACN,IAAI,oBAAkBK,CAAC,CAACmC,OAAO,CAACC,KAAK,CAAG;gBAClDnC,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;gBACtBK,CAAC,CAACqC,cAAc,CAACjB,GAAG,CAAC,UAACkB,IAAI;kBAAA,OACxBrC,SAAS,CAACN,IAAI,uBAAqB2C,IAAI,CAACC,YAAY,CAAG;gBAAA,EACxD;gBACD,IAAIvC,CAAC,CAACwC,aAAa,EAAE;kBACnBvC,SAAS,CAACN,IAAI,qBAAmBK,CAAC,CAACwC,aAAa,CAAG;kBACnDvC,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;gBACxB;gBACAM,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;gBACtBM,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;gBAEtBM,SAAS,CAACN,IAAI,CACZ,MAAM,EACN,sCAAsC,GAAG,MAAM,EAC/C,MAAM,GAAG,MAAM,EACf,kBAAkB,GAAGK,CAAC,CAACyC,oBAAoB,GAAG,MAAM,GAAG,MAAM,EAC7D,6BAA6B,GAC3B,GAAG,GACHzC,CAAC,CAAC0C,KAAK,GACP,MAAM,GACN,MAAM,EACR,4CAA4C,GAAG,MAAM,EACrD,MAAM;gBACN,MAAM;gBACN,MAAM;gBACN,MAAM;gBACN,MAAM;gBACN,MAAM,CACP;;gBAEDzC,SAAS,CAACN,IAAI,CAAC,MAAM,GAAG,MAAM,GAAG,MAAM,CAAC;gBAExC,IAAMgD,EAAE,GAAG9E,OAAO,CAAC,SAAS,CAAC;gBAC7B8E,EAAE,CAACC,SAAS,CACTC,OAAO,EAAE,CACT3F,IAAI,CAAC,YAAY;kBAChB,IAAI4F,MAAM,GAAGH,EAAE,CAACI,OAAO,CAACC,MAAM,CAAC,0BAA0B,CAAC;kBAC1D,OAAOL,EAAE,CAACM,KAAK,CAACH,MAAM,EAAE7C,SAAS,CAAC;gBACpC,CAAC,CAAC,CACD/C,IAAI,CAACyF,EAAE,CAACC,SAAS,CAACM,UAAU,CAAC,CAC7BC,KAAK,CAAC,UAAUC,GAAG,EAAE;kBACpBpE,OAAO,CAACqE,KAAK,CAACD,GAAG,CAAC;gBACpB,CAAC,CAAC;cAiBN,CAAC,CAAC;YACJ,CAAC,MAAM;cAAA;cACL,IAAMpD,CAAC,GAAGJ,QAAQ,CAAC,CAAC,CAAC;cACrB,IAAMK,SAAS,GAAG,EAAE;cAEpBA,SAAS,CAACN,IAAI,CACZ,MAAM,GAAG,MAAM;cACf,MAAM,GAAG,MAAM,GAAG,MAAM;cACxBlD,YAAY,CAACqE,IAAI,EACjB,MAAM,EACNrE,YAAY,CAACsE,OAAO,GAAG,MAAM,EAC7BtE,YAAY,CAACuE,OAAO,GAAG,MAAM;cAC7BvE,YAAY,CAACwE,WAAW,GAAG,MAAM;cACjCjB,CAAC,CAACG,YAAY,GAAG,MAAM,EACvB,MAAM,EACN,cAAc,GAAG,MAAM;cACvB,mBAAiBH,CAAC,CAACkB,MAAM,GAAK,MAAM,EACpC,MAAM,EACN,MAAM,EACN,MAAM,EACN,MAAM,GAAG,MAAM,GAAG,MAAM,CACzB;;cAED,kBAAAlB,CAAC,CAACmB,UAAU,qBAAZ,eAAcC,GAAG,CAAC,UAACC,QAAQ,EAAK;gBAC9BpB,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;gBACtBM,SAAS,CAACN,IAAI,YAAU0B,QAAQ,CAACP,IAAI,CAAG;gBACxCb,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;gBACtBM,SAAS,CAACN,IAAI,gBAAc0B,QAAQ,CAACC,QAAQ,CAAG;gBAChDrB,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;gBACtBM,SAAS,CAACN,IAAI,cAAY0B,QAAQ,CAACE,KAAK,CAAG;gBAC3CtB,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;gBAEtB,IAAI0B,QAAQ,CAACG,IAAI,EAAE;kBAAA;kBACjB,mBAAAH,QAAQ,CAACG,IAAI,qBAAb,gBAAeJ,GAAG,CAAC,UAACI,IAAI,EAAEC,KAAK,EAAK;oBAClC,IAAIA,KAAK,KAAK,CAAC,EAAE;sBACfxB,SAAS,CAACN,IAAI,CAAI6B,IAAI,CAACE,GAAG,WAAMF,IAAI,CAACG,KAAK,CAAG;sBAC7C,IAAIN,QAAQ,CAACG,IAAI,CAACC,KAAK,GAAG,CAAC,CAAC,CAACC,GAAG,KAAKF,IAAI,CAACE,GAAG,EAAE;wBAC7CzB,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;sBACxB;oBACF,CAAC,MAAM;sBACL,IAAI8B,KAAK,KAAKJ,QAAQ,CAACG,IAAI,CAACzC,MAAM,GAAG,CAAC,EAAE;wBACtC,IAAIsC,QAAQ,CAACG,IAAI,CAACC,KAAK,GAAG,CAAC,CAAC,CAACC,GAAG,KAAKF,IAAI,CAACE,GAAG,EAAE;0BAC7CzB,SAAS,CAACN,IAAI,SAAO6B,IAAI,CAACG,KAAK,CAAG;wBACpC,CAAC,MAAM;0BACL1B,SAAS,CAACN,IAAI,CAAI6B,IAAI,CAACE,GAAG,WAAMF,IAAI,CAACG,KAAK,CAAG;wBAC/C;wBAEA,IAAIN,QAAQ,CAACG,IAAI,CAACC,KAAK,GAAG,CAAC,CAAC,CAACC,GAAG,KAAKF,IAAI,CAACE,GAAG,EAAE;0BAC7CzB,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;wBACxB;sBACF;oBACF;kBACF,CAAC,CAAC;gBACJ,CAAC,MAAM;kBACLM,SAAS,CAACN,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;gBACjC;cACF,CAAC,CAAC;cAEFM,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;cACtBM,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;cACtBM,SAAS,CAACN,IAAI,qBAAqB;cACnCM,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;cACtBM,SAAS,CAACN,IAAI,eAAaK,CAAC,CAAC4B,QAAQ,CAACC,SAAS,CAAG;cAClD5B,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;cACtBM,SAAS,CAACN,IAAI,YAAUK,CAAC,CAAC4B,QAAQ,CAACE,IAAI,CAAG;cAC1C7B,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;cACtBM,SAAS,CAACN,IAAI,uBAAqBK,CAAC,CAAC4B,QAAQ,CAACG,QAAQ,CAAG;cACzD9B,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;cACtBM,SAAS,CAACN,IAAI,sBAAoBK,CAAC,CAAC4B,QAAQ,CAACI,KAAK,CAAG;cACrD/B,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;cACtBM,SAAS,CAACN,IAAI,YACHK,CAAC,CAAC4B,QAAQ,CAACK,UAAU,SAAIjC,CAAC,CAAC4B,QAAQ,CAACM,SAAS,CACvD;cACDjC,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;cACtBM,SAAS,CAACN,IAAI,oBAAkBK,CAAC,CAACmC,OAAO,CAACC,KAAK,CAAG;cAClDnC,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;cACtBK,CAAC,CAACqC,cAAc,CAACjB,GAAG,CAAC,UAACkB,IAAI;gBAAA,OACxBrC,SAAS,CAACN,IAAI,uBAAqB2C,IAAI,CAACC,YAAY,CAAG;cAAA,EACxD;cACD,IAAIvC,CAAC,CAACwC,aAAa,EAAE;gBACnBvC,SAAS,CAACN,IAAI,qBAAmBK,CAAC,CAACwC,aAAa,CAAG;gBACnDvC,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;cACxB;cACAM,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;cACtBM,SAAS,CAACN,IAAI,CAAC,MAAM,CAAC;cAEtBM,SAAS,CAACN,IAAI,CACZ,MAAM,EACN,sCAAsC,GAAG,MAAM,EAC/C,MAAM,GAAG,MAAM,EACf,kBAAkB,GAAGK,CAAC,CAACyC,oBAAoB,GAAG,MAAM,GAAG,MAAM,EAC7D,6BAA6B,GAAG,GAAG,GAAGzC,CAAC,CAAC0C,KAAK,GAAG,MAAM,GAAG,MAAM,EAC/D,4CAA4C,GAAG,MAAM,EACrD,MAAM;cACN,MAAM;cACN,MAAM;cACN,MAAM;cACN,MAAM;cACN,MAAM,CACP;;cAEDzC,SAAS,CAACN,IAAI,CAAC,MAAM,GAAG,MAAM,GAAG,MAAM,CAAC;cAExC,IAAMgD,EAAE,GAAG9E,OAAO,CAAC,SAAS,CAAC;cAC7B8E,EAAE,CAACC,SAAS,CACTC,OAAO,EAAE,CACT3F,IAAI,CAAC,YAAY;gBAChB,IAAI4F,MAAM,GAAGH,EAAE,CAACI,OAAO,CAACC,MAAM,CAAC,0BAA0B,CAAC;gBAC1D,OAAOL,EAAE,CAACM,KAAK,CAACH,MAAM,EAAE7C,SAAS,CAAC;cACpC,CAAC,CAAC,CACD/C,IAAI,CAACyF,EAAE,CAACC,SAAS,CAACM,UAAU,CAAC,CAC7BC,KAAK,CAAC,UAAUC,GAAG,EAAE;gBACpBpE,OAAO,CAACqE,KAAK,CAACD,GAAG,CAAC;cACpB,CAAC,CAAC;YAgBN;UACF;QACF,CAAC,CAAC;MACJ,CAAC,EAAE,IAAI,CAAC;MACR,OAAO;QAAA,OAAME,aAAa,CAAC5F,QAAQ,CAAC;MAAA;IACtC;EACF,CAAC,EAAE,CAACnB,cAAc,EAAEC,SAAS,CAAC,CAAC;EAE/B,OACE,KAAC,mBAAmB;IAAA,UACjBE,OAAO,GACN,KAAC,OAAO;MAAC,cAAc,EAAE;IAAK,EAAG,GAEjC;MAAA,UAAGL,KAAK,GAAG,KAAC,UAAU,KAAG,GAAG,KAAC,WAAW;IAAG;EAC5C,EACmB;AAE1B,CAAC;AAED,eAAeD,YAAY"},"metadata":{},"sourceType":"module"}