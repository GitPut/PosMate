{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport { auth, db } from \"../../../../state/firebaseConfig\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction EmployeeClockInItem(_ref) {\n  var employee = _ref.employee,\n    employees = _ref.employees,\n    setEmployeesState = _ref.setEmployeesState,\n    isClockedIn = _ref.isClockedIn,\n    style = _ref.style;\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    enteredPin = _useState2[0],\n    setenteredPin = _useState2[1];\n  return _jsxs(View, {\n    style: [styles.container, style],\n    children: [_jsxs(View, {\n      style: styles.leftSideGroup,\n      children: [_jsx(MaterialIcons, {\n        name: \"person\",\n        style: styles.personIcon\n      }), _jsx(Text, {\n        style: styles.employeeName,\n        children: employee.name\n      })]\n    }), _jsx(View, {\n      style: styles.rightSideGroup,\n      children: _jsxs(View, {\n        style: styles.textInputRow,\n        children: [_jsx(TextInput, {\n          style: styles.textInput,\n          placeholder: \"PIN\",\n          onChangeText: function onChangeText(val) {\n            return setenteredPin(val);\n          },\n          value: enteredPin\n        }), _jsx(TouchableOpacity, {\n          style: [styles.button, isClockedIn && {\n            backgroundColor: \"#FF0000\"\n          }],\n          onPress: function onPress() {\n            if (enteredPin !== employee.pin && employee.pin) return alert(\"Wrong PIN\");\n            var date = new Date();\n            if (isClockedIn) {\n              var endTime = `${date.getHours()}:${date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes()}`;\n              db.collection(\"users\").doc(auth.currentUser.uid).collection(\"employees\").doc(employee.id).collection(\"hours\").add({\n                date: employee.clockedIn.date,\n                startTime: employee.clockedIn.startTime,\n                endTime: endTime\n              }).then(function () {\n                db.collection(\"users\").doc(auth.currentUser.uid).collection(\"employees\").doc(employee.id).update({\n                  clockedIn: false\n                });\n                var prev = _toConsumableArray(employees);\n                prev[employees.indexOf(employee)].clockedIn = false;\n                setEmployeesState(prev);\n              });\n              setenteredPin(null);\n            } else {\n              var startTime = `${date.getHours()}:${date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes()}`;\n              db.collection(\"users\").doc(auth.currentUser.uid).collection(\"employees\").doc(employee.id).update({\n                clockedIn: {\n                  startTime: startTime,\n                  date: date\n                }\n              });\n              var prev = _toConsumableArray(employees);\n              prev[employees.indexOf(employee)].clockedIn = {\n                startTime: startTime,\n                date: date\n              };\n              setEmployeesState(prev);\n              setenteredPin(null);\n            }\n          },\n          children: _jsx(Text, {\n            style: styles.clockInLabel,\n            children: isClockedIn ? \"Clock Out\" : \"Clock In\"\n          })\n        })]\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"#edf1fe\",\n    borderRadius: 10,\n    flexDirection: \"row\",\n    shadowColor: \"rgba(0,0,0,1)\",\n    shadowOffset: {\n      width: 3,\n      height: 3\n    },\n    elevation: 9,\n    shadowOpacity: 0.2,\n    shadowRadius: 3,\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  },\n  leftSideGroup: {\n    width: 114,\n    height: 55,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    margin: 15\n  },\n  personIcon: {\n    color: \"#1c294e\",\n    fontSize: 55\n  },\n  employeeName: {\n    fontWeight: \"700\",\n    color: \"#121212\",\n    fontSize: 20\n  },\n  rightSideGroup: {\n    width: 183,\n    height: 49,\n    margin: 15,\n    flexDirection: \"row\"\n  },\n  textInput: {\n    width: 85,\n    height: 35,\n    backgroundColor: \"rgba(255,255,255,1)\",\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: \"#b4b5b8\",\n    marginTop: 7,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    textAlign: \"center\"\n  },\n  button: {\n    width: 92,\n    height: 49,\n    backgroundColor: \"#03c551\",\n    borderRadius: 10,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginLeft: 7\n  },\n  clockInLabel: {\n    fontWeight: \"700\",\n    color: \"rgba(255,255,255,1)\",\n    fontSize: 16\n  },\n  textInputRow: {\n    height: 49,\n    flexDirection: \"row\",\n    flex: 1,\n    marginRight: -1\n  }\n});\nexport default EmployeeClockInItem;","map":{"version":3,"names":["React","useState","StyleSheet","View","Text","TouchableOpacity","TextInput","MaterialIcons","auth","db","jsx","_jsx","jsxs","_jsxs","EmployeeClockInItem","_ref","employee","employees","setEmployeesState","isClockedIn","style","_useState","_useState2","_slicedToArray","enteredPin","setenteredPin","styles","container","children","leftSideGroup","name","personIcon","employeeName","rightSideGroup","textInputRow","textInput","placeholder","onChangeText","val","value","button","backgroundColor","onPress","pin","alert","date","Date","endTime","getHours","getMinutes","collection","doc","currentUser","uid","id","add","clockedIn","startTime","then","update","prev","_toConsumableArray","indexOf","clockInLabel","create","borderRadius","flexDirection","shadowColor","shadowOffset","width","height","elevation","shadowOpacity","shadowRadius","alignItems","justifyContent","margin","color","fontSize","fontWeight","borderWidth","borderColor","marginTop","textAlign","marginLeft","flex","marginRight"],"sources":["/Users/peterputros/Desktop/PosMate/components/modals/ClockInModal/components/EmployeeClockInItem.tsx"],"sourcesContent":["import React, { Component, useState } from \"react\";\nimport {\n  StyleSheet,\n  View,\n  Text,\n  TouchableOpacity,\n  TextInput,\n} from \"react-native\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport { auth, db } from \"state/firebaseConfig\";\n\nfunction EmployeeClockInItem({\n  employee,\n  employees,\n  setEmployeesState,\n  isClockedIn,\n  style,\n}) {\n  const [enteredPin, setenteredPin] = useState(\"\");\n\n  return (\n    <View style={[styles.container, style]}>\n      <View style={styles.leftSideGroup}>\n        <MaterialIcons name=\"person\" style={styles.personIcon} />\n        <Text style={styles.employeeName}>{employee.name}</Text>\n      </View>\n      <View style={styles.rightSideGroup}>\n        <View style={styles.textInputRow}>\n          <TextInput\n            style={styles.textInput}\n            placeholder=\"PIN\"\n            onChangeText={(val) => setenteredPin(val)}\n            value={enteredPin}\n          />\n          <TouchableOpacity\n            style={[\n              styles.button,\n              isClockedIn && { backgroundColor: \"#FF0000\" },\n            ]}\n            onPress={() => {\n              if (enteredPin !== employee.pin && employee.pin)\n                return alert(\"Wrong PIN\");\n              const date = new Date();\n              if (isClockedIn) {\n                const endTime = `${date.getHours()}:${\n                  date.getMinutes() < 10\n                    ? \"0\" + date.getMinutes()\n                    : date.getMinutes()\n                }`;\n                db.collection(\"users\")\n                  .doc(auth.currentUser.uid)\n                  .collection(\"employees\")\n                  .doc(employee.id)\n                  .collection(\"hours\")\n                  .add({\n                    date: employee.clockedIn.date,\n                    startTime: employee.clockedIn.startTime,\n                    endTime: endTime,\n                  })\n                  .then(() => {\n                    db.collection(\"users\")\n                      .doc(auth.currentUser.uid)\n                      .collection(\"employees\")\n                      .doc(employee.id)\n                      .update({\n                        clockedIn: false,\n                      });\n\n                    const prev = [...employees];\n                    prev[employees.indexOf(employee)].clockedIn = false;\n                    setEmployeesState(prev);\n                  });\n                setenteredPin(null);\n              } else {\n                const startTime = `${date.getHours()}:${\n                  date.getMinutes() < 10\n                    ? \"0\" + date.getMinutes()\n                    : date.getMinutes()\n                }`;\n                db.collection(\"users\")\n                  .doc(auth.currentUser.uid)\n                  .collection(\"employees\")\n                  .doc(employee.id)\n                  .update({\n                    clockedIn: {\n                      startTime: startTime,\n                      date: date,\n                    },\n                  });\n\n                const prev = [...employees];\n                prev[employees.indexOf(employee)].clockedIn = {\n                  startTime: startTime,\n                  date: date,\n                };\n                setEmployeesState(prev);\n                setenteredPin(null);\n              }\n            }}\n          >\n            <Text style={styles.clockInLabel}>\n              {isClockedIn ? \"Clock Out\" : \"Clock In\"}\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"#edf1fe\",\n    borderRadius: 10,\n    flexDirection: \"row\",\n    shadowColor: \"rgba(0,0,0,1)\",\n    shadowOffset: {\n      width: 3,\n      height: 3,\n    },\n    elevation: 9,\n    shadowOpacity: 0.2,\n    shadowRadius: 3,\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  },\n  leftSideGroup: {\n    width: 114,\n    height: 55,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    margin: 15,\n  },\n  personIcon: {\n    color: \"#1c294e\",\n    fontSize: 55,\n  },\n  employeeName: {\n    fontWeight: \"700\",\n    color: \"#121212\",\n    fontSize: 20,\n  },\n  rightSideGroup: {\n    width: 183,\n    height: 49,\n    margin: 15,\n    flexDirection: \"row\",\n  },\n  textInput: {\n    width: 85,\n    height: 35,\n    backgroundColor: \"rgba(255,255,255,1)\",\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: \"#b4b5b8\",\n    marginTop: 7,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    textAlign: \"center\",\n  },\n  button: {\n    width: 92,\n    height: 49,\n    backgroundColor: \"#03c551\",\n    borderRadius: 10,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginLeft: 7,\n  },\n  clockInLabel: {\n    fontWeight: \"700\",\n    color: \"rgba(255,255,255,1)\",\n    fontSize: 16,\n  },\n  textInputRow: {\n    height: 49,\n    flexDirection: \"row\",\n    flex: 1,\n    marginRight: -1,\n  },\n});\n\nexport default EmployeeClockInItem;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}