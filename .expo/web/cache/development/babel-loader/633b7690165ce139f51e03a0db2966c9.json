{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useEffect, useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport useWindowDimensions from \"react-native-web/dist/exports/useWindowDimensions\";\nimport GoBackBtn from \"./GoBackBtn\";\nimport OneTimeSelectableOptionGroup from \"./OneTimeSelectableOptionGroup\";\nimport DropdownSelectableOption from \"./DropdownSelectableOption\";\nimport AddToCartBtn from \"./AddToCartBtn\";\nimport MultipleTimeSelectableOptionGroup from \"./MultipleTimeSelectableOptionGroup\";\nimport { addCartState, cartState, setCartState } from \"../../../../state/state\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction ProductBuilderModal(_ref) {\n  var product = _ref.product,\n    itemIndex = _ref.itemIndex,\n    goBack = _ref.goBack,\n    imageUrl = _ref.imageUrl;\n  var cart = cartState.use();\n  var myObj = product;\n  var _useState = useState(myObj),\n    _useState2 = _slicedToArray(_useState, 2),\n    myObjProfile = _useState2[0],\n    setmyObjProfile = _useState2[1];\n  var _useState3 = useState(myObj.total ? myObj.total : myObj.price),\n    _useState4 = _slicedToArray(_useState3, 2),\n    total = _useState4[0],\n    settotal = _useState4[1];\n  var _useState5 = useState(myObj.extraDetails ? myObj.extraDetails : \"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    extraInput = _useState6[0],\n    setextraInput = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    openOptions = _useState8[0],\n    setopenOptions = _useState8[1];\n  var screenWidth = useWindowDimensions().width;\n  var DisplayOption = function DisplayOption(_ref2) {\n    var _e$selectedCaseList3;\n    var e = _ref2.e,\n      index = _ref2.index;\n    var checkCases = function checkCases() {\n      var _e$selectedCaseList;\n      if (((_e$selectedCaseList = e.selectedCaseList) == null ? void 0 : _e$selectedCaseList.length) > 0) {\n        var _e$selectedCaseList2;\n        var listOfTrueIfS = [];\n        e.selectedCaseList.forEach(function (ifStatement) {\n          var caseKeyList = myObjProfile.options.filter(function (op) {\n            return op.label == ifStatement.selectedCaseKey;\n          });\n          if (caseKeyList.length > 0) {\n            var caseValueList = caseKeyList[0].optionsList.filter(function (opL) {\n              return opL.label == ifStatement.selectedCaseValue;\n            });\n            if (caseValueList.length > 0) {\n              if (caseValueList[0].selected === true) {\n                listOfTrueIfS.push(ifStatement);\n              }\n            }\n          }\n        });\n        if (((_e$selectedCaseList2 = e.selectedCaseList) == null ? void 0 : _e$selectedCaseList2.length) === listOfTrueIfS.length) {\n          return true;\n        } else {\n          return false;\n        }\n      } else {\n        return true;\n      }\n    };\n    var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      optionVal = _useState10[0],\n      setoptionVal = _useState10[1];\n    var selectedList = e.optionsList.filter(function (checkOp) {\n      return checkOp.selected;\n    });\n    if (selectedList.length > 0 && !optionVal) {\n      setoptionVal(selectedList[0]);\n    }\n    if (!(((_e$selectedCaseList3 = e.selectedCaseList) == null ? void 0 : _e$selectedCaseList3.length) > 0) || checkCases()) {\n      var _e$optionType;\n      if (((_e$optionType = e.optionType) == null ? void 0 : _e$optionType.toLowerCase()) === \"dropdown\") {\n        return _jsx(DropdownSelectableOption, {\n          id: index,\n          style: styles.dropdownSelectableOption,\n          setopenDropdown: setopenOptions,\n          openDropdown: openOptions,\n          label: e.label,\n          isRequired: e.isRequired,\n          options: e.optionsList,\n          setValue: function setValue(_ref3) {\n            var option = _ref3.option,\n              listIndex = _ref3.listIndex;\n            var newMyObjProfile = structuredClone(myObjProfile);\n            newMyObjProfile.options[index].optionsList.forEach(function (element, indexOfOl) {\n              if (element.selected) {\n                newMyObjProfile.options[index].optionsList[indexOfOl].selected = false;\n              }\n            });\n            newMyObjProfile.options[index].optionsList[listIndex].selected = true;\n            setoptionVal(option);\n            setmyObjProfile(newMyObjProfile);\n          },\n          value: optionVal\n        });\n      } else {\n        if (e.numOfSelectable === \"1\") {\n          return _jsx(OneTimeSelectableOptionGroup, {\n            label: e.label,\n            isRequired: e.isRequired,\n            options: e.optionsList,\n            setValue: function setValue(_ref4) {\n              var option = _ref4.option,\n                listIndex = _ref4.listIndex;\n              var newMyObjProfile = structuredClone(myObjProfile);\n              newMyObjProfile.options[index].optionsList.forEach(function (element, indexOfOl) {\n                if (element.selected) {\n                  newMyObjProfile.options[index].optionsList[indexOfOl].selected = false;\n                }\n              });\n              newMyObjProfile.options[index].optionsList[listIndex].selected = true;\n              setoptionVal(option);\n              setmyObjProfile(newMyObjProfile);\n            },\n            value: optionVal,\n            style: styles.oneTimeSelectableOptionGroup\n          });\n        } else {\n          var optionsSelected = myObjProfile.options[index].optionsList.filter(function (op) {\n            return op.selectedTimes > 0;\n          });\n          var optionsSelectedLabel = optionsSelected.length > 0 ? optionsSelected.map(function (op, index) {\n            if (index > 0) return \", \" + op.label + \" (\" + op.selectedTimes + \")\";\n            return op.label + \" (\" + op.selectedTimes + \")\";\n          }) : \"\";\n          return _jsx(MultipleTimeSelectableOptionGroup, {\n            e: e,\n            index: index,\n            myObjProfile: myObjProfile,\n            setmyObjProfile: setmyObjProfile,\n            id: index,\n            style: styles.dropdownSelectableOption,\n            setopenDropdown: setopenOptions,\n            openDropdown: openOptions,\n            label: e.label,\n            isRequired: e.isRequired,\n            optionsSelectedLabel: optionsSelectedLabel\n          });\n        }\n      }\n    } else if (checkCases() === false) {\n      var newMyObjProfile = structuredClone(myObjProfile);\n      newMyObjProfile.options[index].optionsList.forEach(function (item, indexOfItem) {\n        if (item.selected === true) {\n          newMyObjProfile.options[index].optionsList[indexOfItem].selected = false;\n          setmyObjProfile(newMyObjProfile);\n        }\n      });\n    }\n  };\n  useEffect(function () {\n    settotal(getPrice());\n    console.log(\"myObjProfile: \", myObjProfile);\n  }, [myObjProfile]);\n  var getPrice = function getPrice() {\n    var total = parseFloat(myObjProfile.price);\n    myObjProfile.options.forEach(function (op) {\n      op.optionsList.filter(function (f) {\n        return f.selected === true;\n      }).map(function (e) {\n        return total += e.priceIncrease ? parseFloat(e.priceIncrease) : 0;\n      });\n    });\n    myObjProfile.options.forEach(function (op) {\n      op.optionsList.filter(function (f) {\n        return f.selectedTimes > 0;\n      }).map(function (e) {\n        var thisItemSelectedTimes = e.selectedTimes ? parseInt(e.selectedTimes) : 0;\n        var thisItemCountsAs = e.countsAs ? parseInt(e.countsAs) : 1;\n        total += e.priceIncrease ? parseFloat(e.priceIncrease) * thisItemCountsAs * thisItemSelectedTimes : 0;\n      });\n    });\n    return total;\n  };\n  var AddToCart = function AddToCart() {\n    var opsArray = [];\n    var stop = false;\n    myObjProfile.options.forEach(function (op) {\n      var _op$optionType;\n      if (((_op$optionType = op.optionType) == null ? void 0 : _op$optionType.toLowerCase()) === \"dropdown\" || op.numOfSelectable === \"1\") {\n        var opWVal = op.label + \": \";\n        var numberOfSelected = op.optionsList.filter(function (f) {\n          return f.selected === true;\n        }).length;\n        if (numberOfSelected > 0) {\n          opWVal = op.label + \": \";\n          op.optionsList.map(function (e, index) {\n            if (e.selected === true) {\n              if (index < op.optionsList.length - 1 && numberOfSelected > 1) {\n                opWVal += e.label + \" , \";\n              } else {\n                opWVal += e.label;\n              }\n            }\n          });\n          opsArray.push(opWVal);\n        } else if (numberOfSelected === 0 && op.isRequired === true) {\n          alert(op.label + \" is required. Please fill out to add to cart\");\n          stop = true;\n        }\n      } else {\n        var selectedItems = op.optionsList.filter(function (op) {\n          return op.selectedTimes > 0;\n        });\n        if (selectedItems.length > 0) {\n          var _opWVal = op.label + \":\\n\";\n          selectedItems.map(function (e, index) {\n            if (index < selectedItems.length - 1) {\n              _opWVal += \"   \" + e.selectedTimes + \" X \" + e.label + \"\\n\";\n            } else {\n              _opWVal += \"   \" + e.selectedTimes + \" X \" + e.label;\n            }\n          });\n          opsArray.push(_opWVal);\n        }\n      }\n    });\n    if (!stop) {\n      var objWTotal = _objectSpread(_objectSpread({}, myObjProfile), {}, {\n        total: total,\n        extraDetails: extraInput\n      });\n      if (itemIndex >= 0) {\n        var copyCart = structuredClone(cart);\n        copyCart[itemIndex] = {\n          name: myObjProfile.name,\n          price: total,\n          description: myObj.description,\n          options: opsArray,\n          extraDetails: extraInput,\n          editableObj: objWTotal,\n          imageUrl: imageUrl ? imageUrl : null\n        };\n        setCartState(copyCart);\n      } else {\n        addCartState({\n          name: myObjProfile.name,\n          price: total,\n          description: myObj.description,\n          options: opsArray,\n          extraDetails: extraInput,\n          editableObj: objWTotal,\n          imageUrl: imageUrl ? imageUrl : null\n        }, cart);\n      }\n      goBack();\n      setmyObjProfile(myObj);\n      settotal(myObjProfile.price);\n      setextraInput(null);\n    }\n  };\n  return _jsx(View, {\n    style: styles.container,\n    children: _jsxs(View, {\n      style: styles.productBuilderGroup,\n      children: [_jsx(View, {\n        style: [styles.goBackRow, !myObj.description ? {\n          marginBottom: 20\n        } : {\n          marginBottom: 120\n        }],\n        children: _jsx(GoBackBtn, {\n          onPress: goBack,\n          style: styles.goBackBtn\n        })\n      }), _jsxs(View, {\n        style: styles.leftRightGroup,\n        children: [_jsxs(View, {\n          style: styles.leftSideGroup,\n          children: [_jsxs(View, {\n            style: styles.itemInfoContainer,\n            children: [_jsx(Image, {\n              source: imageUrl ? {\n                uri: imageUrl\n              } : require(\"../../assets/images/image_xJCw..png\"),\n              resizeMode: \"contain\",\n              style: [styles.itemImg, myObj.description && {\n                width: 200,\n                height: 200\n              }]\n            }), _jsxs(View, {\n              style: styles.itemInfoTxtGroup,\n              children: [_jsxs(View, {\n                style: styles.topTxtGroup,\n                children: [_jsx(Text, {\n                  style: styles.productName,\n                  children: myObj.name\n                }), myObj.calorieDetails && _jsx(Text, {\n                  style: styles.calorieDetails,\n                  children: \"280 cal/slice\"\n                })]\n              }), myObj.description && _jsxs(Text, {\n                style: styles.description,\n                children: [\"Description: \", myObj.description]\n              })]\n            })]\n          }), _jsxs(View, {\n            style: styles.writeNoteContainer,\n            children: [_jsx(Text, {\n              style: styles.notesLbl,\n              children: \"Notes:\"\n            }), _jsx(TextInput, {\n              style: styles.noteInput,\n              placeholder: \"Write any extra info here...\",\n              placeholderTextColor: \"#90949a\",\n              multiline: true,\n              numberOfLines: 4,\n              onChangeText: function onChangeText(val) {\n                return setextraInput(val);\n              },\n              value: extraInput\n            })]\n          })]\n        }), _jsxs(View, {\n          style: styles.rightSideGroup,\n          children: [_jsx(ScrollView, {\n            contentContainerStyle: {\n              height: \"90%\",\n              width: \"100%\",\n              padding: 20,\n              paddingLeft: 30,\n              paddingRight: 30\n            },\n            children: myObjProfile.options.map(function (e, index) {\n              return _jsx(DisplayOption, {\n                e: e,\n                index: index\n              }, index);\n            })\n          }), _jsx(View, {\n            style: styles.totalLblRow,\n            children: _jsxs(Text, {\n              style: styles.totalLbl,\n              children: [\"Total: $\", parseFloat(total).toFixed(2)]\n            })\n          })]\n        })]\n      }), _jsx(View, {\n        style: styles.addToCartRow,\n        children: _jsx(AddToCartBtn, {\n          style: styles.addToCartBtn,\n          title: itemIndex >= 0 ? \"Save\" : \"Add To Cart\",\n          onPress: AddToCart\n        })\n      })]\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: \"#edf2ff\",\n    width: \"100%\",\n    height: \"100%\"\n  },\n  productBuilderGroup: {\n    width: \"90%\",\n    height: \"85%\",\n    justifyContent: \"space-between\"\n  },\n  goBackRow: {\n    alignSelf: \"stretch\"\n  },\n  goBackBtn: {\n    height: 32,\n    width: 126\n  },\n  leftRightGroup: {\n    height: \"70%\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignSelf: \"stretch\"\n  },\n  leftSideGroup: {\n    width: \"35%\",\n    height: \"100%\",\n    justifyContent: \"space-between\"\n  },\n  itemInfoContainer: {\n    height: \"60%\",\n    borderRadius: 20,\n    backgroundColor: \"rgba(255,255,255,1)\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    alignSelf: \"stretch\"\n  },\n  itemImg: {\n    height: 150,\n    width: 150,\n    resizeMode: \"contain\"\n  },\n  itemInfoTxtGroup: {\n    justifyContent: \"space-between\",\n    alignItems: \"center\"\n  },\n  topTxtGroup: {\n    marginTop: 7,\n    marginBottom: 15,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  productName: {\n    fontWeight: \"700\",\n    color: \"#121212\",\n    fontSize: 30,\n    paddingLeft: \"3%\",\n    paddingRight: \"3%\",\n    textAlign: \"center\"\n  },\n  calorieDetails: {\n    color: \"rgba(131,126,126,1)\",\n    marginBottom: 25\n  },\n  description: {\n    color: \"rgba(131,126,126,1)\",\n    width: 214,\n    textAlign: \"left\",\n    paddingBottom: 50\n  },\n  writeNoteContainer: {\n    height: \"35%\",\n    justifyContent: \"space-between\",\n    alignSelf: \"stretch\"\n  },\n  notesLbl: {\n    fontWeight: \"700\",\n    color: \"#121212\",\n    marginBottom: 10\n  },\n  noteInput: {\n    width: \"100%\",\n    height: \"90%\",\n    backgroundColor: \"rgba(255,255,255,1)\",\n    borderRadius: 20,\n    padding: 10\n  },\n  noteInputTxt: {\n    color: \"#90949a\"\n  },\n  rightSideGroup: {\n    width: \"60%\",\n    height: \"100%\",\n    justifyContent: \"space-between\",\n    backgroundColor: \"white\",\n    borderRadius: 10,\n    zIndex: 999\n  },\n  oneTimeSelectableOptionGroup: {\n    marginBottom: 20,\n    alignSelf: \"stretch\"\n  },\n  dropdownSelectableOption: {\n    height: 44,\n    marginBottom: 20,\n    alignSelf: \"stretch\"\n  },\n  totalLblRow: {\n    flexDirection: \"row\",\n    justifyContent: \"flex-end\",\n    alignSelf: \"stretch\",\n    paddingLeft: 30,\n    paddingRight: 30,\n    paddingBottom: 20,\n    paddingTop: 20\n  },\n  totalLbl: {\n    fontWeight: \"700\",\n    color: \"#00c937\",\n    fontSize: 22,\n    marginTop: 0\n  },\n  addToCartRow: {\n    flexDirection: \"row\",\n    justifyContent: \"flex-end\",\n    alignSelf: \"stretch\",\n    marginTop: 25,\n    height: 41,\n    zIndex: -100\n  },\n  addToCartBtn: {\n    height: 41,\n    width: 147,\n    zIndex: -100\n  }\n});\nexport default ProductBuilderModal;","map":{"version":3,"names":["React","useEffect","useState","GoBackBtn","OneTimeSelectableOptionGroup","DropdownSelectableOption","AddToCartBtn","MultipleTimeSelectableOptionGroup","addCartState","cartState","setCartState","ProductBuilderModal","product","itemIndex","goBack","imageUrl","cart","use","myObj","myObjProfile","setmyObjProfile","total","price","settotal","extraDetails","extraInput","setextraInput","openOptions","setopenOptions","screenWidth","useWindowDimensions","width","DisplayOption","e","index","checkCases","selectedCaseList","length","listOfTrueIfS","forEach","ifStatement","caseKeyList","options","filter","op","label","selectedCaseKey","caseValueList","optionsList","opL","selectedCaseValue","selected","push","optionVal","setoptionVal","selectedList","checkOp","optionType","toLowerCase","styles","dropdownSelectableOption","isRequired","option","listIndex","newMyObjProfile","structuredClone","element","indexOfOl","numOfSelectable","oneTimeSelectableOptionGroup","optionsSelected","selectedTimes","optionsSelectedLabel","map","item","indexOfItem","getPrice","console","log","parseFloat","f","priceIncrease","thisItemSelectedTimes","parseInt","thisItemCountsAs","countsAs","AddToCart","opsArray","stop","opWVal","numberOfSelected","alert","selectedItems","objWTotal","copyCart","name","description","editableObj","container","productBuilderGroup","goBackRow","marginBottom","goBackBtn","leftRightGroup","leftSideGroup","itemInfoContainer","uri","require","itemImg","height","itemInfoTxtGroup","topTxtGroup","productName","calorieDetails","writeNoteContainer","notesLbl","noteInput","val","rightSideGroup","padding","paddingLeft","paddingRight","totalLblRow","totalLbl","toFixed","addToCartRow","addToCartBtn","StyleSheet","create","justifyContent","alignItems","backgroundColor","alignSelf","flexDirection","borderRadius","resizeMode","marginTop","fontWeight","color","fontSize","textAlign","paddingBottom","noteInputTxt","zIndex","paddingTop"],"sources":["/Users/peterputros/Desktop/PosMate/components/newCartScreen/components/ProductBuilderModal/ProductBuilderModal.tsx"],"sourcesContent":["import React, { Component, useEffect, useRef, useState } from \"react\";\nimport {\n  StyleSheet,\n  View,\n  Image,\n  Text,\n  TextInput,\n  ScrollView,\n  TouchableOpacity,\n  useWindowDimensions,\n} from \"react-native\";\nimport GoBackBtn from \"./GoBackBtn\";\nimport OneTimeSelectableOptionGroup from \"./OneTimeSelectableOptionGroup\";\nimport DropdownSelectableOption from \"./DropdownSelectableOption\";\nimport AddToCartBtn from \"./AddToCartBtn\";\nimport MultipleTimeSelectableOptionGroup from \"./MultipleTimeSelectableOptionGroup\";\nimport { addCartState, cartState, setCartState } from \"state/state\";\nimport { Ionicons } from \"@expo/vector-icons/\";\n\nfunction ProductBuilderModal({ product, itemIndex, goBack, imageUrl }) {\n  const cart = cartState.use();\n  const myObj = product;\n  const [myObjProfile, setmyObjProfile] = useState(myObj);\n  const [total, settotal] = useState(myObj.total ? myObj.total : myObj.price);\n  const [extraInput, setextraInput] = useState(\n    myObj.extraDetails ? myObj.extraDetails : \"\"\n  );\n  const [openOptions, setopenOptions] = useState(null);\n  const screenWidth = useWindowDimensions().width;\n\n  const DisplayOption = ({ e, index }) => {\n    const checkCases = () => {\n      if (e.selectedCaseList?.length > 0) {\n        const listOfTrueIfS = [];\n\n        e.selectedCaseList.forEach((ifStatement) => {\n          const caseKeyList = myObjProfile.options.filter(\n            (op) => op.label == ifStatement.selectedCaseKey\n          );\n\n          if (caseKeyList.length > 0) {\n            const caseValueList = caseKeyList[0].optionsList.filter(\n              (opL) => opL.label == ifStatement.selectedCaseValue\n            );\n\n            if (caseValueList.length > 0) {\n              if (caseValueList[0].selected === true) {\n                listOfTrueIfS.push(ifStatement);\n              }\n            }\n          }\n        });\n\n        if (e.selectedCaseList?.length === listOfTrueIfS.length) {\n          return true;\n        } else {\n          return false;\n        }\n      } else {\n        return true;\n      }\n    };\n\n    const [optionVal, setoptionVal] = useState();\n\n    const selectedList = e.optionsList.filter((checkOp) => checkOp.selected);\n\n    if (selectedList.length > 0 && !optionVal) {\n      setoptionVal(selectedList[0]);\n    }\n\n    if (!(e.selectedCaseList?.length > 0) || checkCases()) {\n      if (e.optionType?.toLowerCase() === \"dropdown\") {\n        return (\n          <DropdownSelectableOption\n            id={index}\n            style={styles.dropdownSelectableOption}\n            setopenDropdown={setopenOptions}\n            openDropdown={openOptions}\n            label={e.label}\n            isRequired={e.isRequired}\n            options={e.optionsList}\n            setValue={({ option, listIndex }) => {\n              const newMyObjProfile = structuredClone(myObjProfile);\n              newMyObjProfile.options[index].optionsList.forEach(\n                (element, indexOfOl) => {\n                  if (element.selected) {\n                    newMyObjProfile.options[index].optionsList[\n                      indexOfOl\n                    ].selected = false;\n                  }\n                }\n              );\n\n              newMyObjProfile.options[index].optionsList[listIndex].selected =\n                true;\n              setoptionVal(option);\n              setmyObjProfile(newMyObjProfile);\n            }}\n            value={optionVal}\n          />\n        );\n      } else {\n        if (e.numOfSelectable === \"1\") {\n          return (\n            <OneTimeSelectableOptionGroup\n              label={e.label}\n              isRequired={e.isRequired}\n              options={e.optionsList}\n              setValue={({ option, listIndex }) => {\n                const newMyObjProfile = structuredClone(myObjProfile);\n                newMyObjProfile.options[index].optionsList.forEach(\n                  (element, indexOfOl) => {\n                    if (element.selected) {\n                      newMyObjProfile.options[index].optionsList[\n                        indexOfOl\n                      ].selected = false;\n                    }\n                  }\n                );\n\n                newMyObjProfile.options[index].optionsList[listIndex].selected =\n                  true;\n                setoptionVal(option);\n                setmyObjProfile(newMyObjProfile);\n              }}\n              value={optionVal}\n              style={styles.oneTimeSelectableOptionGroup}\n            />\n          );\n        } else {\n          const optionsSelected = myObjProfile.options[\n            index\n          ].optionsList.filter((op) => op.selectedTimes > 0);\n          const optionsSelectedLabel =\n            optionsSelected.length > 0\n              ? optionsSelected.map((op, index) => {\n                  if (index > 0) return `, ${op.label} (${op.selectedTimes})`;\n                  return `${op.label} (${op.selectedTimes})`;\n                })\n              : \"\";\n\n          return (\n            <MultipleTimeSelectableOptionGroup\n              e={e}\n              index={index}\n              myObjProfile={myObjProfile}\n              setmyObjProfile={setmyObjProfile}\n              id={index}\n              style={styles.dropdownSelectableOption}\n              setopenDropdown={setopenOptions}\n              openDropdown={openOptions}\n              label={e.label}\n              isRequired={e.isRequired}\n              optionsSelectedLabel={optionsSelectedLabel}\n            />\n          );\n        }\n      }\n    } else if (checkCases() === false) {\n      const newMyObjProfile = structuredClone(myObjProfile);\n      newMyObjProfile.options[index].optionsList.forEach(\n        (item, indexOfItem) => {\n          if (item.selected === true) {\n            newMyObjProfile.options[index].optionsList[indexOfItem].selected =\n              false;\n            setmyObjProfile(newMyObjProfile);\n          }\n        }\n      );\n    }\n  };\n\n  useEffect(() => {\n    settotal(getPrice());\n    console.log(\"myObjProfile: \", myObjProfile);\n  }, [myObjProfile]);\n\n  const getPrice = () => {\n    let total = parseFloat(myObjProfile.price);\n    myObjProfile.options.forEach((op) => {\n      op.optionsList\n        .filter((f) => f.selected === true)\n        .map(\n          (e) => (total += e.priceIncrease ? parseFloat(e.priceIncrease) : 0)\n        );\n    });\n    myObjProfile.options.forEach((op) => {\n      op.optionsList\n        .filter((f) => f.selectedTimes > 0)\n        .map((e) => {\n          const thisItemSelectedTimes = e.selectedTimes\n            ? parseInt(e.selectedTimes)\n            : 0;\n          const thisItemCountsAs = e.countsAs ? parseInt(e.countsAs) : 1;\n          total += e.priceIncrease\n            ? parseFloat(e.priceIncrease) *\n              thisItemCountsAs *\n              thisItemSelectedTimes\n            : 0;\n        });\n    });\n    return total;\n  };\n\n  const AddToCart = () => {\n    const opsArray = [];\n    let stop = false;\n\n    myObjProfile.options.forEach((op) => {\n      if (\n        op.optionType?.toLowerCase() === \"dropdown\" ||\n        op.numOfSelectable === \"1\"\n      ) {\n        let opWVal = `${op.label}: `;\n        const numberOfSelected = op.optionsList.filter(\n          (f) => f.selected === true\n        ).length;\n\n        if (numberOfSelected > 0) {\n          opWVal = `${op.label}: `;\n\n          op.optionsList.map((e, index) => {\n            if (e.selected === true) {\n              if (index < op.optionsList.length - 1 && numberOfSelected > 1) {\n                opWVal += e.label + \" , \";\n              } else {\n                opWVal += e.label;\n              }\n            }\n          });\n          opsArray.push(opWVal);\n        } else if (numberOfSelected === 0 && op.isRequired === true) {\n          alert(op.label + \" is required. Please fill out to add to cart\");\n          stop = true;\n        }\n      } else {\n        const selectedItems = op.optionsList.filter(\n          (op) => op.selectedTimes > 0\n        );\n        if (selectedItems.length > 0) {\n          let opWVal = `${op.label}:\\n`;\n          selectedItems.map((e, index) => {\n            if (index < selectedItems.length - 1) {\n              opWVal += \"   \" + e.selectedTimes + \" X \" + e.label + \"\\n\";\n            } else {\n              opWVal += \"   \" + e.selectedTimes + \" X \" + e.label;\n            }\n          });\n          opsArray.push(opWVal);\n        }\n      }\n    });\n    if (!stop) {\n      const objWTotal = {\n        ...myObjProfile,\n        total: total,\n        extraDetails: extraInput,\n      };\n\n      if (itemIndex >= 0) {\n        const copyCart = structuredClone(cart);\n        copyCart[itemIndex] = {\n          name: myObjProfile.name,\n          price: total,\n          description: myObj.description,\n          options: opsArray,\n          extraDetails: extraInput,\n          editableObj: objWTotal,\n          imageUrl: imageUrl ? imageUrl : null,\n        };\n        setCartState(copyCart);\n      } else {\n        addCartState(\n          {\n            name: myObjProfile.name,\n            price: total,\n            description: myObj.description,\n            options: opsArray,\n            extraDetails: extraInput,\n            editableObj: objWTotal,\n            imageUrl: imageUrl ? imageUrl : null,\n          },\n          cart\n        );\n      }\n\n      goBack();\n      setmyObjProfile(myObj);\n      settotal(myObjProfile.price);\n      setextraInput(null);\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.productBuilderGroup}>\n        <View\n          style={[\n            styles.goBackRow,\n            !myObj.description ? { marginBottom: 20 } : { marginBottom: 120 },\n          ]}\n        >\n          <GoBackBtn onPress={goBack} style={styles.goBackBtn} />\n        </View>\n        <View style={styles.leftRightGroup}>\n          <View style={styles.leftSideGroup}>\n            <View style={styles.itemInfoContainer}>\n              <Image\n                source={\n                  imageUrl\n                    ? { uri: imageUrl }\n                    : require(\"../../assets/images/image_xJCw..png\")\n                }\n                resizeMode=\"contain\"\n                style={[\n                  styles.itemImg,\n                  myObj.description && { width: 200, height: 200 },\n                ]}\n              ></Image>\n              <View style={styles.itemInfoTxtGroup}>\n                <View style={styles.topTxtGroup}>\n                  <Text style={styles.productName}>{myObj.name}</Text>\n                  {myObj.calorieDetails && (\n                    <Text style={styles.calorieDetails}>280 cal/slice</Text>\n                  )}\n                </View>\n                {myObj.description && (\n                  <Text style={styles.description}>\n                    Description: {myObj.description}\n                  </Text>\n                )}\n              </View>\n            </View>\n            <View style={styles.writeNoteContainer}>\n              <Text style={styles.notesLbl}>Notes:</Text>\n              <TextInput\n                style={styles.noteInput}\n                placeholder=\"Write any extra info here...\"\n                placeholderTextColor=\"#90949a\"\n                multiline={true}\n                numberOfLines={4}\n                onChangeText={(val) => setextraInput(val)}\n                value={extraInput}\n              />\n            </View>\n          </View>\n          <View style={styles.rightSideGroup}>\n            <ScrollView\n              contentContainerStyle={{\n                height: \"90%\",\n                width: \"100%\",\n                padding: 20,\n                paddingLeft: 30,\n                paddingRight: 30,\n              }}\n            >\n              {myObjProfile.options.map((e, index) => (\n                <DisplayOption e={e} index={index} key={index} />\n              ))}\n            </ScrollView>\n            <View style={styles.totalLblRow}>\n              <Text style={styles.totalLbl}>\n                Total: ${parseFloat(total).toFixed(2)}\n              </Text>\n            </View>\n          </View>\n        </View>\n        <View style={styles.addToCartRow}>\n          <AddToCartBtn\n            style={styles.addToCartBtn}\n            title={itemIndex >= 0 ? \"Save\" : \"Add To Cart\"}\n            onPress={AddToCart}\n          />\n        </View>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    backgroundColor: \"#edf2ff\",\n    width: \"100%\",\n    height: \"100%\",\n  },\n  productBuilderGroup: {\n    width: \"90%\",\n    height: \"85%\",\n    justifyContent: \"space-between\",\n  },\n  goBackRow: {\n    alignSelf: \"stretch\",\n  },\n  goBackBtn: {\n    height: 32,\n    width: 126,\n  },\n  leftRightGroup: {\n    height: \"70%\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignSelf: \"stretch\",\n  },\n  leftSideGroup: {\n    width: \"35%\",\n    height: \"100%\",\n    justifyContent: \"space-between\",\n  },\n  itemInfoContainer: {\n    height: \"60%\",\n    borderRadius: 20,\n    backgroundColor: \"rgba(255,255,255,1)\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    alignSelf: \"stretch\",\n  },\n  itemImg: {\n    height: 150,\n    width: 150,\n    resizeMode: \"contain\",\n  },\n  itemInfoTxtGroup: {\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  topTxtGroup: {\n    marginTop: 7,\n    marginBottom: 15,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  productName: {\n    fontWeight: \"700\",\n    color: \"#121212\",\n    fontSize: 30,\n    paddingLeft: \"3%\",\n    paddingRight: \"3%\",\n    textAlign: \"center\",\n  },\n  calorieDetails: {\n    color: \"rgba(131,126,126,1)\",\n    marginBottom: 25,\n  },\n  description: {\n    color: \"rgba(131,126,126,1)\",\n    width: 214,\n    textAlign: \"left\",\n    paddingBottom: 50,\n  },\n  writeNoteContainer: {\n    height: \"35%\",\n    justifyContent: \"space-between\",\n    alignSelf: \"stretch\",\n  },\n  notesLbl: {\n    fontWeight: \"700\",\n    color: \"#121212\",\n    marginBottom: 10,\n  },\n  noteInput: {\n    width: \"100%\",\n    height: \"90%\",\n    backgroundColor: \"rgba(255,255,255,1)\",\n    borderRadius: 20,\n    padding: 10,\n  },\n  noteInputTxt: {\n    color: \"#90949a\",\n  },\n  rightSideGroup: {\n    width: \"60%\",\n    height: \"100%\",\n    justifyContent: \"space-between\",\n    backgroundColor: \"white\",\n    borderRadius: 10,\n    zIndex: 999,\n  },\n  oneTimeSelectableOptionGroup: {\n    marginBottom: 20,\n    alignSelf: \"stretch\",\n  },\n  dropdownSelectableOption: {\n    height: 44,\n    marginBottom: 20,\n    alignSelf: \"stretch\",\n  },\n  totalLblRow: {\n    flexDirection: \"row\",\n    justifyContent: \"flex-end\",\n    alignSelf: \"stretch\",\n    paddingLeft: 30,\n    paddingRight: 30,\n    paddingBottom: 20,\n    paddingTop: 20,\n  },\n  totalLbl: {\n    fontWeight: \"700\",\n    color: \"#00c937\",\n    fontSize: 22,\n    marginTop: 0,\n  },\n  addToCartRow: {\n    flexDirection: \"row\",\n    justifyContent: \"flex-end\",\n    alignSelf: \"stretch\",\n    marginTop: 25,\n    height: 41,\n    zIndex: -100,\n  },\n  addToCartBtn: {\n    height: 41,\n    width: 147,\n    zIndex: -100,\n  },\n});\n\nexport default ProductBuilderModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}