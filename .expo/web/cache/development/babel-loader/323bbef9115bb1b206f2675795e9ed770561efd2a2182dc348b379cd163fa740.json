{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { Entypo, Feather } from \"@expo/vector-icons\";\nimport { logout } from \"../state/firebaseFunctions\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction GeneralDropdown(_ref) {\n  var styles = _ref.styles,\n    storeDetails = _ref.storeDetails;\n  var dropdownRef = useRef();\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    dropdownLayout = _useState2[0],\n    setDropdownLayout = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    openDropdown = _useState4[0],\n    setopenDropdown = _useState4[1];\n  useEffect(function () {\n    if (dropdownRef.current && typeof window !== \"undefined\") {\n      var element = dropdownRef.current;\n      var boundingRect = element.getBoundingClientRect();\n      setDropdownLayout({\n        x: boundingRect.left,\n        y: boundingRect.top,\n        width: boundingRect.width,\n        height: boundingRect.height\n      });\n    }\n  }, []);\n  return _jsxs(View, {\n    style: {\n      zIndex: 1000\n    },\n    children: [_jsxs(TouchableOpacity, {\n      style: styles.userBtn,\n      activeOpacity: 0.8,\n      onPress: function onPress() {\n        return setopenDropdown(function (prev) {\n          return !prev;\n        });\n      },\n      ref: dropdownRef,\n      children: [_jsxs(View, {\n        style: styles.iconWithNameGroup,\n        children: [_jsx(Image, {\n          source: require(\"../assets/image_bTyU..png\"),\n          resizeMode: \"contain\",\n          style: styles.userIcon\n        }), _jsx(Text, {\n          style: styles.username,\n          children: storeDetails.name\n        })]\n      }), _jsx(Entypo, {\n        name: openDropdown ? \"chevron-small-up\" : \"chevron-small-down\",\n        style: styles.chevronDownIcon\n      })]\n    }), _jsxs(Modal, {\n      visible: openDropdown,\n      transparent: true,\n      children: [_jsx(TouchableOpacity, {\n        style: {\n          width: \"100%\",\n          height: \"100%\"\n        },\n        onPress: function onPress() {\n          setopenDropdown(false);\n        }\n      }), dropdownLayout && _jsxs(View, {\n        style: {\n          position: \"absolute\",\n          top: dropdownLayout.y,\n          left: dropdownLayout.x,\n          width: dropdownLayout.width\n        },\n        children: [_jsxs(TouchableOpacity, {\n          style: styles.userBtn,\n          activeOpacity: 0.8,\n          onPress: function onPress() {\n            return setopenDropdown(function (prev) {\n              return !prev;\n            });\n          },\n          children: [_jsxs(View, {\n            style: styles.iconWithNameGroup,\n            children: [_jsx(View, {\n              style: [styles.userIcon, {\n                backgroundColor: \"transparent\"\n              }]\n            }), _jsx(Text, {\n              style: styles.username,\n              children: storeDetails.name\n            })]\n          }), _jsx(Entypo, {\n            name: openDropdown ? \"chevron-small-up\" : \"chevron-small-down\",\n            style: styles.chevronDownIcon\n          })]\n        }), openDropdown && _jsxs(TouchableOpacity, {\n          style: {\n            backgroundColor: \"rgba(255,255,255,1)\",\n            borderRadius: 10,\n            shadowColor: \"rgba(0,0,0,1)\",\n            shadowOffset: {\n              width: 3,\n              height: 3\n            },\n            elevation: 30,\n            shadowOpacity: 0.2,\n            shadowRadius: 10,\n            flexDirection: \"row\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n            width: dropdownLayout.width,\n            height: 43,\n            position: \"absolute\",\n            bottom: -50,\n            left: 0,\n            padding: 10\n          },\n          onPress: logout,\n          children: [_jsx(Text, {\n            style: styles.logoutFromAccount,\n            children: \"Logout\"\n          }), _jsx(Feather, {\n            name: \"log-out\",\n            style: styles.logoutIcon\n          })]\n        })]\n      })]\n    })]\n  });\n}\nexport default GeneralDropdown;","map":{"version":3,"names":["React","useEffect","useRef","useState","View","Text","TouchableOpacity","Modal","Image","Entypo","Feather","logout","jsx","_jsx","jsxs","_jsxs","GeneralDropdown","_ref","styles","storeDetails","dropdownRef","_useState","_useState2","_slicedToArray","dropdownLayout","setDropdownLayout","_useState3","_useState4","openDropdown","setopenDropdown","current","window","element","boundingRect","getBoundingClientRect","x","left","y","top","width","height","style","zIndex","children","userBtn","activeOpacity","onPress","prev","ref","iconWithNameGroup","source","require","resizeMode","userIcon","username","name","chevronDownIcon","visible","transparent","position","backgroundColor","borderRadius","shadowColor","shadowOffset","elevation","shadowOpacity","shadowRadius","flexDirection","alignItems","justifyContent","bottom","padding","logoutFromAccount","logoutIcon"],"sources":["/Users/peterputros/Desktop/PosMate/components/HeaderLogoutDropdown.tsx"],"sourcesContent":["import React, { Component, useEffect, useRef, useState } from \"react\";\nimport {\n  StyleSheet,\n  View,\n  Text,\n  TouchableOpacity,\n  ScrollView,\n  Modal,\n  Image,\n} from \"react-native\";\nimport { Entypo, Feather } from \"@expo/vector-icons\";\nimport { logout } from \"state/firebaseFunctions\";\n\nfunction GeneralDropdown({ styles, storeDetails }) {\n  const dropdownRef = useRef(); // Reference to the original button\n  const [dropdownLayout, setDropdownLayout] = useState();\n  const [openDropdown, setopenDropdown] = useState(false);\n\n  useEffect(() => {\n    // Ensure this code runs in a web environment\n    if (dropdownRef.current && typeof window !== \"undefined\") {\n      const element = dropdownRef.current; // Assuming this ref points to a DOM element\n      // You might need to adjust this to get the actual DOM node in React Native Web\n\n      const boundingRect = element.getBoundingClientRect();\n\n      setDropdownLayout({\n        x: boundingRect.left,\n        y: boundingRect.top, // Adjust based on scroll position\n        width: boundingRect.width,\n        height: boundingRect.height,\n      });\n    }\n  }, []); // Recalculate when scroll position changes\n\n  return (\n    <View style={{ zIndex: 1000 }}>\n      <TouchableOpacity\n        style={styles.userBtn}\n        activeOpacity={0.8}\n        onPress={() => setopenDropdown((prev) => !prev)}\n        ref={dropdownRef}\n      >\n        <View style={styles.iconWithNameGroup}>\n          <Image\n            source={require(\"assets/image_bTyU..png\")}\n            resizeMode=\"contain\"\n            style={styles.userIcon}\n          />\n          <Text style={styles.username}>{storeDetails.name}</Text>\n        </View>\n        <Entypo\n          name={openDropdown ? \"chevron-small-up\" : \"chevron-small-down\"}\n          style={styles.chevronDownIcon}\n        />\n      </TouchableOpacity>\n      <Modal visible={openDropdown} transparent={true}>\n        <TouchableOpacity\n          style={{\n            width: \"100%\",\n            height: \"100%\",\n          }}\n          onPress={() => {\n            setopenDropdown(false);\n          }} // Hide modal when the background is pressed\n        />\n        {dropdownLayout && (\n          <View\n            style={{\n              position: \"absolute\",\n              top: dropdownLayout.y,\n              left: dropdownLayout.x,\n              width: dropdownLayout.width,\n            }}\n          >\n            <TouchableOpacity\n              style={styles.userBtn}\n              activeOpacity={0.8}\n              onPress={() => setopenDropdown((prev) => !prev)}\n            >\n              <View style={styles.iconWithNameGroup}>\n                <View\n                  style={[styles.userIcon, { backgroundColor: \"transparent\" }]}\n                />\n                <Text style={styles.username}>{storeDetails.name}</Text>\n              </View>\n              <Entypo\n                name={openDropdown ? \"chevron-small-up\" : \"chevron-small-down\"}\n                style={styles.chevronDownIcon}\n              />\n            </TouchableOpacity>\n            {openDropdown && (\n              <TouchableOpacity\n                style={{\n                  backgroundColor: \"rgba(255,255,255,1)\",\n                  borderRadius: 10,\n                  shadowColor: \"rgba(0,0,0,1)\",\n                  shadowOffset: {\n                    width: 3,\n                    height: 3,\n                  },\n                  elevation: 30,\n                  shadowOpacity: 0.2,\n                  shadowRadius: 10,\n                  flexDirection: \"row\",\n                  alignItems: \"center\",\n                  justifyContent: \"space-between\",\n                  width: dropdownLayout.width,\n                  height: 43,\n                  position: \"absolute\",\n                  bottom: -50,\n                  left: 0,\n                  padding: 10,\n                }}\n                onPress={logout}\n              >\n                <Text style={styles.logoutFromAccount}>Logout</Text>\n                <Feather name=\"log-out\" style={styles.logoutIcon} />\n              </TouchableOpacity>\n            )}\n          </View>\n        )}\n      </Modal>\n    </View>\n  );\n}\n\nexport default GeneralDropdown;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}