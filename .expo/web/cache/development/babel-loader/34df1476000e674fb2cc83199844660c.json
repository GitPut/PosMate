{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport MainAuthed from \"./authed/MainAuthed\";\nimport { setStoreDetailState, setTrialDetailsState, setTutorialDetailsState, setUserState, setUserStoreState, setWoocommerceState, storeDetailState, trialDetailsState, tutorialDetailsState, userState, woocommerceState } from \"../state/state\";\nimport MainNonAuth from \"./non-authed/MainNonAuth\";\nimport { auth, db } from \"../state/firebaseConfig\";\nimport { updateFreeTrial } from \"../state/firebaseFunctions\";\nvar tz = require(\"moment-timezone\");\nimport useSound from \"use-sound\";\nimport mySound from \"../assets/alarm.mp3\";\nimport PlanUpdateTest from \"../screens/authed/PlanUpdateTest\";\nimport NewUserPayment from \"../screens/authed/NewUserPayment\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport * as Font from \"expo-font\";\nimport TrialEnded from \"../components/TrialEnded\";\nimport Tutorial from \"../components/Tutorial\";\n\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport AuthRoute from \"./authed/AuthRoute\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar RouteManager = function RouteManager() {\n  var savedUserState = JSON.parse(localStorage.getItem(\"savedUserState\"));\n  var isTutorialCompleteLocal = JSON.parse(localStorage.getItem(\"tutorialComplete\") || null);\n  var userS = userState.use();\n  var wooCredentials = woocommerceState.use();\n  var storeDetails = storeDetailState.use();\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setloading = _useState2[1];\n  var _useSound = useSound(mySound),\n    _useSound2 = _slicedToArray(_useSound, 1),\n    playSound = _useSound2[0];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isNewUser = _useState4[0],\n    setisNewUser = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isSubscribed = _useState6[0],\n    setisSubscribed = _useState6[1];\n  var fadeAnim = useRef(new Animated.Value(1)).current;\n  var _useState7 = useState(true),\n    _useState8 = _slicedToArray(_useState7, 2),\n    viewVisible = _useState8[0],\n    setviewVisible = _useState8[1];\n  var _useState9 = useState(null),\n    _useState10 = _slicedToArray(_useState9, 2),\n    isCanceled = _useState10[0],\n    setisCanceled = _useState10[1];\n  var trialDetails = trialDetailsState.use();\n  var tutorialDetails = tutorialDetailsState.use();\n  var _Font$useFonts = Font.useFonts({\n      \"archivo-600\": require(\"../assets/fonts/Archivo-SemiBold.ttf\"),\n      \"archivo-500\": require(\"../assets/fonts/Archivo-Regular.ttf\")\n    }),\n    _Font$useFonts2 = _slicedToArray(_Font$useFonts, 1),\n    fontsLoaded = _Font$useFonts2[0];\n  useEffect(function () {\n    setUserState(savedUserState ? savedUserState : null);\n    auth.onAuthStateChanged(function (user) {\n      fadeAnim.setValue(1);\n      setviewVisible(true);\n      if (user) {\n        localStorage.setItem(\"savedUserState\", true);\n        setUserState(user);\n        var customers = localStorage.getItem(\"customers\");\n        if (customers) {\n          customers = JSON.parse(customers);\n        }\n        db.collection(\"users\").doc(user.uid).get().then(function (doc) {\n          doc.ref.collection(\"subscriptions\").get().then(function (docs) {\n            if (!docs.empty) {\n              docs.forEach(function (element) {\n                if (element.data().role === \"Test Plan\") {\n                  if (element.data().status === \"active\") {\n                    setisSubscribed(true);\n                    setisNewUser(false);\n                    if (doc.data().freeTrial) {\n                      setTrialDetailsState({\n                        endDate: null,\n                        hasEnded: null\n                      });\n                      updateFreeTrial(null);\n                    }\n                  } else if (element.data().status === \"canceled\") {\n                    setisSubscribed(false);\n                    setisNewUser(false);\n                    setisCanceled(true);\n                  } else {\n                    setisSubscribed(false);\n                    setisNewUser(false);\n                  }\n                }\n              });\n            } else {\n              setisNewUser(true);\n              setisSubscribed(false);\n            }\n          }).catch(function () {\n            return console.log(\"Error has occured with db\");\n          });\n          doc.ref.collection(\"customers\").get().then(function (docs) {\n            var newCustomerList = [];\n            docs.forEach(function (element) {\n              newCustomerList.push(_objectSpread(_objectSpread({}, element.data()), {}, {\n                id: element.id\n              }));\n            });\n            if (JSON.stringify(customers) !== JSON.stringify(newCustomerList)) {\n              localStorage.setItem(\"customers\", JSON.stringify(newCustomerList));\n            }\n          }).catch(function () {\n            return console.log(\"Error has occured with db\");\n          });\n          if (doc.data().freeTrial) {\n            setisNewUser(false);\n            var firstDate = new Date(doc.data().freeTrial.seconds * 1000);\n            var today = new Date();\n            if (firstDate <= today) {\n              setTrialDetailsState({\n                endDate: doc.data().freeTrial,\n                hasEnded: true\n              });\n            } else {\n              setTrialDetailsState({\n                endDate: doc.data().freeTrial,\n                hasEnded: false\n              });\n            }\n          }\n          setUserStoreState({\n            products: doc.data().products ? doc.data().products : [],\n            categories: doc.data().categories ? doc.data().categories : []\n          });\n          if (doc.data().wooCredentials) {\n            setWoocommerceState(doc.data().wooCredentials);\n          }\n          if (doc.data().storeDetails) {\n            setStoreDetailState(doc.data().storeDetails);\n          }\n          if (isTutorialCompleteLocal) {\n            if (isTutorialCompleteLocal.complete !== null) {\n              setTutorialDetailsState({\n                complete: isTutorialCompleteLocal.complete,\n                step: isTutorialCompleteLocal.step\n              });\n            }\n          } else {\n            setTutorialDetailsState({\n              complete: false,\n              step: 0\n            });\n          }\n        }).catch(function () {\n          return console.log(\"Error has occured with db\");\n        });\n      } else {\n        localStorage.removeItem(\"savedUserState\");\n        setUserState(null);\n        setUserStoreState({\n          products: null,\n          categories: null\n        });\n        setisNewUser(false);\n        setisSubscribed(false);\n      }\n    });\n  }, []);\n  useEffect(function () {\n    if (userS && isSubscribed || trialDetails.hasEnded == false) {\n      if (true) {\n        import(\"../assets/plugins/fontawesome/css/fontawesome.min.css\").then(function (something) {\n          console.log(something.something);\n        });\n        import(\"../assets/plugins/fontawesome/css/all.min.css\").then(function (something) {\n          console.log(something.something);\n        });\n        import(\"../assets/css/bootstrap.min.css\").then(function (something) {\n          console.log(something.something);\n        });\n        import(\"../assets/js/bootstrap.bundle.min.js\").then(function (something) {\n          console.log(something.something);\n        });\n        import(\"../assets/css/font-awesome.min.css\").then(function (something) {\n          console.log(something.something);\n        });\n        import(\"../assets/css/line-awesome.min.css\").then(function (something) {\n          console.log(something.something);\n        });\n        import(\"../assets/css/style.css\").then(function (something) {\n          console.log(something.something);\n        });\n      }\n      var unsub = db.collection(\"users\").doc(userS.uid).onSnapshot(function (doc) {\n        setUserStoreState({\n          products: doc.data().products ? doc.data().products : [],\n          categories: doc.data().categories ? doc.data().categories : []\n        });\n        if (doc.data().wooCredentials) {\n          setWoocommerceState(doc.data().wooCredentials);\n        }\n        if (doc.data().storeDetails) {\n          setStoreDetailState(doc.data().storeDetails);\n        }\n      });\n\n      return function () {\n        return unsub();\n      };\n    }\n  }, [userS, isSubscribed, trialDetails]);\n  useEffect(function () {\n    if (wooCredentials.useWoocommerce === true && isSubscribed) {\n      var interval = setInterval(function () {\n        try {\n          var WooCommerceAPI = require(\"woocommerce-api\");\n          var WooCommerce = new WooCommerceAPI({\n            url: wooCredentials.apiUrl,\n            consumerKey: wooCredentials.ck,\n            consumerSecret: wooCredentials.cs,\n            wpAPI: true,\n            version: \"wc/v1\"\n          });\n          var page = 1;\n          var orders = [];\n          var getOrders = function () {\n            var _ref = _asyncToGenerator(function* () {\n              var response = yield WooCommerce.getAsync(\"orders?page=\" + page + \"&per_page=100\");\n              var data = JSON.parse(response.body);\n              orders = [].concat(_toConsumableArray(orders), _toConsumableArray(data));\n              if (data.length === 100) {\n                page++;\n                getOrders();\n              } else {\n              }\n            });\n            return function getOrders() {\n              return _ref.apply(this, arguments);\n            };\n          }();\n          getOrders().then(function () {\n            var array1 = localStorage.getItem(\"prevWooOrders\");\n            array1 = JSON.parse(array1);\n            if (array1) {\n              var array2 = orders;\n\n              var newArray = [];\n              var acc = [];\n              var CleanupOps = function CleanupOps(metaList) {\n                var opsArray = [];\n                metaList.forEach(function (op) {\n                  var arrContaingMe = opsArray.filter(function (filterOp) {\n                    return filterOp.key === op.key;\n                  });\n                  if (arrContaingMe.length > 0) {\n                    opsArray.forEach(function (opsArrItem, index) {\n                      if (opsArrItem.key === op.key) {\n                        opsArray[index].vals.push(op.value);\n                      }\n                    });\n                  } else {\n                    opsArray.push({\n                      key: op.key,\n                      vals: [op.value]\n                    });\n                  }\n                });\n                return opsArray;\n              };\n\n              array1.concat(array2).forEach(function (combinedItem) {\n                if (!acc.includes(combinedItem.id)) {\n                  acc.push(combinedItem.id);\n                  newArray.push(combinedItem);\n                }\n              });\n              if (newArray.length > array1.length) {\n                playSound();\n                var newItems = structuredClone(newArray).splice(array1.length, newArray.length - array1.length);\n                localStorage.setItem(\"prevWooOrders\", JSON.stringify(newArray));\n                if (newItems.length > 1) {\n                  newItems.forEach(function (e) {\n                    var _storeDetails$address, _e$line_items;\n                    var printData = [];\n                    var dateString = e.date_created;\n                    var newDate = new Date(dateString + \"Z\");\n                    var targetTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n                    var resultDate = tz(newDate).tz(targetTimezone, true).format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n                    printData.push(\"\\x1B\\x40\",\n                    \"\\x1B\" + \"\\x61\" + \"\\x31\",\n                    storeDetails.name, \"\\x0A\", ((_storeDetails$address = storeDetails.address) == null ? void 0 : _storeDetails$address.label) + \"\\x0A\", storeDetails.website + \"\\x0A\",\n                    storeDetails.phoneNumber + \"\\x0A\",\n                    resultDate + \"\\x0A\", \"\\x0A\", \"Online Order\" + \"\\x0A\",\n                    \"Transaction ID \" + e.number + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\");\n\n                    (_e$line_items = e.line_items) == null ? void 0 : _e$line_items.map(function (cartItem) {\n                      printData.push(\"\\x0A\");\n                      printData.push(\"Name: \" + cartItem.name);\n                      printData.push(\"\\x0A\");\n                      printData.push(\"Quantity: \" + cartItem.quantity);\n                      printData.push(\"\\x0A\");\n                      printData.push(\"Price: $\" + cartItem.price);\n                      printData.push(\"\\x0A\");\n                      if (cartItem.meta) {\n                        CleanupOps(cartItem.meta).map(function (returnedItem) {\n                          printData.push(returnedItem.key + \" : \");\n                          printData.push(\"\\x0A\");\n                          returnedItem.vals.map(function (val, index) {\n                            printData.push(\"\" + val);\n                            printData.push(\"\\x0A\");\n                            if (index >= 0 && index < returnedItem.vals.length - 1) {\n                              printData.push(\", \");\n                            }\n                          });\n                          printData.push(\"\\x0A\");\n                        });\n                      } else {\n                        printData.push(\"\\x0A\" + \"\\x0A\");\n                      }\n                    });\n                    printData.push(\"\\x0A\");\n                    printData.push(\"\\x0A\");\n                    printData.push(\"Customer Details:\");\n                    printData.push(\"\\x0A\");\n                    printData.push(\"Address: \" + e.shipping.address_1);\n                    printData.push(\"\\x0A\");\n                    printData.push(\"City: \" + e.shipping.city);\n                    printData.push(\"\\x0A\");\n                    printData.push(\"Zip/Postal Code: \" + e.shipping.postcode);\n                    printData.push(\"\\x0A\");\n                    printData.push(\"Province/State: \" + e.shipping.state);\n                    printData.push(\"\\x0A\");\n                    printData.push(\"Name: \" + e.shipping.first_name + \" \" + e.shipping.last_name);\n                    printData.push(\"\\x0A\");\n                    printData.push(\"Phone Number: \" + e.billing.phone);\n                    printData.push(\"\\x0A\");\n                    e.shipping_lines.map(function (line) {\n                      printData.push(\"Shipping Method: \" + line.method_title);\n                      printData.push(\"\\x0A\");\n                    });\n                    if (e.customer_note) {\n                      printData.push(\"Customer Note: \" + e.customer_note);\n                      printData.push(\"\\x0A\");\n                    }\n                    printData.push(\"\\x0A\");\n                    printData.push(\"\\x0A\");\n                    printData.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Payment Method: \" + e.payment_method_title + \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + \"$\" + e.total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n                    \"\\x0A\",\n                    \"\\x0A\",\n                    \"\\x0A\",\n                    \"\\x0A\",\n                    \"\\x0A\");\n\n                    printData.push(\"\\x1D\" + \"\\x56\" + \"\\x00\");\n                    var qz = require(\"qz-tray\");\n                    qz.websocket.connect().then(function () {\n                      var config = qz.configs.create(storeDetails.comSelected);\n                      return qz.print(config, printData);\n                    }).then(qz.websocket.disconnect).catch(function (err) {\n                      console.error(err);\n                    });\n                  });\n                } else {\n                  var _storeDetails$address2, _e$line_items2;\n                  var e = newItems[0];\n                  var printData = [];\n                  var dateString = e.date_created;\n                  var newDate = new Date(dateString + \"Z\");\n                  var targetTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n                  var resultDate = tz(newDate).tz(targetTimezone, true).format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n                  printData.push(\"\\x1B\" + \"\\x40\",\n                  \"\\x1B\" + \"\\x61\" + \"\\x31\",\n                  storeDetails.name, \"\\x0A\", ((_storeDetails$address2 = storeDetails.address) == null ? void 0 : _storeDetails$address2.label) + \"\\x0A\", storeDetails.website + \"\\x0A\",\n                  storeDetails.phoneNumber + \"\\x0A\",\n                  resultDate + \"\\x0A\", \"\\x0A\", \"Online Order\" + \"\\x0A\",\n                  \"Transaction ID \" + e.number + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\");\n\n                  (_e$line_items2 = e.line_items) == null ? void 0 : _e$line_items2.map(function (cartItem) {\n                    printData.push(\"\\x0A\");\n                    printData.push(\"Name: \" + cartItem.name);\n                    printData.push(\"\\x0A\");\n                    printData.push(\"Quantity: \" + cartItem.quantity);\n                    printData.push(\"\\x0A\");\n                    printData.push(\"Price: $\" + cartItem.price);\n                    printData.push(\"\\x0A\");\n                    if (cartItem.meta) {\n                      CleanupOps(cartItem.meta).map(function (returnedItem) {\n                        printData.push(returnedItem.key + \" : \");\n                        printData.push(\"\\x0A\");\n                        returnedItem.vals.map(function (val, index) {\n                          printData.push(\"\" + val);\n                          printData.push(\"\\x0A\");\n                          if (index >= 0 && index < returnedItem.vals.length - 1) {\n                            printData.push(\", \");\n                          }\n                        });\n                        printData.push(\"\\x0A\");\n                      });\n                    } else {\n                      printData.push(\"\\x0A\" + \"\\x0A\");\n                    }\n                  });\n                  printData.push(\"\\x0A\");\n                  printData.push(\"\\x0A\");\n                  printData.push(\"Customer Details:\");\n                  printData.push(\"\\x0A\");\n                  printData.push(\"Address: \" + e.shipping.address_1);\n                  printData.push(\"\\x0A\");\n                  printData.push(\"City: \" + e.shipping.city);\n                  printData.push(\"\\x0A\");\n                  printData.push(\"Zip/Postal Code: \" + e.shipping.postcode);\n                  printData.push(\"\\x0A\");\n                  printData.push(\"Province/State: \" + e.shipping.state);\n                  printData.push(\"\\x0A\");\n                  printData.push(\"Name: \" + e.shipping.first_name + \" \" + e.shipping.last_name);\n                  printData.push(\"\\x0A\");\n                  printData.push(\"Phone Number: \" + e.billing.phone);\n                  printData.push(\"\\x0A\");\n                  e.shipping_lines.map(function (line) {\n                    printData.push(\"Shipping Method: \" + line.method_title);\n                    printData.push(\"\\x0A\");\n                  });\n                  if (e.customer_note) {\n                    printData.push(\"Customer Note: \" + e.customer_note);\n                    printData.push(\"\\x0A\");\n                  }\n                  printData.push(\"\\x0A\");\n                  printData.push(\"\\x0A\");\n                  printData.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Payment Method: \" + e.payment_method_title + \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + \"$\" + e.total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n                  \"\\x0A\",\n                  \"\\x0A\",\n                  \"\\x0A\",\n                  \"\\x0A\",\n                  \"\\x0A\");\n\n                  printData.push(\"\\x1D\" + \"\\x56\" + \"\\x00\");\n                  var qz = require(\"qz-tray\");\n                  qz.websocket.connect().then(function () {\n                    var config = qz.configs.create(storeDetails.comSelected);\n                    return qz.print(config, printData);\n                  }).then(qz.websocket.disconnect).catch(function (err) {\n                    console.error(err);\n                  });\n                }\n              }\n            } else {\n              localStorage.setItem(\"prevWooOrders\", JSON.stringify(orders));\n            }\n          }).catch(function (e) {\n            return console.log(\"Error has occured when trying to get WooOrders\");\n          });\n        } catch (_unused) {\n          console.log(\"Error has occured with woocommerce\");\n        }\n      }, 5000);\n      return function () {\n        return clearInterval(interval);\n      };\n    }\n  }, [wooCredentials, isSubscribed]);\n  var linking = {\n    prefixes: [\n    ],\n    config: {\n      screens: {\n        Home: \"\",\n        Features: \"features\",\n        \"About Us\": \"about-us\",\n        Pricing: \"pricing\",\n        Faqs: \"faqs\",\n        Contact: \"contact\",\n        Login: \"log-in\",\n        Signup: \"sign-up\",\n        Legal: \"legal\",\n        \"Reset Password\": \"reset-password\",\n        \"Latest Updates\": \"latest-updates\",\n        \"Not Found\": \"*\"\n      }\n    }\n  };\n  var fadeIn = function fadeIn() {\n    Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 500,\n      useNativeDriver: false\n    }).start();\n  };\n  var fadeOut = function fadeOut() {\n    Animated.timing(fadeAnim, {\n      toValue: 0,\n      duration: 500,\n      useNativeDriver: false\n    }).start(function () {\n      return setviewVisible(false);\n    });\n  };\n  useEffect(function () {\n    if (isNewUser !== null && isSubscribed !== null) {\n      setloading(false);\n      fadeOut();\n    }\n  }, [isNewUser, isSubscribed]);\n  var resetLoader = function resetLoader() {\n    setviewVisible(true);\n    fadeIn();\n  };\n  var NavigationContent = function NavigationContent() {\n    if (trialDetails.endDate) {\n      return _jsxs(_Fragment, {\n        children: [_jsx(MainAuthed, {}), trialDetails.hasEnded && _jsx(TrialEnded, {\n          resetLoader: resetLoader\n        }), _jsx(Modal, {\n          transparent: true,\n          visible: tutorialDetails.complete !== true && tutorialDetails.step == 0 && !trialDetails.hasEnded,\n          children: _jsx(Tutorial, {})\n        })]\n      });\n    } else if (isSubscribed) {\n      return _jsxs(_Fragment, {\n        children: [_jsx(MainAuthed, {}), _jsx(Modal, {\n          transparent: true,\n          visible: tutorialDetails.complete !== true && tutorialDetails.step == 0,\n          children: _jsx(Tutorial, {})\n        })]\n      });\n    } else if (isNewUser) {\n      return _jsx(NewUserPayment, {\n        resetLoader: resetLoader\n      });\n    } else {\n      return _jsx(PlanUpdateTest, {\n        resetLoader: resetLoader,\n        isCanceled: isCanceled\n      });\n    }\n  };\n  return _jsxs(_Fragment, {\n    children: [userS && _jsx(Router, {\n      children: _jsx(Switch, {\n        children: _jsx(Route, {\n          path: \"/\",\n          component: AuthRoute\n        })\n      })\n    }), !userS && !loading && _jsx(NavigationContainer, {\n      linking: linking,\n      children: _jsx(MainNonAuth, {})\n    })]\n  });\n};\nexport default RouteManager;","map":{"version":3,"names":["React","useEffect","useRef","useState","NavigationContainer","MainAuthed","setStoreDetailState","setTrialDetailsState","setTutorialDetailsState","setUserState","setUserStoreState","setWoocommerceState","storeDetailState","trialDetailsState","tutorialDetailsState","userState","woocommerceState","MainNonAuth","auth","db","updateFreeTrial","tz","require","useSound","mySound","PlanUpdateTest","NewUserPayment","Font","TrialEnded","Tutorial","BrowserRouter","Router","Route","Switch","AuthRoute","RouteManager","savedUserState","JSON","parse","localStorage","getItem","isTutorialCompleteLocal","userS","use","wooCredentials","storeDetails","loading","setloading","playSound","isNewUser","setisNewUser","isSubscribed","setisSubscribed","fadeAnim","Animated","Value","current","viewVisible","setviewVisible","isCanceled","setisCanceled","trialDetails","tutorialDetails","useFonts","fontsLoaded","onAuthStateChanged","user","setValue","setItem","customers","collection","doc","uid","get","then","ref","docs","empty","forEach","element","data","role","status","freeTrial","endDate","hasEnded","catch","console","log","newCustomerList","push","id","stringify","firstDate","Date","seconds","today","products","categories","complete","step","removeItem","something","unsub","onSnapshot","useWoocommerce","interval","setInterval","WooCommerceAPI","WooCommerce","url","apiUrl","consumerKey","ck","consumerSecret","cs","wpAPI","version","page","orders","getOrders","response","getAsync","body","length","array1","array2","newArray","acc","CleanupOps","metaList","opsArray","op","arrContaingMe","filter","filterOp","key","opsArrItem","index","vals","value","concat","combinedItem","includes","newItems","structuredClone","splice","e","printData","dateString","date_created","newDate","targetTimezone","Intl","DateTimeFormat","resolvedOptions","timeZone","resultDate","format","name","address","label","website","phoneNumber","number","line_items","map","cartItem","quantity","price","meta","returnedItem","val","shipping","address_1","city","postcode","state","first_name","last_name","billing","phone","shipping_lines","line","method_title","customer_note","payment_method_title","total","qz","websocket","connect","config","configs","create","comSelected","print","disconnect","err","error","clearInterval","linking","prefixes","screens","Home","Features","Pricing","Faqs","Contact","Login","Signup","Legal","fadeIn","timing","toValue","duration","useNativeDriver","start","fadeOut","resetLoader","NavigationContent"],"sources":["/Users/peterputros/Desktop/PosMate/navigation/RouteManager.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport MainAuthed from \"./authed/MainAuthed\";\nimport {\n  setStoreDetailState,\n  setTransListState,\n  setTrialDetailsState,\n  setTutorialDetailsState,\n  setUserState,\n  setUserStoreState,\n  setWoocommerceState,\n  storeDetailState,\n  trialDetailsState,\n  tutorialDetailsState,\n  userState,\n  woocommerceState,\n} from \"state/state\";\nimport MainNonAuth from \"./non-authed/MainNonAuth\";\nimport { auth, db } from \"state/firebaseConfig\";\nimport Spinner from \"components/Spinner\";\nimport { updateFreeTrial, updateTransList } from \"state/firebaseFunctions\";\nconst tz = require(\"moment-timezone\");\nimport useSound from \"use-sound\";\nimport mySound from \"assets/alarm.mp3\";\nimport PlanUpdateTest from \"screens/authed/PlanUpdateTest\";\nimport NewUserPayment from \"screens/authed/NewUserPayment\";\nimport { Animated, Image, Modal, Text, View } from \"react-native\";\nimport * as Font from \"expo-font\";\nimport TrialEnded from \"components/TrialEnded\";\nimport Tutorial from \"components/Tutorial\";\n// import config from \"config\";\n\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  HashRouter,\n} from \"react-router-dom\";\nimport AuthRoute from \"./authed/AuthRoute\";\n\nconst RouteManager = () => {\n  const savedUserState = JSON.parse(localStorage.getItem(\"savedUserState\"));\n  let isTutorialCompleteLocal = JSON.parse(\n    localStorage.getItem(\"tutorialComplete\") || null\n  );\n  const userS = userState.use();\n  const wooCredentials = woocommerceState.use();\n  const storeDetails = storeDetailState.use();\n  const [loading, setloading] = useState(true);\n  const [playSound] = useSound(mySound);\n  const [isNewUser, setisNewUser] = useState(null);\n  const [isSubscribed, setisSubscribed] = useState(null);\n  const fadeAnim = useRef(new Animated.Value(1)).current;\n  const [viewVisible, setviewVisible] = useState(true);\n  const [isCanceled, setisCanceled] = useState(null);\n  const trialDetails = trialDetailsState.use();\n  const tutorialDetails = tutorialDetailsState.use();\n\n  const [fontsLoaded] = Font.useFonts({\n    \"archivo-600\": require(\"assets/fonts/Archivo-SemiBold.ttf\"),\n    \"archivo-500\": require(\"assets/fonts/Archivo-Regular.ttf\"),\n  });\n\n  useEffect(() => {\n    setUserState(savedUserState ? savedUserState : null);\n    auth.onAuthStateChanged((user) => {\n      fadeAnim.setValue(1);\n      setviewVisible(true);\n      if (user) {\n        localStorage.setItem(\"savedUserState\", true);\n        setUserState(user);\n\n        let customers = localStorage.getItem(\"customers\");\n        if (customers) {\n          customers = JSON.parse(customers);\n        }\n\n        db.collection(\"users\")\n          .doc(user.uid)\n          .get()\n          .then((doc) => {\n            doc.ref\n              .collection(\"subscriptions\")\n              .get()\n              .then((docs) => {\n                if (!docs.empty) {\n                  docs.forEach((element) => {\n                    if (element.data().role === \"Test Plan\") {\n                      if (element.data().status === \"active\") {\n                        setisSubscribed(true);\n                        setisNewUser(false);\n                        if (doc.data().freeTrial) {\n                          setTrialDetailsState({\n                            endDate: null,\n                            hasEnded: null,\n                          });\n                          updateFreeTrial(null);\n                        }\n                      } else if (element.data().status === \"canceled\") {\n                        setisSubscribed(false);\n                        setisNewUser(false);\n                        setisCanceled(true);\n                      } else {\n                        setisSubscribed(false);\n                        setisNewUser(false);\n                      }\n                    }\n                    // console.log(\"DATA: \", element.data());\n                  });\n                } else {\n                  setisNewUser(true);\n                  setisSubscribed(false);\n                }\n              })\n              .catch(() => console.log(\"Error has occured with db\"));\n\n            doc.ref\n              .collection(\"customers\")\n              .get()\n              .then((docs) => {\n                const newCustomerList = [];\n\n                docs.forEach((element) => {\n                  newCustomerList.push({ ...element.data(), id: element.id });\n                });\n\n                if (\n                  JSON.stringify(customers) !== JSON.stringify(newCustomerList)\n                ) {\n                  localStorage.setItem(\n                    \"customers\",\n                    JSON.stringify(newCustomerList)\n                  );\n                }\n              })\n              .catch(() => console.log(\"Error has occured with db\"));\n\n            if (doc.data().freeTrial) {\n              setisNewUser(false);\n              let firstDate = new Date(doc.data().freeTrial.seconds * 1000);\n              let today = new Date();\n              if (firstDate <= today) {\n                setTrialDetailsState({\n                  endDate: doc.data().freeTrial,\n                  hasEnded: true,\n                });\n              } else {\n                setTrialDetailsState({\n                  endDate: doc.data().freeTrial,\n                  hasEnded: false,\n                });\n              }\n            }\n\n            setUserStoreState({\n              products: doc.data().products ? doc.data().products : [],\n              categories: doc.data().categories ? doc.data().categories : [],\n            });\n            //Dont need now\n            // if (doc.data().transList) {\n            //   setTransListState(doc.data().transList);\n            // }\n            //dont plz :)\n            if (doc.data().wooCredentials) {\n              setWoocommerceState(doc.data().wooCredentials);\n            }\n            if (doc.data().storeDetails) {\n              setStoreDetailState(doc.data().storeDetails);\n            }\n            if (isTutorialCompleteLocal) {\n              if (isTutorialCompleteLocal.complete !== null) {\n                setTutorialDetailsState({\n                  complete: isTutorialCompleteLocal.complete,\n                  step: isTutorialCompleteLocal.step,\n                });\n              }\n            } else {\n              setTutorialDetailsState({ complete: false, step: 0 });\n            }\n          })\n          .catch(() => console.log(\"Error has occured with db\"));\n      } else {\n        localStorage.removeItem(\"savedUserState\");\n        setUserState(null);\n        setUserStoreState({ products: null, categories: null });\n        setisNewUser(false);\n        setisSubscribed(false);\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    if ((userS && isSubscribed) || trialDetails.hasEnded == false) {\n      if (true) {\n        import(\"assets/plugins/fontawesome/css/fontawesome.min.css\").then(\n          (something) => {\n            console.log(something.something);\n          }\n        );\n        import(\"assets/plugins/fontawesome/css/all.min.css\").then(\n          (something) => {\n            console.log(something.something);\n          }\n        );\n        import(\"assets/css/bootstrap.min.css\").then((something) => {\n          console.log(something.something);\n        });\n        import(\"assets/js/bootstrap.bundle.min.js\").then((something) => {\n          console.log(something.something);\n        });\n        import(\"assets/css/font-awesome.min.css\").then((something) => {\n          console.log(something.something);\n        });\n        import(\"assets/css/line-awesome.min.css\").then((something) => {\n          console.log(something.something);\n        });\n        import(\"assets/css/style.css\").then((something) => {\n          console.log(something.something);\n        });\n      }\n      const unsub = db\n        .collection(\"users\")\n        .doc(userS.uid)\n        .onSnapshot((doc) => {\n          // setloading(true);\n          setUserStoreState({\n            products: doc.data().products ? doc.data().products : [],\n            categories: doc.data().categories ? doc.data().categories : [],\n          });\n          // if (doc.data().transList) {\n          //   setTransListState(doc.data().transList);\n          // }\n          if (doc.data().wooCredentials) {\n            setWoocommerceState(doc.data().wooCredentials);\n          }\n          if (doc.data().storeDetails) {\n            setStoreDetailState(doc.data().storeDetails);\n          }\n          // setTimeout(() => {\n          //   setloading(false);\n          // }, 1);\n        });\n      return () => unsub();\n    }\n  }, [userS, isSubscribed, trialDetails]);\n\n  useEffect(() => {\n    if (wooCredentials.useWoocommerce === true && isSubscribed) {\n      const interval = setInterval(() => {\n        try {\n          const WooCommerceAPI = require(\"woocommerce-api\");\n\n          const WooCommerce = new WooCommerceAPI({\n            url: wooCredentials.apiUrl,\n            consumerKey: wooCredentials.ck,\n            consumerSecret: wooCredentials.cs,\n            wpAPI: true,\n            version: \"wc/v1\",\n          });\n\n          let page = 1;\n          let orders = [];\n\n          const getOrders = async () => {\n            const response = await WooCommerce.getAsync(\n              `orders?page=${page}&per_page=100`\n            );\n            const data = JSON.parse(response.body);\n            orders = [...orders, ...data];\n            if (data.length === 100) {\n              page++;\n              getOrders();\n            } else {\n              // console.log(orders);\n            }\n          };\n\n          getOrders()\n            .then(() => {\n              let array1 = localStorage.getItem(\"prevWooOrders\");\n              array1 = JSON.parse(array1);\n              if (array1) {\n                const array2 = orders;\n\n                // console.log('prev: ', array1, ' New: ', orders, ' are the same? ', JSON.stringify(array1) === JSON.stringify(array2))\n\n                const newArray = [];\n\n                let acc = [];\n\n                const CleanupOps = (metaList) => {\n                  const opsArray = [];\n\n                  metaList.forEach((op) => {\n                    const arrContaingMe = opsArray.filter(\n                      (filterOp) => filterOp.key === op.key\n                    );\n\n                    if (arrContaingMe.length > 0) {\n                      opsArray.forEach((opsArrItem, index) => {\n                        if (opsArrItem.key === op.key) {\n                          opsArray[index].vals.push(op.value);\n                        }\n                      });\n                    } else {\n                      opsArray.push({ key: op.key, vals: [op.value] });\n                    }\n                  });\n                  return opsArray;\n                };\n\n                // if (Array.isArray(array1)) {\n                //   array1.concat(array2).forEach((combinedItem) => {\n                //     if (!acc.includes(combinedItem.id)) {\n                //       acc.push(combinedItem.id);\n                //       newArray.push(combinedItem);\n                //     }\n                //   });\n                // } else {\n                //   JSON.parse(array1)\n                //     .concat(array2)\n                //     .forEach((combinedItem) => {\n                //       if (!acc.includes(combinedItem.id)) {\n                //         acc.push(combinedItem.id);\n                //         newArray.push(combinedItem);\n                //       }\n                //     });\n                // }\n                array1.concat(array2).forEach((combinedItem) => {\n                  if (!acc.includes(combinedItem.id)) {\n                    acc.push(combinedItem.id);\n                    newArray.push(combinedItem);\n                  }\n                });\n                if (newArray.length > array1.length) {\n                  playSound();\n                  const newItems = structuredClone(newArray).splice(\n                    array1.length,\n                    newArray.length - array1.length\n                  );\n                  // updateTransList(newArray);\n                  localStorage.setItem(\n                    \"prevWooOrders\",\n                    JSON.stringify(newArray)\n                  );\n\n                  if (newItems.length > 1) {\n                    newItems.forEach((e) => {\n                      const printData = [];\n                      const dateString = e.date_created;\n                      const newDate = new Date(dateString + \"Z\");\n                      const targetTimezone =\n                        Intl.DateTimeFormat().resolvedOptions().timeZone;\n                      const resultDate = tz(newDate)\n                        .tz(targetTimezone, true)\n                        .format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n\n                      printData.push(\n                        \"\\x1B\\x40\", // init\n                        \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n                        storeDetails.name,\n                        \"\\x0A\",\n                        storeDetails.address?.label + \"\\x0A\",\n                        storeDetails.website + \"\\x0A\", // text and line break\n                        storeDetails.phoneNumber + \"\\x0A\", // text and line break\n                        resultDate + \"\\x0A\",\n                        \"\\x0A\",\n                        \"Online Order\" + \"\\x0A\", // text and line break\n                        `Transaction ID ${e.number}` + \"\\x0A\",\n                        \"\\x0A\",\n                        \"\\x0A\",\n                        \"\\x0A\",\n                        \"\\x1B\" + \"\\x61\" + \"\\x30\" // left align\n                      );\n\n                      e.line_items?.map((cartItem) => {\n                        printData.push(\"\\x0A\");\n                        printData.push(`Name: ${cartItem.name}`);\n                        printData.push(\"\\x0A\");\n                        printData.push(`Quantity: ${cartItem.quantity}`);\n                        printData.push(\"\\x0A\");\n                        printData.push(`Price: $${cartItem.price}`);\n                        printData.push(\"\\x0A\");\n\n                        if (cartItem.meta) {\n                          CleanupOps(cartItem.meta).map((returnedItem) => {\n                            printData.push(`${returnedItem.key} : `);\n                            printData.push(\"\\x0A\");\n                            returnedItem.vals.map((val, index) => {\n                              printData.push(`${val}`);\n                              printData.push(\"\\x0A\");\n                              if (\n                                index >= 0 &&\n                                index < returnedItem.vals.length - 1\n                              ) {\n                                printData.push(\", \");\n                              }\n                            });\n                            printData.push(\"\\x0A\");\n                          });\n                        } else {\n                          printData.push(\"\\x0A\" + \"\\x0A\");\n                        }\n                      });\n\n                      printData.push(\"\\x0A\");\n                      printData.push(\"\\x0A\");\n                      printData.push(`Customer Details:`);\n                      printData.push(\"\\x0A\");\n                      printData.push(`Address: ${e.shipping.address_1}`);\n                      printData.push(\"\\x0A\");\n                      printData.push(`City: ${e.shipping.city}`);\n                      printData.push(\"\\x0A\");\n                      printData.push(`Zip/Postal Code: ${e.shipping.postcode}`);\n                      printData.push(\"\\x0A\");\n                      printData.push(`Province/State: ${e.shipping.state}`);\n                      printData.push(\"\\x0A\");\n                      printData.push(\n                        `Name: ${e.shipping.first_name} ${e.shipping.last_name}`\n                      );\n                      printData.push(\"\\x0A\");\n                      printData.push(`Phone Number: ${e.billing.phone}`);\n                      printData.push(\"\\x0A\");\n                      e.shipping_lines.map((line) => {\n                        printData.push(`Shipping Method: ${line.method_title}`);\n                        printData.push(\"\\x0A\");\n                      });\n                      if (e.customer_note) {\n                        printData.push(`Customer Note: ${e.customer_note}`);\n                        printData.push(\"\\x0A\");\n                      }\n                      printData.push(\"\\x0A\");\n                      printData.push(\"\\x0A\");\n\n                      printData.push(\n                        \"\\x0A\",\n                        \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n                        \"\\x0A\" + \"\\x0A\",\n                        \"Payment Method: \" +\n                          e.payment_method_title +\n                          \"\\x0A\" +\n                          \"\\x0A\",\n                        \"Total Including (13% Tax): \" +\n                          \"$\" +\n                          e.total +\n                          \"\\x0A\" +\n                          \"\\x0A\",\n                        \"------------------------------------------\" + \"\\x0A\",\n                        \"\\x0A\", // line break\n                        \"\\x0A\", // line break\n                        \"\\x0A\", // line break\n                        \"\\x0A\", // line break\n                        \"\\x0A\", // line break\n                        \"\\x0A\" // line break\n                      );\n\n                      printData.push(\"\\x1D\" + \"\\x56\" + \"\\x00\");\n\n                      const qz = require(\"qz-tray\");\n                      qz.websocket\n                        .connect()\n                        .then(function () {\n                          let config = qz.configs.create(\n                            storeDetails.comSelected\n                          );\n                          return qz.print(config, printData);\n                        })\n                        .then(qz.websocket.disconnect)\n                        .catch(function (err) {\n                          console.error(err);\n                        });\n                      // async () =>\n                      //   await fetch(\"http://localhost:8080/print\", {\n                      //     method: \"POST\",\n                      //     headers: {\n                      //       \"Content-Type\": \"application/json\",\n                      //     },\n                      //     body: JSON.stringify({\n                      //       printData: printData,\n                      //       comSelected: storeDetails.comSelected,\n                      //     }),\n                      //   })\n                      //     .then((response) => response.json())\n                      //     .then((respData) => {\n                      //       console.log(respData);\n                      //     })\n                      //     .catch((e) => console.log(\"Error with printer\"));\n                    });\n                  } else {\n                    const e = newItems[0];\n                    const printData = [];\n                    const dateString = e.date_created;\n                    const newDate = new Date(dateString + \"Z\");\n                    const targetTimezone =\n                      Intl.DateTimeFormat().resolvedOptions().timeZone;\n                    const resultDate = tz(newDate)\n                      .tz(targetTimezone, true)\n                      .format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n\n                    printData.push(\n                      \"\\x1B\" + \"\\x40\", // init\n                      \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n                      storeDetails.name,\n                      \"\\x0A\",\n                      storeDetails.address?.label + \"\\x0A\",\n                      storeDetails.website + \"\\x0A\", // text and line break\n                      storeDetails.phoneNumber + \"\\x0A\", // text and line break\n                      resultDate + \"\\x0A\",\n                      \"\\x0A\",\n                      \"Online Order\" + \"\\x0A\", // text and line break\n                      `Transaction ID ${e.number}` + \"\\x0A\",\n                      \"\\x0A\",\n                      \"\\x0A\",\n                      \"\\x0A\",\n                      \"\\x1B\" + \"\\x61\" + \"\\x30\" // left align\n                    );\n\n                    e.line_items?.map((cartItem) => {\n                      printData.push(\"\\x0A\");\n                      printData.push(`Name: ${cartItem.name}`);\n                      printData.push(\"\\x0A\");\n                      printData.push(`Quantity: ${cartItem.quantity}`);\n                      printData.push(\"\\x0A\");\n                      printData.push(`Price: $${cartItem.price}`);\n                      printData.push(\"\\x0A\");\n\n                      if (cartItem.meta) {\n                        CleanupOps(cartItem.meta).map((returnedItem) => {\n                          printData.push(`${returnedItem.key} : `);\n                          printData.push(\"\\x0A\");\n                          returnedItem.vals.map((val, index) => {\n                            printData.push(`${val}`);\n                            printData.push(\"\\x0A\");\n                            if (\n                              index >= 0 &&\n                              index < returnedItem.vals.length - 1\n                            ) {\n                              printData.push(\", \");\n                            }\n                          });\n                          printData.push(\"\\x0A\");\n                        });\n                      } else {\n                        printData.push(\"\\x0A\" + \"\\x0A\");\n                      }\n                    });\n\n                    printData.push(\"\\x0A\");\n                    printData.push(\"\\x0A\");\n                    printData.push(`Customer Details:`);\n                    printData.push(\"\\x0A\");\n                    printData.push(`Address: ${e.shipping.address_1}`);\n                    printData.push(\"\\x0A\");\n                    printData.push(`City: ${e.shipping.city}`);\n                    printData.push(\"\\x0A\");\n                    printData.push(`Zip/Postal Code: ${e.shipping.postcode}`);\n                    printData.push(\"\\x0A\");\n                    printData.push(`Province/State: ${e.shipping.state}`);\n                    printData.push(\"\\x0A\");\n                    printData.push(\n                      `Name: ${e.shipping.first_name} ${e.shipping.last_name}`\n                    );\n                    printData.push(\"\\x0A\");\n                    printData.push(`Phone Number: ${e.billing.phone}`);\n                    printData.push(\"\\x0A\");\n                    e.shipping_lines.map((line) => {\n                      printData.push(`Shipping Method: ${line.method_title}`);\n                      printData.push(\"\\x0A\");\n                    });\n                    if (e.customer_note) {\n                      printData.push(`Customer Note: ${e.customer_note}`);\n                      printData.push(\"\\x0A\");\n                    }\n                    printData.push(\"\\x0A\");\n                    printData.push(\"\\x0A\");\n\n                    printData.push(\n                      \"\\x0A\",\n                      \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n                      \"\\x0A\" + \"\\x0A\",\n                      \"Payment Method: \" +\n                        e.payment_method_title +\n                        \"\\x0A\" +\n                        \"\\x0A\",\n                      \"Total Including (13% Tax): \" +\n                        \"$\" +\n                        e.total +\n                        \"\\x0A\" +\n                        \"\\x0A\",\n                      \"------------------------------------------\" + \"\\x0A\",\n                      \"\\x0A\", // line break\n                      \"\\x0A\", // line break\n                      \"\\x0A\", // line break\n                      \"\\x0A\", // line break\n                      \"\\x0A\", // line break\n                      \"\\x0A\" // line break\n                    );\n\n                    printData.push(\"\\x1D\" + \"\\x56\" + \"\\x00\");\n\n                    const qz = require(\"qz-tray\");\n                    qz.websocket\n                      .connect()\n                      .then(function () {\n                        let config = qz.configs.create(\n                          storeDetails.comSelected\n                        );\n                        return qz.print(config, printData);\n                      })\n                      .then(qz.websocket.disconnect)\n                      .catch(function (err) {\n                        console.error(err);\n                      });\n                  }\n                }\n              } else {\n                localStorage.setItem(\"prevWooOrders\", JSON.stringify(orders));\n              }\n            })\n            .catch((e) =>\n              console.log(\"Error has occured when trying to get WooOrders\")\n            );\n        } catch {\n          console.log(\"Error has occured with woocommerce\");\n        }\n      }, 5000); // this will check for new orders every minute\n      return () => clearInterval(interval);\n    }\n  }, [wooCredentials, isSubscribed]);\n\n  const linking = {\n    prefixes: [\n      /* your linking prefixes */\n    ],\n    config: {\n      screens: {\n        Home: \"\",\n        Features: \"features\",\n        \"About Us\": \"about-us\",\n        Pricing: \"pricing\",\n        Faqs: \"faqs\",\n        Contact: \"contact\",\n        Login: \"log-in\",\n        Signup: \"sign-up\",\n        Legal: \"legal\",\n        \"Reset Password\": \"reset-password\",\n        \"Latest Updates\": \"latest-updates\",\n        \"Not Found\": \"*\",\n      },\n    },\n  };\n\n  const fadeIn = () => {\n    // Will change fadeAnim value to 0 in 3 seconds\n    Animated.timing(fadeAnim, {\n      toValue: 1,\n      duration: 500,\n      useNativeDriver: false,\n    }).start();\n  };\n\n  const fadeOut = () => {\n    // Will change fadeAnim value to 0 in 3 seconds\n    Animated.timing(fadeAnim, {\n      toValue: 0,\n      duration: 500,\n      useNativeDriver: false,\n    }).start(() => setviewVisible(false));\n  };\n\n  useEffect(() => {\n    if (isNewUser !== null && isSubscribed !== null) {\n      //  setTimeout(() => setloading(false), 2);\n      setloading(false);\n      fadeOut();\n    }\n  }, [isNewUser, isSubscribed]);\n\n  const resetLoader = () => {\n    setviewVisible(true);\n    fadeIn();\n  };\n\n  const NavigationContent = () => {\n    if (trialDetails.endDate) {\n      return (\n        <>\n          <MainAuthed />\n          {trialDetails.hasEnded && <TrialEnded resetLoader={resetLoader} />}\n          <Modal\n            transparent\n            visible={\n              tutorialDetails.complete !== true &&\n              tutorialDetails.step == 0 &&\n              !trialDetails.hasEnded\n            }\n          >\n            <Tutorial />\n          </Modal>\n        </>\n      );\n    } else if (isSubscribed) {\n      return (\n        <>\n          <MainAuthed />\n          <Modal\n            transparent\n            visible={\n              tutorialDetails.complete !== true && tutorialDetails.step == 0\n            }\n          >\n            <Tutorial />\n          </Modal>\n        </>\n      );\n    } else if (isNewUser) {\n      return <NewUserPayment resetLoader={resetLoader} />;\n    } else {\n      return (\n        <PlanUpdateTest resetLoader={resetLoader} isCanceled={isCanceled} />\n      );\n    }\n  };\n\n  return (\n    <>\n      {userS && (\n        <Router // basename={`${config.publicPath}`}\n        >\n          <Switch>\n            <Route path=\"/\" component={AuthRoute} />\n          </Switch>\n        </Router>\n      )}\n\n      {!userS && !loading && (\n        <NavigationContainer linking={linking}>\n          {/* {userS && (\n          <>\n            <NavigationContent />\n            {viewVisible && (\n              <Animated.View\n                style={{\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                  backgroundColor: \"white\",\n                  position: \"absolute\",\n                  opacity: fadeAnim,\n                  height: \"100%\",\n                  width: \"100%\",\n                }}\n              >\n                <Image\n                  source={require(\"assets/loading.gif\")}\n                  style={{ width: 450, height: 450, resizeMode: \"contain\" }}\n                />\n              </Animated.View>\n            )}\n          </>\n        )} */}\n          {/* {!userS && !loading && <MainNonAuth />} */}\n          <MainNonAuth />\n        </NavigationContainer>\n      )}\n    </>\n  );\n};\n\nexport default RouteManager;\n"],"mappings":";;;;;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,SAASC,mBAAmB,QAAQ,0BAA0B;AAC9D,OAAOC,UAAU;AACjB,SACEC,mBAAmB,EAEnBC,oBAAoB,EACpBC,uBAAuB,EACvBC,YAAY,EACZC,iBAAiB,EACjBC,mBAAmB,EACnBC,gBAAgB,EAChBC,iBAAiB,EACjBC,oBAAoB,EACpBC,SAAS,EACTC,gBAAgB;AAElB,OAAOC,WAAW;AAClB,SAASC,IAAI,EAAEC,EAAE;AAEjB,SAASC,eAAe;AACxB,IAAMC,EAAE,GAAGC,OAAO,CAAC,iBAAiB,CAAC;AACrC,OAAOC,QAAQ,MAAM,WAAW;AAChC,OAAOC,OAAO;AACd,OAAOC,cAAc;AACrB,OAAOC,cAAc;AAAsC;AAAA;AAE3D,OAAO,KAAKC,IAAI,MAAM,WAAW;AACjC,OAAOC,UAAU;AACjB,OAAOC,QAAQ;;AAGf,SACEC,aAAa,IAAIC,MAAM,EACvBC,KAAK,EACLC,MAAM,QAED,kBAAkB;AACzB,OAAOC,SAAS;AAA2B;AAAA;AAAA;AAE3C,IAAMC,YAAY,GAAG,SAAfA,YAAY,GAAS;EACzB,IAAMC,cAAc,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC,CAAC;EACzE,IAAIC,uBAAuB,GAAGJ,IAAI,CAACC,KAAK,CACtCC,YAAY,CAACC,OAAO,CAAC,kBAAkB,CAAC,IAAI,IAAI,CACjD;EACD,IAAME,KAAK,GAAG3B,SAAS,CAAC4B,GAAG,EAAE;EAC7B,IAAMC,cAAc,GAAG5B,gBAAgB,CAAC2B,GAAG,EAAE;EAC7C,IAAME,YAAY,GAAGjC,gBAAgB,CAAC+B,GAAG,EAAE;EAC3C,gBAA8BxC,QAAQ,CAAC,IAAI,CAAC;IAAA;IAArC2C,OAAO;IAAEC,UAAU;EAC1B,gBAAoBxB,QAAQ,CAACC,OAAO,CAAC;IAAA;IAA9BwB,SAAS;EAChB,iBAAkC7C,QAAQ,CAAC,IAAI,CAAC;IAAA;IAAzC8C,SAAS;IAAEC,YAAY;EAC9B,iBAAwC/C,QAAQ,CAAC,IAAI,CAAC;IAAA;IAA/CgD,YAAY;IAAEC,eAAe;EACpC,IAAMC,QAAQ,GAAGnD,MAAM,CAAC,IAAIoD,QAAQ,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,OAAO;EACtD,iBAAsCrD,QAAQ,CAAC,IAAI,CAAC;IAAA;IAA7CsD,WAAW;IAAEC,cAAc;EAClC,iBAAoCvD,QAAQ,CAAC,IAAI,CAAC;IAAA;IAA3CwD,UAAU;IAAEC,aAAa;EAChC,IAAMC,YAAY,GAAGhD,iBAAiB,CAAC8B,GAAG,EAAE;EAC5C,IAAMmB,eAAe,GAAGhD,oBAAoB,CAAC6B,GAAG,EAAE;EAElD,qBAAsBhB,IAAI,CAACoC,QAAQ,CAAC;MAClC,aAAa,EAAEzC,OAAO,wCAAqC;MAC3D,aAAa,EAAEA,OAAO;IACxB,CAAC,CAAC;IAAA;IAHK0C,WAAW;EAKlB/D,SAAS,CAAC,YAAM;IACdQ,YAAY,CAAC2B,cAAc,GAAGA,cAAc,GAAG,IAAI,CAAC;IACpDlB,IAAI,CAAC+C,kBAAkB,CAAC,UAACC,IAAI,EAAK;MAChCb,QAAQ,CAACc,QAAQ,CAAC,CAAC,CAAC;MACpBT,cAAc,CAAC,IAAI,CAAC;MACpB,IAAIQ,IAAI,EAAE;QACR3B,YAAY,CAAC6B,OAAO,CAAC,gBAAgB,EAAE,IAAI,CAAC;QAC5C3D,YAAY,CAACyD,IAAI,CAAC;QAElB,IAAIG,SAAS,GAAG9B,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;QACjD,IAAI6B,SAAS,EAAE;UACbA,SAAS,GAAGhC,IAAI,CAACC,KAAK,CAAC+B,SAAS,CAAC;QACnC;QAEAlD,EAAE,CAACmD,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,CAACL,IAAI,CAACM,GAAG,CAAC,CACbC,GAAG,EAAE,CACLC,IAAI,CAAC,UAACH,GAAG,EAAK;UACbA,GAAG,CAACI,GAAG,CACJL,UAAU,CAAC,eAAe,CAAC,CAC3BG,GAAG,EAAE,CACLC,IAAI,CAAC,UAACE,IAAI,EAAK;YACd,IAAI,CAACA,IAAI,CAACC,KAAK,EAAE;cACfD,IAAI,CAACE,OAAO,CAAC,UAACC,OAAO,EAAK;gBACxB,IAAIA,OAAO,CAACC,IAAI,EAAE,CAACC,IAAI,KAAK,WAAW,EAAE;kBACvC,IAAIF,OAAO,CAACC,IAAI,EAAE,CAACE,MAAM,KAAK,QAAQ,EAAE;oBACtC9B,eAAe,CAAC,IAAI,CAAC;oBACrBF,YAAY,CAAC,KAAK,CAAC;oBACnB,IAAIqB,GAAG,CAACS,IAAI,EAAE,CAACG,SAAS,EAAE;sBACxB5E,oBAAoB,CAAC;wBACnB6E,OAAO,EAAE,IAAI;wBACbC,QAAQ,EAAE;sBACZ,CAAC,CAAC;sBACFjE,eAAe,CAAC,IAAI,CAAC;oBACvB;kBACF,CAAC,MAAM,IAAI2D,OAAO,CAACC,IAAI,EAAE,CAACE,MAAM,KAAK,UAAU,EAAE;oBAC/C9B,eAAe,CAAC,KAAK,CAAC;oBACtBF,YAAY,CAAC,KAAK,CAAC;oBACnBU,aAAa,CAAC,IAAI,CAAC;kBACrB,CAAC,MAAM;oBACLR,eAAe,CAAC,KAAK,CAAC;oBACtBF,YAAY,CAAC,KAAK,CAAC;kBACrB;gBACF;cAEF,CAAC,CAAC;YACJ,CAAC,MAAM;cACLA,YAAY,CAAC,IAAI,CAAC;cAClBE,eAAe,CAAC,KAAK,CAAC;YACxB;UACF,CAAC,CAAC,CACDkC,KAAK,CAAC;YAAA,OAAMC,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;UAAA,EAAC;UAExDjB,GAAG,CAACI,GAAG,CACJL,UAAU,CAAC,WAAW,CAAC,CACvBG,GAAG,EAAE,CACLC,IAAI,CAAC,UAACE,IAAI,EAAK;YACd,IAAMa,eAAe,GAAG,EAAE;YAE1Bb,IAAI,CAACE,OAAO,CAAC,UAACC,OAAO,EAAK;cACxBU,eAAe,CAACC,IAAI,iCAAMX,OAAO,CAACC,IAAI,EAAE;gBAAEW,EAAE,EAAEZ,OAAO,CAACY;cAAE,GAAG;YAC7D,CAAC,CAAC;YAEF,IACEtD,IAAI,CAACuD,SAAS,CAACvB,SAAS,CAAC,KAAKhC,IAAI,CAACuD,SAAS,CAACH,eAAe,CAAC,EAC7D;cACAlD,YAAY,CAAC6B,OAAO,CAClB,WAAW,EACX/B,IAAI,CAACuD,SAAS,CAACH,eAAe,CAAC,CAChC;YACH;UACF,CAAC,CAAC,CACDH,KAAK,CAAC;YAAA,OAAMC,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;UAAA,EAAC;UAExD,IAAIjB,GAAG,CAACS,IAAI,EAAE,CAACG,SAAS,EAAE;YACxBjC,YAAY,CAAC,KAAK,CAAC;YACnB,IAAI2C,SAAS,GAAG,IAAIC,IAAI,CAACvB,GAAG,CAACS,IAAI,EAAE,CAACG,SAAS,CAACY,OAAO,GAAG,IAAI,CAAC;YAC7D,IAAIC,KAAK,GAAG,IAAIF,IAAI,EAAE;YACtB,IAAID,SAAS,IAAIG,KAAK,EAAE;cACtBzF,oBAAoB,CAAC;gBACnB6E,OAAO,EAAEb,GAAG,CAACS,IAAI,EAAE,CAACG,SAAS;gBAC7BE,QAAQ,EAAE;cACZ,CAAC,CAAC;YACJ,CAAC,MAAM;cACL9E,oBAAoB,CAAC;gBACnB6E,OAAO,EAAEb,GAAG,CAACS,IAAI,EAAE,CAACG,SAAS;gBAC7BE,QAAQ,EAAE;cACZ,CAAC,CAAC;YACJ;UACF;UAEA3E,iBAAiB,CAAC;YAChBuF,QAAQ,EAAE1B,GAAG,CAACS,IAAI,EAAE,CAACiB,QAAQ,GAAG1B,GAAG,CAACS,IAAI,EAAE,CAACiB,QAAQ,GAAG,EAAE;YACxDC,UAAU,EAAE3B,GAAG,CAACS,IAAI,EAAE,CAACkB,UAAU,GAAG3B,GAAG,CAACS,IAAI,EAAE,CAACkB,UAAU,GAAG;UAC9D,CAAC,CAAC;UAMF,IAAI3B,GAAG,CAACS,IAAI,EAAE,CAACpC,cAAc,EAAE;YAC7BjC,mBAAmB,CAAC4D,GAAG,CAACS,IAAI,EAAE,CAACpC,cAAc,CAAC;UAChD;UACA,IAAI2B,GAAG,CAACS,IAAI,EAAE,CAACnC,YAAY,EAAE;YAC3BvC,mBAAmB,CAACiE,GAAG,CAACS,IAAI,EAAE,CAACnC,YAAY,CAAC;UAC9C;UACA,IAAIJ,uBAAuB,EAAE;YAC3B,IAAIA,uBAAuB,CAAC0D,QAAQ,KAAK,IAAI,EAAE;cAC7C3F,uBAAuB,CAAC;gBACtB2F,QAAQ,EAAE1D,uBAAuB,CAAC0D,QAAQ;gBAC1CC,IAAI,EAAE3D,uBAAuB,CAAC2D;cAChC,CAAC,CAAC;YACJ;UACF,CAAC,MAAM;YACL5F,uBAAuB,CAAC;cAAE2F,QAAQ,EAAE,KAAK;cAAEC,IAAI,EAAE;YAAE,CAAC,CAAC;UACvD;QACF,CAAC,CAAC,CACDd,KAAK,CAAC;UAAA,OAAMC,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;QAAA,EAAC;MAC1D,CAAC,MAAM;QACLjD,YAAY,CAAC8D,UAAU,CAAC,gBAAgB,CAAC;QACzC5F,YAAY,CAAC,IAAI,CAAC;QAClBC,iBAAiB,CAAC;UAAEuF,QAAQ,EAAE,IAAI;UAAEC,UAAU,EAAE;QAAK,CAAC,CAAC;QACvDhD,YAAY,CAAC,KAAK,CAAC;QACnBE,eAAe,CAAC,KAAK,CAAC;MACxB;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAENnD,SAAS,CAAC,YAAM;IACd,IAAKyC,KAAK,IAAIS,YAAY,IAAKU,YAAY,CAACwB,QAAQ,IAAI,KAAK,EAAE;MAC7D,IAAI,IAAI,EAAE;QACR,MAAM,yDAAsD,CAACX,IAAI,CAC/D,UAAC4B,SAAS,EAAK;UACbf,OAAO,CAACC,GAAG,CAACc,SAAS,CAACA,SAAS,CAAC;QAClC,CAAC,CACF;QACD,MAAM,iDAA8C,CAAC5B,IAAI,CACvD,UAAC4B,SAAS,EAAK;UACbf,OAAO,CAACC,GAAG,CAACc,SAAS,CAACA,SAAS,CAAC;QAClC,CAAC,CACF;QACD,MAAM,mCAAgC,CAAC5B,IAAI,CAAC,UAAC4B,SAAS,EAAK;UACzDf,OAAO,CAACC,GAAG,CAACc,SAAS,CAACA,SAAS,CAAC;QAClC,CAAC,CAAC;QACF,MAAM,wCAAqC,CAAC5B,IAAI,CAAC,UAAC4B,SAAS,EAAK;UAC9Df,OAAO,CAACC,GAAG,CAACc,SAAS,CAACA,SAAS,CAAC;QAClC,CAAC,CAAC;QACF,MAAM,sCAAmC,CAAC5B,IAAI,CAAC,UAAC4B,SAAS,EAAK;UAC5Df,OAAO,CAACC,GAAG,CAACc,SAAS,CAACA,SAAS,CAAC;QAClC,CAAC,CAAC;QACF,MAAM,sCAAmC,CAAC5B,IAAI,CAAC,UAAC4B,SAAS,EAAK;UAC5Df,OAAO,CAACC,GAAG,CAACc,SAAS,CAACA,SAAS,CAAC;QAClC,CAAC,CAAC;QACF,MAAM,2BAAwB,CAAC5B,IAAI,CAAC,UAAC4B,SAAS,EAAK;UACjDf,OAAO,CAACC,GAAG,CAACc,SAAS,CAACA,SAAS,CAAC;QAClC,CAAC,CAAC;MACJ;MACA,IAAMC,KAAK,GAAGpF,EAAE,CACbmD,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,CAAC7B,KAAK,CAAC8B,GAAG,CAAC,CACdgC,UAAU,CAAC,UAACjC,GAAG,EAAK;QAEnB7D,iBAAiB,CAAC;UAChBuF,QAAQ,EAAE1B,GAAG,CAACS,IAAI,EAAE,CAACiB,QAAQ,GAAG1B,GAAG,CAACS,IAAI,EAAE,CAACiB,QAAQ,GAAG,EAAE;UACxDC,UAAU,EAAE3B,GAAG,CAACS,IAAI,EAAE,CAACkB,UAAU,GAAG3B,GAAG,CAACS,IAAI,EAAE,CAACkB,UAAU,GAAG;QAC9D,CAAC,CAAC;QAIF,IAAI3B,GAAG,CAACS,IAAI,EAAE,CAACpC,cAAc,EAAE;UAC7BjC,mBAAmB,CAAC4D,GAAG,CAACS,IAAI,EAAE,CAACpC,cAAc,CAAC;QAChD;QACA,IAAI2B,GAAG,CAACS,IAAI,EAAE,CAACnC,YAAY,EAAE;UAC3BvC,mBAAmB,CAACiE,GAAG,CAACS,IAAI,EAAE,CAACnC,YAAY,CAAC;QAC9C;MAIF,CAAC,CAAC;;MACJ,OAAO;QAAA,OAAM0D,KAAK,EAAE;MAAA;IACtB;EACF,CAAC,EAAE,CAAC7D,KAAK,EAAES,YAAY,EAAEU,YAAY,CAAC,CAAC;EAEvC5D,SAAS,CAAC,YAAM;IACd,IAAI2C,cAAc,CAAC6D,cAAc,KAAK,IAAI,IAAItD,YAAY,EAAE;MAC1D,IAAMuD,QAAQ,GAAGC,WAAW,CAAC,YAAM;QACjC,IAAI;UACF,IAAMC,cAAc,GAAGtF,OAAO,CAAC,iBAAiB,CAAC;UAEjD,IAAMuF,WAAW,GAAG,IAAID,cAAc,CAAC;YACrCE,GAAG,EAAElE,cAAc,CAACmE,MAAM;YAC1BC,WAAW,EAAEpE,cAAc,CAACqE,EAAE;YAC9BC,cAAc,EAAEtE,cAAc,CAACuE,EAAE;YACjCC,KAAK,EAAE,IAAI;YACXC,OAAO,EAAE;UACX,CAAC,CAAC;UAEF,IAAIC,IAAI,GAAG,CAAC;UACZ,IAAIC,MAAM,GAAG,EAAE;UAEf,IAAMC,SAAS;YAAA,6BAAG,aAAY;cAC5B,IAAMC,QAAQ,SAASZ,WAAW,CAACa,QAAQ,kBAC1BJ,IAAI,mBACpB;cACD,IAAMtC,IAAI,GAAG3C,IAAI,CAACC,KAAK,CAACmF,QAAQ,CAACE,IAAI,CAAC;cACtCJ,MAAM,gCAAOA,MAAM,sBAAKvC,IAAI,EAAC;cAC7B,IAAIA,IAAI,CAAC4C,MAAM,KAAK,GAAG,EAAE;gBACvBN,IAAI,EAAE;gBACNE,SAAS,EAAE;cACb,CAAC,MAAM;cAEP;YACF,CAAC;YAAA,gBAZKA,SAAS;cAAA;YAAA;UAAA,GAYd;UAEDA,SAAS,EAAE,CACR9C,IAAI,CAAC,YAAM;YACV,IAAImD,MAAM,GAAGtF,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC;YAClDqF,MAAM,GAAGxF,IAAI,CAACC,KAAK,CAACuF,MAAM,CAAC;YAC3B,IAAIA,MAAM,EAAE;cACV,IAAMC,MAAM,GAAGP,MAAM;;cAIrB,IAAMQ,QAAQ,GAAG,EAAE;cAEnB,IAAIC,GAAG,GAAG,EAAE;cAEZ,IAAMC,UAAU,GAAG,SAAbA,UAAU,CAAIC,QAAQ,EAAK;gBAC/B,IAAMC,QAAQ,GAAG,EAAE;gBAEnBD,QAAQ,CAACpD,OAAO,CAAC,UAACsD,EAAE,EAAK;kBACvB,IAAMC,aAAa,GAAGF,QAAQ,CAACG,MAAM,CACnC,UAACC,QAAQ;oBAAA,OAAKA,QAAQ,CAACC,GAAG,KAAKJ,EAAE,CAACI,GAAG;kBAAA,EACtC;kBAED,IAAIH,aAAa,CAACT,MAAM,GAAG,CAAC,EAAE;oBAC5BO,QAAQ,CAACrD,OAAO,CAAC,UAAC2D,UAAU,EAAEC,KAAK,EAAK;sBACtC,IAAID,UAAU,CAACD,GAAG,KAAKJ,EAAE,CAACI,GAAG,EAAE;wBAC7BL,QAAQ,CAACO,KAAK,CAAC,CAACC,IAAI,CAACjD,IAAI,CAAC0C,EAAE,CAACQ,KAAK,CAAC;sBACrC;oBACF,CAAC,CAAC;kBACJ,CAAC,MAAM;oBACLT,QAAQ,CAACzC,IAAI,CAAC;sBAAE8C,GAAG,EAAEJ,EAAE,CAACI,GAAG;sBAAEG,IAAI,EAAE,CAACP,EAAE,CAACQ,KAAK;oBAAE,CAAC,CAAC;kBAClD;gBACF,CAAC,CAAC;gBACF,OAAOT,QAAQ;cACjB,CAAC;;cAmBDN,MAAM,CAACgB,MAAM,CAACf,MAAM,CAAC,CAAChD,OAAO,CAAC,UAACgE,YAAY,EAAK;gBAC9C,IAAI,CAACd,GAAG,CAACe,QAAQ,CAACD,YAAY,CAACnD,EAAE,CAAC,EAAE;kBAClCqC,GAAG,CAACtC,IAAI,CAACoD,YAAY,CAACnD,EAAE,CAAC;kBACzBoC,QAAQ,CAACrC,IAAI,CAACoD,YAAY,CAAC;gBAC7B;cACF,CAAC,CAAC;cACF,IAAIf,QAAQ,CAACH,MAAM,GAAGC,MAAM,CAACD,MAAM,EAAE;gBACnC5E,SAAS,EAAE;gBACX,IAAMgG,QAAQ,GAAGC,eAAe,CAAClB,QAAQ,CAAC,CAACmB,MAAM,CAC/CrB,MAAM,CAACD,MAAM,EACbG,QAAQ,CAACH,MAAM,GAAGC,MAAM,CAACD,MAAM,CAChC;gBAEDrF,YAAY,CAAC6B,OAAO,CAClB,eAAe,EACf/B,IAAI,CAACuD,SAAS,CAACmC,QAAQ,CAAC,CACzB;gBAED,IAAIiB,QAAQ,CAACpB,MAAM,GAAG,CAAC,EAAE;kBACvBoB,QAAQ,CAAClE,OAAO,CAAC,UAACqE,CAAC,EAAK;oBAAA;oBACtB,IAAMC,SAAS,GAAG,EAAE;oBACpB,IAAMC,UAAU,GAAGF,CAAC,CAACG,YAAY;oBACjC,IAAMC,OAAO,GAAG,IAAIzD,IAAI,CAACuD,UAAU,GAAG,GAAG,CAAC;oBAC1C,IAAMG,cAAc,GAClBC,IAAI,CAACC,cAAc,EAAE,CAACC,eAAe,EAAE,CAACC,QAAQ;oBAClD,IAAMC,UAAU,GAAGxI,EAAE,CAACkI,OAAO,CAAC,CAC3BlI,EAAE,CAACmI,cAAc,EAAE,IAAI,CAAC,CACxBM,MAAM,CAAC,iCAAiC,CAAC;oBAE5CV,SAAS,CAAC1D,IAAI,CACZ,UAAU;oBACV,MAAM,GAAG,MAAM,GAAG,MAAM;oBACxB7C,YAAY,CAACkH,IAAI,EACjB,MAAM,EACN,0BAAAlH,YAAY,CAACmH,OAAO,qBAApB,sBAAsBC,KAAK,IAAG,MAAM,EACpCpH,YAAY,CAACqH,OAAO,GAAG,MAAM;oBAC7BrH,YAAY,CAACsH,WAAW,GAAG,MAAM;oBACjCN,UAAU,GAAG,MAAM,EACnB,MAAM,EACN,cAAc,GAAG,MAAM;oBACvB,oBAAkBV,CAAC,CAACiB,MAAM,GAAK,MAAM,EACrC,MAAM,EACN,MAAM,EACN,MAAM,EACN,MAAM,GAAG,MAAM,GAAG,MAAM,CACzB;;oBAED,iBAAAjB,CAAC,CAACkB,UAAU,qBAAZ,cAAcC,GAAG,CAAC,UAACC,QAAQ,EAAK;sBAC9BnB,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;sBACtB0D,SAAS,CAAC1D,IAAI,YAAU6E,QAAQ,CAACR,IAAI,CAAG;sBACxCX,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;sBACtB0D,SAAS,CAAC1D,IAAI,gBAAc6E,QAAQ,CAACC,QAAQ,CAAG;sBAChDpB,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;sBACtB0D,SAAS,CAAC1D,IAAI,cAAY6E,QAAQ,CAACE,KAAK,CAAG;sBAC3CrB,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;sBAEtB,IAAI6E,QAAQ,CAACG,IAAI,EAAE;wBACjBzC,UAAU,CAACsC,QAAQ,CAACG,IAAI,CAAC,CAACJ,GAAG,CAAC,UAACK,YAAY,EAAK;0BAC9CvB,SAAS,CAAC1D,IAAI,CAAIiF,YAAY,CAACnC,GAAG,SAAM;0BACxCY,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;0BACtBiF,YAAY,CAAChC,IAAI,CAAC2B,GAAG,CAAC,UAACM,GAAG,EAAElC,KAAK,EAAK;4BACpCU,SAAS,CAAC1D,IAAI,MAAIkF,GAAG,CAAG;4BACxBxB,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;4BACtB,IACEgD,KAAK,IAAI,CAAC,IACVA,KAAK,GAAGiC,YAAY,CAAChC,IAAI,CAACf,MAAM,GAAG,CAAC,EACpC;8BACAwB,SAAS,CAAC1D,IAAI,CAAC,IAAI,CAAC;4BACtB;0BACF,CAAC,CAAC;0BACF0D,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;wBACxB,CAAC,CAAC;sBACJ,CAAC,MAAM;wBACL0D,SAAS,CAAC1D,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;sBACjC;oBACF,CAAC,CAAC;oBAEF0D,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;oBACtB0D,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;oBACtB0D,SAAS,CAAC1D,IAAI,qBAAqB;oBACnC0D,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;oBACtB0D,SAAS,CAAC1D,IAAI,eAAayD,CAAC,CAAC0B,QAAQ,CAACC,SAAS,CAAG;oBAClD1B,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;oBACtB0D,SAAS,CAAC1D,IAAI,YAAUyD,CAAC,CAAC0B,QAAQ,CAACE,IAAI,CAAG;oBAC1C3B,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;oBACtB0D,SAAS,CAAC1D,IAAI,uBAAqByD,CAAC,CAAC0B,QAAQ,CAACG,QAAQ,CAAG;oBACzD5B,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;oBACtB0D,SAAS,CAAC1D,IAAI,sBAAoByD,CAAC,CAAC0B,QAAQ,CAACI,KAAK,CAAG;oBACrD7B,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;oBACtB0D,SAAS,CAAC1D,IAAI,YACHyD,CAAC,CAAC0B,QAAQ,CAACK,UAAU,SAAI/B,CAAC,CAAC0B,QAAQ,CAACM,SAAS,CACvD;oBACD/B,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;oBACtB0D,SAAS,CAAC1D,IAAI,oBAAkByD,CAAC,CAACiC,OAAO,CAACC,KAAK,CAAG;oBAClDjC,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;oBACtByD,CAAC,CAACmC,cAAc,CAAChB,GAAG,CAAC,UAACiB,IAAI,EAAK;sBAC7BnC,SAAS,CAAC1D,IAAI,uBAAqB6F,IAAI,CAACC,YAAY,CAAG;sBACvDpC,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;oBACxB,CAAC,CAAC;oBACF,IAAIyD,CAAC,CAACsC,aAAa,EAAE;sBACnBrC,SAAS,CAAC1D,IAAI,qBAAmByD,CAAC,CAACsC,aAAa,CAAG;sBACnDrC,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;oBACxB;oBACA0D,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;oBACtB0D,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;oBAEtB0D,SAAS,CAAC1D,IAAI,CACZ,MAAM,EACN,sCAAsC,GAAG,MAAM,EAC/C,MAAM,GAAG,MAAM,EACf,kBAAkB,GAChByD,CAAC,CAACuC,oBAAoB,GACtB,MAAM,GACN,MAAM,EACR,6BAA6B,GAC3B,GAAG,GACHvC,CAAC,CAACwC,KAAK,GACP,MAAM,GACN,MAAM,EACR,4CAA4C,GAAG,MAAM,EACrD,MAAM;oBACN,MAAM;oBACN,MAAM;oBACN,MAAM;oBACN,MAAM;oBACN,MAAM,CACP;;oBAEDvC,SAAS,CAAC1D,IAAI,CAAC,MAAM,GAAG,MAAM,GAAG,MAAM,CAAC;oBAExC,IAAMkG,EAAE,GAAGtK,OAAO,CAAC,SAAS,CAAC;oBAC7BsK,EAAE,CAACC,SAAS,CACTC,OAAO,EAAE,CACTpH,IAAI,CAAC,YAAY;sBAChB,IAAIqH,MAAM,GAAGH,EAAE,CAACI,OAAO,CAACC,MAAM,CAC5BpJ,YAAY,CAACqJ,WAAW,CACzB;sBACD,OAAON,EAAE,CAACO,KAAK,CAACJ,MAAM,EAAE3C,SAAS,CAAC;oBACpC,CAAC,CAAC,CACD1E,IAAI,CAACkH,EAAE,CAACC,SAAS,CAACO,UAAU,CAAC,CAC7B9G,KAAK,CAAC,UAAU+G,GAAG,EAAE;sBACpB9G,OAAO,CAAC+G,KAAK,CAACD,GAAG,CAAC;oBACpB,CAAC,CAAC;kBAiBN,CAAC,CAAC;gBACJ,CAAC,MAAM;kBAAA;kBACL,IAAMlD,CAAC,GAAGH,QAAQ,CAAC,CAAC,CAAC;kBACrB,IAAMI,SAAS,GAAG,EAAE;kBACpB,IAAMC,UAAU,GAAGF,CAAC,CAACG,YAAY;kBACjC,IAAMC,OAAO,GAAG,IAAIzD,IAAI,CAACuD,UAAU,GAAG,GAAG,CAAC;kBAC1C,IAAMG,cAAc,GAClBC,IAAI,CAACC,cAAc,EAAE,CAACC,eAAe,EAAE,CAACC,QAAQ;kBAClD,IAAMC,UAAU,GAAGxI,EAAE,CAACkI,OAAO,CAAC,CAC3BlI,EAAE,CAACmI,cAAc,EAAE,IAAI,CAAC,CACxBM,MAAM,CAAC,iCAAiC,CAAC;kBAE5CV,SAAS,CAAC1D,IAAI,CACZ,MAAM,GAAG,MAAM;kBACf,MAAM,GAAG,MAAM,GAAG,MAAM;kBACxB7C,YAAY,CAACkH,IAAI,EACjB,MAAM,EACN,2BAAAlH,YAAY,CAACmH,OAAO,qBAApB,uBAAsBC,KAAK,IAAG,MAAM,EACpCpH,YAAY,CAACqH,OAAO,GAAG,MAAM;kBAC7BrH,YAAY,CAACsH,WAAW,GAAG,MAAM;kBACjCN,UAAU,GAAG,MAAM,EACnB,MAAM,EACN,cAAc,GAAG,MAAM;kBACvB,oBAAkBV,CAAC,CAACiB,MAAM,GAAK,MAAM,EACrC,MAAM,EACN,MAAM,EACN,MAAM,EACN,MAAM,GAAG,MAAM,GAAG,MAAM,CACzB;;kBAED,kBAAAjB,CAAC,CAACkB,UAAU,qBAAZ,eAAcC,GAAG,CAAC,UAACC,QAAQ,EAAK;oBAC9BnB,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;oBACtB0D,SAAS,CAAC1D,IAAI,YAAU6E,QAAQ,CAACR,IAAI,CAAG;oBACxCX,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;oBACtB0D,SAAS,CAAC1D,IAAI,gBAAc6E,QAAQ,CAACC,QAAQ,CAAG;oBAChDpB,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;oBACtB0D,SAAS,CAAC1D,IAAI,cAAY6E,QAAQ,CAACE,KAAK,CAAG;oBAC3CrB,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;oBAEtB,IAAI6E,QAAQ,CAACG,IAAI,EAAE;sBACjBzC,UAAU,CAACsC,QAAQ,CAACG,IAAI,CAAC,CAACJ,GAAG,CAAC,UAACK,YAAY,EAAK;wBAC9CvB,SAAS,CAAC1D,IAAI,CAAIiF,YAAY,CAACnC,GAAG,SAAM;wBACxCY,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;wBACtBiF,YAAY,CAAChC,IAAI,CAAC2B,GAAG,CAAC,UAACM,GAAG,EAAElC,KAAK,EAAK;0BACpCU,SAAS,CAAC1D,IAAI,MAAIkF,GAAG,CAAG;0BACxBxB,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;0BACtB,IACEgD,KAAK,IAAI,CAAC,IACVA,KAAK,GAAGiC,YAAY,CAAChC,IAAI,CAACf,MAAM,GAAG,CAAC,EACpC;4BACAwB,SAAS,CAAC1D,IAAI,CAAC,IAAI,CAAC;0BACtB;wBACF,CAAC,CAAC;wBACF0D,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;sBACxB,CAAC,CAAC;oBACJ,CAAC,MAAM;sBACL0D,SAAS,CAAC1D,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;oBACjC;kBACF,CAAC,CAAC;kBAEF0D,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;kBACtB0D,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;kBACtB0D,SAAS,CAAC1D,IAAI,qBAAqB;kBACnC0D,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;kBACtB0D,SAAS,CAAC1D,IAAI,eAAayD,CAAC,CAAC0B,QAAQ,CAACC,SAAS,CAAG;kBAClD1B,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;kBACtB0D,SAAS,CAAC1D,IAAI,YAAUyD,CAAC,CAAC0B,QAAQ,CAACE,IAAI,CAAG;kBAC1C3B,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;kBACtB0D,SAAS,CAAC1D,IAAI,uBAAqByD,CAAC,CAAC0B,QAAQ,CAACG,QAAQ,CAAG;kBACzD5B,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;kBACtB0D,SAAS,CAAC1D,IAAI,sBAAoByD,CAAC,CAAC0B,QAAQ,CAACI,KAAK,CAAG;kBACrD7B,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;kBACtB0D,SAAS,CAAC1D,IAAI,YACHyD,CAAC,CAAC0B,QAAQ,CAACK,UAAU,SAAI/B,CAAC,CAAC0B,QAAQ,CAACM,SAAS,CACvD;kBACD/B,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;kBACtB0D,SAAS,CAAC1D,IAAI,oBAAkByD,CAAC,CAACiC,OAAO,CAACC,KAAK,CAAG;kBAClDjC,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;kBACtByD,CAAC,CAACmC,cAAc,CAAChB,GAAG,CAAC,UAACiB,IAAI,EAAK;oBAC7BnC,SAAS,CAAC1D,IAAI,uBAAqB6F,IAAI,CAACC,YAAY,CAAG;oBACvDpC,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;kBACxB,CAAC,CAAC;kBACF,IAAIyD,CAAC,CAACsC,aAAa,EAAE;oBACnBrC,SAAS,CAAC1D,IAAI,qBAAmByD,CAAC,CAACsC,aAAa,CAAG;oBACnDrC,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;kBACxB;kBACA0D,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;kBACtB0D,SAAS,CAAC1D,IAAI,CAAC,MAAM,CAAC;kBAEtB0D,SAAS,CAAC1D,IAAI,CACZ,MAAM,EACN,sCAAsC,GAAG,MAAM,EAC/C,MAAM,GAAG,MAAM,EACf,kBAAkB,GAChByD,CAAC,CAACuC,oBAAoB,GACtB,MAAM,GACN,MAAM,EACR,6BAA6B,GAC3B,GAAG,GACHvC,CAAC,CAACwC,KAAK,GACP,MAAM,GACN,MAAM,EACR,4CAA4C,GAAG,MAAM,EACrD,MAAM;kBACN,MAAM;kBACN,MAAM;kBACN,MAAM;kBACN,MAAM;kBACN,MAAM,CACP;;kBAEDvC,SAAS,CAAC1D,IAAI,CAAC,MAAM,GAAG,MAAM,GAAG,MAAM,CAAC;kBAExC,IAAMkG,EAAE,GAAGtK,OAAO,CAAC,SAAS,CAAC;kBAC7BsK,EAAE,CAACC,SAAS,CACTC,OAAO,EAAE,CACTpH,IAAI,CAAC,YAAY;oBAChB,IAAIqH,MAAM,GAAGH,EAAE,CAACI,OAAO,CAACC,MAAM,CAC5BpJ,YAAY,CAACqJ,WAAW,CACzB;oBACD,OAAON,EAAE,CAACO,KAAK,CAACJ,MAAM,EAAE3C,SAAS,CAAC;kBACpC,CAAC,CAAC,CACD1E,IAAI,CAACkH,EAAE,CAACC,SAAS,CAACO,UAAU,CAAC,CAC7B9G,KAAK,CAAC,UAAU+G,GAAG,EAAE;oBACpB9G,OAAO,CAAC+G,KAAK,CAACD,GAAG,CAAC;kBACpB,CAAC,CAAC;gBACN;cACF;YACF,CAAC,MAAM;cACL9J,YAAY,CAAC6B,OAAO,CAAC,eAAe,EAAE/B,IAAI,CAACuD,SAAS,CAAC2B,MAAM,CAAC,CAAC;YAC/D;UACF,CAAC,CAAC,CACDjC,KAAK,CAAC,UAAC6D,CAAC;YAAA,OACP5D,OAAO,CAACC,GAAG,CAAC,gDAAgD,CAAC;UAAA,EAC9D;QACL,CAAC,CAAC,gBAAM;UACND,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC;QACnD;MACF,CAAC,EAAE,IAAI,CAAC;MACR,OAAO;QAAA,OAAM+G,aAAa,CAAC7F,QAAQ,CAAC;MAAA;IACtC;EACF,CAAC,EAAE,CAAC9D,cAAc,EAAEO,YAAY,CAAC,CAAC;EAElC,IAAMqJ,OAAO,GAAG;IACdC,QAAQ,EAAE;IAAA,CAET;IACDV,MAAM,EAAE;MACNW,OAAO,EAAE;QACPC,IAAI,EAAE,EAAE;QACRC,QAAQ,EAAE,UAAU;QACpB,UAAU,EAAE,UAAU;QACtBC,OAAO,EAAE,SAAS;QAClBC,IAAI,EAAE,MAAM;QACZC,OAAO,EAAE,SAAS;QAClBC,KAAK,EAAE,QAAQ;QACfC,MAAM,EAAE,SAAS;QACjBC,KAAK,EAAE,OAAO;QACd,gBAAgB,EAAE,gBAAgB;QAClC,gBAAgB,EAAE,gBAAgB;QAClC,WAAW,EAAE;MACf;IACF;EACF,CAAC;EAED,IAAMC,MAAM,GAAG,SAATA,MAAM,GAAS;IAEnB7J,QAAQ,CAAC8J,MAAM,CAAC/J,QAAQ,EAAE;MACxBgK,OAAO,EAAE,CAAC;MACVC,QAAQ,EAAE,GAAG;MACbC,eAAe,EAAE;IACnB,CAAC,CAAC,CAACC,KAAK,EAAE;EACZ,CAAC;EAED,IAAMC,OAAO,GAAG,SAAVA,OAAO,GAAS;IAEpBnK,QAAQ,CAAC8J,MAAM,CAAC/J,QAAQ,EAAE;MACxBgK,OAAO,EAAE,CAAC;MACVC,QAAQ,EAAE,GAAG;MACbC,eAAe,EAAE;IACnB,CAAC,CAAC,CAACC,KAAK,CAAC;MAAA,OAAM9J,cAAc,CAAC,KAAK,CAAC;IAAA,EAAC;EACvC,CAAC;EAEDzD,SAAS,CAAC,YAAM;IACd,IAAIgD,SAAS,KAAK,IAAI,IAAIE,YAAY,KAAK,IAAI,EAAE;MAE/CJ,UAAU,CAAC,KAAK,CAAC;MACjB0K,OAAO,EAAE;IACX;EACF,CAAC,EAAE,CAACxK,SAAS,EAAEE,YAAY,CAAC,CAAC;EAE7B,IAAMuK,WAAW,GAAG,SAAdA,WAAW,GAAS;IACxBhK,cAAc,CAAC,IAAI,CAAC;IACpByJ,MAAM,EAAE;EACV,CAAC;EAED,IAAMQ,iBAAiB,GAAG,SAApBA,iBAAiB,GAAS;IAC9B,IAAI9J,YAAY,CAACuB,OAAO,EAAE;MACxB,OACE;QAAA,WACE,KAAC,UAAU,KAAG,EACbvB,YAAY,CAACwB,QAAQ,IAAI,KAAC,UAAU;UAAC,WAAW,EAAEqI;QAAY,EAAG,EAClE,KAAC,KAAK;UACJ,WAAW;UACX,OAAO,EACL5J,eAAe,CAACqC,QAAQ,KAAK,IAAI,IACjCrC,eAAe,CAACsC,IAAI,IAAI,CAAC,IACzB,CAACvC,YAAY,CAACwB,QACf;UAAA,UAED,KAAC,QAAQ;QAAG,EACN;MAAA,EACP;IAEP,CAAC,MAAM,IAAIlC,YAAY,EAAE;MACvB,OACE;QAAA,WACE,KAAC,UAAU,KAAG,EACd,KAAC,KAAK;UACJ,WAAW;UACX,OAAO,EACLW,eAAe,CAACqC,QAAQ,KAAK,IAAI,IAAIrC,eAAe,CAACsC,IAAI,IAAI,CAC9D;UAAA,UAED,KAAC,QAAQ;QAAG,EACN;MAAA,EACP;IAEP,CAAC,MAAM,IAAInD,SAAS,EAAE;MACpB,OAAO,KAAC,cAAc;QAAC,WAAW,EAAEyK;MAAY,EAAG;IACrD,CAAC,MAAM;MACL,OACE,KAAC,cAAc;QAAC,WAAW,EAAEA,WAAY;QAAC,UAAU,EAAE/J;MAAW,EAAG;IAExE;EACF,CAAC;EAED,OACE;IAAA,WACGjB,KAAK,IACJ,KAAC,MAAM;MAAA,UAEL,KAAC,MAAM;QAAA,UACL,KAAC,KAAK;UAAC,IAAI,EAAC,GAAG;UAAC,SAAS,EAAER;QAAU;MAAG;IACjC,EAEZ,EAEA,CAACQ,KAAK,IAAI,CAACI,OAAO,IACjB,KAAC,mBAAmB;MAAC,OAAO,EAAE0J,OAAQ;MAAA,UAyBpC,KAAC,WAAW;IAAG,EAElB;EAAA,EACA;AAEP,CAAC;AAED,eAAerK,YAAY"},"metadata":{},"sourceType":"module"}