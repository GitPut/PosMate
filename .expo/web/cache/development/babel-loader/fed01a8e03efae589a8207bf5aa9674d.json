{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport React, { useEffect, useState } from \"react\";\nimport { GooglePlacesAutocomplete } from \"react-native-google-places-autocomplete\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar GOOGLE_API_KEY = \"AIzaSyB5l-wEA7ueMuvdHqVZK8ZD7-1yMLV076M\";\nvar App = function App() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    listOfAddresses = _useState2[0],\n    setlistOfAddresses = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    efficentList = _useState4[0],\n    setefficentList = _useState4[1];\n  var GooglePlacesInput = function GooglePlacesInput(_ref) {\n    var placeholder = _ref.placeholder;\n    return _jsx(GooglePlacesAutocomplete, {\n      placeholder: placeholder,\n      fetchDetails: true,\n      onPress: function onPress(data, details) {\n        setlistOfAddresses([].concat(_toConsumableArray(listOfAddresses), [details]));\n      },\n      query: {\n        key: GOOGLE_API_KEY,\n        language: \"en\"\n      },\n      textInputProps: {\n        style: {\n          height: 40,\n          width: 500,\n          padding: 10,\n          fontSize: 15,\n          borderWidth: 2,\n          borderRadius: 6,\n          margin: 10\n        }\n      },\n      requestUrl: {\n        useOnPlatform: \"web\",\n        url: \"https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api\"\n      }\n    });\n  };\n\n  var DistanceMatrix = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n    });\n    return function DistanceMatrix() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    console.log(\"array: \", listOfAddresses);\n    if (listOfAddresses.length > 1) {\n      DistanceMatrix();\n    }\n  }, [listOfAddresses]);\n  return _jsx(SafeAreaView, {\n    style: {\n      flex: 1\n    },\n    children: _jsxs(View, {\n      style: {\n        flex: 1,\n        alignItems: \"center\",\n        justifyContent: \"center\"\n      },\n      children: [_jsx(Text, {\n        children: \"Get The Best Route List\"\n      }), listOfAddresses.length < 1 ? _jsx(GooglePlacesInput, {\n        placeholder: \"Start Address\"\n      }) : _jsx(GooglePlacesInput, {\n        placeholder: \"Enter Next Stop\"\n      })]\n    })\n  });\n};\nexport default App;\nvar styles = StyleSheet.create({});","map":{"version":3,"names":["React","useEffect","useState","GooglePlacesAutocomplete","GOOGLE_API_KEY","App","listOfAddresses","setlistOfAddresses","efficentList","setefficentList","GooglePlacesInput","placeholder","data","details","key","language","style","height","width","padding","fontSize","borderWidth","borderRadius","margin","useOnPlatform","url","DistanceMatrix","console","log","length","flex","alignItems","justifyContent","styles","StyleSheet","create"],"sources":["/Users/peterputros/Desktop/best-route/App.tsx"],"sourcesContent":["import { SafeAreaView, StyleSheet, Text, TextInput, View } from \"react-native\";\nimport React, { useEffect, useState } from \"react\";\nimport { GooglePlacesAutocomplete } from \"react-native-google-places-autocomplete\";\n\nconst GOOGLE_API_KEY = \"AIzaSyB5l-wEA7ueMuvdHqVZK8ZD7-1yMLV076M\";\n\nconst App = () => {\n  const [listOfAddresses, setlistOfAddresses] = useState([]);\n  const [efficentList, setefficentList] = useState([]);\n\n  const GooglePlacesInput = ({ placeholder }) => {\n    return (\n      <GooglePlacesAutocomplete\n        placeholder={placeholder}\n        fetchDetails={true}\n        onPress={(data, details) => {\n          setlistOfAddresses([...listOfAddresses, details]);\n        }}\n        query={{\n          key: GOOGLE_API_KEY,\n          language: \"en\",\n        }}\n        textInputProps={{\n          style: {\n            height: 40,\n            width: 500,\n            padding: 10,\n            fontSize: 15,\n            borderWidth: 2,\n            borderRadius: 6,\n            margin: 10,\n          },\n        }}\n        requestUrl={{\n          useOnPlatform: \"web\", // or \"all\"\n          url: \"https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api\", // or any proxy server that hits https://maps.googleapis.com/maps/api\n          // headers: {\n          //   Authorization: `an auth token`, // if required for your proxy\n          // },\n        }}\n      />\n    );\n  };\n\n  const DistanceMatrix = async () => {\n    //     let unorganizedList = []\n    // for (let index = 1; index < listOfAddresses.length; index++) {\n    //   const element = listOfAddresses[index];\n    //   for (let index = 1; index < listOfAddresses.length; index++) {\n    //   const element = listOfAddresses[index];\n    //   await fetch(\n    //     `https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/distancematrix/json?origins=${listOfAddresses[0].geometry.location.lat},${listOfAddresses[0].geometry.location.lng}&destinations=${element.geometry.location.lat},${element.geometry.location.lng}&key=${GOOGLE_API_KEY}`\n    //   )\n    //     .then((response) => response.json())\n    //     .then((responseJson) => {\n    //       //TIME BETWEEN START AND POINT this.rows[0].elements[0].duration\n    // unorganizedList.push({\n    //   address: element.formatted_address,\n    //   timeDistance: responseJson.rows[0].elements[0].duration.value,\n    // });\n    //     });\n    // }\n  };\n\n  useEffect(() => {\n    console.log(\"array: \", listOfAddresses);\n    if (listOfAddresses.length > 1) {\n      DistanceMatrix();\n    }\n  }, [listOfAddresses]);\n\n  return (\n    <SafeAreaView style={{ flex: 1 }}>\n      <View style={{ flex: 1, alignItems: \"center\", justifyContent: \"center\" }}>\n        <Text>Get The Best Route List</Text>\n        {listOfAddresses.length < 1 ? (\n          <GooglePlacesInput placeholder=\"Start Address\" />\n        ) : (\n          <GooglePlacesInput placeholder=\"Enter Next Stop\" />\n        )}\n      </View>\n    </SafeAreaView>\n  );\n};\n\nexport default App;\n\nconst styles = StyleSheet.create({});\n"],"mappings":";;;;;;;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,wBAAwB,QAAQ,yCAAyC;AAAC;AAAA;AAEnF,IAAMC,cAAc,GAAG,yCAAyC;AAEhE,IAAMC,GAAG,GAAG,SAANA,GAAG,GAAS;EAChB,gBAA8CH,QAAQ,CAAC,EAAE,CAAC;IAAA;IAAnDI,eAAe;IAAEC,kBAAkB;EAC1C,iBAAwCL,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA7CM,YAAY;IAAEC,eAAe;EAEpC,IAAMC,iBAAiB,GAAG,SAApBA,iBAAiB,OAAwB;IAAA,IAAlBC,WAAW,QAAXA,WAAW;IACtC,OACE,KAAC,wBAAwB;MACvB,WAAW,EAAEA,WAAY;MACzB,YAAY,EAAE,IAAK;MACnB,OAAO,EAAE,iBAACC,IAAI,EAAEC,OAAO,EAAK;QAC1BN,kBAAkB,8BAAKD,eAAe,IAAEO,OAAO,GAAE;MACnD,CAAE;MACF,KAAK,EAAE;QACLC,GAAG,EAAEV,cAAc;QACnBW,QAAQ,EAAE;MACZ,CAAE;MACF,cAAc,EAAE;QACdC,KAAK,EAAE;UACLC,MAAM,EAAE,EAAE;UACVC,KAAK,EAAE,GAAG;UACVC,OAAO,EAAE,EAAE;UACXC,QAAQ,EAAE,EAAE;UACZC,WAAW,EAAE,CAAC;UACdC,YAAY,EAAE,CAAC;UACfC,MAAM,EAAE;QACV;MACF,CAAE;MACF,UAAU,EAAE;QACVC,aAAa,EAAE,KAAK;QACpBC,GAAG,EAAE;MAIP;IAAE,EACF;EAEN,CAAC;;EAED,IAAMC,cAAc;IAAA,8BAAG,aAAY;IAkBnC,CAAC;IAAA,gBAlBKA,cAAc;MAAA;IAAA;EAAA,GAkBnB;EAEDzB,SAAS,CAAC,YAAM;IACd0B,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEtB,eAAe,CAAC;IACvC,IAAIA,eAAe,CAACuB,MAAM,GAAG,CAAC,EAAE;MAC9BH,cAAc,EAAE;IAClB;EACF,CAAC,EAAE,CAACpB,eAAe,CAAC,CAAC;EAErB,OACE,KAAC,YAAY;IAAC,KAAK,EAAE;MAAEwB,IAAI,EAAE;IAAE,CAAE;IAAA,UAC/B,MAAC,IAAI;MAAC,KAAK,EAAE;QAAEA,IAAI,EAAE,CAAC;QAAEC,UAAU,EAAE,QAAQ;QAAEC,cAAc,EAAE;MAAS,CAAE;MAAA,WACvE,KAAC,IAAI;QAAA;MAAA,EAA+B,EACnC1B,eAAe,CAACuB,MAAM,GAAG,CAAC,GACzB,KAAC,iBAAiB;QAAC,WAAW,EAAC;MAAe,EAAG,GAEjD,KAAC,iBAAiB;QAAC,WAAW,EAAC;MAAiB,EACjD;IAAA;EACI,EACM;AAEnB,CAAC;AAED,eAAexB,GAAG;AAElB,IAAM4B,MAAM,GAAGC,UAAU,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC"},"metadata":{},"sourceType":"module"}