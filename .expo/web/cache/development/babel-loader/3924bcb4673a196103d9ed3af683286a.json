{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport React, { useEffect, useState } from \"react\";\nimport ProductDisplayBtn from \"./ProductDisplayBtn\";\nimport { userStoreState } from \"../state/state\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar MenuScreenInnerBlock = function MenuScreenInnerBlock(_ref) {\n  var _catalog$products;\n  var visible = _ref.visible,\n    height = _ref.height,\n    category = _ref.category;\n  var catalog = userStoreState.use();\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setdata = _useState2[1];\n\n  var customSort = function customSort(a, b) {\n    var rankA = a.rank || Number.MAX_SAFE_INTEGER;\n    var rankB = b.rank || Number.MAX_SAFE_INTEGER;\n\n    return rankA - rankB;\n  };\n  useEffect(function () {\n    var dataToReturn = catalog.products.filter(function (product) {\n      var isVisible = product.category === category;\n      console.log(\"rank: \", product.rank);\n      return isVisible;\n    });\n    dataToReturn.sort(customSort);\n    setdata(dataToReturn);\n  }, []);\n  if (((_catalog$products = catalog.products) == null ? void 0 : _catalog$products.length) > 0) {\n\n    var renderItem = function renderItem(_ref2) {\n      var item = _ref2.item,\n        index = _ref2.index;\n      return _jsx(ProductDisplayBtn, {\n        product: item,\n        productIndex: index\n      }, index);\n    };\n    var keyExtractor = function keyExtractor(item) {\n      return item.id;\n    };\n    var getItemLayout = function getItemLayout(data, index) {\n      return {\n        length: 200,\n        offset: 200 * index,\n        index: index\n      };\n    };\n\n    return _jsx(\"div\", {\n      style: visible === false ? {\n        display: \"none\"\n      } : {\n        display: \"block\"\n      },\n      children: _jsx(FlatList, {\n        style: {\n          width: \"100%\",\n          height: \"100%\"\n        },\n        contentContainerStyle: {\n          flexDirection: \"row\",\n          flexWrap: \"wrap\",\n          justifyContent: \"space-between\",\n          paddingLeft: 50,\n          paddingRight: 50\n        },\n        data: data,\n        renderItem: renderItem,\n        keyExtractor: keyExtractor,\n        getItemLayout: getItemLayout\n      })\n    });\n  } else {\n    return _jsx(View, {\n      style: {\n        width: \"100%\",\n        height: height * 0.8,\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      children: _jsx(Text, {\n        style: {\n          fontFamily: \"archivo-500\",\n          color: \"rgba(74,74,74,1)\",\n          fontSize: 20\n        },\n        children: \"This category has no products...\"\n      })\n    });\n  }\n};\nexport default MenuScreenInnerBlock;","map":{"version":3,"names":["React","useEffect","useState","ProductDisplayBtn","userStoreState","MenuScreenInnerBlock","visible","height","category","catalog","use","data","setdata","customSort","a","b","rankA","rank","Number","MAX_SAFE_INTEGER","rankB","dataToReturn","products","filter","product","isVisible","console","log","sort","length","renderItem","item","index","keyExtractor","id","getItemLayout","offset","display","width","flexDirection","flexWrap","justifyContent","paddingLeft","paddingRight","alignItems","fontFamily","color","fontSize"],"sources":["/Users/peterputros/Desktop/PosMate/components/MenuScreenInnerBlock.tsx"],"sourcesContent":["import { View, Text, FlatList, Modal } from \"react-native\";\nimport React, { useEffect, useState } from \"react\";\nimport ProductDisplayBtn from \"components/ProductDisplayBtn\";\nimport { userStoreState } from \"state/state\";\n\nconst MenuScreenInnerBlock = ({ visible, height, category }) => {\n  const catalog = userStoreState.use();\n  const [data, setdata] = useState([]);\n\n  // Custom sorting function\n  const customSort = (a, b) => {\n    // Handle cases where one or both items don't have a rank\n    const rankA = a.rank || Number.MAX_SAFE_INTEGER;\n    const rankB = b.rank || Number.MAX_SAFE_INTEGER;\n\n    // Compare based on ranks\n    return rankA - rankB;\n  };\n\n  useEffect(() => {\n    const dataToReturn = catalog.products.filter((product) => {\n      const isVisible = product.category === category;\n      console.log(\"rank: \", product.rank);\n      return isVisible;\n    });\n\n    dataToReturn.sort(customSort);\n\n    setdata(dataToReturn);\n  }, []);\n\n  if (catalog.products?.length > 0) {\n    // return catalog.products.map((product, index) => {\n    //   const isVisible = section\n    //     ? product.catagory === section || product.category === section\n    //     : product.catagory === catalog.categories[0] ||\n    //       product.category === catalog.categories[0];\n\n    //   return (\n    //     <>\n    //       {isVisible && (\n    //         <ProductDisplayBtn\n    //           product={product}\n    //           productIndex={index}\n    //           key={index}\n    //         />\n    //       )}\n    //     </>\n    //   );\n    // });\n\n    const renderItem = ({ item, index }) => (\n      <ProductDisplayBtn product={item} productIndex={index} key={index} />\n    ); // Defined outside the render method\n    const keyExtractor = (item) => item.id; // Defined outside the render method\n    const getItemLayout = (data, index) => ({\n      length: 200,\n      offset: 200 * index,\n      index,\n    }); // Defined outside the render method\n\n    return (\n      <div\n        style={visible === false ? { display: \"none\" } : { display: \"block\" }}\n      >\n        <FlatList\n          style={{ width: \"100%\", height: \"100%\" }}\n          contentContainerStyle={{\n            flexDirection: \"row\",\n            flexWrap: \"wrap\",\n            justifyContent: \"space-between\",\n            paddingLeft: 50,\n            paddingRight: 50,\n          }}\n          data={data}\n          renderItem={renderItem}\n          keyExtractor={keyExtractor}\n          getItemLayout={getItemLayout}\n        />\n      </div>\n    );\n  } else {\n    return (\n      <View\n        style={{\n          width: \"100%\",\n          height: height * 0.8,\n          justifyContent: \"center\",\n          alignItems: \"center\",\n        }}\n      >\n        <Text\n          style={{\n            fontFamily: \"archivo-500\",\n            color: \"rgba(74,74,74,1)\",\n            fontSize: 20,\n          }}\n        >\n          This category has no products...\n        </Text>\n      </View>\n    );\n  }\n};\n\nexport default MenuScreenInnerBlock;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}