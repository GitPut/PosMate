{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport { Table } from \"antd\";\nimport \"./antd.css\";\nimport { itemRender, onShowSizeChange } from \"../components/pagination\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar Datatable = function Datatable(_ref) {\n  var props = _ref.props,\n    columns = _ref.columns,\n    dataSource = _ref.dataSource,\n    updateBaseSelectedRows = _ref.updateBaseSelectedRows,\n    setbaseSelectedRows = _ref.setbaseSelectedRows;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    selectedRowKeys = _useState2[0],\n    setSelectedRowKeys = _useState2[1];\n  var onSelectChange = function onSelectChange(newSelectedRowKeys) {\n    console.log(\"selectedRowKeys changed: \", selectedRowKeys);\n    setSelectedRowKeys(newSelectedRowKeys);\n  };\n  useEffect(function () {\n    setbaseSelectedRows(selectedRowKeys);\n  }, [updateBaseSelectedRows]);\n\n  var DownloadExcel = function DownloadExcel() {\n    var excelDownload = new ExcelDownload();\n    excelDownload.addSheet(\"history\").addColumns(columns).addDataSource(transListTableOrg, {\n      str2Percent: true\n    }).saveAs(\"StoreReceipts.xlsx\");\n  };\n  var rowSelection = {\n    selectedRowKeys: selectedRowKeys,\n    onChange: onSelectChange\n  };\n  return _jsx(Table, {\n    className: \"table datanew dataTable no-footer\",\n    rowSelection: rowSelection,\n    columns: columns,\n    dataSource: dataSource,\n    pagination: {\n      total: dataSource.length,\n      showTotal: function showTotal(total, range) {\n        return \" \" + range[0] + \" to \" + range[1] + \" of \" + total + \" items\";\n      },\n      showSizeChanger: true,\n      onShowSizeChange: onShowSizeChange\n    },\n    rowKey: function rowKey(record) {\n      return record.id;\n    }\n  }, props);\n};\nexport default Datatable;","map":{"version":3,"names":["React","useEffect","useState","Table","itemRender","onShowSizeChange","Datatable","props","columns","dataSource","updateBaseSelectedRows","setbaseSelectedRows","selectedRowKeys","setSelectedRowKeys","onSelectChange","newSelectedRowKeys","console","log","DownloadExcel","excelDownload","ExcelDownload","addSheet","addColumns","addDataSource","transListTableOrg","str2Percent","saveAs","rowSelection","onChange","total","length","showTotal","range","showSizeChanger","record","id"],"sources":["/Users/peterputros/Desktop/PosMate/screens/authed/main/EntryFile/datatable.jsx"],"sourcesContent":["import React,{useEffect, useState} from \"react\";\nimport { Table } from \"antd\";\nimport \"./antd.css\";\nimport { itemRender, onShowSizeChange } from \"../components/pagination\";\n\nconst Datatable = ({ props, columns, dataSource, updateBaseSelectedRows, setbaseSelectedRows }) => {\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\n  const onSelectChange = (newSelectedRowKeys) => {\n    console.log(\"selectedRowKeys changed: \", selectedRowKeys);\n    setSelectedRowKeys(newSelectedRowKeys);\n  };\n\n  useEffect(() => {\n    setbaseSelectedRows(selectedRowKeys)\n  }, [updateBaseSelectedRows])\n\n  //Printing function\n  const DownloadExcel = () => {\n    const excelDownload = new ExcelDownload();\n    excelDownload\n      .addSheet(\"history\")\n      .addColumns(columns)\n      .addDataSource(transListTableOrg, {\n        str2Percent: true\n      })\n      .saveAs(\"StoreReceipts.xlsx\");\n  };\n  \n\n  const rowSelection = {\n    selectedRowKeys,\n    onChange: onSelectChange,\n  };\n  return (\n    <Table\n      key={props}\n      className=\"table datanew dataTable no-footer\"\n      rowSelection={rowSelection}\n      columns={columns}\n      dataSource={dataSource}\n      pagination={{\n        total: dataSource.length,\n        showTotal: (total, range) =>\n          ` ${range[0]} to ${range[1]} of ${total} items`,\n        showSizeChanger: true,\n        onShowSizeChange: onShowSizeChange,\n      }}\n      rowKey={(record) => record.id}\n    />\n  );\n};\n\nexport default Datatable;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAEC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAC/C,SAASC,KAAK,QAAQ,MAAM;AAC5B;AACA,SAASC,UAAU,EAAEC,gBAAgB;AAAmC;AAExE,IAAMC,SAAS,GAAG,SAAZA,SAAS,OAAoF;EAAA,IAA9EC,KAAK,QAALA,KAAK;IAAEC,OAAO,QAAPA,OAAO;IAAEC,UAAU,QAAVA,UAAU;IAAEC,sBAAsB,QAAtBA,sBAAsB;IAAEC,mBAAmB,QAAnBA,mBAAmB;EAC1F,gBAA8CT,QAAQ,CAAC,EAAE,CAAC;IAAA;IAAnDU,eAAe;IAAEC,kBAAkB;EAC1C,IAAMC,cAAc,GAAG,SAAjBA,cAAc,CAAIC,kBAAkB,EAAK;IAC7CC,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEL,eAAe,CAAC;IACzDC,kBAAkB,CAACE,kBAAkB,CAAC;EACxC,CAAC;EAEDd,SAAS,CAAC,YAAM;IACdU,mBAAmB,CAACC,eAAe,CAAC;EACtC,CAAC,EAAE,CAACF,sBAAsB,CAAC,CAAC;;EAG5B,IAAMQ,aAAa,GAAG,SAAhBA,aAAa,GAAS;IAC1B,IAAMC,aAAa,GAAG,IAAIC,aAAa,EAAE;IACzCD,aAAa,CACVE,QAAQ,CAAC,SAAS,CAAC,CACnBC,UAAU,CAACd,OAAO,CAAC,CACnBe,aAAa,CAACC,iBAAiB,EAAE;MAChCC,WAAW,EAAE;IACf,CAAC,CAAC,CACDC,MAAM,CAAC,oBAAoB,CAAC;EACjC,CAAC;EAGD,IAAMC,YAAY,GAAG;IACnBf,eAAe,EAAfA,eAAe;IACfgB,QAAQ,EAAEd;EACZ,CAAC;EACD,OACE,KAAC,KAAK;IAEJ,SAAS,EAAC,mCAAmC;IAC7C,YAAY,EAAEa,YAAa;IAC3B,OAAO,EAAEnB,OAAQ;IACjB,UAAU,EAAEC,UAAW;IACvB,UAAU,EAAE;MACVoB,KAAK,EAAEpB,UAAU,CAACqB,MAAM;MACxBC,SAAS,EAAE,mBAACF,KAAK,EAAEG,KAAK;QAAA,aAClBA,KAAK,CAAC,CAAC,CAAC,YAAOA,KAAK,CAAC,CAAC,CAAC,YAAOH,KAAK;MAAA,CAAQ;MACjDI,eAAe,EAAE,IAAI;MACrB5B,gBAAgB,EAAEA;IACpB,CAAE;IACF,MAAM,EAAE,gBAAC6B,MAAM;MAAA,OAAKA,MAAM,CAACC,EAAE;IAAA;EAAC,GAZzB5B,KAAK,CAaV;AAEN,CAAC;AAED,eAAeD,SAAS"},"metadata":{},"sourceType":"module"}