{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport React from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport { db } from \"../../../../state/firebaseConfig\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction EmployeeClockInItem(props) {\n  return _jsxs(View, {\n    style: [styles.container, props.style],\n    children: [_jsxs(View, {\n      style: styles.leftSideGroup,\n      children: [_jsx(MaterialIcons, {\n        name: \"person\",\n        style: styles.personIcon\n      }), _jsx(Text, {\n        style: styles.employeeName,\n        children: \"Peter\"\n      })]\n    }), _jsx(View, {\n      style: styles.rightSideGroup,\n      children: _jsxs(View, {\n        style: styles.textInputRow,\n        children: [_jsx(TextInput, {\n          style: styles.textInput,\n          placeholder: \"PIN\"\n        }), _jsx(TouchableOpacity, {\n          style: styles.button,\n          onPress: function onPress() {\n            if (enteredPin !== employee.pin && employee.pin) return alert(\"Wrong PIN\");\n            var date = new Date();\n            if (isClockedIn) {\n              var endTime = date.getHours() + \":\" + (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes());\n              db.collection(\"users\").doc(auth.currentUser.uid).collection(\"employees\").doc(employee.id).collection(\"hours\").add({\n                date: employee.clockedIn.date,\n                startTime: employee.clockedIn.startTime,\n                endTime: endTime\n              }).then(function () {\n                db.collection(\"users\").doc(auth.currentUser.uid).collection(\"employees\").doc(employee.id).update({\n                  clockedIn: false\n                });\n                var prev = _toConsumableArray(employees);\n                prev[employees.indexOf(employee)].clockedIn = false;\n                setEmployeesState(prev);\n              });\n              setenteredPin(null);\n            } else {\n              var startTime = date.getHours() + \":\" + (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes());\n              db.collection(\"users\").doc(auth.currentUser.uid).collection(\"employees\").doc(employee.id).update({\n                clockedIn: {\n                  startTime: startTime,\n                  date: date\n                }\n              });\n              var prev = _toConsumableArray(employees);\n              prev[employees.indexOf(employee)].clockedIn = {\n                startTime: startTime,\n                date: date\n              };\n              setEmployeesState(prev);\n              setenteredPin(null);\n            }\n          },\n          children: _jsx(Text, {\n            style: styles.clockInLabel,\n            children: \"Clock In\"\n          })\n        })]\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"#edf1fe\",\n    borderRadius: 10,\n    flexDirection: \"row\",\n    shadowColor: \"rgba(0,0,0,1)\",\n    shadowOffset: {\n      width: 3,\n      height: 3\n    },\n    elevation: 9,\n    shadowOpacity: 0.2,\n    shadowRadius: 3,\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  },\n  leftSideGroup: {\n    width: 114,\n    height: 55,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    margin: 15\n  },\n  personIcon: {\n    color: \"#1c294e\",\n    fontSize: 55\n  },\n  employeeName: {\n    fontWeight: \"700\",\n    color: \"#121212\",\n    fontSize: 20\n  },\n  rightSideGroup: {\n    width: 183,\n    height: 49,\n    margin: 15,\n    flexDirection: \"row\"\n  },\n  textInput: {\n    width: 85,\n    height: 35,\n    backgroundColor: \"rgba(255,255,255,1)\",\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: \"#b4b5b8\",\n    marginTop: 7,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    textAlign: \"center\"\n  },\n  button: {\n    width: 92,\n    height: 49,\n    backgroundColor: \"#03c551\",\n    borderRadius: 10,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginLeft: 7\n  },\n  clockInLabel: {\n    fontWeight: \"700\",\n    color: \"rgba(255,255,255,1)\",\n    fontSize: 16\n  },\n  textInputRow: {\n    height: 49,\n    flexDirection: \"row\",\n    flex: 1,\n    marginRight: -1\n  }\n});\nexport default EmployeeClockInItem;","map":{"version":3,"names":["React","MaterialIcons","db","EmployeeClockInItem","props","styles","container","style","leftSideGroup","personIcon","employeeName","rightSideGroup","textInputRow","textInput","button","enteredPin","employee","pin","alert","date","Date","isClockedIn","endTime","getHours","getMinutes","collection","doc","auth","currentUser","uid","id","add","clockedIn","startTime","then","update","prev","employees","indexOf","setEmployeesState","setenteredPin","clockInLabel","StyleSheet","create","backgroundColor","borderRadius","flexDirection","shadowColor","shadowOffset","width","height","elevation","shadowOpacity","shadowRadius","alignItems","justifyContent","margin","color","fontSize","fontWeight","borderWidth","borderColor","marginTop","textAlign","marginLeft","flex","marginRight"],"sources":["/Users/peterputros/Desktop/PosMate/components/modalsNew/ClockInModal/components/EmployeeClockInItem.tsx"],"sourcesContent":["import React, { Component } from \"react\";\nimport {\n  StyleSheet,\n  View,\n  Text,\n  TouchableOpacity,\n  TextInput,\n} from \"react-native\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport { db } from \"state/firebaseConfig\";\n\nfunction EmployeeClockInItem(props) {\n  return (\n    <View style={[styles.container, props.style]}>\n      <View style={styles.leftSideGroup}>\n        <MaterialIcons name=\"person\" style={styles.personIcon} />\n        <Text style={styles.employeeName}>Peter</Text>\n      </View>\n      <View style={styles.rightSideGroup}>\n        <View style={styles.textInputRow}>\n          <TextInput style={styles.textInput} placeholder=\"PIN\" />\n          <TouchableOpacity\n            style={styles.button}\n            onPress={() => {\n              if (enteredPin !== employee.pin && employee.pin)\n                return alert(\"Wrong PIN\");\n              const date = new Date();\n              if (isClockedIn) {\n                const endTime = `${date.getHours()}:${\n                  date.getMinutes() < 10\n                    ? \"0\" + date.getMinutes()\n                    : date.getMinutes()\n                }`;\n                db.collection(\"users\")\n                  .doc(auth.currentUser.uid)\n                  .collection(\"employees\")\n                  .doc(employee.id)\n                  .collection(\"hours\")\n                  .add({\n                    date: employee.clockedIn.date,\n                    startTime: employee.clockedIn.startTime,\n                    endTime: endTime,\n                  })\n                  .then(() => {\n                    db.collection(\"users\")\n                      .doc(auth.currentUser.uid)\n                      .collection(\"employees\")\n                      .doc(employee.id)\n                      .update({\n                        clockedIn: false,\n                      });\n\n                    const prev = [...employees];\n                    prev[employees.indexOf(employee)].clockedIn = false;\n                    setEmployeesState(prev);\n                  });\n                setenteredPin(null);\n              } else {\n                const startTime = `${date.getHours()}:${\n                  date.getMinutes() < 10\n                    ? \"0\" + date.getMinutes()\n                    : date.getMinutes()\n                }`;\n                db.collection(\"users\")\n                  .doc(auth.currentUser.uid)\n                  .collection(\"employees\")\n                  .doc(employee.id)\n                  .update({\n                    clockedIn: {\n                      startTime: startTime,\n                      date: date,\n                    },\n                  });\n\n                const prev = [...employees];\n                prev[employees.indexOf(employee)].clockedIn = {\n                  startTime: startTime,\n                  date: date,\n                };\n                setEmployeesState(prev);\n                setenteredPin(null);\n              }\n            }}\n          >\n            <Text style={styles.clockInLabel}>Clock In</Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"#edf1fe\",\n    borderRadius: 10,\n    flexDirection: \"row\",\n    shadowColor: \"rgba(0,0,0,1)\",\n    shadowOffset: {\n      width: 3,\n      height: 3,\n    },\n    elevation: 9,\n    shadowOpacity: 0.2,\n    shadowRadius: 3,\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  },\n  leftSideGroup: {\n    width: 114,\n    height: 55,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    margin: 15,\n  },\n  personIcon: {\n    color: \"#1c294e\",\n    fontSize: 55,\n  },\n  employeeName: {\n    fontWeight: \"700\",\n    color: \"#121212\",\n    fontSize: 20,\n  },\n  rightSideGroup: {\n    width: 183,\n    height: 49,\n    margin: 15,\n    flexDirection: \"row\",\n  },\n  textInput: {\n    width: 85,\n    height: 35,\n    backgroundColor: \"rgba(255,255,255,1)\",\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: \"#b4b5b8\",\n    marginTop: 7,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    textAlign: \"center\",\n  },\n  button: {\n    width: 92,\n    height: 49,\n    backgroundColor: \"#03c551\",\n    borderRadius: 10,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginLeft: 7,\n  },\n  clockInLabel: {\n    fontWeight: \"700\",\n    color: \"rgba(255,255,255,1)\",\n    fontSize: 16,\n  },\n  textInputRow: {\n    height: 49,\n    flexDirection: \"row\",\n    flex: 1,\n    marginRight: -1,\n  },\n});\n\nexport default EmployeeClockInItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}