{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport MainAuthed from \"./authed/MainAuthed\";\nimport { setStoreDetailState, setUserState, setUserStoreState, setWoocommerceState, storeDetailState, transListState, userState, woocommerceState } from \"../state/state\";\nimport MainNonAuth from \"./non-authed/MainNonAuth\";\nimport { auth, db } from \"../state/firebaseConfig\";\nimport Spinner from \"../components/Spinner\";\nvar tz = require(\"moment-timezone\");\nimport useSound from \"use-sound\";\nimport mySound from \"../assets/alarm.mp3\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar RouteManager = function RouteManager() {\n  var userS = userState.use();\n  var wooCredentials = woocommerceState.use();\n  var transList = transListState.use();\n  var storeDetails = storeDetailState.use();\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setloading = _useState2[1];\n  var _useSound = useSound(mySound),\n    _useSound2 = _slicedToArray(_useSound, 1),\n    playSound = _useSound2[0];\n  useEffect(function () {\n    auth.onAuthStateChanged(function (user) {\n      if (user) {\n        setUserState(user);\n        db.collection(\"users\").doc(user.uid).get().then(function (doc) {\n          setUserStoreState({\n            products: doc.data().products,\n            categories: doc.data().categories\n          });\n          if (doc.data().wooCredentials) {\n            setWoocommerceState(doc.data().wooCredentials);\n          }\n          if (doc.data().storeDetails) {\n            setStoreDetailState(doc.data().storeDetails);\n          }\n        });\n        setTimeout(function () {\n          setloading(false);\n        }, 1);\n      } else {\n        setUserState(null);\n        setUserStoreState({\n          products: null,\n          categories: null\n        });\n        setTimeout(function () {\n          setloading(false);\n        }, 1);\n      }\n    });\n  }, []);\n  useEffect(function () {\n    if (userS) {\n      var unsub = db.collection(\"users\").doc(userS.uid).onSnapshot(function (doc) {\n        setUserStoreState({\n          products: doc.data().products,\n          categories: doc.data().categories\n        });\n        if (doc.data().wooCredentials) {\n          setWoocommerceState(doc.data().wooCredentials);\n        }\n        if (doc.data().storeDetails) {\n          setStoreDetailState(doc.data().storeDetails);\n        }\n      });\n\n      return function () {\n        return unsub();\n      };\n    }\n  }, [userS]);\n\n  var linking = {\n    prefixes: [\n    ],\n    config: {\n      screens: {\n        Home: \"\",\n        Features: \"features\",\n        \"About Us\": \"about-us\",\n        Pricing: \"pricing\",\n        Faqs: \"faqs\",\n        Contact: \"contact\",\n        Login: \"log-in\",\n        Signup: \"sign-up\",\n        Legal: \"legal\",\n        \"Reset Password\": \"reset-password\",\n        \"Latest Updates\": \"latest-updates\",\n        \"Not Found\": \"*\"\n      }\n    }\n  };\n  return _jsx(NavigationContainer, {\n    linking: linking,\n    children: loading ? _jsx(Spinner, {\n      isModalVisible: true\n    }) : _jsx(_Fragment, {\n      children: userS ? _jsx(MainAuthed, {}) : _jsx(MainNonAuth, {})\n    })\n  });\n};\nexport default RouteManager;","map":{"version":3,"names":["React","useEffect","useState","NavigationContainer","MainAuthed","setStoreDetailState","setUserState","setUserStoreState","setWoocommerceState","storeDetailState","transListState","userState","woocommerceState","MainNonAuth","auth","db","Spinner","tz","require","useSound","mySound","RouteManager","userS","use","wooCredentials","transList","storeDetails","loading","setloading","playSound","onAuthStateChanged","user","collection","doc","uid","get","then","products","data","categories","setTimeout","unsub","onSnapshot","linking","prefixes","config","screens","Home","Features","Pricing","Faqs","Contact","Login","Signup","Legal"],"sources":["/Users/peterputros/Desktop/PosMate/navigation/RouteManager.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport MainAuthed from \"./authed/MainAuthed\";\nimport {\n  setStoreDetailState,\n  setTransListState,\n  setUserState,\n  setUserStoreState,\n  setWoocommerceState,\n  storeDetailState,\n  transListState,\n  userState,\n  woocommerceState,\n} from \"state/state\";\nimport MainNonAuth from \"./non-authed/MainNonAuth\";\nimport { auth, db } from \"state/firebaseConfig\";\nimport Spinner from \"components/Spinner\";\nimport { updateTransList } from \"state/firebaseFunctions\";\nconst tz = require(\"moment-timezone\");\nimport useSound from \"use-sound\";\nimport mySound from \"assets/alarm.mp3\";\n\nconst RouteManager = () => {\n  const userS = userState.use();\n  const wooCredentials = woocommerceState.use();\n  const transList = transListState.use();\n  const storeDetails = storeDetailState.use();\n  const [loading, setloading] = useState(true);\n  const [playSound] = useSound(mySound);\n\n  useEffect(() => {\n    auth.onAuthStateChanged((user) => {\n      if (user) {\n        setUserState(user);\n        db.collection(\"users\")\n          .doc(user.uid)\n          .get()\n          .then((doc) => {\n            setUserStoreState({\n              products: doc.data().products,\n              categories: doc.data().categories,\n            });\n            //Dont need now\n            // if (doc.data().transList) {\n            //   setTransListState(doc.data().transList);\n            // }\n            //dont plz :)\n            if (doc.data().wooCredentials) {\n              setWoocommerceState(doc.data().wooCredentials);\n            }\n            if (doc.data().storeDetails) {\n              setStoreDetailState(doc.data().storeDetails);\n            }\n          });\n        setTimeout(() => {\n          setloading(false);\n        }, 1);\n      } else {\n        setUserState(null);\n        setUserStoreState({ products: null, categories: null });\n        setTimeout(() => {\n          setloading(false);\n        }, 1);\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    if (userS) {\n      const unsub = db\n        .collection(\"users\")\n        .doc(userS.uid)\n        .onSnapshot((doc) => {\n          // setloading(true);\n          setUserStoreState({\n            products: doc.data().products,\n            categories: doc.data().categories,\n          });\n          // if (doc.data().transList) {\n          //   setTransListState(doc.data().transList);\n          // }\n          if (doc.data().wooCredentials) {\n            setWoocommerceState(doc.data().wooCredentials);\n          }\n          if (doc.data().storeDetails) {\n            setStoreDetailState(doc.data().storeDetails);\n          }\n          // setTimeout(() => {\n          //   setloading(false);\n          // }, 1);\n        });\n      return () => unsub();\n    }\n  }, [userS]);\n\n  // useEffect(() => {\n  //   if (wooCredentials.useWoocommerce === true) {\n  //     const interval = setInterval(() => {\n  //       try {\n  //         const WooCommerceAPI = require(\"woocommerce-api\");\n\n  //         const WooCommerce = new WooCommerceAPI({\n  //           url: wooCredentials.apiUrl,\n  //           consumerKey: wooCredentials.ck,\n  //           consumerSecret: wooCredentials.cs,\n  //           wpAPI: true,\n  //           version: \"wc/v1\",\n  //         });\n\n  //         let page = 1;\n  //         let orders = [];\n\n  //         const getOrders = async () => {\n  //           const response = await WooCommerce.getAsync(\n  //             `orders?page=${page}&per_page=100`\n  //           );\n  //           const data = JSON.parse(response.body);\n  //           orders = [...orders, ...data];\n  //           if (data.length === 100) {\n  //             page++;\n  //             getOrders();\n  //           } else {\n  //             // console.log(orders);\n  //           }\n  //         };\n\n  //         getOrders().then(() => {\n  //           let array1 = localStorage.getItem(\"prevWooOrders\");\n  //           array1 = JSON.parse(array1);\n  //           if (array1) {\n  //             const array2 = orders;\n\n  //             // console.log('prev: ', array1, ' New: ', orders, ' are the same? ', JSON.stringify(array1) === JSON.stringify(array2))\n\n  //             const newArray = [];\n\n  //             let acc = [];\n\n  //             const CleanupOps = (metaList) => {\n  //               const opsArray = [];\n\n  //               metaList.forEach((op) => {\n  //                 const arrContaingMe = opsArray.filter(\n  //                   (filterOp) => filterOp.key === op.key\n  //                 );\n\n  //                 if (arrContaingMe.length > 0) {\n  //                   opsArray.forEach((opsArrItem, index) => {\n  //                     if (opsArrItem.key === op.key) {\n  //                       opsArray[index].vals.push(op.value);\n  //                     }\n  //                   });\n  //                 } else {\n  //                   opsArray.push({ key: op.key, vals: [op.value] });\n  //                 }\n  //               });\n  //               return opsArray;\n  //             };\n\n  //             // if (Array.isArray(array1)) {\n  //             //   array1.concat(array2).forEach((combinedItem) => {\n  //             //     if (!acc.includes(combinedItem.id)) {\n  //             //       acc.push(combinedItem.id);\n  //             //       newArray.push(combinedItem);\n  //             //     }\n  //             //   });\n  //             // } else {\n  //             //   JSON.parse(array1)\n  //             //     .concat(array2)\n  //             //     .forEach((combinedItem) => {\n  //             //       if (!acc.includes(combinedItem.id)) {\n  //             //         acc.push(combinedItem.id);\n  //             //         newArray.push(combinedItem);\n  //             //       }\n  //             //     });\n  //             // }\n  //             array1.concat(array2).forEach((combinedItem) => {\n  //               if (!acc.includes(combinedItem.id)) {\n  //                 acc.push(combinedItem.id);\n  //                 newArray.push(combinedItem);\n  //               }\n  //             });\n  //             if (newArray.length > array1.length) {\n  //               playSound();\n  //               const newItems = structuredClone(newArray).splice(\n  //                 array1.length,\n  //                 newArray.length - array1.length\n  //               );\n  //               // updateTransList(newArray);\n  //               localStorage.setItem(\"prevWooOrders\", JSON.stringify(newArray));\n\n  //               if (newItems.length > 1) {\n  //                 newItems.forEach((e) => {\n  //                   const printData = [];\n  //                   const dateString = e.date_created;\n  //                   const newDate = new Date(dateString + \"Z\");\n  //                   const targetTimezone =\n  //                     Intl.DateTimeFormat().resolvedOptions().timeZone;\n  //                   const resultDate = tz(newDate)\n  //                     .tz(targetTimezone, true)\n  //                     .format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n\n  //                   printData.push(\n  //                     \"\\x1B\\x40\", // init\n  //                     \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n  //                     storeDetails.name,\n  //                     \"\\x0A\",\n  //                     storeDetails.address + \"\\x0A\",\n  //                     storeDetails.website + \"\\x0A\", // text and line break\n  //                     storeDetails.phoneNumber + \"\\x0A\", // text and line break\n  //                     resultDate + \"\\x0A\",\n  //                     \"\\x0A\",\n  //                     \"Online Order\" + \"\\x0A\", // text and line break\n  //                     `Transaction ID ${e.number}` + \"\\x0A\",\n  //                     \"\\x0A\",\n  //                     \"\\x0A\",\n  //                     \"\\x0A\",\n  //                     \"\\x1B\" + \"\\x61\" + \"\\x30\" // left align\n  //                   );\n\n  //                   e.line_items?.map((cartItem) => {\n  //                     printData.push(\"\\x0A\");\n  //                     printData.push(`Name: ${cartItem.name}`);\n  //                     printData.push(\"\\x0A\");\n  //                     printData.push(`Quantity: ${cartItem.quantity}`);\n  //                     printData.push(\"\\x0A\");\n  //                     printData.push(`Price: $${cartItem.price}`);\n  //                     printData.push(\"\\x0A\");\n\n  //                     if (cartItem.meta) {\n  //                       CleanupOps(cartItem.meta).map((returnedItem) => {\n  //                         printData.push(`${returnedItem.key} : `);\n  //                         printData.push(\"\\x0A\");\n  //                         returnedItem.vals.map((val, index) => {\n  //                           printData.push(`${val}`);\n  //                           printData.push(\"\\x0A\");\n  //                           if (\n  //                             index >= 0 &&\n  //                             index < returnedItem.vals.length - 1\n  //                           ) {\n  //                             printData.push(\", \");\n  //                           }\n  //                         });\n  //                         printData.push(\"\\x0A\");\n  //                       });\n  //                     } else {\n  //                       printData.push(\"\\x0A\" + \"\\x0A\");\n  //                     }\n  //                   });\n\n  //                   printData.push(\"\\x0A\");\n  //                   printData.push(\"\\x0A\");\n  //                   printData.push(`Customer Details:`);\n  //                   printData.push(\"\\x0A\");\n  //                   printData.push(`Address: ${e.shipping.address_1}`);\n  //                   printData.push(\"\\x0A\");\n  //                   printData.push(`City: ${e.shipping.city}`);\n  //                   printData.push(\"\\x0A\");\n  //                   printData.push(`Zip/Postal Code: ${e.shipping.postcode}`);\n  //                   printData.push(\"\\x0A\");\n  //                   printData.push(`Province/State: ${e.shipping.state}`);\n  //                   printData.push(\"\\x0A\");\n  //                   printData.push(\n  //                     `Name: ${e.shipping.first_name} ${e.shipping.last_name}`\n  //                   );\n  //                   printData.push(\"\\x0A\");\n  //                   printData.push(`Phone Number: ${e.billing.phone}`);\n  //                   printData.push(\"\\x0A\");\n  //                   e.shipping_lines.map((line) => {\n  //                     printData.push(`Shipping Method: ${line.method_title}`);\n  //                     printData.push(\"\\x0A\");\n  //                   });\n  //                   if (e.customer_note) {\n  //                     printData.push(`Customer Note: ${e.customer_note}`);\n  //                     printData.push(\"\\x0A\");\n  //                   }\n  //                   printData.push(\"\\x0A\");\n  //                   printData.push(\"\\x0A\");\n\n  //                   printData.push(\n  //                     \"\\x0A\",\n  //                     \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n  //                     \"\\x0A\" + \"\\x0A\",\n  //                     \"Payment Method: \" +\n  //                       e.payment_method_title +\n  //                       \"\\x0A\" +\n  //                       \"\\x0A\",\n  //                     \"Total Including (13% Tax): \" +\n  //                       \"$\" +\n  //                       e.total +\n  //                       \"\\x0A\" +\n  //                       \"\\x0A\",\n  //                     \"------------------------------------------\" + \"\\x0A\",\n  //                     \"\\x0A\", // line break\n  //                     \"\\x0A\", // line break\n  //                     \"\\x0A\", // line break\n  //                     \"\\x0A\", // line break\n  //                     \"\\x0A\", // line break\n  //                     \"\\x0A\" // line break\n  //                   );\n\n  //                   printData.push(\"\\x1D\" + \"\\x56\" + \"\\x00\");\n\n  //                   const qz = require(\"qz-tray\");\n  //                   qz.websocket\n  //                     .connect()\n  //                     .then(function () {\n  //                       let config = qz.configs.create(\n  //                         storeDetails.comSelected\n  //                       );\n  //                       return qz.print(config, printData);\n  //                     })\n  //                     .then(qz.websocket.disconnect)\n  //                     .catch(function (err) {\n  //                       console.error(err);\n  //                     });\n  //                   // async () =>\n  //                   //   await fetch(\"http://localhost:8080/print\", {\n  //                   //     method: \"POST\",\n  //                   //     headers: {\n  //                   //       \"Content-Type\": \"application/json\",\n  //                   //     },\n  //                   //     body: JSON.stringify({\n  //                   //       printData: printData,\n  //                   //       comSelected: storeDetails.comSelected,\n  //                   //     }),\n  //                   //   })\n  //                   //     .then((response) => response.json())\n  //                   //     .then((respData) => {\n  //                   //       console.log(respData);\n  //                   //     })\n  //                   //     .catch((e) => console.log(\"Error with printer\"));\n  //                 });\n  //               } else {\n  //                 const e = newItems[0];\n  //                 const printData = [];\n  //                 const dateString = e.date_created;\n  //                 const newDate = new Date(dateString + \"Z\");\n  //                 const targetTimezone =\n  //                   Intl.DateTimeFormat().resolvedOptions().timeZone;\n  //                 const resultDate = tz(newDate)\n  //                   .tz(targetTimezone, true)\n  //                   .format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n\n  //                 printData.push(\n  //                   \"\\x1B\" + \"\\x40\", // init\n  //                   \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n  //                   storeDetails.name,\n  //                   \"\\x0A\",\n  //                   storeDetails.address + \"\\x0A\",\n  //                   storeDetails.website + \"\\x0A\", // text and line break\n  //                   storeDetails.phoneNumber + \"\\x0A\", // text and line break\n  //                   resultDate + \"\\x0A\",\n  //                   \"\\x0A\",\n  //                   \"Online Order\" + \"\\x0A\", // text and line break\n  //                   `Transaction ID ${e.number}` + \"\\x0A\",\n  //                   \"\\x0A\",\n  //                   \"\\x0A\",\n  //                   \"\\x0A\",\n  //                   \"\\x1B\" + \"\\x61\" + \"\\x30\" // left align\n  //                 );\n\n  //                 e.line_items?.map((cartItem) => {\n  //                   printData.push(\"\\x0A\");\n  //                   printData.push(`Name: ${cartItem.name}`);\n  //                   printData.push(\"\\x0A\");\n  //                   printData.push(`Quantity: ${cartItem.quantity}`);\n  //                   printData.push(\"\\x0A\");\n  //                   printData.push(`Price: $${cartItem.price}`);\n  //                   printData.push(\"\\x0A\");\n\n  //                   if (cartItem.meta) {\n  //                     CleanupOps(cartItem.meta).map((returnedItem) => {\n  //                       printData.push(`${returnedItem.key} : `);\n  //                       printData.push(\"\\x0A\");\n  //                       returnedItem.vals.map((val, index) => {\n  //                         printData.push(`${val}`);\n  //                         printData.push(\"\\x0A\");\n  //                         if (\n  //                           index >= 0 &&\n  //                           index < returnedItem.vals.length - 1\n  //                         ) {\n  //                           printData.push(\", \");\n  //                         }\n  //                       });\n  //                       printData.push(\"\\x0A\");\n  //                     });\n  //                   } else {\n  //                     printData.push(\"\\x0A\" + \"\\x0A\");\n  //                   }\n  //                 });\n\n  //                 printData.push(\"\\x0A\");\n  //                 printData.push(\"\\x0A\");\n  //                 printData.push(`Customer Details:`);\n  //                 printData.push(\"\\x0A\");\n  //                 printData.push(`Address: ${e.shipping.address_1}`);\n  //                 printData.push(\"\\x0A\");\n  //                 printData.push(`City: ${e.shipping.city}`);\n  //                 printData.push(\"\\x0A\");\n  //                 printData.push(`Zip/Postal Code: ${e.shipping.postcode}`);\n  //                 printData.push(\"\\x0A\");\n  //                 printData.push(`Province/State: ${e.shipping.state}`);\n  //                 printData.push(\"\\x0A\");\n  //                 printData.push(\n  //                   `Name: ${e.shipping.first_name} ${e.shipping.last_name}`\n  //                 );\n  //                 printData.push(\"\\x0A\");\n  //                 printData.push(`Phone Number: ${e.billing.phone}`);\n  //                 printData.push(\"\\x0A\");\n  //                 e.shipping_lines.map((line) => {\n  //                   printData.push(`Shipping Method: ${line.method_title}`);\n  //                   printData.push(\"\\x0A\");\n  //                 });\n  //                 if (e.customer_note) {\n  //                   printData.push(`Customer Note: ${e.customer_note}`);\n  //                   printData.push(\"\\x0A\");\n  //                 }\n  //                 printData.push(\"\\x0A\");\n  //                 printData.push(\"\\x0A\");\n\n  //                 printData.push(\n  //                   \"\\x0A\",\n  //                   \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n  //                   \"\\x0A\" + \"\\x0A\",\n  //                   \"Payment Method: \" +\n  //                     e.payment_method_title +\n  //                     \"\\x0A\" +\n  //                     \"\\x0A\",\n  //                   \"Total Including (13% Tax): \" +\n  //                     \"$\" +\n  //                     e.total +\n  //                     \"\\x0A\" +\n  //                     \"\\x0A\",\n  //                   \"------------------------------------------\" + \"\\x0A\",\n  //                   \"\\x0A\", // line break\n  //                   \"\\x0A\", // line break\n  //                   \"\\x0A\", // line break\n  //                   \"\\x0A\", // line break\n  //                   \"\\x0A\", // line break\n  //                   \"\\x0A\" // line break\n  //                 );\n\n  //                 printData.push(\"\\x1D\" + \"\\x56\" + \"\\x00\");\n\n  //                 const qz = require(\"qz-tray\");\n  //                 qz.websocket\n  //                   .connect()\n  //                   .then(function () {\n  //                     let config = qz.configs.create(storeDetails.comSelected);\n  //                     return qz.print(config, printData);\n  //                   })\n  //                   .then(qz.websocket.disconnect)\n  //                   .catch(function (err) {\n  //                     console.error(err);\n  //                   });\n  //                 // fetch(\"http://localhost:8080/print\", {\n  //                 //   method: \"POST\",\n  //                 //   headers: {\n  //                 //     \"Content-Type\": \"application/json\",\n  //                 //   },\n  //                 //   body: JSON.stringify({\n  //                 //     printData: printData,\n  //                 //     comSelected: storeDetails.comSelected,\n  //                 //   }),\n  //                 // })\n  //                 //   .then((response) => response.json())\n  //                 //   .then((respData) => {\n  //                 //     console.log(respData);\n  //                 //   })\n  //                 //   .catch((e) => alert(\"Error with printer\"));\n  //               }\n  //             }\n  //           } else {\n  //             localStorage.setItem(\"prevWooOrders\", JSON.stringify(orders));\n  //           }\n  //         });\n  //       } catch {\n  //         console.log(\"Error has occured with woocommerce\");\n  //       }\n  //     }, 5000); // this will check for new orders every minute\n  //     return () => clearInterval(interval);\n  //   }\n  // }, [wooCredentials]);\n\n  const linking = {\n    prefixes: [\n      /* your linking prefixes */\n    ],\n    config: {\n      screens: {\n        Home: \"\",\n        Features: \"features\",\n        \"About Us\": \"about-us\",\n        Pricing: \"pricing\",\n        Faqs: \"faqs\",\n        Contact: \"contact\",\n        Login: \"log-in\",\n        Signup: \"sign-up\",\n        Legal: \"legal\",\n        \"Reset Password\": \"reset-password\",\n        \"Latest Updates\": \"latest-updates\",\n        \"Not Found\": \"*\",\n      },\n    },\n  };\n\n  return (\n    <NavigationContainer linking={linking}>\n      {loading ? (\n        <Spinner isModalVisible={true} />\n      ) : (\n        <>{userS ? <MainAuthed /> : <MainNonAuth />}</>\n      )}\n    </NavigationContainer>\n  );\n};\n\nexport default RouteManager;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}