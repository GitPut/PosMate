{"ast":null,"code":"import { auth, db } from \"./firebaseConfig\";\nexport var signIn = function signIn(email, password) {\n  return auth.signInWithEmailAndPassword(email, password);\n};\nexport var signUp = function signUp(email, password) {\n  return auth.createUserWithEmailAndPassword(email, password).then(function (userAuth) {\n    if (userAuth.user) {\n      db.collection(\"users\").doc(userAuth.user.uid).set({\n        paid: true,\n        products: [],\n        categories: [],\n        wooCredentials: {\n          ck: null,\n          cs: null,\n          useWoocommerce: false\n        },\n        transList: [],\n        storeDetails: {\n          name: null,\n          address: null,\n          phoneNumber: null,\n          website: null,\n          comSelected: null,\n          deliveryPrice: null\n        }\n      });\n    }\n  }).catch(function (e) {\n    return console.log(e);\n  });\n};\nexport var updateData = function updateData(categories, products) {\n  return new Promise(function (resolve, reject) {\n    var _auth$currentUser;\n    db.collection(\"users\").doc((_auth$currentUser = auth.currentUser) == null ? void 0 : _auth$currentUser.uid).update({\n      products: products,\n      categories: categories\n    }).then(function () {\n      return resolve(\"Promise resolved!\");\n    }).catch(function () {\n      return reject(\"Promise rejected!\");\n    });\n  });\n};\nexport var updateWooCredentials = function updateWooCredentials(wooCredentials) {\n  var _auth$currentUser2;\n  db.collection(\"users\").doc((_auth$currentUser2 = auth.currentUser) == null ? void 0 : _auth$currentUser2.uid).update({\n    wooCredentials: wooCredentials\n  });\n};\nexport var updateTransList = function updateTransList(reciept) {\n  var _auth$currentUser3;\n  db.collection(\"users\").doc((_auth$currentUser3 = auth.currentUser) == null ? void 0 : _auth$currentUser3.uid).collection(\"transList\").add(reciept);\n};\nexport var updateStoreDetails = function updateStoreDetails(storeDetails) {\n  var _auth$currentUser4;\n  db.collection(\"users\").doc((_auth$currentUser4 = auth.currentUser) == null ? void 0 : _auth$currentUser4.uid).update({\n    storeDetails: storeDetails\n  });\n};\nexport var logout = function logout() {\n  return auth.signOut();\n};","map":{"version":3,"names":["auth","db","signIn","email","password","signInWithEmailAndPassword","signUp","createUserWithEmailAndPassword","then","userAuth","user","collection","doc","uid","set","paid","products","categories","wooCredentials","ck","cs","useWoocommerce","transList","storeDetails","name","address","phoneNumber","website","comSelected","deliveryPrice","catch","e","console","log","updateData","Promise","resolve","reject","currentUser","update","updateWooCredentials","updateTransList","reciept","add","updateStoreDetails","logout","signOut"],"sources":["C:/Users/admin/OneDrive - George Brown College/Desktop/PosMate/state/firebaseFunctions.ts"],"sourcesContent":["import { auth, db } from \"./firebaseConfig\";\r\n\r\nexport const signIn = (email, password) =>\r\n  auth.signInWithEmailAndPassword(email, password);\r\n\r\nexport const signUp = (email, password) =>\r\n  auth\r\n    .createUserWithEmailAndPassword(email, password)\r\n    .then((userAuth) => {\r\n      if (userAuth.user) {\r\n        db.collection(\"users\")\r\n          .doc(userAuth.user.uid)\r\n          .set({\r\n            paid: true,\r\n            products: [],\r\n            categories: [],\r\n            wooCredentials: { ck: null, cs: null, useWoocommerce: false },\r\n            transList: [],\r\n            storeDetails: {\r\n              name: null,\r\n              address: null,\r\n              phoneNumber: null,\r\n              website: null,\r\n              comSelected: null,\r\n              deliveryPrice: null,\r\n            },\r\n            //company name\r\n            //adddress\r\n            //etc\r\n          });\r\n      }\r\n    })\r\n    .catch((e) => console.log(e));\r\n\r\nexport const updateData = (categories, products) => {\r\n  return new Promise((resolve, reject) => {\r\n    db.collection(\"users\")\r\n      .doc(auth.currentUser?.uid)\r\n      .update({\r\n        products: products,\r\n        categories: categories,\r\n      })\r\n      .then(() => resolve(\"Promise resolved!\"))\r\n      .catch(() => reject(\"Promise rejected!\"));\r\n  });\r\n};\r\n\r\nexport const updateWooCredentials = (wooCredentials) => {\r\n  db.collection(\"users\").doc(auth.currentUser?.uid).update({\r\n    wooCredentials: wooCredentials,\r\n  });\r\n};\r\n\r\nexport const updateTransList = (reciept) => {\r\n  db.collection(\"users\")\r\n    .doc(auth.currentUser?.uid)\r\n    .collection(\"transList\")\r\n    .add(reciept);\r\n};\r\n\r\nexport const updateStoreDetails = (storeDetails) => {\r\n  db.collection(\"users\").doc(auth.currentUser?.uid).update({\r\n    storeDetails: storeDetails,\r\n  });\r\n};\r\n\r\nexport const logout = () => auth.signOut()\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}