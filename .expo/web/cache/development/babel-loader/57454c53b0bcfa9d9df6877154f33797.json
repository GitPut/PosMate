{"ast":null,"code":"import FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport React from \"react\";\nimport { Button, Text } from \"@react-native-material/core\";\nimport { storeDetailState } from \"../../state/state\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar tz = require(\"moment-timezone\");\nvar ViewTransactions = function ViewTransactions(_ref) {\n  var transList = _ref.transList,\n    todaysDetails = _ref.todaysDetails;\n  var today = new Date();\n  var storeDetails = storeDetailState.use();\n  var PrintTodaysTotal = function PrintTodaysTotal() {\n    var data = [\"\\x1B\" + \"\\x40\",\n    \"\\x1B\" + \"\\x61\" + \"\\x31\",\n    storeDetails.name, \"\\x0A\", storeDetails.address + \"\\x0A\", storeDetails.website + \"\\x0A\",\n    storeDetails.phoneNumber + \"\\x0A\",\n    today.toLocaleDateString() + \" \" + today.toLocaleTimeString() + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\",\n    \"\\x0A\" + \"\\x0A\", \"Number Of Receipts: \" + todaysDetails.todaysReceipts + \"\\x0A\" + \"\\x0A\", \"Sub-Total: \" + \"$\" + (todaysDetails.todaysReceiptValue / 1.13).toFixed(2) + \"\\x0A\" + \"\\x0A\", \"Tax: \" + \"$\" + (todaysDetails.todaysReceiptValue / 1.13 * 0.13).toFixed(2) + \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + \"$\" + todaysDetails.todaysReceiptValue + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n    \"\\x0A\",\n    \"\\x0A\",\n    \"\\x0A\",\n    \"\\x0A\",\n    \"\\x0A\",\n    \"\\x1D\" + \"\\x56\" + \"\\x30\"];\n    var qz = require(\"qz-tray\");\n    qz.websocket.connect().then(function () {\n      var config = qz.configs.create(storeDetails.comSelected);\n      return qz.print(config, data);\n    }).then(qz.websocket.disconnect).catch(function (err) {\n      console.error(err);\n    });\n\n  };\n\n  var CleanupOps = function CleanupOps(metaList) {\n    var opsArray = [];\n    metaList.forEach(function (op) {\n      var arrContaingMe = opsArray.filter(function (filterOp) {\n        return filterOp.key === op.key;\n      });\n      if (arrContaingMe.length > 0) {\n        opsArray.forEach(function (opsArrItem, index) {\n          if (opsArrItem.key === op.key) {\n            opsArray[index].vals.push(op.value);\n          }\n        });\n      } else {\n        opsArray.push({\n          key: op.key,\n          vals: [op.value]\n        });\n      }\n    });\n    return opsArray;\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: {\n        textAlign: \"center\",\n        margin: 25\n      },\n      children: \"List Of Transactions\"\n    }), _jsxs(View, {\n      style: {\n        flexDirection: \"row\",\n        width: \"100%\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n      },\n      children: [_jsxs(Text, {\n        style: {\n          textAlign: \"center\",\n          margin: 25\n        },\n        children: [\"Todays Total Price: \", todaysDetails.todaysReceiptValue]\n      }), _jsx(Button, {\n        style: {\n          height: 40,\n          alignItems: \"center\",\n          justifyContent: \"center\"\n        },\n        title: \"Print Todays Receipts\",\n        onPress: PrintTodaysTotal\n      }), _jsxs(Text, {\n        style: {\n          textAlign: \"center\",\n          margin: 25\n        },\n        children: [\"Todays Total Receipts: \", todaysDetails.todaysReceipts]\n      })]\n    }), _jsx(View, {\n      style: styles.contentContainer,\n      children: transList ? _jsx(FlatList, {\n        data: transList,\n        renderItem: function renderItem(_ref2) {\n          var _element$cart, _element$line_items, _element$customer_not;\n          var item = _ref2.item,\n            index = _ref2.index;\n          var element = item;\n          var date;\n          if (element.date_created) {\n            var dateString = element.date_created;\n            var newDate = new Date(dateString + \"Z\");\n            var targetTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n            var result = tz(newDate).tz(targetTimezone, true).format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n            date = result;\n          } else if (element.date) {\n            var _newDate = new Date(element.date.seconds * 1000);\n            var _targetTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n            var _result = tz(_newDate).tz(_targetTimezone, true).format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n            date = _result;\n          }\n          return _jsxs(View, {\n            style: {\n              backgroundColor: \"grey\",\n              padding: 30,\n              margin: 10\n            },\n            children: [element.cart_hash && _jsx(Text, {\n              children: \"Online Order\"\n            }), _jsx(Text, {\n              children: date\n            }), (_element$cart = element.cart) == null ? void 0 : _element$cart.map(function (cartItem, index) {\n              var _cartItem$options;\n              return _jsxs(View, {\n                style: {\n                  marginBottom: 20\n                },\n                children: [_jsxs(Text, {\n                  children: [\"Name: \", cartItem.name]\n                }), _jsxs(Text, {\n                  children: [\"Quantity: \", cartItem.quantity]\n                }), _jsxs(Text, {\n                  children: [\"Price: \", cartItem.price]\n                }), cartItem.options && ((_cartItem$options = cartItem.options) == null ? void 0 : _cartItem$options.map(function (option) {\n                  return _jsx(Text, {\n                    children: option\n                  });\n                }))]\n              }, index);\n            }), (_element$line_items = element.line_items) == null ? void 0 : _element$line_items.map(function (cartItem, index) {\n              return _jsxs(View, {\n                style: {\n                  marginBottom: 20\n                },\n                children: [_jsxs(Text, {\n                  children: [\"Name: \", cartItem.name]\n                }), _jsxs(Text, {\n                  children: [\"Quantity: \", cartItem.quantity]\n                }), _jsxs(Text, {\n                  children: [\"Price: \", cartItem.price]\n                }), cartItem.meta && CleanupOps(cartItem.meta).map(function (returnedItem) {\n                  return _jsxs(View, {\n                    style: {\n                      flexDirection: \"row\"\n                    },\n                    children: [_jsxs(Text, {\n                      children: [returnedItem.key, \" : \"]\n                    }), returnedItem.vals.map(function (val, index) {\n                      return _jsxs(Text, {\n                        children: [val, index >= 0 && index < returnedItem.vals.length - 1 && \", \"]\n                      });\n                    })]\n                  });\n                })]\n              }, index);\n            }), element.billing && _jsxs(Text, {\n              children: [\"Phone Number: \", element.billing.phone]\n            }), ((_element$customer_not = element.customer_note) == null ? void 0 : _element$customer_not.length) > 0 && _jsxs(Text, {\n              children: [\"Customer Note: \", element.customer_note]\n            }), _jsx(Button, {\n              title: \"Print\",\n              onPress: function onPress() {\n                if (element.date) {\n                  var _element$cart2;\n                  var total = 0;\n                  var data = [\"\\x1B\" + \"\\x40\",\n                  \"\\x1B\" + \"\\x61\" + \"\\x31\",\n                  storeDetails.name, \"\\x0A\", storeDetails.address + \"\\x0A\", storeDetails.website + \"\\x0A\",\n                  storeDetails.phoneNumber + \"\\x0A\",\n                  date.toLocaleDateString() + \" \" + date.toLocaleTimeString() + \"\\x0A\", \"\\x0A\", \"Transaction # \" + element.transNum + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\"];\n\n                  (_element$cart2 = element.cart) == null ? void 0 : _element$cart2.map(function (cartItem) {\n                    total += parseFloat(cartItem.price);\n                    data.push(\"Name: \" + cartItem.name);\n                    data.push(\"\\x0A\");\n                    data.push(\"Price: $\" + cartItem.price);\n                    if (cartItem.options) {\n                      var _cartItem$options2;\n                      data.push(\"\\x0A\");\n                      (_cartItem$options2 = cartItem.options) == null ? void 0 : _cartItem$options2.map(function (option) {\n                        data.push(option);\n                        data.push(\"\\x0A\");\n                      });\n                    }\n                    data.push(\"\\x0A\" + \"\\x0A\");\n                  });\n                  total = total * 1.13;\n                  total = total.toFixed(2);\n                  if (element.billing) {\n                    data.push(\"Phone Number: \" + element.billing.phone);\n                    data.push(\"\\x0A\");\n                  }\n                  if (element.customer_note) {\n                    data.push(\"Customer Note: \" + element.customer_note);\n                    data.push(\"\\x0A\");\n                  }\n\n                  data.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + \"$\" + total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n                  \"\\x0A\",\n                  \"\\x0A\",\n                  \"\\x0A\",\n                  \"\\x0A\",\n                  \"\\x0A\",\n                  \"\\x1D\" + \"\\x56\" + \"\\x30\");\n                  var qz = require(\"qz-tray\");\n                  qz.websocket.connect().then(function () {\n                    var config = qz.configs.create(storeDetails.comSelected);\n                    return qz.print(config, data);\n                  }).then(qz.websocket.disconnect).catch(function (err) {\n                    console.error(err);\n                  });\n                } else {\n                  var _element$line_items2;\n                  var printData = [];\n                  printData.push(\"\\x1B\" + \"\\x40\",\n                  \"\\x1B\" + \"\\x61\" + \"\\x31\",\n                  storeDetails.name, \"\\x0A\", storeDetails.address + \"\\x0A\", storeDetails.website + \"\\x0A\",\n                  storeDetails.phoneNumber + \"\\x0A\",\n                  date + \"\\x0A\", \"\\x0A\", \"Online Order\" + \"\\x0A\",\n                  \"Transaction # \" + element.number + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\");\n\n                  (_element$line_items2 = element.line_items) == null ? void 0 : _element$line_items2.map(function (cartItem) {\n                    printData.push(\"\\x0A\");\n                    printData.push(\"Name: \" + cartItem.name);\n                    printData.push(\"\\x0A\");\n                    printData.push(\"Quantity: \" + cartItem.quantity);\n                    printData.push(\"\\x0A\");\n                    printData.push(\"Price: $\" + cartItem.price);\n                    printData.push(\"\\x0A\");\n                    CleanupOps(cartItem.meta).map(function (returnedItem) {\n                      return _jsxs(View, {\n                        style: {\n                          flexDirection: \"row\"\n                        },\n                        children: [_jsxs(Text, {\n                          children: [returnedItem.key, \" : \"]\n                        }), returnedItem.vals.map(function (val, index) {\n                          return _jsxs(Text, {\n                            children: [val, index >= 0 && index < returnedItem.vals.length - 1 && \", \"]\n                          });\n                        })]\n                      });\n                    });\n                    if (cartItem.meta) {\n                      var _cartItem$meta;\n                      (_cartItem$meta = cartItem.meta) == null ? void 0 : _cartItem$meta.map(function (meta, index) {\n                        if (meta) {\n                          if (index === 0) {\n                            printData.push(meta.key + \" : \" + meta.value);\n                            if (cartItem.meta[index + 1].key !== meta.key) {\n                              printData.push(\"\\x0A\");\n                            }\n                          } else {\n                            if (index !== cartItem.meta.length - 1) {\n                              if (cartItem.meta[index - 1].key === meta.key) {\n                                printData.push(\" , \" + meta.value);\n                              } else {\n                                printData.push(meta.key + \" : \" + meta.value);\n                              }\n                              if (cartItem.meta[index + 1].key !== meta.key) {\n                                printData.push(\"\\x0A\");\n                              }\n                            }\n                          }\n                        }\n                      });\n                    } else {\n                      printData.push(\"\\x0A\" + \"\\x0A\");\n                    }\n                  });\n                  printData.push(\"\\x0A\");\n                  printData.push(\"\\x0A\");\n                  printData.push(\"Customer Details:\");\n                  printData.push(\"\\x0A\");\n                  printData.push(\"Address: \" + element.shipping.address_1);\n                  printData.push(\"\\x0A\");\n                  printData.push(\"City: \" + element.shipping.city);\n                  printData.push(\"\\x0A\");\n                  printData.push(\"Zip/Postal Code: \" + element.shipping.postcode);\n                  printData.push(\"\\x0A\");\n                  printData.push(\"Province/State: \" + element.shipping.state);\n                  printData.push(\"\\x0A\");\n                  printData.push(\"Name: \" + element.shipping.first_name + \" \" + element.shipping.last_name);\n                  printData.push(\"\\x0A\");\n                  element.shipping_lines.map(function (line) {\n                    return printData.push(\"Shipping Method: \" + line.method_title);\n                  });\n                  if (element.billing) {\n                    printData.push(\"Phone Number: \" + element.billing.phone);\n                    printData.push(\"\\x0A\");\n                  }\n                  if (element.customer_note) {\n                    printData.push(\"Customer Note: \" + element.customer_note);\n                    printData.push(\"\\x0A\");\n                  }\n                  printData.push(\"\\x0A\");\n                  printData.push(\"\\x0A\");\n                  printData.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Payment Method: \" + element.payment_method_title + \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + \"$\" + element.total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n                  \"\\x0A\",\n                  \"\\x0A\",\n                  \"\\x0A\",\n                  \"\\x0A\",\n                  \"\\x0A\");\n\n                  printData.push(\"\\x1D\" + \"\\x56\" + \"\\x00\");\n                  var _qz = require(\"qz-tray\");\n                  _qz.websocket.connect().then(function () {\n                    var config = _qz.configs.create(storeDetails.comSelected);\n                    return _qz.print(config, printData);\n                  }).then(_qz.websocket.disconnect).catch(function (err) {\n                    console.error(err);\n                  });\n\n                }\n              }\n            })]\n          }, index);\n        }\n      }) : _jsx(Text, {\n        children: \"No receipts yet\"\n      })\n    })]\n  });\n};\nexport default ViewTransactions;\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"white\",\n    flex: 1,\n    height: \"100%\"\n  },\n  contentContainer: {\n    flex: 1,\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-between\",\n    paddingLeft: 50,\n    paddingRight: 50,\n    paddingBottom: 50,\n    height: \"100%\",\n    width: \"100%\",\n    alignItems: \"center\"\n  }\n});","map":{"version":3,"names":["React","Button","Text","storeDetailState","tz","require","ViewTransactions","transList","todaysDetails","today","Date","storeDetails","use","PrintTodaysTotal","data","name","address","website","phoneNumber","toLocaleDateString","toLocaleTimeString","todaysReceipts","todaysReceiptValue","toFixed","qz","websocket","connect","then","config","configs","create","comSelected","print","disconnect","catch","err","console","error","CleanupOps","metaList","opsArray","forEach","op","arrContaingMe","filter","filterOp","key","length","opsArrItem","index","vals","push","value","styles","container","textAlign","margin","flexDirection","width","alignItems","justifyContent","height","contentContainer","item","element","date","date_created","dateString","newDate","targetTimezone","Intl","DateTimeFormat","resolvedOptions","timeZone","result","format","seconds","backgroundColor","padding","cart_hash","cart","map","cartItem","marginBottom","quantity","price","options","option","line_items","meta","returnedItem","val","billing","phone","customer_note","total","transNum","parseFloat","printData","number","shipping","address_1","city","postcode","state","first_name","last_name","shipping_lines","line","method_title","payment_method_title","StyleSheet","flex","flexWrap","paddingLeft","paddingRight","paddingBottom"],"sources":["C:/Users/admin/OneDrive - George Brown College/Desktop/PosMate/screens/authed/ViewTransactions.tsx"],"sourcesContent":["import { FlatList, ScrollView, StyleSheet, View } from \"react-native\";\r\nimport React, { useEffect, useLayoutEffect, useState } from \"react\";\r\nimport { Button, Text } from \"@react-native-material/core\";\r\nimport {\r\n  storeDetailState,\r\n  transListState,\r\n  woocommerceState,\r\n} from \"state/state\";\r\nimport { auth, db } from \"state/firebaseConfig\";\r\nconst tz = require(\"moment-timezone\");\r\n\r\nconst ViewTransactions = ({ transList, todaysDetails }) => {\r\n  const today = new Date();\r\n  const storeDetails = storeDetailState.use();\r\n\r\n  const PrintTodaysTotal = () => {\r\n    let data = [\r\n      \"\\x1B\" + \"\\x40\", // init\r\n      \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\r\n      storeDetails.name,\r\n      \"\\x0A\",\r\n      storeDetails.address + \"\\x0A\",\r\n      storeDetails.website + \"\\x0A\", // text and line break\r\n      storeDetails.phoneNumber + \"\\x0A\", // text and line break\r\n      today.toLocaleDateString() + \" \" + today.toLocaleTimeString() + \"\\x0A\",\r\n      \"\\x0A\",\r\n      \"\\x0A\",\r\n      \"\\x0A\",\r\n      \"\\x0A\",\r\n      \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\r\n      \"\\x0A\" + \"\\x0A\",\r\n      \"Number Of Receipts: \" + todaysDetails.todaysReceipts + \"\\x0A\" + \"\\x0A\",\r\n      \"Sub-Total: \" +\r\n        \"$\" +\r\n        (todaysDetails.todaysReceiptValue / 1.13).toFixed(2) +\r\n        \"\\x0A\" +\r\n        \"\\x0A\",\r\n      \"Tax: \" +\r\n        \"$\" +\r\n        ((todaysDetails.todaysReceiptValue / 1.13) * 0.13).toFixed(2) +\r\n        \"\\x0A\" +\r\n        \"\\x0A\",\r\n      \"Total Including (13% Tax): \" +\r\n        \"$\" +\r\n        todaysDetails.todaysReceiptValue +\r\n        \"\\x0A\" +\r\n        \"\\x0A\",\r\n      \"------------------------------------------\" + \"\\x0A\",\r\n      \"\\x0A\", // line break\r\n      \"\\x0A\", // line break\r\n      \"\\x0A\", // line break\r\n      \"\\x0A\", // line break\r\n      \"\\x0A\", // line break\r\n      \"\\x0A\", // line break\r\n      \"\\x1D\" + \"\\x56\" + \"\\x30\",\r\n    ];\r\n\r\n    const qz = require(\"qz-tray\");\r\n    qz.websocket\r\n      .connect()\r\n      .then(function () {\r\n        let config = qz.configs.create(storeDetails.comSelected);\r\n        return qz.print(config, data);\r\n      })\r\n      .then(qz.websocket.disconnect)\r\n      .catch(function (err) {\r\n        console.error(err);\r\n      });\r\n\r\n    // fetch(\"http://localhost:8080/print\", {\r\n    //   method: \"POST\",\r\n    //   headers: {\r\n    //     \"Content-Type\": \"application/json\",\r\n    //   },\r\n    //   body: JSON.stringify({\r\n    //     printData: data,\r\n    //     comSelected: storeDetails.comSelected,\r\n    //   }),\r\n    // })\r\n    //   .then((response) => response.json())\r\n    //   .then((respData) => {\r\n    //     console.log(respData);\r\n    //   })\r\n    //   .catch((e) => alert(\"Error with printer\"));\r\n  };\r\n\r\n  const CleanupOps = (metaList) => {\r\n    const opsArray = [];\r\n\r\n    metaList.forEach((op) => {\r\n      const arrContaingMe = opsArray.filter(\r\n        (filterOp) => filterOp.key === op.key\r\n      );\r\n\r\n      if (arrContaingMe.length > 0) {\r\n        opsArray.forEach((opsArrItem, index) => {\r\n          if (opsArrItem.key === op.key) {\r\n            opsArray[index].vals.push(op.value);\r\n          }\r\n        });\r\n      } else {\r\n        opsArray.push({ key: op.key, vals: [op.value] });\r\n      }\r\n    });\r\n    return opsArray;\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Text style={{ textAlign: \"center\", margin: 25 }}>\r\n        List Of Transactions\r\n      </Text>\r\n      <View\r\n        style={{\r\n          flexDirection: \"row\",\r\n          width: \"100%\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        <Text style={{ textAlign: \"center\", margin: 25 }}>\r\n          Todays Total Price: {todaysDetails.todaysReceiptValue}\r\n        </Text>\r\n        <Button\r\n          style={{ height: 40, alignItems: \"center\", justifyContent: \"center\" }}\r\n          title=\"Print Todays Receipts\"\r\n          onPress={PrintTodaysTotal}\r\n        />\r\n        <Text style={{ textAlign: \"center\", margin: 25 }}>\r\n          Todays Total Receipts: {todaysDetails.todaysReceipts}\r\n        </Text>\r\n      </View>\r\n      <View style={styles.contentContainer}>\r\n        {transList ? (\r\n          <FlatList\r\n            data={transList}\r\n            renderItem={({ item, index }) => {\r\n              const element = item;\r\n              let date;\r\n\r\n              if (element.date_created) {\r\n                const dateString = element.date_created;\r\n\r\n                const newDate = new Date(dateString + \"Z\");\r\n\r\n                const targetTimezone =\r\n                  Intl.DateTimeFormat().resolvedOptions().timeZone;\r\n\r\n                const result = tz(newDate)\r\n                  .tz(targetTimezone, true)\r\n                  .format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\r\n\r\n                date = result;\r\n              } else if (element.date) {\r\n                const newDate = new Date(element.date.seconds * 1000);\r\n                const targetTimezone =\r\n                  Intl.DateTimeFormat().resolvedOptions().timeZone;\r\n\r\n                const result = tz(newDate)\r\n                  .tz(targetTimezone, true)\r\n                  .format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\r\n\r\n                date = result;\r\n              }\r\n\r\n              return (\r\n                <View\r\n                  style={{ backgroundColor: \"grey\", padding: 30, margin: 10 }}\r\n                  key={index}\r\n                >\r\n                  {element.cart_hash && <Text>Online Order</Text>}\r\n                  <Text>{date}</Text>\r\n                  {element.cart?.map((cartItem, index) => (\r\n                    <View style={{ marginBottom: 20 }} key={index}>\r\n                      <Text>Name: {cartItem.name}</Text>\r\n                      <Text>Quantity: {cartItem.quantity}</Text>\r\n                      <Text>Price: {cartItem.price}</Text>\r\n                      {cartItem.options &&\r\n                        cartItem.options?.map((option) => (\r\n                          <Text>{option}</Text>\r\n                        ))}\r\n                    </View>\r\n                  ))}\r\n                  {element.line_items?.map((cartItem, index) => (\r\n                    <View style={{ marginBottom: 20 }} key={index}>\r\n                      <Text>Name: {cartItem.name}</Text>\r\n                      <Text>Quantity: {cartItem.quantity}</Text>\r\n                      <Text>Price: {cartItem.price}</Text>\r\n                      {cartItem.meta &&\r\n                        CleanupOps(cartItem.meta).map((returnedItem) => (\r\n                          <View style={{ flexDirection: \"row\" }}>\r\n                            <Text>{returnedItem.key} : </Text>\r\n                            {returnedItem.vals.map((val, index) => (\r\n                              <Text>\r\n                                {val}\r\n                                {index >= 0 &&\r\n                                  index < returnedItem.vals.length - 1 &&\r\n                                  \", \"}\r\n                              </Text>\r\n                            ))}\r\n                          </View>\r\n                        ))}\r\n                    </View>\r\n                  ))}\r\n                  {element.billing && (\r\n                    <Text>Phone Number: {element.billing.phone}</Text>\r\n                  )}\r\n                  {element.customer_note?.length > 0 && (\r\n                    <Text>Customer Note: {element.customer_note}</Text>\r\n                  )}\r\n                  <Button\r\n                    title=\"Print\"\r\n                    onPress={() => {\r\n                      if (element.date) {\r\n                        let total = 0;\r\n\r\n                        let data = [\r\n                          \"\\x1B\" + \"\\x40\", // init\r\n                          \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\r\n                          storeDetails.name,\r\n                          \"\\x0A\",\r\n                          storeDetails.address + \"\\x0A\",\r\n                          storeDetails.website + \"\\x0A\", // text and line break\r\n                          storeDetails.phoneNumber + \"\\x0A\", // text and line break\r\n                          date.toLocaleDateString() +\r\n                            \" \" +\r\n                            date.toLocaleTimeString() +\r\n                            \"\\x0A\",\r\n                          \"\\x0A\",\r\n                          `Transaction # ${element.transNum}` + \"\\x0A\",\r\n                          \"\\x0A\",\r\n                          \"\\x0A\",\r\n                          \"\\x0A\",\r\n                          \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\r\n                        ];\r\n\r\n                        element.cart?.map((cartItem) => {\r\n                          total += parseFloat(cartItem.price);\r\n                          data.push(`Name: ${cartItem.name}`);\r\n                          data.push(\"\\x0A\");\r\n                          data.push(`Price: $${cartItem.price}`);\r\n\r\n                          if (cartItem.options) {\r\n                            data.push(\"\\x0A\");\r\n                            cartItem.options?.map((option) => {\r\n                              data.push(option);\r\n                              data.push(\"\\x0A\");\r\n                            });\r\n                          }\r\n                          data.push(\"\\x0A\" + \"\\x0A\");\r\n                        });\r\n\r\n                        total = total * 1.13;\r\n                        total = total.toFixed(2);\r\n\r\n                        if (element.billing) {\r\n                          data.push(`Phone Number: ${element.billing.phone}`);\r\n                          data.push(\"\\x0A\");\r\n                        }\r\n\r\n                        if (element.customer_note) {\r\n                          data.push(`Customer Note: ${element.customer_note}`);\r\n                          data.push(\"\\x0A\");\r\n                        }\r\n\r\n                        //push ending\r\n                        data.push(\r\n                          \"\\x0A\",\r\n                          \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\r\n                          \"\\x0A\" + \"\\x0A\",\r\n                          \"Total Including (13% Tax): \" +\r\n                            \"$\" +\r\n                            total +\r\n                            \"\\x0A\" +\r\n                            \"\\x0A\",\r\n                          \"------------------------------------------\" + \"\\x0A\",\r\n                          \"\\x0A\", // line break\r\n                          \"\\x0A\", // line break\r\n                          \"\\x0A\", // line break\r\n                          \"\\x0A\", // line break\r\n                          \"\\x0A\", // line break\r\n                          \"\\x0A\", // line break\r\n                          //\"\\x1D\" + \"\\x56\" + \"\\x00\",\r\n                          \"\\x1D\" + \"\\x56\" + \"\\x30\"\r\n                        );\r\n\r\n                        const qz = require(\"qz-tray\");\r\n                        qz.websocket\r\n                          .connect()\r\n                          .then(function () {\r\n                            let config = qz.configs.create(\r\n                              storeDetails.comSelected\r\n                            );\r\n                            return qz.print(config, data);\r\n                          })\r\n                          .then(qz.websocket.disconnect)\r\n                          .catch(function (err) {\r\n                            console.error(err);\r\n                          });\r\n                        // fetch(\"http://localhost:8080/print\", {\r\n                        //   method: \"POST\",\r\n                        //   headers: {\r\n                        //     \"Content-Type\": \"application/json\",\r\n                        //   },\r\n                        //   body: JSON.stringify({\r\n                        //     printData: data,\r\n                        //     comSelected: storeDetails.comSelected,\r\n                        //   }),\r\n                        // })\r\n                        //   .then((response) => response.json())\r\n                        //   .then((respData) => {\r\n                        //     console.log(respData);\r\n                        //   })\r\n                        //   .catch((e) => alert(\"Error with printer\"));\r\n                      } else {\r\n                        const printData = [];\r\n\r\n                        printData.push(\r\n                          \"\\x1B\" + \"\\x40\", // init\r\n                          \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\r\n                          storeDetails.name,\r\n                          \"\\x0A\",\r\n                          storeDetails.address + \"\\x0A\",\r\n                          storeDetails.website + \"\\x0A\", // text and line break\r\n                          storeDetails.phoneNumber + \"\\x0A\", // text and line break\r\n                          date + \"\\x0A\",\r\n                          \"\\x0A\",\r\n                          \"Online Order\" + \"\\x0A\", // text and line break\r\n                          `Transaction # ${element.number}` + \"\\x0A\",\r\n                          \"\\x0A\",\r\n                          \"\\x0A\",\r\n                          \"\\x0A\",\r\n                          \"\\x1B\" + \"\\x61\" + \"\\x30\" // left align\r\n                        );\r\n\r\n                        element.line_items?.map((cartItem) => {\r\n                          printData.push(\"\\x0A\");\r\n                          printData.push(`Name: ${cartItem.name}`);\r\n                          printData.push(\"\\x0A\");\r\n                          printData.push(`Quantity: ${cartItem.quantity}`);\r\n                          printData.push(\"\\x0A\");\r\n                          printData.push(`Price: $${cartItem.price}`);\r\n                          printData.push(\"\\x0A\");\r\n\r\n                          CleanupOps(cartItem.meta).map((returnedItem) => (\r\n                            <View style={{ flexDirection: \"row\" }}>\r\n                              <Text>{returnedItem.key} : </Text>\r\n                              {returnedItem.vals.map((val, index) => (\r\n                                <Text>\r\n                                  {val}\r\n                                  {index >= 0 &&\r\n                                    index < returnedItem.vals.length - 1 &&\r\n                                    \", \"}\r\n                                </Text>\r\n                              ))}\r\n                            </View>\r\n                          ))\r\n                          if (cartItem.meta) {\r\n                            cartItem.meta?.map((meta, index) => {\r\n                              if(meta){\r\n                                if (index === 0) {\r\n                                  printData.push(`${meta.key} : ${meta.value}`);\r\n                                  if (cartItem.meta[index + 1].key !== meta.key) {\r\n                                    printData.push(\"\\x0A\");\r\n                                  }\r\n                                } else {\r\n                                  if (index !== cartItem.meta.length - 1) {\r\n                                    if (\r\n                                      cartItem.meta[index - 1].key === meta.key\r\n                                    ) {\r\n                                      printData.push(` , ${meta.value}`);\r\n                                    } else {\r\n                                      printData.push(\r\n                                        `${meta.key} : ${meta.value}`\r\n                                      );\r\n                                    }\r\n  \r\n                                    if (\r\n                                      cartItem.meta[index + 1].key !== meta.key\r\n                                    ) {\r\n                                      printData.push(\"\\x0A\");\r\n                                    }\r\n                                  }\r\n                                }\r\n                              }\r\n                              });\r\n                          } else {\r\n                            printData.push(\"\\x0A\" + \"\\x0A\");\r\n                          }\r\n                        });\r\n\r\n                        printData.push(\"\\x0A\");\r\n                        printData.push(\"\\x0A\");\r\n                        printData.push(`Customer Details:`);\r\n                        printData.push(\"\\x0A\");\r\n                        printData.push(\r\n                          `Address: ${element.shipping.address_1}`\r\n                        );\r\n                        printData.push(\"\\x0A\");\r\n                        printData.push(`City: ${element.shipping.city}`);\r\n                        printData.push(\"\\x0A\");\r\n                        printData.push(\r\n                          `Zip/Postal Code: ${element.shipping.postcode}`\r\n                        );\r\n                        printData.push(\"\\x0A\");\r\n                        printData.push(\r\n                          `Province/State: ${element.shipping.state}`\r\n                        );\r\n                        printData.push(\"\\x0A\");\r\n                        printData.push(\r\n                          `Name: ${element.shipping.first_name} ${element.shipping.last_name}`\r\n                        );\r\n                        printData.push(\"\\x0A\");\r\n                        element.shipping_lines.map((line) =>\r\n                          printData.push(\r\n                            `Shipping Method: ${line.method_title}`\r\n                          )\r\n                        );\r\n                        if (element.billing) {\r\n                          printData.push(\r\n                            `Phone Number: ${element.billing.phone}`\r\n                          );\r\n                          printData.push(\"\\x0A\");\r\n                        }\r\n                        if (element.customer_note) {\r\n                          printData.push(\r\n                            `Customer Note: ${element.customer_note}`\r\n                          );\r\n                          printData.push(\"\\x0A\");\r\n                        }\r\n                        printData.push(\"\\x0A\");\r\n                        printData.push(\"\\x0A\");\r\n\r\n                        printData.push(\r\n                          \"\\x0A\",\r\n                          \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\r\n                          \"\\x0A\" + \"\\x0A\",\r\n                          \"Payment Method: \" +\r\n                            element.payment_method_title +\r\n                            \"\\x0A\" +\r\n                            \"\\x0A\",\r\n                          \"Total Including (13% Tax): \" +\r\n                            \"$\" +\r\n                            element.total +\r\n                            \"\\x0A\" +\r\n                            \"\\x0A\",\r\n                          \"------------------------------------------\" + \"\\x0A\",\r\n                          \"\\x0A\", // line break\r\n                          \"\\x0A\", // line break\r\n                          \"\\x0A\", // line break\r\n                          \"\\x0A\", // line break\r\n                          \"\\x0A\", // line break\r\n                          \"\\x0A\" // line break\r\n                        );\r\n\r\n                        printData.push(\"\\x1D\" + \"\\x56\" + \"\\x00\");\r\n\r\n                        const qz = require(\"qz-tray\");\r\n                        qz.websocket\r\n                          .connect()\r\n                          .then(function () {\r\n                            let config = qz.configs.create(\r\n                              storeDetails.comSelected\r\n                            );\r\n                            return qz.print(config, printData);\r\n                          })\r\n                          .then(qz.websocket.disconnect)\r\n                          .catch(function (err) {\r\n                            console.error(err);\r\n                          });\r\n\r\n                        // fetch(\"http://localhost:8080/print\", {\r\n                        //   method: \"POST\",\r\n                        //   headers: {\r\n                        //     \"Content-Type\": \"application/json\",\r\n                        //   },\r\n                        //   body: JSON.stringify({\r\n                        //     printData: printData,\r\n                        //     comSelected: storeDetails.comSelected,\r\n                        //   }),\r\n                        // })\r\n                        //   .then((response) => response.json())\r\n                        //   .then((respData) => {\r\n                        //     console.log(respData);\r\n                        //   })\r\n                        //   .catch((e) => alert(\"Error with printer\"));\r\n                      }\r\n                    }}\r\n                  />\r\n                </View>\r\n              );\r\n            }}\r\n          />\r\n        ) : (\r\n          <Text>No receipts yet</Text>\r\n        )}\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default ViewTransactions;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    backgroundColor: \"white\",\r\n    flex: 1,\r\n    height: \"100%\",\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    flexDirection: \"row\",\r\n    flexWrap: \"wrap\",\r\n    justifyContent: \"space-between\",\r\n    paddingLeft: 50,\r\n    paddingRight: 50,\r\n    paddingBottom: 50,\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    alignItems: \"center\",\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}