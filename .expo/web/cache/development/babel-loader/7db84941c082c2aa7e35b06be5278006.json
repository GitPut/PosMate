{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport { auth, db } from \"../../../../state/firebaseConfig\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction EmployeeClockInItem(_ref) {\n  var employee = _ref.employee,\n    employees = _ref.employees,\n    setEmployeesState = _ref.setEmployeesState,\n    isClockedIn = _ref.isClockedIn,\n    style = _ref.style;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    enteredPin = _useState2[0],\n    setenteredPin = _useState2[1];\n  return _jsxs(View, {\n    style: [styles.container, style],\n    children: [_jsxs(View, {\n      style: styles.leftSideGroup,\n      children: [_jsx(MaterialIcons, {\n        name: \"person\",\n        style: styles.personIcon\n      }), _jsx(Text, {\n        style: styles.employeeName,\n        children: \"Peter\"\n      })]\n    }), _jsx(View, {\n      style: styles.rightSideGroup,\n      children: _jsxs(View, {\n        style: styles.textInputRow,\n        children: [_jsx(TextInput, {\n          style: styles.textInput,\n          placeholder: \"PIN\",\n          onChangeText: function onChangeText(val) {\n            return set;\n          }\n        }), _jsx(TouchableOpacity, {\n          style: styles.button,\n          onPress: function onPress() {\n            if (enteredPin !== employee.pin && employee.pin) return alert(\"Wrong PIN\");\n            var date = new Date();\n            if (isClockedIn) {\n              var endTime = date.getHours() + \":\" + (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes());\n              db.collection(\"users\").doc(auth.currentUser.uid).collection(\"employees\").doc(employee.id).collection(\"hours\").add({\n                date: employee.clockedIn.date,\n                startTime: employee.clockedIn.startTime,\n                endTime: endTime\n              }).then(function () {\n                db.collection(\"users\").doc(auth.currentUser.uid).collection(\"employees\").doc(employee.id).update({\n                  clockedIn: false\n                });\n                var prev = _toConsumableArray(employees);\n                prev[employees.indexOf(employee)].clockedIn = false;\n                setEmployeesState(prev);\n              });\n              setenteredPin(null);\n            } else {\n              var startTime = date.getHours() + \":\" + (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes());\n              db.collection(\"users\").doc(auth.currentUser.uid).collection(\"employees\").doc(employee.id).update({\n                clockedIn: {\n                  startTime: startTime,\n                  date: date\n                }\n              });\n              var prev = _toConsumableArray(employees);\n              prev[employees.indexOf(employee)].clockedIn = {\n                startTime: startTime,\n                date: date\n              };\n              setEmployeesState(prev);\n              setenteredPin(null);\n            }\n          },\n          children: _jsx(Text, {\n            style: styles.clockInLabel,\n            children: \"Clock In\"\n          })\n        })]\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"#edf1fe\",\n    borderRadius: 10,\n    flexDirection: \"row\",\n    shadowColor: \"rgba(0,0,0,1)\",\n    shadowOffset: {\n      width: 3,\n      height: 3\n    },\n    elevation: 9,\n    shadowOpacity: 0.2,\n    shadowRadius: 3,\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  },\n  leftSideGroup: {\n    width: 114,\n    height: 55,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    margin: 15\n  },\n  personIcon: {\n    color: \"#1c294e\",\n    fontSize: 55\n  },\n  employeeName: {\n    fontWeight: \"700\",\n    color: \"#121212\",\n    fontSize: 20\n  },\n  rightSideGroup: {\n    width: 183,\n    height: 49,\n    margin: 15,\n    flexDirection: \"row\"\n  },\n  textInput: {\n    width: 85,\n    height: 35,\n    backgroundColor: \"rgba(255,255,255,1)\",\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: \"#b4b5b8\",\n    marginTop: 7,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    textAlign: \"center\"\n  },\n  button: {\n    width: 92,\n    height: 49,\n    backgroundColor: \"#03c551\",\n    borderRadius: 10,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginLeft: 7\n  },\n  clockInLabel: {\n    fontWeight: \"700\",\n    color: \"rgba(255,255,255,1)\",\n    fontSize: 16\n  },\n  textInputRow: {\n    height: 49,\n    flexDirection: \"row\",\n    flex: 1,\n    marginRight: -1\n  }\n});\nexport default EmployeeClockInItem;","map":{"version":3,"names":["React","useState","MaterialIcons","auth","db","EmployeeClockInItem","employee","employees","setEmployeesState","isClockedIn","style","enteredPin","setenteredPin","styles","container","leftSideGroup","personIcon","employeeName","rightSideGroup","textInputRow","textInput","val","set","button","pin","alert","date","Date","endTime","getHours","getMinutes","collection","doc","currentUser","uid","id","add","clockedIn","startTime","then","update","prev","indexOf","clockInLabel","StyleSheet","create","backgroundColor","borderRadius","flexDirection","shadowColor","shadowOffset","width","height","elevation","shadowOpacity","shadowRadius","alignItems","justifyContent","margin","color","fontSize","fontWeight","borderWidth","borderColor","marginTop","textAlign","marginLeft","flex","marginRight"],"sources":["/Users/peterputros/Desktop/PosMate/components/modalsNew/ClockInModal/components/EmployeeClockInItem.tsx"],"sourcesContent":["import React, { Component, useState } from \"react\";\nimport {\n  StyleSheet,\n  View,\n  Text,\n  TouchableOpacity,\n  TextInput,\n} from \"react-native\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport { auth, db } from \"state/firebaseConfig\";\n\nfunction EmployeeClockInItem({ employee, employees, setEmployeesState, isClockedIn, style }) {\n  const [enteredPin, setenteredPin] = useState('')\n\n  return (\n    <View style={[styles.container, style]}>\n      <View style={styles.leftSideGroup}>\n        <MaterialIcons name=\"person\" style={styles.personIcon} />\n        <Text style={styles.employeeName}>Peter</Text>\n      </View>\n      <View style={styles.rightSideGroup}>\n        <View style={styles.textInputRow}>\n          <TextInput style={styles.textInput} placeholder=\"PIN\" onChangeText={(val) => set} />\n          <TouchableOpacity\n            style={styles.button}\n            onPress={() => {\n              if (enteredPin !== employee.pin && employee.pin)\n                return alert(\"Wrong PIN\");\n              const date = new Date();\n              if (isClockedIn) {\n                const endTime = `${date.getHours()}:${\n                  date.getMinutes() < 10\n                    ? \"0\" + date.getMinutes()\n                    : date.getMinutes()\n                }`;\n                db.collection(\"users\")\n                  .doc(auth.currentUser.uid)\n                  .collection(\"employees\")\n                  .doc(employee.id)\n                  .collection(\"hours\")\n                  .add({\n                    date: employee.clockedIn.date,\n                    startTime: employee.clockedIn.startTime,\n                    endTime: endTime,\n                  })\n                  .then(() => {\n                    db.collection(\"users\")\n                      .doc(auth.currentUser.uid)\n                      .collection(\"employees\")\n                      .doc(employee.id)\n                      .update({\n                        clockedIn: false,\n                      });\n\n                    const prev = [...employees];\n                    prev[employees.indexOf(employee)].clockedIn = false;\n                    setEmployeesState(prev);\n                  });\n                setenteredPin(null);\n              } else {\n                const startTime = `${date.getHours()}:${\n                  date.getMinutes() < 10\n                    ? \"0\" + date.getMinutes()\n                    : date.getMinutes()\n                }`;\n                db.collection(\"users\")\n                  .doc(auth.currentUser.uid)\n                  .collection(\"employees\")\n                  .doc(employee.id)\n                  .update({\n                    clockedIn: {\n                      startTime: startTime,\n                      date: date,\n                    },\n                  });\n\n                const prev = [...employees];\n                prev[employees.indexOf(employee)].clockedIn = {\n                  startTime: startTime,\n                  date: date,\n                };\n                setEmployeesState(prev);\n                setenteredPin(null);\n              }\n            }}\n          >\n            <Text style={styles.clockInLabel}>Clock In</Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"#edf1fe\",\n    borderRadius: 10,\n    flexDirection: \"row\",\n    shadowColor: \"rgba(0,0,0,1)\",\n    shadowOffset: {\n      width: 3,\n      height: 3,\n    },\n    elevation: 9,\n    shadowOpacity: 0.2,\n    shadowRadius: 3,\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  },\n  leftSideGroup: {\n    width: 114,\n    height: 55,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    margin: 15,\n  },\n  personIcon: {\n    color: \"#1c294e\",\n    fontSize: 55,\n  },\n  employeeName: {\n    fontWeight: \"700\",\n    color: \"#121212\",\n    fontSize: 20,\n  },\n  rightSideGroup: {\n    width: 183,\n    height: 49,\n    margin: 15,\n    flexDirection: \"row\",\n  },\n  textInput: {\n    width: 85,\n    height: 35,\n    backgroundColor: \"rgba(255,255,255,1)\",\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: \"#b4b5b8\",\n    marginTop: 7,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    textAlign: \"center\",\n  },\n  button: {\n    width: 92,\n    height: 49,\n    backgroundColor: \"#03c551\",\n    borderRadius: 10,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginLeft: 7,\n  },\n  clockInLabel: {\n    fontWeight: \"700\",\n    color: \"rgba(255,255,255,1)\",\n    fontSize: 16,\n  },\n  textInputRow: {\n    height: 49,\n    flexDirection: \"row\",\n    flex: 1,\n    marginRight: -1,\n  },\n});\n\nexport default EmployeeClockInItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}