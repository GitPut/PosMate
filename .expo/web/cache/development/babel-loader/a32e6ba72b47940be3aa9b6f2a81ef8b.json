{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport useWindowDimensions from \"react-native-web/dist/exports/useWindowDimensions\";\nimport View from \"react-native-web/dist/exports/View\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Button, Text } from \"@react-native-material/core\";\nimport { storeDetailState, woocommerceState } from \"../../state/state\";\nimport { auth, db } from \"../../state/firebaseConfig\";\nvar tz = require(\"moment-timezone\");\nimport { ReactGrid } from \"@silevis/reactgrid\";\nimport \"@silevis/reactgrid/styles.css\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar getDate = function getDate(seconds) {\n  var newDate = new Date(seconds * 1000);\n  var targetTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n  var result = tz(newDate).tz(targetTimezone, true).format(\"YYYY-MM-DD, h:mm:ss a z\");\n  return result;\n};\nvar ViewTransactions = function ViewTransactions() {\n  var today = new Date();\n  var storeDetails = storeDetailState.use();\n  var wooCredentials = woocommerceState.use();\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    transList = _useState2[0],\n    settransList = _useState2[1];\n  var _useState3 = useState({\n      todaysReceiptValue: 0,\n      todaysReceipts: 0\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    todaysDetails = _useState4[0],\n    setTodaysDetails = _useState4[1];\n  var _useWindowDimensions = useWindowDimensions(),\n    width = _useWindowDimensions.width,\n    height = _useWindowDimensions.height;\n  var getColumns = function getColumns() {\n    return [{\n      columnId: \"name\",\n      width: width * 0.8 * 0.125\n    }, {\n      columnId: \"phone\",\n      width: width * 0.8 * 0.125\n    }, {\n      columnId: \"address\",\n      width: width * 0.8 * 0.18\n    }, {\n      columnId: \"orderFrom\",\n      width: width * 0.8 * 0.08\n    }, {\n      columnId: \"method\",\n      width: width * 0.8 * 0.08\n    }, {\n      columnId: \"cart\",\n      width: width * 0.8 * 0.125\n    }, {\n      columnId: \"total\",\n      width: width * 0.8 * 0.125\n    }, {\n      columnId: \"date\",\n      width: width * 0.8 * 0.16\n    }];\n  };\n  var headerRow = {\n    rowId: \"header\",\n    cells: [{\n      type: \"header\",\n      text: \"Name\"\n    }, {\n      type: \"header\",\n      text: \"Phone #\"\n    }, {\n      type: \"header\",\n      text: \"Address\"\n    }, {\n      type: \"header\",\n      text: \"Order From\"\n    }, {\n      type: \"header\",\n      text: \"Method\"\n    }, {\n      type: \"header\",\n      text: \"Cart\"\n    }, {\n      type: \"header\",\n      text: \"Total\"\n    }, {\n      type: \"header\",\n      text: \"Date\"\n    }]\n  };\n  var getRows = function getRows() {\n    return [headerRow].concat(_toConsumableArray(transList.map(function (receipt, idx) {\n      return {\n        rowId: idx,\n        cells: [{\n          type: \"text\",\n          text: receipt.customer.name\n        }, {\n          type: \"text\",\n          text: receipt.customer.phone ? receipt.customer.phone : \"\"\n        }, {\n          type: \"text\",\n          text: receipt.customer.address ? receipt.customer.address : \"\"\n        }, {\n          type: \"text\",\n          text: receipt.cart_hash ? \"Online\" : \"POS\"\n        }, {\n          type: \"text\",\n          text: receipt.method === \"deliveryOrder\" ? \"Delivery\" : \"Pickup\"\n        }, {\n          type: \"text\",\n          text: \"Cart\",\n          groupId: \"pp123\"\n        },\n        {\n          type: \"text\",\n          text: receipt.total ? \"$\" + receipt.total : \"\"\n        }, {\n          type: \"text\",\n          text: receipt.date ? getDate(receipt.date.seconds) : \"\"\n        }]\n      };\n    })));\n  };\n\n  var rows = getRows();\n  var columns = getColumns();\n  var simpleHandleContextMenu = function simpleHandleContextMenu(selectedRowIds, selectedColIds, selectionMode, menuOptions) {\n    console.log(\"SELECTED ROWS: \", selectedRowIds);\n    return menuOptions;\n  };\n  var testRef = useRef(null);\n\n  useEffect(function () {\n    try {\n      var _auth$currentUser;\n      db.collection(\"users\").doc((_auth$currentUser = auth.currentUser) == null ? void 0 : _auth$currentUser.uid).collection(\"transList\").get().then(function (querySnapshot) {\n        querySnapshot.forEach(function (doc) {\n          settransList(function (prevState) {\n            return [].concat(_toConsumableArray(prevState), [doc.data()]);\n          });\n          console.log(doc.data());\n        });\n      });\n    } catch (_unused) {\n      console.log(\"Error occured retrieving tranasctions\");\n    }\n    if (wooCredentials.useWoocommerce === true) {\n      try {\n        var WooCommerceAPI = require(\"woocommerce-api\");\n        var WooCommerce = new WooCommerceAPI({\n          url: wooCredentials.apiUrl,\n          consumerKey: wooCredentials.ck,\n          consumerSecret: wooCredentials.cs,\n          wpAPI: true,\n          version: \"wc/v1\"\n        });\n        var page = 1;\n        var orders = [];\n        var getOrders = function () {\n          var _ref = _asyncToGenerator(function* () {\n            var response = yield WooCommerce.getAsync(\"orders?page=\" + page + \"&per_page=100\");\n            var data = JSON.parse(response.body);\n            orders = [].concat(_toConsumableArray(orders), _toConsumableArray(data));\n            if (data.length === 100) {\n              page++;\n              getOrders();\n            } else {\n            }\n          });\n          return function getOrders() {\n            return _ref.apply(this, arguments);\n          };\n        }();\n        getOrders().then(function () {\n          return settransList(function (prevState) {\n            return [].concat(_toConsumableArray(prevState), _toConsumableArray(orders));\n          });\n        }).catch(function (e) {\n          return console.log(\"error has occured\");\n        });\n      } catch (_unused2) {\n        console.log(\"Something occured with woo\");\n      }\n    }\n  }, []);\n  useEffect(function () {\n    try {\n      if (transList.length > 0) {\n        settransList(function (prev) {\n          return prev.sort(function (a, b) {\n            if (a.date && b.date) {\n              return a.date.seconds - b.date.seconds;\n            } else if (a.date && b.date_created) {\n              var targetTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n              var newDateA = new Date(a.date.seconds * 1000);\n              var newDateB = new Date(b.date_created + \"Z\");\n              var resultA = tz(newDateA).tz(targetTimezone, true);\n              var resultB = tz(newDateB).tz(targetTimezone, true);\n              return resultA.valueOf() - resultB.valueOf();\n            } else if (a.date_created && b.date) {\n              var _targetTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n              var _newDateA = new Date(a.date_created + \"Z\");\n              var _newDateB = new Date(b.date.seconds * 1000);\n              var _resultA = tz(_newDateA).tz(_targetTimezone, true);\n              var _resultB = tz(_newDateB).tz(_targetTimezone, true);\n              return _resultA.valueOf() - _resultB.valueOf();\n            } else {\n              var _targetTimezone2 = Intl.DateTimeFormat().resolvedOptions().timeZone;\n              var _newDateA2 = new Date(a.date_created + \"Z\");\n              var _newDateB2 = new Date(b.date_created + \"Z\");\n              var _resultA2 = tz(_newDateA2).tz(_targetTimezone2, true);\n              var _resultB2 = tz(_newDateB2).tz(_targetTimezone2, true);\n              return _resultA2.valueOf() - _resultB2.valueOf();\n            }\n          }).reverse();\n        });\n        var todaysReceiptValue = transList.reduce(function (accumulator, current) {\n          var date;\n          var targetTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n          if (current.date) {\n            var localDatePreConv = new Date(current.date.seconds * 1000);\n            date = tz(localDatePreConv).tz(targetTimezone, true);\n          } else {\n            var _localDatePreConv = new Date(current.date_created + \"Z\");\n            date = tz(_localDatePreConv).tz(targetTimezone, true);\n          }\n          var today = tz().tz(targetTimezone);\n          if (today.year() === date.year() && today.month() === date.month() && today.dayOfYear() === date.dayOfYear()) {\n            return accumulator + parseFloat(current.date ? current.total : current.total / 1.13);\n          } else {\n            return accumulator;\n          }\n        }, 0);\n        var todaysReceipts = transList.reduce(function (accumulator, current) {\n          var date;\n          var targetTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n          if (current.date) {\n            var localDatePreConv = new Date(current.date.seconds * 1000);\n            date = tz(localDatePreConv).tz(targetTimezone, true);\n          } else {\n            var _localDatePreConv2 = new Date(current.date_created + \"Z\");\n            date = tz(_localDatePreConv2).tz(targetTimezone, true);\n          }\n          var today = tz().tz(targetTimezone);\n          if (today.year() === date.year() && today.month() === date.month() && today.dayOfYear() === date.dayOfYear()) {\n            return accumulator + 1;\n          } else {\n            return accumulator;\n          }\n        }, 0);\n        setTodaysDetails({\n          todaysReceiptValue: todaysReceiptValue.toFixed(2),\n          todaysReceipts: todaysReceipts\n        });\n      }\n    } catch (_unused3) {\n      console.log(\"Error Occured when sorting dates\");\n    }\n  }, [transList]);\n  var PrintTodaysTotal = function PrintTodaysTotal() {\n    var data = [\"\\x1B\" + \"\\x40\",\n    \"\\x1B\" + \"\\x61\" + \"\\x31\",\n    storeDetails.name, \"\\x0A\", storeDetails.address + \"\\x0A\", storeDetails.website + \"\\x0A\",\n    storeDetails.phoneNumber + \"\\x0A\",\n    today.toLocaleDateString() + \" \" + today.toLocaleTimeString() + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\",\n    \"\\x0A\" + \"\\x0A\", \"Number Of Receipts: \" + todaysDetails.todaysReceipts + \"\\x0A\" + \"\\x0A\", \"Sub-Total: \" + \"$\" + (todaysDetails.todaysReceiptValue / 1.13).toFixed(2) + \"\\x0A\" + \"\\x0A\", \"Tax: \" + \"$\" + (todaysDetails.todaysReceiptValue / 1.13 * 0.13).toFixed(2) + \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + \"$\" + todaysDetails.todaysReceiptValue + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n    \"\\x0A\",\n    \"\\x0A\",\n    \"\\x0A\",\n    \"\\x0A\",\n    \"\\x0A\",\n    \"\\x1D\" + \"\\x56\" + \"\\x30\"];\n    var qz = require(\"qz-tray\");\n    qz.websocket.connect().then(function () {\n      var config = qz.configs.create(storeDetails.comSelected);\n      return qz.print(config, data);\n    }).then(qz.websocket.disconnect).catch(function (err) {\n      console.error(err);\n    });\n\n  };\n\n  var CleanupOps = function CleanupOps(metaList) {\n    var opsArray = [];\n    metaList.forEach(function (op) {\n      var arrContaingMe = opsArray.filter(function (filterOp) {\n        return filterOp.key === op.key;\n      });\n      if (arrContaingMe.length > 0) {\n        opsArray.forEach(function (opsArrItem, index) {\n          if (opsArrItem.key === op.key) {\n            opsArray[index].vals.push(op.value);\n          }\n        });\n      } else {\n        opsArray.push({\n          key: op.key,\n          vals: [op.value]\n        });\n      }\n    });\n    return opsArray;\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: {\n        textAlign: \"center\",\n        margin: 25\n      },\n      children: \"List Of Transactions\"\n    }), _jsxs(View, {\n      style: {\n        flexDirection: \"row\",\n        width: \"100%\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n      },\n      children: [_jsxs(Text, {\n        style: {\n          textAlign: \"center\",\n          margin: 25\n        },\n        children: [\"Todays Total Price: \", todaysDetails.todaysReceiptValue]\n      }), _jsx(Button, {\n        style: {\n          height: 40,\n          alignItems: \"center\",\n          justifyContent: \"center\"\n        },\n        title: \"Print Todays Receipts\",\n        onPress: PrintTodaysTotal\n      }), _jsxs(Text, {\n        style: {\n          textAlign: \"center\",\n          margin: 25\n        },\n        children: [\"Todays Total Receipts: \", todaysDetails.todaysReceipts]\n      })]\n    }), _jsxs(View, {\n      style: styles.contentContainer,\n      children: [_jsx(ReactGrid, {\n        ref: testRef,\n        rows: rows,\n        columns: columns,\n        enableRowSelection: true,\n        onContextMenu: simpleHandleContextMenu,\n        enableGroupIdRender: true\n      }), _jsx(Button, {\n        title: \"Print Selected Receipts\"\n        ,\n        onPress: function onPress() {\n          if (testRef.current.state.selectedIds.length > 0) {\n            var data = [];\n            testRef.current.state.selectedIds.forEach(function (idx) {\n              var element = transList[idx];\n              var date;\n              if (element.date_created) {\n                var dateString = element.date_created;\n                var newDate = new Date(dateString + \"Z\");\n                var targetTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n                var result = tz(newDate).tz(targetTimezone, true).format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n                date = result;\n              } else if (element.date) {\n                var _newDate = new Date(element.date.seconds * 1000);\n                var _targetTimezone3 = Intl.DateTimeFormat().resolvedOptions().timeZone;\n                var _result = tz(_newDate).tz(_targetTimezone3, true).format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n                date = _result;\n              }\n              if (element.date) {\n                var _element$cart;\n                var total = 0;\n                data.push(\"\\x1B\" + \"\\x40\",\n                \"\\x1B\" + \"\\x61\" + \"\\x31\",\n                storeDetails.name, \"\\x0A\", storeDetails.address + \"\\x0A\", storeDetails.website + \"\\x0A\",\n                storeDetails.phoneNumber + \"\\x0A\",\n                date + \"\\x0A\", \"\\x0A\", \"Transaction ID \" + element.transNum + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\");\n\n                (_element$cart = element.cart) == null ? void 0 : _element$cart.map(function (cartItem) {\n                  total += parseFloat(cartItem.price);\n                  data.push(\"Name: \" + cartItem.name);\n                  data.push(\"\\x0A\");\n                  data.push(\"Price: $\" + cartItem.price);\n                  if (cartItem.options) {\n                    var _cartItem$options;\n                    data.push(\"\\x0A\");\n                    (_cartItem$options = cartItem.options) == null ? void 0 : _cartItem$options.map(function (option) {\n                      data.push(option);\n                      data.push(\"\\x0A\");\n                    });\n                  }\n                  data.push(\"\\x0A\" + \"\\x0A\");\n                });\n                total = total * 1.13;\n                total = total.toFixed(2);\n                if (element.billing) {\n                  data.push(\"Phone Number: \" + element.billing.phone);\n                  data.push(\"\\x0A\");\n                }\n                if (element.customer_note) {\n                  data.push(\"Customer Note: \" + element.customer_note);\n                  data.push(\"\\x0A\");\n                }\n\n                data.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + \"$\" + total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n                \"\\x0A\",\n                \"\\x0A\",\n                \"\\x0A\",\n                \"\\x0A\",\n                \"\\x0A\",\n                \"\\x1D\" + \"\\x56\" + \"\\x30\");\n              } else {\n                var _element$line_items;\n                data.push(\"\\x1B\" + \"\\x40\",\n                \"\\x1B\" + \"\\x61\" + \"\\x31\",\n                storeDetails.name, \"\\x0A\", storeDetails.address + \"\\x0A\", storeDetails.website + \"\\x0A\",\n                storeDetails.phoneNumber + \"\\x0A\",\n                date + \"\\x0A\", \"\\x0A\", \"Online Order\" + \"\\x0A\",\n                \"Transaction ID \" + element.number + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\");\n\n                (_element$line_items = element.line_items) == null ? void 0 : _element$line_items.map(function (cartItem) {\n                  data.push(\"\\x0A\");\n                  data.push(\"Name: \" + cartItem.name);\n                  data.push(\"\\x0A\");\n                  data.push(\"Quantity: \" + cartItem.quantity);\n                  data.push(\"\\x0A\");\n                  data.push(\"Price: $\" + cartItem.price);\n                  data.push(\"\\x0A\");\n                  if (cartItem.meta) {\n                    CleanupOps(cartItem.meta).map(function (returnedItem) {\n                      data.push(returnedItem.key + \" : \");\n                      returnedItem.vals.map(function (val, index) {\n                        data.push(\"\" + val);\n                        if (index >= 0 && index < returnedItem.vals.length - 1) {\n                          data.push(\", \");\n                        }\n                      });\n                      data.push(\"\\x0A\");\n                    });\n                  } else {\n                    data.push(\"\\x0A\" + \"\\x0A\");\n                  }\n                });\n                data.push(\"\\x0A\");\n                data.push(\"\\x0A\");\n                data.push(\"Customer Details:\");\n                data.push(\"\\x0A\");\n                data.push(\"Address: \" + element.shipping.address_1);\n                data.push(\"\\x0A\");\n                data.push(\"City: \" + element.shipping.city);\n                data.push(\"\\x0A\");\n                data.push(\"Zip/Postal Code: \" + element.shipping.postcode);\n                data.push(\"\\x0A\");\n                data.push(\"Province/State: \" + element.shipping.state);\n                data.push(\"\\x0A\");\n                data.push(\"Name: \" + element.shipping.first_name + \" \" + element.shipping.last_name);\n                data.push(\"\\x0A\");\n                element.shipping_lines.map(function (line) {\n                  data.push(\"Shipping Method: \" + line.method_title);\n                  data.push(\"\\x0A\");\n                });\n                if (element.billing) {\n                  data.push(\"Phone Number: \" + element.billing.phone);\n                  data.push(\"\\x0A\");\n                }\n                if (element.customer_note) {\n                  data.push(\"Customer Note: \" + element.customer_note);\n                  data.push(\"\\x0A\");\n                }\n                data.push(\"\\x0A\");\n                data.push(\"\\x0A\");\n                data.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Payment Method: \" + element.payment_method_title + \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + \"$\" + element.total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n                \"\\x0A\",\n                \"\\x0A\",\n                \"\\x0A\",\n                \"\\x0A\",\n                \"\\x0A\");\n\n                data.push(\"\\x1D\" + \"\\x56\" + \"\\x00\");\n              }\n            });\n            var qz = require(\"qz-tray\");\n            qz.websocket.connect().then(function () {\n              var config = qz.configs.create(storeDetails.comSelected);\n              return qz.print(config, data);\n            }).then(qz.websocket.disconnect).catch(function (err) {\n              console.error(err);\n            });\n          } else if (testRef.current.state.selectedRanges[0].rows[0]) {\n            var _data = [];\n            var element = transList[testRef.current.state.selectedRanges[0].rows[0].rowId];\n            var date;\n            if (element.date_created) {\n              var dateString = element.date_created;\n              var newDate = new Date(dateString + \"Z\");\n              var targetTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n              var result = tz(newDate).tz(targetTimezone, true).format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n              date = result;\n            } else if (element.date) {\n              var _newDate2 = new Date(element.date.seconds * 1000);\n              var _targetTimezone4 = Intl.DateTimeFormat().resolvedOptions().timeZone;\n              var _result2 = tz(_newDate2).tz(_targetTimezone4, true).format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n              date = _result2;\n            }\n            if (element.date) {\n              var _element$cart2;\n              var total = 0;\n              _data.push(\"\\x1B\" + \"\\x40\",\n              \"\\x1B\" + \"\\x61\" + \"\\x31\",\n              storeDetails.name, \"\\x0A\", storeDetails.address + \"\\x0A\", storeDetails.website + \"\\x0A\",\n              storeDetails.phoneNumber + \"\\x0A\",\n              date + \"\\x0A\", \"\\x0A\", \"Transaction ID \" + element.transNum + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\");\n\n              (_element$cart2 = element.cart) == null ? void 0 : _element$cart2.map(function (cartItem) {\n                total += parseFloat(cartItem.price);\n                _data.push(\"Name: \" + cartItem.name);\n                _data.push(\"\\x0A\");\n                _data.push(\"Price: $\" + cartItem.price);\n                if (cartItem.options) {\n                  var _cartItem$options2;\n                  _data.push(\"\\x0A\");\n                  (_cartItem$options2 = cartItem.options) == null ? void 0 : _cartItem$options2.map(function (option) {\n                    _data.push(option);\n                    _data.push(\"\\x0A\");\n                  });\n                }\n                _data.push(\"\\x0A\" + \"\\x0A\");\n              });\n              total = total * 1.13;\n              total = total.toFixed(2);\n              if (element.billing) {\n                _data.push(\"Phone Number: \" + element.billing.phone);\n                _data.push(\"\\x0A\");\n              }\n              if (element.customer_note) {\n                _data.push(\"Customer Note: \" + element.customer_note);\n                _data.push(\"\\x0A\");\n              }\n\n              _data.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + \"$\" + total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n              \"\\x0A\",\n              \"\\x0A\",\n              \"\\x0A\",\n              \"\\x0A\",\n              \"\\x0A\",\n              \"\\x1D\" + \"\\x56\" + \"\\x30\");\n              var _qz = require(\"qz-tray\");\n              _qz.websocket.connect().then(function () {\n                var config = _qz.configs.create(storeDetails.comSelected);\n                return _qz.print(config, _data);\n              }).then(_qz.websocket.disconnect).catch(function (err) {\n                console.error(err);\n              });\n            } else {\n              var _element$line_items2;\n              _data.push(\"\\x1B\" + \"\\x40\",\n              \"\\x1B\" + \"\\x61\" + \"\\x31\",\n              storeDetails.name, \"\\x0A\", storeDetails.address + \"\\x0A\", storeDetails.website + \"\\x0A\",\n              storeDetails.phoneNumber + \"\\x0A\",\n              date + \"\\x0A\", \"\\x0A\", \"Online Order\" + \"\\x0A\",\n              \"Transaction ID \" + element.number + \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x0A\", \"\\x1B\" + \"\\x61\" + \"\\x30\");\n\n              (_element$line_items2 = element.line_items) == null ? void 0 : _element$line_items2.map(function (cartItem) {\n                _data.push(\"\\x0A\");\n                _data.push(\"Name: \" + cartItem.name);\n                _data.push(\"\\x0A\");\n                _data.push(\"Quantity: \" + cartItem.quantity);\n                _data.push(\"\\x0A\");\n                _data.push(\"Price: $\" + cartItem.price);\n                _data.push(\"\\x0A\");\n                if (cartItem.meta) {\n                  CleanupOps(cartItem.meta).map(function (returnedItem) {\n                    _data.push(returnedItem.key + \" : \");\n                    returnedItem.vals.map(function (val, index) {\n                      _data.push(\"\" + val);\n                      if (index >= 0 && index < returnedItem.vals.length - 1) {\n                        _data.push(\", \");\n                      }\n                    });\n                    _data.push(\"\\x0A\");\n                  });\n                } else {\n                  _data.push(\"\\x0A\" + \"\\x0A\");\n                }\n              });\n              _data.push(\"\\x0A\");\n              _data.push(\"\\x0A\");\n              _data.push(\"Customer Details:\");\n              _data.push(\"\\x0A\");\n              _data.push(\"Address: \" + element.shipping.address_1);\n              _data.push(\"\\x0A\");\n              _data.push(\"City: \" + element.shipping.city);\n              _data.push(\"\\x0A\");\n              _data.push(\"Zip/Postal Code: \" + element.shipping.postcode);\n              _data.push(\"\\x0A\");\n              _data.push(\"Province/State: \" + element.shipping.state);\n              _data.push(\"\\x0A\");\n              _data.push(\"Name: \" + element.shipping.first_name + \" \" + element.shipping.last_name);\n              _data.push(\"\\x0A\");\n              element.shipping_lines.map(function (line) {\n                _data.push(\"Shipping Method: \" + line.method_title);\n                _data.push(\"\\x0A\");\n              });\n              if (element.billing) {\n                _data.push(\"Phone Number: \" + element.billing.phone);\n                _data.push(\"\\x0A\");\n              }\n              if (element.customer_note) {\n                _data.push(\"Customer Note: \" + element.customer_note);\n                _data.push(\"\\x0A\");\n              }\n              _data.push(\"\\x0A\");\n              _data.push(\"\\x0A\");\n              _data.push(\"\\x0A\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\", \"\\x0A\" + \"\\x0A\", \"Payment Method: \" + element.payment_method_title + \"\\x0A\" + \"\\x0A\", \"Total Including (13% Tax): \" + \"$\" + element.total + \"\\x0A\" + \"\\x0A\", \"------------------------------------------\" + \"\\x0A\", \"\\x0A\",\n              \"\\x0A\",\n              \"\\x0A\",\n              \"\\x0A\",\n              \"\\x0A\",\n              \"\\x0A\");\n\n              _data.push(\"\\x1D\" + \"\\x56\" + \"\\x00\");\n              var _qz2 = require(\"qz-tray\");\n              _qz2.websocket.connect().then(function () {\n                var config = _qz2.configs.create(storeDetails.comSelected);\n                return _qz2.print(config, _data);\n              }).then(_qz2.websocket.disconnect).catch(function (err) {\n                console.error(err);\n              });\n            }\n          }\n        }\n      })]\n    })]\n  });\n};\nexport default ViewTransactions;\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"white\",\n    flex: 1,\n    height: \"100%\"\n  },\n  contentContainer: {\n    flex: 1,\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-between\",\n    paddingLeft: 50,\n    paddingRight: 50,\n    paddingBottom: 50,\n    height: \"100%\",\n    width: \"100%\",\n    alignItems: \"center\"\n  }\n});","map":{"version":3,"names":["React","useEffect","useRef","useState","Button","Text","storeDetailState","woocommerceState","auth","db","tz","require","ReactGrid","getDate","seconds","newDate","Date","targetTimezone","Intl","DateTimeFormat","resolvedOptions","timeZone","result","format","ViewTransactions","today","storeDetails","use","wooCredentials","transList","settransList","todaysReceiptValue","todaysReceipts","todaysDetails","setTodaysDetails","useWindowDimensions","width","height","getColumns","columnId","headerRow","rowId","cells","type","text","getRows","map","receipt","idx","customer","name","phone","address","cart_hash","method","groupId","total","date","rows","columns","simpleHandleContextMenu","selectedRowIds","selectedColIds","selectionMode","menuOptions","console","log","testRef","collection","doc","currentUser","uid","get","then","querySnapshot","forEach","prevState","data","useWoocommerce","WooCommerceAPI","WooCommerce","url","apiUrl","consumerKey","ck","consumerSecret","cs","wpAPI","version","page","orders","getOrders","response","getAsync","JSON","parse","body","length","catch","e","prev","sort","a","b","date_created","newDateA","newDateB","resultA","resultB","valueOf","reverse","reduce","accumulator","current","localDatePreConv","year","month","dayOfYear","parseFloat","toFixed","PrintTodaysTotal","website","phoneNumber","toLocaleDateString","toLocaleTimeString","qz","websocket","connect","config","configs","create","comSelected","print","disconnect","err","error","CleanupOps","metaList","opsArray","op","arrContaingMe","filter","filterOp","key","opsArrItem","index","vals","push","value","styles","container","textAlign","margin","flexDirection","alignItems","justifyContent","contentContainer","state","selectedIds","element","dateString","transNum","cart","cartItem","price","options","option","billing","customer_note","number","line_items","quantity","meta","returnedItem","val","shipping","address_1","city","postcode","first_name","last_name","shipping_lines","line","method_title","payment_method_title","selectedRanges","StyleSheet","backgroundColor","flex","flexWrap","paddingLeft","paddingRight","paddingBottom"],"sources":["/Users/peterputros/Desktop/PosMate/screens/authed/ViewTransactions.tsx"],"sourcesContent":["import {\n  FlatList,\n  ScrollView,\n  StyleSheet,\n  useWindowDimensions,\n  View,\n} from \"react-native\";\nimport React, { useEffect, useLayoutEffect, useRef, useState } from \"react\";\nimport { Button, Text } from \"@react-native-material/core\";\nimport {\n  storeDetailState,\n  transListState,\n  woocommerceState,\n} from \"state/state\";\nimport { auth, db } from \"state/firebaseConfig\";\nconst tz = require(\"moment-timezone\");\nimport {\n  ReactGrid,\n  CellChange,\n  Row,\n  Column,\n  Id,\n  MenuOption,\n  SelectionMode,\n} from \"@silevis/reactgrid\";\n\nimport \"@silevis/reactgrid/styles.css\";\n\nconst getDate = (seconds) => {\n  const newDate = new Date(seconds * 1000);\n  const targetTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n  const result = tz(newDate)\n    .tz(targetTimezone, true)\n    .format(\"YYYY-MM-DD, h:mm:ss a z\");\n\n  return result;\n};\n\nconst ViewTransactions = () => {\n  const today = new Date();\n  const storeDetails = storeDetailState.use();\n  const wooCredentials = woocommerceState.use();\n  const [transList, settransList] = useState([]);\n  const [todaysDetails, setTodaysDetails] = useState({\n    todaysReceiptValue: 0,\n    todaysReceipts: 0,\n  });\n  const { width, height } = useWindowDimensions();\n\n  const getColumns = (): Column[] => [\n    { columnId: \"name\", width: width * 0.8 * 0.125 },\n    { columnId: \"phone\", width: width * 0.8 * 0.125 },\n    { columnId: \"address\", width: width * 0.8 * 0.18 },\n    { columnId: \"orderFrom\", width: width * 0.8 * 0.08 },\n    { columnId: \"method\", width: width * 0.8 * 0.08 },\n    { columnId: \"cart\", width: width * 0.8 * 0.125 },\n    { columnId: \"total\", width: width * 0.8 * 0.125 },\n    { columnId: \"date\", width: width * 0.8 * 0.16 },\n  ];\n\n  const headerRow: Row = {\n    rowId: \"header\",\n    cells: [\n      { type: \"header\", text: \"Name\" },\n      { type: \"header\", text: \"Phone #\" },\n      { type: \"header\", text: \"Address\" },\n      { type: \"header\", text: \"Order From\" },\n      { type: \"header\", text: \"Method\" },\n      { type: \"header\", text: \"Cart\" },\n      { type: \"header\", text: \"Total\" },\n      { type: \"header\", text: \"Date\" },\n    ],\n  };\n\n  const getRows = () => [\n    headerRow,\n    ...transList.map<Row>((receipt, idx) => ({\n      rowId: idx,\n      cells: [\n        { type: \"text\", text: receipt.customer.name },\n        {\n          type: \"text\",\n          text: receipt.customer.phone ? receipt.customer.phone : \"\",\n        },\n        {\n          type: \"text\",\n          text: receipt.customer.address ? receipt.customer.address : \"\",\n        },\n        {\n          type: \"text\",\n          text: receipt.cart_hash ? \"Online\" : \"POS\",\n        },\n        {\n          type: \"text\",\n          text: receipt.method === \"deliveryOrder\" ? \"Delivery\" : \"Pickup\",\n        },\n        {\n          type: \"text\",\n          text: \"Cart\",\n          groupId: \"pp123\",\n        },\n        // {\n        //   type: \"chevron\",\n        //   text: \"Pizza\",\n        //   isExpanded: true,\n        //   hasChildren: true,\n        //   parentId: \"pp123\",\n        //   indent: 1,\n        // },\n        {\n          type: \"text\",\n          text: receipt.total ? \"$\" + receipt.total : \"\",\n        },\n        {\n          type: \"text\",\n          text: receipt.date ? getDate(receipt.date.seconds) : \"\",\n        },\n      ],\n    })),\n  ];\n\n  ///\n\n  const rows = getRows();\n  const columns = getColumns();\n\n  const simpleHandleContextMenu = (\n    selectedRowIds: Id[],\n    selectedColIds: Id[],\n    selectionMode: SelectionMode,\n    menuOptions: MenuOption[]\n  ): MenuOption[] => {\n    console.log(\"SELECTED ROWS: \", selectedRowIds);\n    return menuOptions;\n  };\n\n  const testRef = useRef(null);\n\n  ///\n\n  useEffect(() => {\n    try {\n      db.collection(\"users\")\n        .doc(auth.currentUser?.uid)\n        .collection(\"transList\")\n        .get()\n        .then((querySnapshot) => {\n          querySnapshot.forEach((doc) => {\n            // doc.data() is never undefined for query doc snapshots\n            // console.log(doc.id, \" => \", doc.data());\n            settransList((prevState) => [...prevState, doc.data()]);\n            console.log(doc.data());\n          });\n        });\n    } catch {\n      console.log(\"Error occured retrieving tranasctions\");\n    }\n\n    if (wooCredentials.useWoocommerce === true) {\n      try {\n        const WooCommerceAPI = require(\"woocommerce-api\");\n\n        const WooCommerce = new WooCommerceAPI({\n          url: wooCredentials.apiUrl,\n          consumerKey: wooCredentials.ck,\n          consumerSecret: wooCredentials.cs,\n          wpAPI: true,\n          version: \"wc/v1\",\n        });\n\n        let page = 1;\n        let orders = [];\n\n        const getOrders = async () => {\n          const response = await WooCommerce.getAsync(\n            `orders?page=${page}&per_page=100`\n          );\n          const data = JSON.parse(response.body);\n          orders = [...orders, ...data];\n          if (data.length === 100) {\n            page++;\n            getOrders();\n          } else {\n            // console.log(orders);\n          }\n        };\n\n        getOrders()\n          .then(() => settransList((prevState) => [...prevState, ...orders]))\n          .catch((e) => console.log(\"error has occured\"));\n      } catch {\n        console.log(\"Something occured with woo\");\n      }\n    }\n  }, []);\n\n  useEffect(() => {\n    try {\n      if (transList.length > 0) {\n        settransList((prev) =>\n          prev\n            .sort(function (a, b) {\n              if (a.date && b.date) {\n                return a.date.seconds - b.date.seconds;\n              } else if (a.date && b.date_created) {\n                const targetTimezone =\n                  Intl.DateTimeFormat().resolvedOptions().timeZone;\n                const newDateA = new Date(a.date.seconds * 1000);\n                const newDateB = new Date(b.date_created + \"Z\");\n                const resultA = tz(newDateA).tz(targetTimezone, true);\n                const resultB = tz(newDateB).tz(targetTimezone, true);\n\n                return resultA.valueOf() - resultB.valueOf();\n              } else if (a.date_created && b.date) {\n                const targetTimezone =\n                  Intl.DateTimeFormat().resolvedOptions().timeZone;\n                const newDateA = new Date(a.date_created + \"Z\");\n                const newDateB = new Date(b.date.seconds * 1000);\n                const resultA = tz(newDateA).tz(targetTimezone, true);\n                const resultB = tz(newDateB).tz(targetTimezone, true);\n\n                return resultA.valueOf() - resultB.valueOf();\n              } else {\n                const targetTimezone =\n                  Intl.DateTimeFormat().resolvedOptions().timeZone;\n                const newDateA = new Date(a.date_created + \"Z\");\n                const newDateB = new Date(b.date_created + \"Z\");\n                const resultA = tz(newDateA).tz(targetTimezone, true);\n                const resultB = tz(newDateB).tz(targetTimezone, true);\n\n                return resultA.valueOf() - resultB.valueOf();\n              }\n            })\n            .reverse()\n        );\n        // settransList(sortedTransList);\n        const todaysReceiptValue = transList.reduce((accumulator, current) => {\n          let date;\n          const targetTimezone =\n            Intl.DateTimeFormat().resolvedOptions().timeZone;\n          if (current.date) {\n            const localDatePreConv = new Date(current.date.seconds * 1000);\n            date = tz(localDatePreConv).tz(targetTimezone, true);\n          } else {\n            const localDatePreConv = new Date(current.date_created + \"Z\");\n            date = tz(localDatePreConv).tz(targetTimezone, true);\n          }\n          // Get the current date in the desired time zone\n          let today = tz().tz(targetTimezone);\n\n          if (\n            today.year() === date.year() &&\n            today.month() === date.month() &&\n            today.dayOfYear() === date.dayOfYear()\n          ) {\n            return (\n              accumulator +\n              parseFloat(current.date ? current.total : current.total / 1.13)\n            );\n          } else {\n            return accumulator;\n          }\n        }, 0);\n        const todaysReceipts = transList.reduce((accumulator, current) => {\n          let date;\n          const targetTimezone =\n            Intl.DateTimeFormat().resolvedOptions().timeZone;\n          if (current.date) {\n            const localDatePreConv = new Date(current.date.seconds * 1000);\n            date = tz(localDatePreConv).tz(targetTimezone, true);\n          } else {\n            const localDatePreConv = new Date(current.date_created + \"Z\");\n            date = tz(localDatePreConv).tz(targetTimezone, true);\n          }\n          // Get the current date in the desired time zone\n          let today = tz().tz(targetTimezone);\n\n          if (\n            today.year() === date.year() &&\n            today.month() === date.month() &&\n            today.dayOfYear() === date.dayOfYear()\n          ) {\n            return accumulator + 1;\n          } else {\n            return accumulator;\n          }\n        }, 0);\n        setTodaysDetails({\n          todaysReceiptValue: todaysReceiptValue.toFixed(2),\n          todaysReceipts: todaysReceipts,\n        });\n      }\n    } catch {\n      console.log(\"Error Occured when sorting dates\");\n    }\n  }, [transList]);\n\n  const PrintTodaysTotal = () => {\n    let data = [\n      \"\\x1B\" + \"\\x40\", // init\n      \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n      storeDetails.name,\n      \"\\x0A\",\n      storeDetails.address + \"\\x0A\",\n      storeDetails.website + \"\\x0A\", // text and line break\n      storeDetails.phoneNumber + \"\\x0A\", // text and line break\n      today.toLocaleDateString() + \" \" + today.toLocaleTimeString() + \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x0A\",\n      \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\n      \"\\x0A\" + \"\\x0A\",\n      \"Number Of Receipts: \" + todaysDetails.todaysReceipts + \"\\x0A\" + \"\\x0A\",\n      \"Sub-Total: \" +\n        \"$\" +\n        (todaysDetails.todaysReceiptValue / 1.13).toFixed(2) +\n        \"\\x0A\" +\n        \"\\x0A\",\n      \"Tax: \" +\n        \"$\" +\n        ((todaysDetails.todaysReceiptValue / 1.13) * 0.13).toFixed(2) +\n        \"\\x0A\" +\n        \"\\x0A\",\n      \"Total Including (13% Tax): \" +\n        \"$\" +\n        todaysDetails.todaysReceiptValue +\n        \"\\x0A\" +\n        \"\\x0A\",\n      \"------------------------------------------\" + \"\\x0A\",\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x0A\", // line break\n      \"\\x1D\" + \"\\x56\" + \"\\x30\",\n    ];\n\n    const qz = require(\"qz-tray\");\n    qz.websocket\n      .connect()\n      .then(function () {\n        let config = qz.configs.create(storeDetails.comSelected);\n        return qz.print(config, data);\n      })\n      .then(qz.websocket.disconnect)\n      .catch(function (err) {\n        console.error(err);\n      });\n\n    // fetch(\"http://localhost:8080/print\", {\n    //   method: \"POST\",\n    //   headers: {\n    //     \"Content-Type\": \"application/json\",\n    //   },\n    //   body: JSON.stringify({\n    //     printData: data,\n    //     comSelected: storeDetails.comSelected,\n    //   }),\n    // })\n    //   .then((response) => response.json())\n    //   .then((respData) => {\n    //     console.log(respData);\n    //   })\n    //   .catch((e) => alert(\"Error with printer\"));\n  };\n\n  const CleanupOps = (metaList) => {\n    const opsArray = [];\n\n    metaList.forEach((op) => {\n      const arrContaingMe = opsArray.filter(\n        (filterOp) => filterOp.key === op.key\n      );\n\n      if (arrContaingMe.length > 0) {\n        opsArray.forEach((opsArrItem, index) => {\n          if (opsArrItem.key === op.key) {\n            opsArray[index].vals.push(op.value);\n          }\n        });\n      } else {\n        opsArray.push({ key: op.key, vals: [op.value] });\n      }\n    });\n    return opsArray;\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={{ textAlign: \"center\", margin: 25 }}>\n        List Of Transactions\n      </Text>\n      <View\n        style={{\n          flexDirection: \"row\",\n          width: \"100%\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <Text style={{ textAlign: \"center\", margin: 25 }}>\n          Todays Total Price: {todaysDetails.todaysReceiptValue}\n        </Text>\n        <Button\n          style={{ height: 40, alignItems: \"center\", justifyContent: \"center\" }}\n          title=\"Print Todays Receipts\"\n          onPress={PrintTodaysTotal}\n        />\n        <Text style={{ textAlign: \"center\", margin: 25 }}>\n          Todays Total Receipts: {todaysDetails.todaysReceipts}\n        </Text>\n      </View>\n      <View style={styles.contentContainer}>\n        {/* {transList ? (\n          <FlatList\n            maxToRenderPerBatch={6}\n            data={transList}\n            renderItem={({ item, index }) => {\n              const element = item;\n              let date;\n\n              if (element.date_created) {\n                const dateString = element.date_created;\n\n                const newDate = new Date(dateString + \"Z\");\n\n                const targetTimezone =\n                  Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n                const result = tz(newDate)\n                  .tz(targetTimezone, true)\n                  .format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n\n                date = result;\n              } else if (element.date) {\n                const newDate = new Date(element.date.seconds * 1000);\n                const targetTimezone =\n                  Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n                const result = tz(newDate)\n                  .tz(targetTimezone, true)\n                  .format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n\n                date = result;\n              }\n\n              return (\n                <View\n                  style={{\n                    backgroundColor: \"white\",\n                    borderWidth: 1,\n                    padding: 30,\n                    margin: 10,\n                  }}\n                  key={index}\n                >\n                  <Text>\n                    {element.cart_hash ? \"Online Order\" : \"POS Order\"}\n                  </Text>\n                  {element.customer && (\n                    <>\n                      <Text>\n                        {element.customer.address\n                          ? `Delivery Order To: ${element.customer.address}`\n                          : \"Pickup Order\"}\n                      </Text>\n                      <Text>Name: {element.customer.name}</Text>\n                      <Text>Phone Number: {element.customer.phone}</Text>\n                    </>\n                  )}\n                  <Text style={{ marginBottom: 10 }}>{date}</Text>\n                  {element.cart?.map((cartItem, index) => (\n                    <View style={{ marginBottom: 20 }} key={index}>\n                      <Text>Name: {cartItem.name}</Text>\n                      <Text>Quantity: {cartItem.quantity}</Text>\n                      <Text>Price: {cartItem.price}</Text>\n                      {cartItem.options &&\n                        cartItem.options?.map((option) => (\n                          <Text>{option}</Text>\n                        ))}\n                    </View>\n                  ))}\n                  {element.line_items?.map((cartItem, index) => (\n                    <View style={{ marginBottom: 20 }} key={index}>\n                      <Text>Name: {cartItem.name}</Text>\n                      <Text>Quantity: {cartItem.quantity}</Text>\n                      <Text>Price: {cartItem.price}</Text>\n                      {cartItem.meta &&\n                        CleanupOps(cartItem.meta).map((returnedItem) => (\n                          <View style={{ flexDirection: \"row\" }}>\n                            <Text>{returnedItem.key} : </Text>\n                            {returnedItem.vals.map((val, index) => (\n                              <Text>\n                                {val}\n                                {index >= 0 &&\n                                  index < returnedItem.vals.length - 1 &&\n                                  \", \"}\n                              </Text>\n                            ))}\n                          </View>\n                        ))}\n                    </View>\n                  ))}\n                  {element.billing && (\n                    <>\n                      <Text>Customer Details:</Text>\n                      <Text>Address: {element.shipping.address_1}</Text>\n                      <Text>City: {element.shipping.city}</Text>\n                      <Text>Postal Code: {element.shipping.postcode}</Text>\n                      <Text>Province/State: {element.shipping.state}</Text>\n                      <Text>\n                        Name: {element.shipping.first_name}{\" \"}\n                        {element.shipping.last_name}\n                      </Text>\n                      {element.shipping_lines.map((line) => (\n                        <Text>Shipping Method: {line.method_title}</Text>\n                      ))}\n                      <Text>Phone Number: {element.billing.phone}</Text>\n                      {element.customer_note?.length > 0 && (\n                        <Text>Customer Note: {element.customer_note}</Text>\n                      )}\n                    </>\n                  )}\n                  <Button\n                    title=\"Print\"\n                    style={{ marginTop: 10 }}\n                    onPress={() => {\n                      if (element.date) {\n                        let total = 0;\n\n                        let data = [\n                          \"\\x1B\" + \"\\x40\", // init\n                          \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n                          storeDetails.name,\n                          \"\\x0A\",\n                          storeDetails.address + \"\\x0A\",\n                          storeDetails.website + \"\\x0A\", // text and line break\n                          storeDetails.phoneNumber + \"\\x0A\", // text and line break\n                          date + \"\\x0A\",\n                          \"\\x0A\",\n                          `Transaction ID ${element.transNum}` + \"\\x0A\",\n                          \"\\x0A\",\n                          \"\\x0A\",\n                          \"\\x0A\",\n                          \"\\x1B\" + \"\\x61\" + \"\\x30\", // left align\n                        ];\n\n                        element.cart?.map((cartItem) => {\n                          total += parseFloat(cartItem.price);\n                          data.push(`Name: ${cartItem.name}`);\n                          data.push(\"\\x0A\");\n                          data.push(`Price: $${cartItem.price}`);\n\n                          if (cartItem.options) {\n                            data.push(\"\\x0A\");\n                            cartItem.options?.map((option) => {\n                              data.push(option);\n                              data.push(\"\\x0A\");\n                            });\n                          }\n                          data.push(\"\\x0A\" + \"\\x0A\");\n                        });\n\n                        total = total * 1.13;\n                        total = total.toFixed(2);\n\n                        if (element.billing) {\n                          data.push(`Phone Number: ${element.billing.phone}`);\n                          data.push(\"\\x0A\");\n                        }\n\n                        if (element.customer_note) {\n                          data.push(`Customer Note: ${element.customer_note}`);\n                          data.push(\"\\x0A\");\n                        }\n\n                        //push ending\n                        data.push(\n                          \"\\x0A\",\n                          \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n                          \"\\x0A\" + \"\\x0A\",\n                          \"Total Including (13% Tax): \" +\n                            \"$\" +\n                            total +\n                            \"\\x0A\" +\n                            \"\\x0A\",\n                          \"------------------------------------------\" + \"\\x0A\",\n                          \"\\x0A\", // line break\n                          \"\\x0A\", // line break\n                          \"\\x0A\", // line break\n                          \"\\x0A\", // line break\n                          \"\\x0A\", // line break\n                          \"\\x0A\", // line break\n                          //\"\\x1D\" + \"\\x56\" + \"\\x00\",\n                          \"\\x1D\" + \"\\x56\" + \"\\x30\"\n                        );\n\n                        const qz = require(\"qz-tray\");\n                        qz.websocket\n                          .connect()\n                          .then(function () {\n                            let config = qz.configs.create(\n                              storeDetails.comSelected\n                            );\n                            return qz.print(config, data);\n                          })\n                          .then(qz.websocket.disconnect)\n                          .catch(function (err) {\n                            console.error(err);\n                          });\n                        // fetch(\"http://localhost:8080/print\", {\n                        //   method: \"POST\",\n                        //   headers: {\n                        //     \"Content-Type\": \"application/json\",\n                        //   },\n                        //   body: JSON.stringify({\n                        //     printData: data,\n                        //     comSelected: storeDetails.comSelected,\n                        //   }),\n                        // })\n                        //   .then((response) => response.json())\n                        //   .then((respData) => {\n                        //     console.log(respData);\n                        //   })\n                        //   .catch((e) => alert(\"Error with printer\"));\n                      } else {\n                        const printData = [];\n\n                        printData.push(\n                          \"\\x1B\" + \"\\x40\", // init\n                          \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n                          storeDetails.name,\n                          \"\\x0A\",\n                          storeDetails.address + \"\\x0A\",\n                          storeDetails.website + \"\\x0A\", // text and line break\n                          storeDetails.phoneNumber + \"\\x0A\", // text and line break\n                          date + \"\\x0A\",\n                          \"\\x0A\",\n                          \"Online Order\" + \"\\x0A\", // text and line break\n                          `Transaction ID ${element.number}` + \"\\x0A\",\n                          \"\\x0A\",\n                          \"\\x0A\",\n                          \"\\x0A\",\n                          \"\\x1B\" + \"\\x61\" + \"\\x30\" // left align\n                        );\n\n                        element.line_items?.map((cartItem) => {\n                          printData.push(\"\\x0A\");\n                          printData.push(`Name: ${cartItem.name}`);\n                          printData.push(\"\\x0A\");\n                          printData.push(`Quantity: ${cartItem.quantity}`);\n                          printData.push(\"\\x0A\");\n                          printData.push(`Price: $${cartItem.price}`);\n                          printData.push(\"\\x0A\");\n\n                          if (cartItem.meta) {\n                            CleanupOps(cartItem.meta).map((returnedItem) => {\n                              printData.push(`${returnedItem.key} : `);\n                              returnedItem.vals.map((val, index) => {\n                                printData.push(`${val}`);\n                                if (\n                                  index >= 0 &&\n                                  index < returnedItem.vals.length - 1\n                                ) {\n                                  printData.push(\", \");\n                                }\n                              });\n                              printData.push(\"\\x0A\");\n                            });\n                          } else {\n                            printData.push(\"\\x0A\" + \"\\x0A\");\n                          }\n                        });\n\n                        printData.push(\"\\x0A\");\n                        printData.push(\"\\x0A\");\n                        printData.push(`Customer Details:`);\n                        printData.push(\"\\x0A\");\n                        printData.push(\n                          `Address: ${element.shipping.address_1}`\n                        );\n                        printData.push(\"\\x0A\");\n                        printData.push(`City: ${element.shipping.city}`);\n                        printData.push(\"\\x0A\");\n                        printData.push(\n                          `Zip/Postal Code: ${element.shipping.postcode}`\n                        );\n                        printData.push(\"\\x0A\");\n                        printData.push(\n                          `Province/State: ${element.shipping.state}`\n                        );\n                        printData.push(\"\\x0A\");\n                        printData.push(\n                          `Name: ${element.shipping.first_name} ${element.shipping.last_name}`\n                        );\n                        printData.push(\"\\x0A\");\n                        element.shipping_lines.map((line) => {\n                          printData.push(\n                            `Shipping Method: ${line.method_title}`\n                          );\n                          printData.push(\"\\x0A\");\n                        });\n                        if (element.billing) {\n                          printData.push(\n                            `Phone Number: ${element.billing.phone}`\n                          );\n                          printData.push(\"\\x0A\");\n                        }\n                        if (element.customer_note) {\n                          printData.push(\n                            `Customer Note: ${element.customer_note}`\n                          );\n                          printData.push(\"\\x0A\");\n                        }\n                        printData.push(\"\\x0A\");\n                        printData.push(\"\\x0A\");\n\n                        printData.push(\n                          \"\\x0A\",\n                          \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n                          \"\\x0A\" + \"\\x0A\",\n                          \"Payment Method: \" +\n                            element.payment_method_title +\n                            \"\\x0A\" +\n                            \"\\x0A\",\n                          \"Total Including (13% Tax): \" +\n                            \"$\" +\n                            element.total +\n                            \"\\x0A\" +\n                            \"\\x0A\",\n                          \"------------------------------------------\" + \"\\x0A\",\n                          \"\\x0A\", // line break\n                          \"\\x0A\", // line break\n                          \"\\x0A\", // line break\n                          \"\\x0A\", // line break\n                          \"\\x0A\", // line break\n                          \"\\x0A\" // line break\n                        );\n\n                        printData.push(\"\\x1D\" + \"\\x56\" + \"\\x00\");\n\n                        const qz = require(\"qz-tray\");\n                        qz.websocket\n                          .connect()\n                          .then(function () {\n                            let config = qz.configs.create(\n                              storeDetails.comSelected\n                            );\n                            return qz.print(config, printData);\n                          })\n                          .then(qz.websocket.disconnect)\n                          .catch(function (err) {\n                            console.error(err);\n                          });\n\n                        // fetch(\"http://localhost:8080/print\", {\n                        //   method: \"POST\",\n                        //   headers: {\n                        //     \"Content-Type\": \"application/json\",\n                        //   },\n                        //   body: JSON.stringify({\n                        //     printData: printData,\n                        //     comSelected: storeDetails.comSelected,\n                        //   }),\n                        // })\n                        //   .then((response) => response.json())\n                        //   .then((respData) => {\n                        //     console.log(respData);\n                        //   })\n                        //   .catch((e) => alert(\"Error with printer\"));\n                      }\n                    }}\n                  />\n                </View>\n              );\n            }}\n          />\n        ) : (\n          <Text>No receipts yet</Text>\n        )} */}\n        <ReactGrid\n          ref={testRef}\n          rows={rows}\n          columns={columns}\n          enableRowSelection={true}\n          onContextMenu={simpleHandleContextMenu}\n          enableGroupIdRender={true}\n        />\n        <Button\n          title=\"Print Selected Receipts\"\n          // onPress={() => console.log(testRef.current.state.selectedIds)}\n          // onPress={() => console.log(testRef.current)}\n          onPress={() => {\n            if (testRef.current.state.selectedIds.length > 0) {\n              const data = [];\n              testRef.current.state.selectedIds.forEach((idx) => {\n                const element = transList[idx];\n\n                let date;\n\n                if (element.date_created) {\n                  const dateString = element.date_created;\n\n                  const newDate = new Date(dateString + \"Z\");\n\n                  const targetTimezone =\n                    Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n                  const result = tz(newDate)\n                    .tz(targetTimezone, true)\n                    .format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n\n                  date = result;\n                } else if (element.date) {\n                  const newDate = new Date(element.date.seconds * 1000);\n                  const targetTimezone =\n                    Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n                  const result = tz(newDate)\n                    .tz(targetTimezone, true)\n                    .format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n\n                  date = result;\n                }\n\n                if (element.date) {\n                  let total = 0;\n\n                  data.push(\n                    \"\\x1B\" + \"\\x40\", // init\n                    \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n                    storeDetails.name,\n                    \"\\x0A\",\n                    storeDetails.address + \"\\x0A\",\n                    storeDetails.website + \"\\x0A\", // text and line break\n                    storeDetails.phoneNumber + \"\\x0A\", // text and line break\n                    date + \"\\x0A\",\n                    \"\\x0A\",\n                    `Transaction ID ${element.transNum}` + \"\\x0A\",\n                    \"\\x0A\",\n                    \"\\x0A\",\n                    \"\\x0A\",\n                    \"\\x1B\" + \"\\x61\" + \"\\x30\" // left align\n                  );\n\n                  element.cart?.map((cartItem) => {\n                    total += parseFloat(cartItem.price);\n                    data.push(`Name: ${cartItem.name}`);\n                    data.push(\"\\x0A\");\n                    data.push(`Price: $${cartItem.price}`);\n\n                    if (cartItem.options) {\n                      data.push(\"\\x0A\");\n                      cartItem.options?.map((option) => {\n                        data.push(option);\n                        data.push(\"\\x0A\");\n                      });\n                    }\n                    data.push(\"\\x0A\" + \"\\x0A\");\n                  });\n\n                  total = total * 1.13;\n                  total = total.toFixed(2);\n\n                  if (element.billing) {\n                    data.push(`Phone Number: ${element.billing.phone}`);\n                    data.push(\"\\x0A\");\n                  }\n\n                  if (element.customer_note) {\n                    data.push(`Customer Note: ${element.customer_note}`);\n                    data.push(\"\\x0A\");\n                  }\n\n                  //push ending\n                  data.push(\n                    \"\\x0A\",\n                    \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n                    \"\\x0A\" + \"\\x0A\",\n                    \"Total Including (13% Tax): \" +\n                      \"$\" +\n                      total +\n                      \"\\x0A\" +\n                      \"\\x0A\",\n                    \"------------------------------------------\" + \"\\x0A\",\n                    \"\\x0A\", // line break\n                    \"\\x0A\", // line break\n                    \"\\x0A\", // line break\n                    \"\\x0A\", // line break\n                    \"\\x0A\", // line break\n                    \"\\x0A\", // line break\n                    //\"\\x1D\" + \"\\x56\" + \"\\x00\",\n                    \"\\x1D\" + \"\\x56\" + \"\\x30\"\n                  );\n                } else {\n                  data.push(\n                    \"\\x1B\" + \"\\x40\", // init\n                    \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n                    storeDetails.name,\n                    \"\\x0A\",\n                    storeDetails.address + \"\\x0A\",\n                    storeDetails.website + \"\\x0A\", // text and line break\n                    storeDetails.phoneNumber + \"\\x0A\", // text and line break\n                    date + \"\\x0A\",\n                    \"\\x0A\",\n                    \"Online Order\" + \"\\x0A\", // text and line break\n                    `Transaction ID ${element.number}` + \"\\x0A\",\n                    \"\\x0A\",\n                    \"\\x0A\",\n                    \"\\x0A\",\n                    \"\\x1B\" + \"\\x61\" + \"\\x30\" // left align\n                  );\n\n                  element.line_items?.map((cartItem) => {\n                    data.push(\"\\x0A\");\n                    data.push(`Name: ${cartItem.name}`);\n                    data.push(\"\\x0A\");\n                    data.push(`Quantity: ${cartItem.quantity}`);\n                    data.push(\"\\x0A\");\n                    data.push(`Price: $${cartItem.price}`);\n                    data.push(\"\\x0A\");\n\n                    if (cartItem.meta) {\n                      CleanupOps(cartItem.meta).map((returnedItem) => {\n                        data.push(`${returnedItem.key} : `);\n                        returnedItem.vals.map((val, index) => {\n                          data.push(`${val}`);\n                          if (\n                            index >= 0 &&\n                            index < returnedItem.vals.length - 1\n                          ) {\n                            data.push(\", \");\n                          }\n                        });\n                        data.push(\"\\x0A\");\n                      });\n                    } else {\n                      data.push(\"\\x0A\" + \"\\x0A\");\n                    }\n                  });\n\n                  data.push(\"\\x0A\");\n                  data.push(\"\\x0A\");\n                  data.push(`Customer Details:`);\n                  data.push(\"\\x0A\");\n                  data.push(`Address: ${element.shipping.address_1}`);\n                  data.push(\"\\x0A\");\n                  data.push(`City: ${element.shipping.city}`);\n                  data.push(\"\\x0A\");\n                  data.push(`Zip/Postal Code: ${element.shipping.postcode}`);\n                  data.push(\"\\x0A\");\n                  data.push(`Province/State: ${element.shipping.state}`);\n                  data.push(\"\\x0A\");\n                  data.push(\n                    `Name: ${element.shipping.first_name} ${element.shipping.last_name}`\n                  );\n                  data.push(\"\\x0A\");\n                  element.shipping_lines.map((line) => {\n                    data.push(`Shipping Method: ${line.method_title}`);\n                    data.push(\"\\x0A\");\n                  });\n                  if (element.billing) {\n                    data.push(`Phone Number: ${element.billing.phone}`);\n                    data.push(\"\\x0A\");\n                  }\n                  if (element.customer_note) {\n                    data.push(`Customer Note: ${element.customer_note}`);\n                    data.push(\"\\x0A\");\n                  }\n                  data.push(\"\\x0A\");\n                  data.push(\"\\x0A\");\n\n                  data.push(\n                    \"\\x0A\",\n                    \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n                    \"\\x0A\" + \"\\x0A\",\n                    \"Payment Method: \" +\n                      element.payment_method_title +\n                      \"\\x0A\" +\n                      \"\\x0A\",\n                    \"Total Including (13% Tax): \" +\n                      \"$\" +\n                      element.total +\n                      \"\\x0A\" +\n                      \"\\x0A\",\n                    \"------------------------------------------\" + \"\\x0A\",\n                    \"\\x0A\", // line break\n                    \"\\x0A\", // line break\n                    \"\\x0A\", // line break\n                    \"\\x0A\", // line break\n                    \"\\x0A\", // line break\n                    \"\\x0A\" // line break\n                  );\n\n                  data.push(\"\\x1D\" + \"\\x56\" + \"\\x00\");\n                }\n              });\n              const qz = require(\"qz-tray\");\n              qz.websocket\n                .connect()\n                .then(function () {\n                  let config = qz.configs.create(storeDetails.comSelected);\n                  return qz.print(config, data);\n                })\n                .then(qz.websocket.disconnect)\n                .catch(function (err) {\n                  console.error(err);\n                });\n            } else if (testRef.current.state.selectedRanges[0].rows[0]) {\n              const data = [];\n\n              const element =\n                transList[\n                  testRef.current.state.selectedRanges[0].rows[0].rowId\n                ];\n\n              let date;\n\n              if (element.date_created) {\n                const dateString = element.date_created;\n\n                const newDate = new Date(dateString + \"Z\");\n\n                const targetTimezone =\n                  Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n                const result = tz(newDate)\n                  .tz(targetTimezone, true)\n                  .format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n\n                date = result;\n              } else if (element.date) {\n                const newDate = new Date(element.date.seconds * 1000);\n                const targetTimezone =\n                  Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n                const result = tz(newDate)\n                  .tz(targetTimezone, true)\n                  .format(\"dddd, MMMM Do YYYY, h:mm:ss a z\");\n\n                date = result;\n              }\n\n              if (element.date) {\n                let total = 0;\n\n                data.push(\n                  \"\\x1B\" + \"\\x40\", // init\n                  \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n                  storeDetails.name,\n                  \"\\x0A\",\n                  storeDetails.address + \"\\x0A\",\n                  storeDetails.website + \"\\x0A\", // text and line break\n                  storeDetails.phoneNumber + \"\\x0A\", // text and line break\n                  date + \"\\x0A\",\n                  \"\\x0A\",\n                  `Transaction ID ${element.transNum}` + \"\\x0A\",\n                  \"\\x0A\",\n                  \"\\x0A\",\n                  \"\\x0A\",\n                  \"\\x1B\" + \"\\x61\" + \"\\x30\" // left align\n                );\n\n                element.cart?.map((cartItem) => {\n                  total += parseFloat(cartItem.price);\n                  data.push(`Name: ${cartItem.name}`);\n                  data.push(\"\\x0A\");\n                  data.push(`Price: $${cartItem.price}`);\n\n                  if (cartItem.options) {\n                    data.push(\"\\x0A\");\n                    cartItem.options?.map((option) => {\n                      data.push(option);\n                      data.push(\"\\x0A\");\n                    });\n                  }\n                  data.push(\"\\x0A\" + \"\\x0A\");\n                });\n\n                total = total * 1.13;\n                total = total.toFixed(2);\n\n                if (element.billing) {\n                  data.push(`Phone Number: ${element.billing.phone}`);\n                  data.push(\"\\x0A\");\n                }\n\n                if (element.customer_note) {\n                  data.push(`Customer Note: ${element.customer_note}`);\n                  data.push(\"\\x0A\");\n                }\n\n                //push ending\n                data.push(\n                  \"\\x0A\",\n                  \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n                  \"\\x0A\" + \"\\x0A\",\n                  \"Total Including (13% Tax): \" + \"$\" + total + \"\\x0A\" + \"\\x0A\",\n                  \"------------------------------------------\" + \"\\x0A\",\n                  \"\\x0A\", // line break\n                  \"\\x0A\", // line break\n                  \"\\x0A\", // line break\n                  \"\\x0A\", // line break\n                  \"\\x0A\", // line break\n                  \"\\x0A\", // line break\n                  //\"\\x1D\" + \"\\x56\" + \"\\x00\",\n                  \"\\x1D\" + \"\\x56\" + \"\\x30\"\n                );\n\n                const qz = require(\"qz-tray\");\n                qz.websocket\n                  .connect()\n                  .then(function () {\n                    let config = qz.configs.create(storeDetails.comSelected);\n                    return qz.print(config, data);\n                  })\n                  .then(qz.websocket.disconnect)\n                  .catch(function (err) {\n                    console.error(err);\n                  });\n              } else {\n                data.push(\n                  \"\\x1B\" + \"\\x40\", // init\n                  \"\\x1B\" + \"\\x61\" + \"\\x31\", // center align\n                  storeDetails.name,\n                  \"\\x0A\",\n                  storeDetails.address + \"\\x0A\",\n                  storeDetails.website + \"\\x0A\", // text and line break\n                  storeDetails.phoneNumber + \"\\x0A\", // text and line break\n                  date + \"\\x0A\",\n                  \"\\x0A\",\n                  \"Online Order\" + \"\\x0A\", // text and line break\n                  `Transaction ID ${element.number}` + \"\\x0A\",\n                  \"\\x0A\",\n                  \"\\x0A\",\n                  \"\\x0A\",\n                  \"\\x1B\" + \"\\x61\" + \"\\x30\" // left align\n                );\n\n                element.line_items?.map((cartItem) => {\n                  data.push(\"\\x0A\");\n                  data.push(`Name: ${cartItem.name}`);\n                  data.push(\"\\x0A\");\n                  data.push(`Quantity: ${cartItem.quantity}`);\n                  data.push(\"\\x0A\");\n                  data.push(`Price: $${cartItem.price}`);\n                  data.push(\"\\x0A\");\n\n                  if (cartItem.meta) {\n                    CleanupOps(cartItem.meta).map((returnedItem) => {\n                      data.push(`${returnedItem.key} : `);\n                      returnedItem.vals.map((val, index) => {\n                        data.push(`${val}`);\n                        if (\n                          index >= 0 &&\n                          index < returnedItem.vals.length - 1\n                        ) {\n                          data.push(\", \");\n                        }\n                      });\n                      data.push(\"\\x0A\");\n                    });\n                  } else {\n                    data.push(\"\\x0A\" + \"\\x0A\");\n                  }\n                });\n\n                data.push(\"\\x0A\");\n                data.push(\"\\x0A\");\n                data.push(`Customer Details:`);\n                data.push(\"\\x0A\");\n                data.push(`Address: ${element.shipping.address_1}`);\n                data.push(\"\\x0A\");\n                data.push(`City: ${element.shipping.city}`);\n                data.push(\"\\x0A\");\n                data.push(`Zip/Postal Code: ${element.shipping.postcode}`);\n                data.push(\"\\x0A\");\n                data.push(`Province/State: ${element.shipping.state}`);\n                data.push(\"\\x0A\");\n                data.push(\n                  `Name: ${element.shipping.first_name} ${element.shipping.last_name}`\n                );\n                data.push(\"\\x0A\");\n                element.shipping_lines.map((line) => {\n                  data.push(`Shipping Method: ${line.method_title}`);\n                  data.push(\"\\x0A\");\n                });\n                if (element.billing) {\n                  data.push(`Phone Number: ${element.billing.phone}`);\n                  data.push(\"\\x0A\");\n                }\n                if (element.customer_note) {\n                  data.push(`Customer Note: ${element.customer_note}`);\n                  data.push(\"\\x0A\");\n                }\n                data.push(\"\\x0A\");\n                data.push(\"\\x0A\");\n\n                data.push(\n                  \"\\x0A\",\n                  \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\" + \"\\x0A\",\n                  \"\\x0A\" + \"\\x0A\",\n                  \"Payment Method: \" +\n                    element.payment_method_title +\n                    \"\\x0A\" +\n                    \"\\x0A\",\n                  \"Total Including (13% Tax): \" +\n                    \"$\" +\n                    element.total +\n                    \"\\x0A\" +\n                    \"\\x0A\",\n                  \"------------------------------------------\" + \"\\x0A\",\n                  \"\\x0A\", // line break\n                  \"\\x0A\", // line break\n                  \"\\x0A\", // line break\n                  \"\\x0A\", // line break\n                  \"\\x0A\", // line break\n                  \"\\x0A\" // line break\n                );\n\n                data.push(\"\\x1D\" + \"\\x56\" + \"\\x00\");\n\n                const qz = require(\"qz-tray\");\n                qz.websocket\n                  .connect()\n                  .then(function () {\n                    let config = qz.configs.create(storeDetails.comSelected);\n                    return qz.print(config, data);\n                  })\n                  .then(qz.websocket.disconnect)\n                  .catch(function (err) {\n                    console.error(err);\n                  });\n              }\n            }\n          }}\n        />\n      </View>\n    </View>\n  );\n};\n\nexport default ViewTransactions;\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"white\",\n    flex: 1,\n    height: \"100%\",\n  },\n  contentContainer: {\n    flex: 1,\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-between\",\n    paddingLeft: 50,\n    paddingRight: 50,\n    paddingBottom: 50,\n    height: \"100%\",\n    width: \"100%\",\n    alignItems: \"center\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}