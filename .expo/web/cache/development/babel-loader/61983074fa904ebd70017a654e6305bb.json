{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport React, { useState } from \"react\";\nimport { userStoreState } from \"../state/state\";\nimport { Button } from \"@react-native-material/core\";\nimport Spinner from \"./Spinner\";\nimport { updateData } from \"../state/firebaseFunctions\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar EditProductList = function EditProductList(_ref) {\n  var navigation = _ref.navigation;\n  var catalog = userStoreState.use();\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    productModal = _useState2[0],\n    setProductModal = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isModalVisible = _useState4[0],\n    setisModalVisible = _useState4[1];\n  function handleRemoveCatagory(index) {\n    var localCatalog = structuredClone(catalog);\n    localCatalog.products.splice(index, 1);\n    updateData(localCatalog.categories, localCatalog.products);\n    setisModalVisible(true);\n  }\n  return _jsxs(ScrollView, {\n    style: {\n      padding: 25\n    },\n    children: [_jsx(Text, {\n      style: {\n        fontSize: 17,\n        fontWeight: \"600\"\n      },\n      children: \"Current Products\"\n    }), catalog.categories.length > 0 ? catalog.products.map(function (e, index) {\n      return _jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          justifyContent: \"space-between\",\n          padding: 15,\n          margin: 10,\n          backgroundColor: \"lightgrey\"\n        },\n        children: [_jsxs(Text, {\n          style: {\n            fontSize: 17\n          },\n          children: [\"Product: \", e.name]\n        }), _jsxs(View, {\n          style: {\n            flexDirection: \"row\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n            width: \"10%\"\n          },\n          children: [_jsx(Button, {\n            title: \"Edit\"\n            ,\n            onPress: function onPress() {\n              return navigation.navigate(\"AddProduct\", {\n                existingProduct: e,\n                existingProductIndex: index\n              });\n            },\n            style: {\n              margin: 10\n            }\n          }), _jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return handleRemoveCatagory(index);\n            },\n            style: {\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              borderRadius: 3,\n              backgroundColor: \"red\",\n              padding: 10,\n              margin: 10\n            },\n            children: _jsx(Text, {\n              style: {\n                color: \"white\",\n                fontWeight: \"600\",\n                fontSize: 18\n              },\n              children: \"X\"\n            })\n          })]\n        })]\n      });\n    }) : _jsx(Text, {\n      style: {\n        marginTop: 50,\n        marginBottom: 50\n      },\n      children: \"You must add a category before you can add a product...\"\n    }), catalog.products.length < 1 && catalog.categories.length > 0 && _jsx(Text, {\n      style: {\n        marginTop: 50,\n        marginBottom: 50\n      },\n      children: \"You have no products...\"\n    }), _jsx(Button, {\n      title: \"Add New Product\"\n      ,\n      onPress: function onPress() {\n        return navigation.navigate(\"AddProduct\");\n      },\n      style: {\n        margin: 10\n      },\n      disabled: catalog.categories.length < 1\n    }), _jsx(Spinner, {\n      isModalVisible: isModalVisible\n    })]\n  });\n};\nexport default EditProductList;\nvar styles = StyleSheet.create({});","map":{"version":3,"names":["React","useState","userStoreState","Button","Spinner","updateData","EditProductList","navigation","catalog","use","productModal","setProductModal","isModalVisible","setisModalVisible","handleRemoveCatagory","index","localCatalog","structuredClone","products","splice","categories","padding","fontSize","fontWeight","length","map","e","flexDirection","justifyContent","margin","backgroundColor","name","alignItems","width","navigate","existingProduct","existingProductIndex","borderRadius","color","marginTop","marginBottom","styles","StyleSheet","create"],"sources":["/Users/peterputros/Desktop/PosMate-1/components/EditProductList.tsx"],"sourcesContent":["import {\n  Modal,\n  ScrollView,\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  View,\n} from \"react-native\";\nimport React, { useEffect, useState } from \"react\";\nimport { userStoreState } from \"state/state\";\nimport { Button, TextInput } from \"@react-native-material/core\";\nimport TestAdd from \"./TestAdd\";\nimport Spinner from \"./Spinner\";\nimport { updateData } from \"state/firebaseFunctions\";\n\nconst EditProductList = ({ navigation }) => {\n  const catalog = userStoreState.use();\n  const [productModal, setProductModal] = useState(false);\n  const [isModalVisible, setisModalVisible] = useState(false);\n\n  function handleRemoveCatagory(index) {\n    const localCatalog = structuredClone(catalog);\n    localCatalog.products.splice(index, 1);\n\n    updateData(localCatalog.categories, localCatalog.products);\n    setisModalVisible(true);\n  }\n\n  return (\n    <ScrollView style={{ padding: 25 }}>\n      <Text style={{ fontSize: 17, fontWeight: \"600\" }}>Current Products</Text>\n      {catalog.categories.length > 0 ? (\n        catalog.products.map((e, index) => {\n          return (\n            <View\n              style={{\n                flexDirection: \"row\",\n                justifyContent: \"space-between\",\n                padding: 15,\n                margin: 10,\n                backgroundColor: \"lightgrey\",\n              }}\n            >\n              <Text style={{ fontSize: 17 }}>Product: {e.name}</Text>\n              <View\n                style={{\n                  flexDirection: \"row\",\n                  alignItems: \"center\",\n                  justifyContent: \"space-between\",\n                  width: \"10%\",\n                }}\n              >\n                <Button\n                  title=\"Edit\"\n                  // onPress={() => setProductEditModal(true)}\n                  onPress={() =>\n                    navigation.navigate(\"AddProduct\", {\n                      existingProduct: e,\n                      existingProductIndex: index,\n                    })\n                  }\n                  style={{ margin: 10 }}\n                />\n                <TouchableOpacity\n                  onPress={() => handleRemoveCatagory(index)}\n                  style={{\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                    borderRadius: 3,\n                    backgroundColor: \"red\",\n                    padding: 10,\n                    margin: 10,\n                  }}\n                >\n                  <Text\n                    style={{ color: \"white\", fontWeight: \"600\", fontSize: 18 }}\n                  >\n                    X\n                  </Text>\n                </TouchableOpacity>\n              </View>\n              {/* <Modal visible={productEditModal}>\n                <TestAdd\n                  setProductModal={setProductEditModal}\n                  setisModalVisible={setisModalVisible}\n                  existingProduct={e}\n                  existingProductIndex={index}\n                />\n              </Modal> */}\n            </View>\n          );\n        })\n      ) : (\n        <Text style={{ marginTop: 50, marginBottom: 50 }}>\n          You must add a category before you can add a product...\n        </Text>\n      )}\n      {catalog.products.length < 1 && catalog.categories.length > 0 && (\n        <Text style={{ marginTop: 50, marginBottom: 50 }}>\n          You have no products...\n        </Text>\n      )}\n      <Button\n        title=\"Add New Product\"\n        // onPress={() => setProductModal(true)}\n        onPress={() => navigation.navigate(\"AddProduct\")}\n        style={{ margin: 10 }}\n        disabled={catalog.categories.length < 1}\n      />\n      {/* <Modal visible={productModal}>\n        <TestAdd\n          setProductModal={setProductModal}\n          setisModalVisible={setisModalVisible}\n        />\n      </Modal> */}\n      <Spinner isModalVisible={isModalVisible} />\n    </ScrollView>\n  );\n};\n\nexport default EditProductList;\n\nconst styles = StyleSheet.create({});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}